(window.webpackJsonp=window.webpackJsonp||[]).push([[285,64,279,330,334],{5926:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l=new Set;var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){l=new Set(e)},a.hasHotspot=function(e){return!l.has(e)},a.getState=function(){return l},r}(r.default.PersistedStore);i.persistKey="hotspots";var u=new i(a.default,{OVERLAY_INITIALIZE:function(e){var t=e.hiddenHotspots;l=new Set(t)},HOTSPOT_HIDE:function(e){var t=e.location;if(l.has(t))return!1;l.add(t)}});t.default=u},5929:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(2)),o=s(n(20)),l=s(n(13)),i=s(n(6726)),u=s(n(6727));n(1);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=!1,f=!0;var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,s,p,h=r.prototype;return h.initialize=function(){var e=this;l.default.embedded&&!__OVERLAY__&&o.default.getGPUDriverVersions().then(function(t){c=(0,u.default)(t),f=(0,i.default)(t),e.emitChange()})},h.getState=function(){return{GPUDriversOutdated:c,canUseHardwareAcceleration:f}},a=r,(s=[{key:"GPUDriversOutdated",get:function(){return c}},{key:"canUseHardwareAcceleration",get:function(){return f}}])&&d(a.prototype,s),p&&d(a,p),r}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){var t=e.streamingCapabilitiesStoreState;c=t.GPUDriversOutdated,f=t.canUseHardwareAcceleration}});t.default=p},5949:function(e,t,n){"use strict";t.__esModule=!0,t.getPageSize=P,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(335),l=n(259),i=n(200),u=C(n(3)),s=n(6798),d=n(186),c=C(n(6570)),f=C(n(861)),p=n(7254),h=n(6629),v=C(n(6542)),m=n(6526),_=C(n(36)),g=C(n(942)),E=C(n(331)),y=C(n(7255)),S=C(n(7278)),I=n(1),T=C(n(4)),O=n(6552),N=C(n(5935));function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=(0,i.makeLazy)(function(){return Promise.all([n.e(0),n.e(318),n.e(274)]).then(n.t.bind(null,7872,7))});function P(e){return e<O.PAGE_WIDTH_THRESHOLD?O.PageSizes.SMALL:O.PageSizes.LARGE}u.default.initialize();var R=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderStoreListing=function(e){var n=e.match.params,r=n.skuId,a=n.applicationId,l=n.slug,i=e.location,u=t.props.width,s=(0,o.parse)(i.search);return A(E.default,{page:I.AnalyticsPages.STORE_LISTING,root:!0},void 0,A(S.default,{skuId:r,applicationId:a,slug:l,location:i,storeListingId:s.store_listing_id,pageSize:P(u)}))},t.renderContent=function(e,n){return A(l.Switch,{},void 0,A(l.Route,{path:I.Routes.APPLICATION_STORE,exact:!0,render:function(t){var r=t.location;return A(E.default,{page:I.AnalyticsPages.STORE_DIRECTORY_HOME,root:!0},void 0,A(y.default,{location:r,scrollTo:e,getScrollTop:n}))}}),A(l.Route,{path:I.Routes.APPLICATION_STORE_BROWSE,render:function(t){var r=t.location;return A(E.default,{page:I.AnalyticsPages.STORE_DIRECTORY_BROWSE,root:!0},void 0,A(y.default,{location:r,scrollTo:e,getScrollTop:n}))}}),A(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:t.renderStoreListing}),A(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:t.renderStoreListing}),A(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:t.renderStoreListing}),A(l.Route,{path:I.Routes.APPLICATION_STORE_LISTING_SKU(":skuId"),render:t.renderStoreListing}),A(l.Redirect,{to:I.Routes.APPLICATION_STORE}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){(0,s.updateLocation)(this.props.location),this.stopListeningToHistory=_.default.getHistory().listen(function(e){e.pathname.startsWith(I.Routes.APPLICATION_STORE)&&(0,s.updateLocation)(e)}),this.props.isAuthenticated&&(0,d.fetchPaymentSources)(),v.default.disable(),v.default.setLayout(p.APPLICATION_STORE_LAYOUT),v.default.enable(),(0,m.trackAppUIViewed)("application_store")},a.componentWillUnmount=function(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),v.default.disable(),v.default.setLayout(h.DEFAULT_LAYOUT),v.default.enable()},a.renderCustomErrorMessage=function(){return A("div",{},void 0,A("p",{},void 0,T.default.Messages.ERRORS_STORE_CRASH),A("p",{},void 0,T.default.Messages.ERRORS_ACTION_TO_TAKE))},a.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=t?A("div",{className:N.default.applicationStore},void 0,this.renderContent()):A(M,{className:N.default.applicationStore,location:n,render:this.renderContent});return A(g.default,{renderCustomMessage:this.renderCustomErrorMessage},void 0,r)},r}(a.PureComponent);R.displayName="ApplicationStore";var b=(0,l.withRouter)((0,c.default)((0,f.default)(R)));t.default=b},6202:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=$(n(0)),o=n(335),l=n(133),i=n(259),u=K(n(3)),s=K(n(853)),d=K(n(6847)),c=n(480),f=K(n(6590)),p=$(n(164)),h=K(n(139)),v=K(n(141)),m=K(n(1025)),_=K(n(107)),g=$(n(937)),E=K(n(356)),y=K(n(329)),S=K(n(8248)),I=K(n(527)),T=K(n(8249)),O=K(n(856)),N=K(n(10)),C=K(n(7017)),A=K(n(355)),M=K(n(6555)),P=K(n(69)),R=K(n(50)),b=K(n(194)),L=K(n(463)),D=K(n(39)),w=K(n(153)),U=K(n(126)),G=K(n(198)),k=n(7018),F=$(n(163)),B=$(n(89)),j=K(n(20)),H=K(n(13)),V=K(n(36)),x=K(n(8251)),Y=K(n(9119)),W=K(n(9120)),z=n(1);function K(e){return e&&e.__esModule?e:{default:e}}function $(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(e){var t=e.match.params.id;return m.default.call(function(){return E.default.open(t)}),X(i.Redirect,{to:M.default.defaultRoute})}function J(e){var t=e.match,n=/-/g,r=t.params.section&&t.params.section.toUpperCase().replace(n,"_"),a=t.params.subsection&&t.params.subsection.toUpperCase().replace(n,"_");return!z.UserSettingsSections.hasOwnProperty(r)||a&&!z.UserSettingsSections.hasOwnProperty(a)||m.default.call(function(){return y.default.open(z.UserSettingsSections[r],a)}),X(i.Redirect,{to:M.default.defaultRoute})}function Z(e){var t=e.match.params.date,n=C.default.changeLog,r=(0,o.parse)(location.search);if(null!=t&&null!=n&&new Date(t)>new Date(n.date)){var a=r.utm_campaign_current,l=r.utm_content_current,u=r.utm_medium_current,s=r.utm_source_current,c=r.utm_term_current,f=(0,o.stringify)({utm_campaign_current:a,utm_content_current:l,utm_medium_current:u,utm_source_current:s,utm_term_current:c});window.location=z.Routes.CHANGELOGS()+"?"+f}return m.default.call(function(){return d.default.showChangeLog(r)}),X(i.Redirect,{to:M.default.defaultRoute})}function ee(){return m.default.call(function(){return f.default.open(z.CreateGuildModalScreens.CreateGuild,"External link")}),X(i.Redirect,{to:M.default.defaultRoute})}function te(e){var t=e.match.params,n=t.guildId,r=t.channelId,a=t.type;m.default.call(function(){return(0,c.open)()});var o=parseInt(a,10)===z.ChannelTypes.GUILD_VOICE?z.Routes.CHANNEL(n||""):z.Routes.CHANNEL(n||"",r);return X(i.Redirect,{to:o})}n(943),n(396),n(886),n(9195),n(1018),n(1023),n(7392),n(191),n(899),n(9196),n(9198),n(9201),n(205),n(855),n(119),n(490),n(6966),n(9202),n(905),n(6787),n(5929),u.default.initialize(),H.default.embedded&&(j.default.on("USER_SETTINGS_OPEN",function(){return y.default.open(z.UserSettingsSections.ACCOUNT)}),j.default.on("LAUNCH_APPLICATION",function(e,t){var n=B.getLibraryApplicationForApplicationId(t,R.default,U.default);F.playApplication(t,n,{analyticsParams:{location:{page:z.AnalyticsPages.DIRECT,object:z.AnalyticsObjects.WEB_URL}}})})),q.displayName="renderUserProfileRedirector",J.displayName="renderUserSettingsRedirector",Z.displayName="renderChangeLogRedirector",ee.displayName="createGuildModalRedirector",te.displayName="renderWelcomeRedirector",L.default.registerModalsDeprecated(W.default);var ne=u.default.connectStores([A.default,M.default,N.default],function(){return{isConnected:A.default.isConnected(),defaultRoute:M.default.defaultRoute,token:N.default.getToken()}})(function(e){function t(){return e.apply(this,arguments)||this}return Q(t,e),t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute;return null==e.token?X(i.Redirect,{to:z.Routes.LOGIN}):t?X(i.Redirect,{to:n}):null},t}(a.Component));function re(e){var t=e.match.params,n=t.gameId,r=t.action;return P.default.whenInitialized(function(){R.default.whenInitialized(function(){switch(r){case"launch":var e=R.default.getActiveLibraryApplication(n);if(null==e)return;F.playApplication(e.id,e,{analyticsParams:{location:{page:z.AnalyticsPages.DIRECT,object:z.AnalyticsObjects.WEB_URL}}});break;case"test-mode":G.default.whenInitialized(function(){return g.authorizeAndSetTestModeApplication(n)});break;case"uninstall":var t=R.default.getActiveLibraryApplication(n);if(null==t)return;p.uninstallBranchPrompt(t.id,t.branchId,z.AnalyticsLocations.URI_SCHEME)}})}),X(i.Redirect,{to:z.Routes.APPLICATION_LIBRARY})}re.displayName="gameLibraryActionRedirector";var ae=(0,k.makeAuthenticated)(x.default,null,{passProps:!1});var oe=X(ne,{}),le=[{path:[z.Routes.APP,z.Routes.CHANNEL("@me",":channelId?")],render:function(){return oe},isSessionRequired:!0},{path:[z.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),z.Routes.GUILD_DISCOVERY],render:ae,isSessionRequired:!0,isChatRoute:!0}],ie=X(ne,{}),ue=[{path:[z.Routes.APP],render:function(){return ie},isSessionRequired:!0},{path:[z.Routes.USERS(":id")],render:q},{path:[z.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:re},{path:[z.Routes.GUILD_CREATE],render:ee},{path:[z.Routes.CHANGELOGS(":date?")],render:Z,isSessionRequired:!0},{path:[z.Routes.SETTINGS(":section",":subsection?")],render:J,isSessionRequired:!0},{path:[z.Routes.WELCOME(":guildId",":channelId",":type")],render:te,isSessionRequired:!0},{path:[z.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),z.Routes.ACTIVITY,z.Routes.APPLICATION_LIBRARY,z.Routes.APPLICATION_STORE,z.Routes.GUILD_DISCOVERY],render:ae,isSessionRequired:!0,isChatRoute:!0}];function se(e){if(!A.default.isConnected()&&!A.default.isTryingToConnect()){var t=N.default.getToken();if(null!=t)null!=function(e){var t=ce(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a,i=o.path;if(o.isSessionRequired){var u=(0,l.matchPath)(e,{path:i});if(null!=u)return u}}return null}(e)&&s.default.startSession(t)}}function de(e){if(null!=e){var t=function(e){var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,l=void 0===o?null:o;return{guildId:n||z.ME,channelId:a,messageId:l}}(e),n=t.guildId,r=t.channelId,a=t.messageId;if(function(e){return null!=e&&(e===z.ME||/^\d+$/.test(e))}(n)&&function(e){return null==e||/^\d+$/.test(e)}(r)){var o=w.default.getGuildId(),l=D.default.getChannelId(o),i=b.default.jumpedMessageId(l||""),u=o!==n,s=l!==r,d=i!==a;if(null!=a&&null!=r){var c=A.default.isConnected()?void 0:"Page Load";m.default.call(function(){return v.default.jumpToMessage(r,a,!0,c)})}u&&h.default.selectGuild(n),(u||s||d)&&_.default.selectChannel(n,r,a)}else V.default.replaceWith(M.default.defaultRoute)}}function ce(){return N.default.isGuest()?le:ue}var fe=X(i.Redirect,{exact:!0,from:"/channels",to:"/"}),pe=X(i.Redirect,{to:"/"}),he=X(Y.default,{}),ve=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).historyUnlisten=function(){},e}Q(n,t);var r=n.prototype;return r.componentDidMount=function(){j.default.setZoomFactor(O.default.zoom),S.default.initialize(),T.default.initialize(),I.default.initialize(),this.handleHistoryChange(e.location),this.historyUnlisten=this.props.history.listen(this.handleHistoryChange)},r.componentWillUnmount=function(){S.default.terminate(),T.default.terminate(),I.default.terminate(),this.historyUnlisten()},r.handleHistoryChange=function(e){var t=e.pathname;se(t),de(function(e){var t=ce(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a,i=o.path;if(o.isChatRoute){var u=(0,l.matchPath)(e,{path:i});if(null!=u)return u}}return null}(t))},r.render=function(){return X(a.Fragment,{},void 0,X(i.Switch,{},void 0,fe,N.default.isGuest()?le.map(function(e){var t=e.path,n=e.render;return X(i.Route,{path:t,render:n},t[0])}):ue.map(function(e){var t=e.path,n=e.render;return X(i.Route,{path:t,render:n},t[0])}),pe),he)},n}(a.PureComponent);ve.displayName="ViewsWithMainInterface";var me=ve;t.default=me}).call(this,n(28))},6515:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=_(n(5)),a=_(n(3)),o=_(n(12)),l=_(n(27)),i=_(n(2)),u=_(n(6763)),s=n(6646),d=_(n(67)),c=_(n(341)),f=_(n(6684)),p=_(n(122)),h=_(n(19)),v=_(n(11)),m=n(1);function _(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E,y,S,I,T,O=["name","description","icon","splash","banner","region","afkChannelId","afkTimeout","systemChannelId","verificationLevel","defaultMessageNotifications","explicitContentFilter","features","systemChannelFlags","preferredLocale"],N=!1,C=m.FormStates.CLOSED,A={},M=!1,P=null,R=null,b=0,L=m.MFALevels.NONE,D=!1,w=null,U=null,G=null;function k(e){if(null==I||null==S||S.id!==e)return!1;var t=h.default.getGuild(e);return null!=t&&(S===I?I=S=t:(S=t,I=I.set("roles",S.roles)),!0)}function F(e){var t=e.guildId,n=e.section,r=void 0===n?null:n,a=h.default.getGuild(t);if(null==a)return B();S=I=a,C=m.FormStates.OPEN,A={},T=t,L=I.mfaLevel,j({section:r||E||m.GuildSettingsSections.OVERVIEW})}function B(){N=!1,C=m.FormStates.CLOSED,S=I=null,M=!1,P=null,R=null,b=0,w=null,U=null,G=null,E=null,y=null,L=m.MFALevels.NONE,D=!1}function j(e){if(null==I)return!1;if((E=e.section)===m.GuildSettingsSections.BANS)o.default.get(m.Endpoints.GUILD_BANS(I.id)).then(function(e){i.default.dispatch({type:m.ActionTypes.GUILD_SETTINGS_LOADED_BANS,bans:e.body})});else if(E===m.GuildSettingsSections.INSTANT_INVITES)o.default.get(m.Endpoints.GUILD_INSTANT_INVITES(I.id)).then(function(e){i.default.dispatch({type:m.ActionTypes.GUILD_SETTINGS_LOADED_INVITES,invites:e.body})});else if(E===m.GuildSettingsSections.EMBED)o.default.get(m.Endpoints.GUILD_EMBED(I.id)).then(function(e){i.default.dispatch({type:m.ActionTypes.GUILD_SETTINGS_SET_EMBED,enabled:e.body.enabled,channelId:e.body.channel_id})});else{if(E===m.GuildSettingsSections.INTEGRATIONS)return V(e);if(E===m.GuildSettingsSections.MEMBERS)T=I.id;else if(E===m.GuildSettingsSections.VANITY_URL)o.default.get(m.Endpoints.GUILD_VANITY_URL(I.id)).then(function(e){var t=e.body,n=t.code,r=t.uses;i.default.dispatch({type:m.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:n,uses:r})},function(){i.default.dispatch({type:m.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:"",uses:0})});else if(E===m.GuildSettingsSections.DISCOVERY){var t=I.id;null!=t&&i.default.wait(function(){u.default.init(t)})}}}function H(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new p.default(e.inviter):null,channel:new d.default(e.channel),guild:null!=e.guild?new c.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,r.default)(e.created_at)})}function V(e){return null!=I&&C===m.FormStates.OPEN&&((e.type!==m.ActionTypes.GUILD_INTEGRATIONS_UPDATE||e.guildId===I.id)&&void o.default.get(m.Endpoints.GUILD_INTEGRATIONS(I.id)).then(function(e){null!=I&&i.default.dispatch({type:m.ActionTypes.GUILD_SETTINGS_LOADED_INTEGATIONS,guildId:I.id,integrations:e.body})}))}var x=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(h.default,v.default)},a.hasChanges=function(){return I!==S},a.isOpen=function(){return N},a.getSection=function(){return E},a.showNotice=function(){return this.hasChanges()},a.getGuildId=function(){return I?I.id:null},a.showPublicSuccessModal=function(){var e=l.default.get(s.PUBLIC_SUCCESS_MODAL_SEEN_KEY);return null!=I&&!S.features.has(m.GuildFeatures.PUBLIC)&&I.features.has(m.GuildFeatures.PUBLIC)&&!e},a.getProps=function(){return{submitting:C===m.FormStates.SUBMITTING,integrations:G,section:E,errors:A,guild:I,bans:w,invites:U,selectedRoleId:T,embedEnabled:M,embedChannelId:P,mfaLevel:L,searchQuery:y,vanityURLCode:R,vanityURLUses:b,hasChanges:this.hasChanges(),publicDisabled:D}},r}(a.default.Store))(i.default,__OVERLAY__?{}:{GUILD_SETTINGS_INIT:F,GUILD_SETTINGS_OPEN:function(e){N=!0,F(e)},GUILD_SETTINGS_CLOSE:function(e){return B()},GUILD_SETTINGS_UPDATE:function(e){if(null==I)return!1;O.forEach(function(t){null!=I&&e.hasOwnProperty(t)&&(I=I.set(t,e[t]))}),function(){if(null==I)return!1;var e=I.toJS(),t=S.toJS();O.some(function(n){return e[n]!==t[n]})||(I=S)}()},GUILD_SETTINGS_FETCH_SUCCESS:function(e){var t=e.settings;D="true"===t.public_disabled},GUILD_SETTINGS_CANCEL_CHANGES:function(e){var t=e.guildId;A={};var n=h.default.getGuild(t);null!=n&&(S=I=n)},GUILD_SETTINGS_SUBMIT:function(e){C=m.FormStates.SUBMITTING},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){C=m.FormStates.OPEN},GUILD_SETTINGS_SUBMIT_FAILURE:function(e){C=m.FormStates.OPEN,E=m.GuildSettingsSections.OVERVIEW,A=e.errors||{}},GUILD_SETTINGS_SET_SECTION:j,GUILD_SETTINGS_SET_SEARCH_QUERY:function(e){y=e.searchQuery},GUILD_SETTINGS_LOADED_BANS:function(e){w=e.bans.reduce(function(e,t){return null!=t.user&&null!=t.user.id&&(e[t.user.id]=t),e},{})},GUILD_SETTINGS_LOADED_INVITES:function(e){U=e.invites.reduce(function(e,t){return e[t.code]=H(t),e},{})},GUILD_SETTINGS_SET_EMBED:function(e){M=e.enabled,P=e.channelId},GUILD_SETTINGS_SET_VANITY_URL:function(e){R=e.code||null,b=e.uses},GUILD_SETTINGS_SET_MFA_SUCCESS:function(e){var t=e.level;L=t},GUILD_SETTINGS_ROLE_SELECT:function(e){var t=e.roleId;T=t},GUILD_SETTINGS_LOADED_INTEGATIONS:function(e){G=e.integrations.map(function(e){return e.user=new p.default(e.user),e})},GUILD_BAN_ADD:function(e){var t,n=e.user,r=e.guildId;return null!=w&&(null!=I&&I.id===r&&void(w=g({},w,(t={},t[n.id]={user:n,reason:null},t))))},GUILD_BAN_REMOVE:function(e){var t=e.user,n=e.guildId;return null!=w&&(null!=I&&I.id===n&&void delete(w=g({},w))[t.id])},GUILD_ROLE_CREATE:function(e){var t=e.guildId,n=e.role;if(!k(t))return!1;T=n.id},GUILD_ROLE_UPDATE:function(e){if(!k(e.guildId))return!1},GUILD_ROLE_DELETE:function(e){var t=e.guildId,n=e.roleId;if(!k(t))return!1;T===n&&(T=t)},GUILD_UPDATE:function(e){if(null==I||I.id!==e.guild.id)return!1;var t=h.default.getGuild(I.id);if(null==t)return!1;var n=S=t,r=I.toJS();O.forEach(function(e){"icon"!==e&&"splash"!==e&&"banner"!==e&&("features"!==e?n=n.set(e,r[e]):n.set(e,new Set(r[e])))}),I=n},GUILD_DELETE:function(e){if(null==I||I.id!==e.guild.id)return!1;B()},USER_CONNECTIONS_UPDATE:V,GUILD_INTEGRATIONS_UPDATE:V,INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(U=g({},U))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;U=g({},U,((t={})[e.invite.code]=H(e.invite),t))}});t.default=x},6523:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.IncompatibleBrowser=t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.SubTitle=t.Title=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=I(n(8)),l=I(n(6619)),i=n(6529),u=n(885),s=I(n(183)),d=n(266),c=I(n(21)),f=I(n(24)),p=I(n(6521)),h=I(n(71)),v=I(n(138)),m=I(n(262)),_=I(n(6620)),g=I(n(328)),E=n(1),y=I(n(4)),S=I(n(5940));function I(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=g.default;null==N&&(N=function(){return null});var C=function(e){var t=e.className,n=e.children;return O(h.default,{color:h.default.Colors.WHITE,weight:h.default.Weights.LIGHT,className:(0,o.default)(S.default.title,t)},void 0,n)};t.Title=C,C.displayName="Title";var A=function(e){var t=e.className,n=e.children;return O(h.default,{weight:h.default.Weights.NORMAL,className:(0,o.default)(S.default.subTitle,t)},void 0,n)};t.SubTitle=A,A.displayName="SubTitle";var M=function(e){var t=e.className;return O("img",{alt:"",src:e.src,className:(0,o.default)(S.default.image,t)})};t.Image=M,M.displayName="Image";var P=function(e){var t,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]),l=r.look===c.default.Looks.LINK;return a.createElement(c.default,T({size:l?c.default.Sizes.MIN:c.default.Sizes.LARGE,fullWidth:!l,className:(0,o.default)(n,(t={},t[S.default.button]=!l,t[S.default.linkButton]=l,t))},r))};t.Button=P,P.displayName="Button",P.Looks=c.default.Looks,P.Colors=c.default.Colors,P.Sizes=c.default.Sizes;var R=function(e){var t=e.className,n=e.src,r=e.size;return O(N,{src:n,size:r,className:(0,o.default)(S.default.inviteLargeIcon,t),"aria-hidden":!0})};t.Avatar=R,R.displayName="Avatar",R.Sizes=N.Sizes;var b=function e(t){var n=t.className,r=t.guild,a=t.size,l=t.animate,i=void 0!==l&&l;return O(p.default,{guild:r,size:a,className:(0,o.default)(a===e.Sizes.XLARGE?S.default.inviteLargeIcon:S.default.inviteSmallIcon,n),animate:i})};t.GuildIcon=b,b.displayName="GuildIcon",b.Sizes=p.default.Sizes;var L=function(e){var t=e.className,n=e.channel,r=e.size;return O(N,{src:(0,i.getChannelIconURL)(n),size:r,className:(0,o.default)(S.default.inviteIcon,t),"aria-hidden":!0})};t.ChannelIcon=L,L.displayName="ChannelIcon",L.Sizes=N.Sizes;var D=function(e){var t,n=e.label,r=e.error,a=e.placeholder,l=e.value,i=e.className,u=e.inputClassName,s=e.setRef,d=e.type,c=void 0===d?"text":d,f=e.onChange,p=e.autoComplete,h=e.autoFocus,_=e.maxLength,g=e.spellCheck,E=e.name;return O(m.default,{title:n,error:r,className:i},void 0,O(v.default,{name:E,type:c,value:l,inputRef:s,placeholder:a,className:S.default.input,inputClassName:(0,o.default)(u,(t={},t[S.default.inputError]=null!=r,t)),"aria-label":n,onChange:f,autoComplete:p,autoFocus:h,maxLength:_,spellCheck:g}))};t.Input=D,D.displayName="Input";var w=function(e){var t=e.className,n=e.children;return O("div",{className:(0,o.default)(S.default.block,t)},void 0,n)};t.Block=w,w.displayName="Block";var U=function(e){var t=e.className,n=e.children,r=e.disabled,a=void 0!==r&&r;return O(h.default,{size:h.default.Sizes.SMALL,className:(0,o.default)(S.default.subText,t),disabled:a},void 0,n)};t.SubText=U,U.displayName="SubText";var G=function(e){var t=e.className,n=e.hideQuote,r=void 0!==n&&n;return O(f.default,{direction:f.default.Direction.VERTICAL,align:f.default.Align.CENTER,className:t},void 0,O(_.default,{className:S.default.spinnerVideo}),r?null:O(A,{className:S.default.spinnerText},void 0,l.default[Math.floor(Math.random()*l.default.length)][0]))};t.AuthSpinner=G,G.displayName="AuthSpinner";var k=function(e){var t,n=e.online,r=e.total,a=e.className;return null==r?null:(null!=n&&n>0&&(t=O("div",{className:(0,o.default)(S.default.pill,S.default.pillOnline)},void 0,O("i",{className:S.default.pillIconOnline}),O(h.default,{tag:"span",size:h.default.Sizes.MEDIUM,className:S.default.pillMessage},void 0,y.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})))),O(f.default,{justify:f.default.Justify.CENTER,className:a},void 0,t,O("div",{className:S.default.pill},void 0,O("i",{className:S.default.pillIconTotal}),O(h.default,{tag:"span",size:h.default.Sizes.MEDIUM,className:S.default.pillMessage},void 0,y.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r})))))};t.ActivityCount=k,k.displayName="ActivityCount";var F=function(e){var t=e.className;return O(w,{className:t},void 0,O(P,{onClick:function(){return window.open((0,u.getCurrentPlatformDownloadURL)())}},void 0,y.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:(0,u.getPlatformReadableName)()})),O(U,{className:S.default.downloadButtonSubtext},void 0,y.default.Messages.INCOMPATIBLE_BROWSER.format({supportedBrowserURL:s.default.getArticleURL(E.HelpdeskArticles.SUPPORTED_BROWSERS)})))};t.IncompatibleBrowser=F,F.displayName="IncompatibleBrowser";var B=function(e){var t=e.className,n=e.tag,r=void 0===n?"section":n,a=e.onSubmit,l=e.children;return O(r,{onSubmit:a,className:(0,o.default)(S.default.authBox,(0,d.getThemeClass)(E.ThemeTypes.DARK),t)},void 0,O("div",{className:S.default.centeringWrapper},void 0,l))};B.displayName="AuthBox";var j=B;t.default=j},6531:function(e,t,n){"use strict";t.__esModule=!0,t.getBadgeWidthForValue=f,t.getBadgeCountString=p,t.IconBadge=t.TextBadge=t.NumberBadge=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(8)),o=u(n(42)),l=n(1),i=u(n(6015));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){switch(e){case 1:case 4:case 6:return 1;default:return null}}function f(e){return e<10?16:e<100?22:30}function p(e){return e<1e3?""+e:Math.min(Math.floor(e/1e3),9)+"k+"}var h=function(e){var t=e.count,n=e.color,r=void 0===n?l.Colors.STATUS_RED:n,o=e.disableColor,u=void 0!==o&&o,h=e.className,v=e.style;return s("div",{className:(0,a.default)(h,i.default.numberBadge),style:d({backgroundColor:u?null:r,width:f(t),paddingRight:c(t)},v)},void 0,p(t))};t.NumberBadge=h,h.displayName="NumberBadge";var v=function(e){var t=e.text,n=e.className,r=e.color,o=void 0===r?l.Colors.STATUS_RED:r,u=e.disableColor,c=void 0!==u&&u,f=e.style;return s("div",{className:(0,a.default)(n,i.default.textBadge),style:d({backgroundColor:c?null:o},f)},void 0,t)};t.TextBadge=v,v.displayName="TextBadge";var m=function(e){var t=e.name,n=e.className,r=e.color,u=void 0===r?l.Colors.STATUS_RED:r,c=e.disableColor,f=void 0!==c&&c,p=e.style;return s("div",{className:(0,a.default)(n,i.default.iconBadge),style:d({backgroundColor:f?null:u},p)},void 0,s(o.default,{name:t,className:i.default.icon}))};t.IconBadge=m,m.displayName="IconBadge"},6535:function(e,t,n){"use strict";var r;t.__esModule=!0,t.HotspotLocations=void 0;var a=(0,((r=n(82))&&r.__esModule?r:{default:r}).default)({CUSTOM_VOICE_STATUS:null,FOLLOWER_ANALYTICS_GUILD_SETTINGS:null,REPORT_PROBLEM_POST_STREAM:null,GO_LIVE_STREAM_SETTINGS:null,GUILD_ANALYTICS_GUILD_HEADER:null,GUILD_ANALYTICS_GUILD_SETTINGS_MENU:null,SCREENSHARE_BUTTON:null});t.HotspotLocations=a},6543:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=I(n(10)),l=I(n(187)),i=I(n(287)),u=I(n(7080)),s=I(n(7081)),d=I(n(6754)),c=I(n(7082)),f=I(n(7083)),p=I(n(7084)),h=I(n(7085)),v=I(n(7086)),m=I(n(926)),_=I(n(7087)),g=I(n(7088)),E=I(n(349)),y=n(1),S=I(n(4));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderInviteCreateGroup=function(){var e=this.props,t=e.guild,n=e.channel,r=e.type;if(null!=t)return T(p.default,{channel:n,guild:t,type:r})},a.render=function(){var e=this.props,t=e.style,n=e.type,r=e.guild,a=e.channel,p=e.hasUnread,I=e.className;if(o.default.isGuest())return null;var O=T(_.default,{channel:a});switch(n){case y.ContextMenuTypes.CHANNEL_LIST_TEXT:return T("div",{className:I,style:t},void 0,T(l.default,{},void 0,T(v.default,{channelId:a.id,hasUnread:p,type:a.type}),T(m.default,{channel:a}),T(i.default,{label:S.default.Messages.NOTIFICATIONS,render:function(){return O}}),T(f.default,{channel:a})),this.renderInviteCreateGroup(),T(c.default,{channel:a}),T(E.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE:return T("div",{className:I,style:t},void 0,T(l.default,{},void 0,T(f.default,{channel:a})),this.renderInviteCreateGroup(),T(c.default,{channel:a}),T(E.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_LIST_VOICE:return T("div",{className:I,style:t},void 0,T(l.default,{},void 0,T(g.default,{channelId:a.id}),T(f.default,{channel:a})),this.renderInviteCreateGroup(),T(c.default,{channel:a}),T(E.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_LIST_STORE:return T("div",{className:I,style:t},void 0,T(l.default,{},void 0,T(f.default,{channel:a})),this.renderInviteCreateGroup(),T(c.default,{channel:a}),T(E.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_TITLE:return T("div",{className:I,style:t},void 0,T(l.default,{},void 0,T(m.default,{channel:a}),T(f.default,{channel:a})),this.renderInviteCreateGroup(),T(c.default,{channel:a}),T(E.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_TOPIC:return T("div",{className:I,style:t},void 0,T(l.default,{},void 0,T(m.default,{channel:a}),T(s.default,{channel:a}),T(f.default,{channel:a})),this.renderInviteCreateGroup(),T(c.default,{channel:a}),T(E.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_AUDIT_LOG:return T("div",{className:I,style:t},void 0,T(l.default,{},void 0,T(f.default,{channel:a}),null!=r?T(h.default,{channel:a,guild:r}):null,T(E.default,{id:a.id})));case y.ContextMenuTypes.CHANNEL_CATEGORY:return T("div",{className:I,style:t},void 0,T(v.default,{channelId:a.id,hasUnread:p,type:a.type}),T(m.default,{channel:a}),T(u.default,{channel:a}),T(f.default,{channel:a}),null!=r?T(d.default,{type:y.ChannelTypes.GUILD_CATEGORY,guild:r}):null,T(c.default,{channel:a}),T(E.default,{id:a.id}));default:console.warn("Error - no such ctx menu type:",n)}return null},r}(a.PureComponent);O.displayName="ChannelContextMenu",O.defaultProps={hasUnread:!1,selected:!1};var N=O;t.default=N},6546:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ContentTypes=t.LazyContentScroller=t.SectionTypes=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=m(n(8)),i=m(n(7758)),u=m(n(263)),s=m(n(152)),d=m(n(6873)),c=n(266),f=m(n(6874)),p=m(n(468)),h=n(1),v=m(n(5932));function m(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.SectionTypes={HEADER:"HEADER",DIVIDER:"DIVIDER",CUSTOM:"CUSTOM"};var S=function(e){function t(t){var n;return E(n=e.call(this,t)||this).renderHeader=n.renderHeader.bind(E(n)),n}y(t,e);var n=t.prototype;return n.renderHeader=function(){return g("div",{className:v.default.customHeader},void 0,this.props.header)},n.renderContent=function(){var e=this.props,t=e.children,n=(e.header,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","header"]));return g("div",{className:v.default.customContainer},void 0,o.createElement(p.default,_({},n,{theme:p.default.Themes.GHOST,renderStickyHeader:this.renderHeader,className:(0,l.default)(v.default.customScroller,v.default.contentRegionScroller)}),t))},n.render=function(){return g("div",{className:v.default.customColumn},void 0,this.renderContent())},t}(o.PureComponent);t.LazyContentScroller=S,S.displayName="LazyContentScroller",S.defaultProps={paddingTop:0,paddingBottom:60,batchEndMultiplier:1};var I=Object.freeze({MINIMAL:"minimal",CUSTOM:"custom",DEFAULT:"default"});t.ContentTypes=I;var T=Object.freeze(((r={})[I.MINIMAL]="contentColumnMinimal",r[I.CUSTOM]="contentColumnCustom",r[I.DEFAULT]="contentColumnDefault",r)),O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).setScrollerRef=function(e){t._scroller=e},t}y(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.section!==this.props.section&&this.resetScroll()},n.resetScroll=function(){null!=this._scroller&&this._scroller.scrollTo(0)},n.renderTools=function(){var e=this.props,t=e.closeAction,n=e.theme;return null==t?null:g("div",{className:v.default.toolsContainer},void 0,g("div",{className:v.default.tools},void 0,g(f.default,{closeAction:t,theme:n,keybind:"ESC"})))},n.renderNotice=function(){var e=this.props,t=e.notice,n=e.section;return null==t?null:g(d.default,{className:v.default.noticeRegion},n,t)},n.renderContent=function(){var e=this.props,t=e.content,n=e.theme,r=e.contentType;if(r===I.CUSTOM)return g(u.default,{component:"div",className:v.default.contentRegion},void 0,t,this.renderTools(),this.renderNotice());var a=n===h.ThemeTypes.LIGHT?h.Colors.WHITE:h.Colors.PRIMARY_DARK_600,i=T[r||I.DEFAULT];return g(u.default,{component:"div",className:v.default.contentRegion},void 0,g("div",{className:v.default.contentTransitionWrap},void 0,o.createElement(s.default,{outerClassName:v.default.contentRegionScrollerWrap,className:v.default.contentRegionScroller,track:!0,theme:s.default.Themes.GHOST,ref:this.setScrollerRef,backgroundColor:a},g("div",{className:(0,l.default)(v.default.contentColumn,v.default[i])},void 0,t),this.renderTools())),this.renderNotice())},n.renderSidebar=function(){var e=this.props,t=e.sidebar,n=e.sidebarTheme,r=e.theme,a=(n||r)===h.ThemeTypes.LIGHT?i.default.darken(h.Colors.PRIMARY_DARK_100,.015):h.Colors.PRIMARY_DARK_630;return g("div",{className:(0,l.default)(v.default.sidebarRegion,(0,c.getThemeClass)(n))},void 0,g(s.default,{className:v.default.sidebarRegionScroller,fade:!0,theme:s.default.Themes.GHOST_HAIRLINE,backgroundColor:a},void 0,g("div",{className:v.default.sidebar},void 0,t)))},n.render=function(){return g("div",{className:v.default.standardSidebarView},void 0,this.renderSidebar(),this.renderContent())},t}(o.PureComponent);O.displayName="StandardSidebarView";var N=O;t.default=N},6547:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TutorialIndicatorPositions=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(59),o=s(n(3)),l=s(n(6947)),i=s(n(6707)),u=s(n(185));function s(e){return e&&e.__esModule?e:{default:e}}var d={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"};t.TutorialIndicatorPositions=d;var c=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){this.show(this.props.visible)},i.componentWillUnmount=function(){this.show(!1)},i.componentDidUpdate=function(e){var t=e.position,n=e.offsetX,r=e.offsetY,a=e.tutorialId,o=e.visible,i=e.windowSize;a!==this.props.tutorialId?l.default.hide(a):o===this.props.visible&&t===this.props.position&&n===this.props.offsetX&&r===this.props.offsetY&&i===this.props.windowSize||this.show(this.props.visible)},i.show=function(e){var t=this.props,n=t.tutorialId,r=t.position,o=t.offsetX,i=t.offsetY,u=t.visible;if(e){var s=(0,a.findDOMNode)(this);if(!(s&&s instanceof Element))return;var d=s.getBoundingClientRect(),c=d.top,f=d.left,p=d.right,h=d.bottom;l.default.show(n,{position:r,targetWidth:p-f,targetHeight:h-c,x:f,y:c,offset:{x:o,y:i}})}else u&&l.default.hide(n)},i.render=function(){return r.Children.only(this.props.children)},o}(r.Component);c.displayName="TutorialIndicator",c.defaultProps={position:d.TOP,offsetX:0,offsetY:0};var f=o.default.connectStores([i.default,u.default],function(e){var t=e.tutorialId;return{visible:i.default.shouldShow(t),windowSize:u.default.windowSize()}})(c);t.default=f},6550:function(e,t,n){"use strict";t.__esModule=!0,t.processImage=d,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=i(n(7760)),l=i(n(7057));function i(e){return e&&e.__esModule?e:{default:e}}var u=[{name:i(n(4)).default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}];function s(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){return t(n.target.result,e.name)},n.readAsDataURL(e)}}function d(e,t,n){"image/gif"!==e.type?s(e,function(e,r){var a=new Image;a.src=e,a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var l=e.getContext("2d");l&&l.drawImage(a,0,0,e.width,e.height);var i=Math.min(Math.min(a.width,a.height),t),u=a.width<a.height?a.width/i:a.height/i,s=document.createElement("canvas");s.width=a.width/u,s.height=a.height/u,o.default.resizeCanvas(e,s,{alpha:!0},function(){var e=document.createElement("canvas");e.width=i,e.height=i;var t=(s.width-e.width)/-2,a=(s.height-e.height)/-2,o=e.getContext("2d");o&&o.drawImage(s,t,a,s.width,s.height),n(e.toDataURL("image/png"),r)})}}):s(e,function(e,t){return n(e,t)})}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._isMounted=!1,t.handleFileChange=function(e){var n=t.props.size;e.stopPropagation(),e.preventDefault();for(var r=0;r<e.currentTarget.files.length;r++){var a=e.currentTarget.files[r];null!=n?d(a,n,t.handleFileRead):s(a,t.handleFileRead)}},t.handleFileRead=function(e,n){var r=t.props.onChange;t._isMounted&&r(e,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){this._isMounted=!0},o.render=function(){var e=this.props,t=e.multiple,n=e.disabled,a=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{onChange:this.handleFileChange,filters:u,multiple:t,disabled:n,className:a})},a}(a.PureComponent);c.displayName="ImageInput",c.defaultProps={multiple:!0};var f=c;t.default=f},6551:function(e,t,n){"use strict";t.__esModule=!0,t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(8)),o=u(n(58)),l=u(n(4)),i=u(n(5984));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.className,n=e.onClick,u=e["aria-label"];return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default,{"aria-label":null!=u?u:l.default.Messages.REMOVE,className:(0,a.default)(i.default.button,t),onClick:n})}s.displayName="RemoveButton"},6552:function(e,t,n){"use strict";t.__esModule=!0,t.PageSizes=t.PAGE_WIDTH_THRESHOLD=void 0;t.PAGE_WIDTH_THRESHOLD=1e3;var r=Object.freeze({SMALL:"small",LARGE:"large"});t.PageSizes=r},6564:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=O(n(16)),l=O(n(10)),i=O(n(87)),u=O(n(187)),s=O(n(6754)),d=O(n(349)),c=O(n(7089)),f=O(n(7090)),p=O(n(7091)),h=O(n(7117)),v=O(n(7118)),m=O(n(7119)),_=O(n(7120)),g=O(n(7121)),E=O(n(7122)),y=O(n(7123)),S=O(n(7207)),I=O(n(979)),T=n(1);function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=N(c.default,{}),A=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.type,n=e.guild,r=e.unread,a=e.folderId,c=e.className,O=e.folderName,A=e.folderColor;if(l.default.isGuest())return null;var M=null!=n?i.default.getDefaultChannel(n.id):null;switch(t){case T.ContextMenuTypes.GUILD_ICON_BAR:case T.ContextMenuTypes.GUILD_PROFILE_MUTUAL:case T.ContextMenuTypes.GUILD_HEADER:case T.ContextMenuTypes.GUILD_ACTIVITY_FEED:if(!n)break;return N("div",{className:c},void 0,N(u.default,{},void 0,N(m.default,{guildId:n.id})),N(u.default,{},void 0,null!=M?N(h.default,{channel:M,guild:n}):null,N(_.default,{guildId:n.id}),N(S.default,{guildId:n.id}),N(y.default,{guild:n}),N(g.default,{guildId:n.id}),N(E.default,{guildId:n.id}),N(I.default,{guildId:n.id,userId:l.default.getId()})),N(u.default,{},void 0,N(s.default,{guild:n}),N(s.default,{type:T.ChannelTypes.GUILD_CATEGORY,guild:n})),N(v.default,{guild:n}),N(d.default,{id:n.id}));case T.ContextMenuTypes.GUILD_CHANNEL_LIST:if(!n)break;return N("div",{className:c},void 0,N(S.default,{guildId:n.id}),N(s.default,{guild:n}),N(s.default,{type:T.ChannelTypes.GUILD_CATEGORY,guild:n}),null!=M?N(h.default,{channel:M,guild:n}):null);case T.ContextMenuTypes.GUILD_ICON_NEW:return N("div",{className:c},void 0,C);case T.ContextMenuTypes.GUILD_ICON_FOLDER:return(0,o.default)(null!=a,"Received null folderId"),N("div",{className:c},void 0,N(u.default,{},void 0,N(f.default,{folderId:a,unread:r})),N(u.default,{},void 0,N(p.default,{folderId:a,folderName:O,folderColor:A})));default:console.warn("Error - no such ctx menu type")}return null},r}(a.PureComponent);A.displayName="GuildContextMenu";var M=A;t.default=M},6567:function(e,t,n){"use strict";t.__esModule=!0,t.hideHotspot=function(e){a.default.dispatch({type:o.ActionTypes.HOTSPOT_HIDE,location:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},6568:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(118)),l=n(158),i=p(n(21)),u=p(n(24)),s=n(80),d=n(1),c=p(n(4)),f=p(n(5978));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={color:new o.default.Value(0)},v(n).handleOnSave=n.handleOnSave.bind(v(n)),v(n).handleOnReset=n.handleOnReset.bind(v(n)),v(n).emphasize=n.emphasize.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){s.ComponentDispatch.subscribe(d.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},a.componentWillUnmount=function(){s.ComponentDispatch.unsubscribe(d.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},a.handleOnSave=function(e){(0,this.props.onSave)(e)},a.handleOnReset=function(e){(0,this.props.onReset)(e)},a.emphasize=function(){var e=this.state.color;o.default.sequence([o.default.timing(e,{toValue:1,duration:170,easing:o.default.Easing.quad}),o.default.timing(e,{delay:500,toValue:0,duration:170,easing:o.default.Easing.quad})]).start()},a.render=function(){var e=this.props.submitting;return h(o.default.div,{className:f.default.container,style:this.getContainerStyle()},void 0,h(u.default,{align:u.default.Align.CENTER},void 0,h(u.default.Child,{},void 0,h(o.default.div,{className:f.default.message,style:this.getTextStyle()},void 0,c.default.Messages.SETTINGS_NOTICE_MESSAGE)),h(u.default,{grow:0,justify:u.default.Justify.END},void 0,h(i.default,{className:f.default.resetButton,size:i.default.Sizes.SMALL,color:i.default.Colors.PRIMARY,look:i.default.Looks.LINK,onClick:this.handleOnReset},void 0,h(o.default.span,{style:this.getTextStyle()},void 0,c.default.Messages.RESET)),h(i.default,{className:f.default.button,size:i.default.Sizes.SMALL,color:i.default.Colors.GREEN,submitting:e,onClick:this.handleOnSave},void 0,c.default.Messages.SAVE_CHANGES))))},a.getTextStyle=function(){var e=this.state.color,t=d.Colors.WHITE;return this.props.theme===d.ThemeTypes.LIGHT&&(t=d.Colors.PRIMARY_DARK_500),{color:e.interpolate({inputRange:[0,1],outputRange:[t,d.Colors.WHITE]})}},a.getContainerStyle=function(){var e=this.state.color,t=(0,l.hex2rgb)(d.Colors.PRIMARY_DARK_700,.9);return this.props.theme===d.ThemeTypes.LIGHT&&(t=(0,l.hex2rgb)(d.Colors.STATUS_GREY_100,.9)),{backgroundColor:e.interpolate({inputRange:[0,1],outputRange:[t,(0,l.hex2rgb)(d.Colors.STATUS_RED_500,.9)]})}},r}(a.PureComponent);m.displayName="SettingsNotice";var _=m;t.default=_},6569:function(e,t,n){e.exports=n.p+"81b90eae4fc67502d59808a7c219ee65.png"},6570:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var n,r;function i(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).state={isAuthenticated:o.default.isAuthenticated()},e.onStoreChange=function(){e.setState({isAuthenticated:o.default.isAuthenticated()})},e}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var u=i.prototype;return u.componentDidMount=function(){o.default.addChangeListener(this.onStoreChange)},u.componentWillUnmount=function(){o.default.removeChangeListener(this.onStoreChange)},u.render=function(){return a.createElement(e,l({},this.props,{isAuthenticated:this.state.isAuthenticated}))},i}(a.Component)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=(r=n(10))&&r.__esModule?r:{default:r};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},6571:function(e,t,n){"use strict";t.__esModule=!0,t.renderMentionBadge=C,t.renderUnavailableBadge=A,t.renderIconBadge=M,t.DragPlaceholder=t.GuildDiscovery=t.CreateJoinGuildButton=t.AppDownloadButton=t.UnavailableGuildsButton=t.CircleIconButton=t.Separator=t.ListItemTooltip=t.renderListItem=void 0;var r,a=I(n(0)),o=S(n(8)),l=S(n(106)),i=S(n(58)),u=S(n(42)),s=S(n(65)),d=S(n(6572)),c=n(6531),f=S(n(6573)),p=S(n(271)),h=n(921),v=S(n(36)),m=I(n(6547)),_=S(n(6660)),g=n(1),E=S(n(4)),y=S(n(6122));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){return N(c.NumberBadge,{count:e})}function A(){return N(c.IconBadge,{name:u.default.Names.ALERT,disableColor:!0,className:y.default.unavailableBadge})}function M(e,t){var n=t?u.default.Names.NOVA_CAMERA:e?u.default.Names.NOVA_SPEAKER:null;return null==n?null:N(c.IconBadge,{name:n,disableColor:!0,className:y.default.iconBadge})}C.displayName="renderMentionBadge",A.displayName="renderUnavailableBadge",M.displayName="renderIconBadge";var P=function(e,t){return a.createElement("div",{className:y.default.listItem,ref:t},e)};t.renderListItem=P,P.displayName="renderListItem";var R=function(e){var t=e.children,n=e.text,r=e.color,o=e.disableWrapper,l=void 0!==o&&o,i=e.disabled,u=void 0!==i&&i,d=e.hideOnClick,c=void 0===d||d;return N(s.default,{hideOnClick:c,text:u?null:n,position:s.default.Positions.RIGHT,color:r,"aria-label":!1},void 0,function(e){return l?a.cloneElement(a.Children.only(t),O({},e)):a.createElement("div",O({className:y.default.listItemWrapper},e),t)})};t.ListItemTooltip=R,R.displayName="ListItemTooltip";var b=function(){return P(N("div",{className:y.default.guildSeparator}))};t.Separator=b;var L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t}return T(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.onClick,l=n.onContextMenu,u=n.children,s=n.selected,c=n.tooltipText,p=n.lowerBadge,h=n.lowerBadgeWidth,v=this.state.hovered;return P(N(a.Fragment,{},void 0,N(d.default,{hovered:v,selected:s,className:y.default.pill}),N(R,{text:c},void 0,N(f.default,{className:y.default.circleButtonMask,selected:s||v,lowerBadge:p,lowerBadgeWidth:h},void 0,N(i.default,{onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})},className:(0,o.default)((e={},e[y.default.circleIconButton]=!0,e[y.default.selected]=s||v,e)),onClick:r,"aria-label":c,onContextMenu:l},void 0,u)))))},t}(a.PureComponent);t.CircleIconButton=L,L.displayName="CircleIconButton";t.UnavailableGuildsButton=function(e){var t=e.unavailableGuilds;return t>0?P(N(R,{text:E.default.Messages.PARTIAL_OUTAGE.format({count:t}),color:s.default.Colors.RED},void 0,N(l.default,{href:(0,h.getLocalizedLink)(g.LocalizedLinks.TWITTER),target:"_blank",className:y.default.guildsError,"aria-label":E.default.Messages.PARTIAL_OUTAGE_A11Y.format({count:t})},void 0,N("span",{"aria-hidden":!0,className:y.default.errorInner},void 0,"!")))):null};var D=N(b,{}),w=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.disable,n=e.onClick,r=e.selected;return t?null:N(a.Fragment,{},void 0,D,N(L,{onClick:n,selected:r,tooltipText:E.default.Messages.DOWNLOAD_APPS},void 0,N(u.default,{name:u.default.Names.NOVA_DOWNLOAD,className:y.default.circleIcon})))},t}(a.PureComponent);t.AppDownloadButton=w,w.displayName="AppDownloadButton";var U=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.isOwnerOfAny,n=e.disableTooltip,r=e.onContextMenu,a=e.onClick,o=e.selected,l=e.folderIndex,i=N(L,{onClick:a,selected:o,onContextMenu:r,tooltipText:E.default.Messages.ADD_A_SERVER},void 0,N(u.default,{name:u.default.Names.NOVA_ADD,className:y.default.circleIcon}),null!=l&&N(_.default,{folderIndex:l,isLastItem:!0}));return n?i:N(m.default,{tutorialId:t?"create-more-servers":"create-first-server",position:m.TutorialIndicatorPositions.RIGHT,offsetX:-8},void 0,i)},t}(a.PureComponent);t.CreateJoinGuildButton=U,U.displayName="CreateJoinGuildButton";var G=function(e){function t(){return e.apply(this,arguments)||this}T(t,e);var n=t.prototype;return n.onClick=function(){v.default.transitionTo(g.Routes.GUILD_DISCOVERY)},n.render=function(){var e=this.props.selected;return N(L,{onClick:this.onClick,selected:e,lowerBadgeWidth:40,tooltipText:E.default.Messages.GUILD_DISCOVERY_TOOLTIP},void 0,N(u.default,{name:u.default.Names.SEARCH,width:24,height:24}))},t}(a.PureComponent);t.GuildDiscovery=G,G.displayName="GuildDiscovery";var k=function(e){var t=e.className;return N(p.default,{mask:p.default.Masks.SQUIRCLE,className:(0,o.default)(t,y.default.placeholderMask),width:48,height:48,style:{display:"block"}},void 0,N("div",{className:y.default.dragInner}))};t.DragPlaceholder=k,k.displayName="DragPlaceholder"},6572:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(8)),o=n(157),l=i(n(6119));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=Object.freeze({tension:400,friction:30}),d=Object.freeze({opacity:0,height:8,x:-4});t.default=function(e){var t=e.selected,n=void 0!==t&&t,r=e.hovered,i=void 0!==r&&r,c=e.unread,f=void 0!==c&&c,p=e.className,h={opacity:1,height:n?40:i?20:8,x:0},v=(0,o.useTransition)(n||i||f,null,{config:s,immediate:!document.hasFocus(),initial:n||i||f?h:null,from:d,leave:d,enter:h,update:h});return u("div",{className:(0,a.default)(p,l.default.wrapper),"aria-hidden":!0},void 0,v.map(function(e){var t=e.item,n=e.key,r=e.props;return t&&u(o.animated.span,{className:l.default.item,style:r},n)}))}},6573:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=n(7787),i=n(157),u=c(n(74)),s=c(n(263)),d=c(n(6120));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h={friction:13,tension:240,duration:150},v={duration:150,friction:3},m={friction:30,tension:900,mass:1},_={duration:150,friction:10,tension:100,mass:1},g=(0,l.interpolate)("M0 24C0 16.5449 0 12.8174 1.21793 9.87706C2.84183 5.95662 5.95662 2.84183 9.87706 1.21793C12.8174 0 16.5449 0 24 0C31.4551 0 35.1826 0 38.1229 1.21793C42.0434 2.84183 45.1582 5.95662 46.7821 9.87706C48 12.8174 48 16.5449 48 24C48 31.4551 48 35.1826 46.7821 38.1229C45.1582 42.0434 42.0434 45.1582 38.1229 46.7821C35.1826 48 31.4551 48 24 48C16.5449 48 12.8174 48 9.87706 46.7821C5.95662 45.1582 2.84183 42.0434 1.21793 38.1229C0 35.1826 0 31.4551 0 24Z","M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",{maxSegmentLength:.1}),E=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.componentDidMount=function(){this.forceUpdate()},n.componentWillAppear=function(e){e()},n.componentWillEnter=function(e){e()},n.componentWillLeave=function(e){this.timeoutId=setTimeout(e,300)},n.componentWillUnmount=function(){clearTimeout(this.timeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.animatedStyle;return f(i.animated.div,{className:n,style:r},void 0,t)},t}(a.Component);E.displayName="BadgeContainer";var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={maskId:u.default.v4(),lowerBadgeMask:new i.Controller({spring:0}),upperBadgeMask:new i.Controller({spring:0}),borderRadiusMask:new i.Controller({spring:0})},t}p(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.selected,n=e.lowerBadge,r=e.upperBadge,a=this.state,o=a.borderRadiusMask,l=a.lowerBadgeMask,i=a.upperBadgeMask;o.update({spring:t?0:1,immediate:!0}).start(),l.update({spring:null!=n?1:0,immediate:!0}).start(),i.update({spring:null!=r?1:0,immediate:!0}).start()},n.componentWillUnmount=function(){var e=this.state,t=e.borderRadiusMask,n=e.lowerBadgeMask,r=e.upperBadgeMask;t.destroy(),n.destroy(),r.destroy()},n.componentDidUpdate=function(e){var t=this.props,n=t.selected,r=t.lowerBadge,a=t.upperBadge,o=this.state,l=o.borderRadiusMask,i=o.lowerBadgeMask,u=o.upperBadgeMask;n&&!e.selected?l.update({spring:0,immediate:!1,config:h}).start():!n&&e.selected&&l.update({spring:1,immediate:!1,config:v}).start(),null!=r&&null==e.lowerBadge?i.update({spring:1,immediate:!document.hasFocus(),config:m}).start():null==r&&null!=e.lowerBadge&&i.update({spring:0,immediate:!document.hasFocus(),config:_}).start(),null!=a&&null==e.upperBadge?u.update({spring:1,immediate:!document.hasFocus(),config:m}).start():null==a&&null!=e.upperBadge&&u.update({spring:0,immediate:!document.hasFocus(),config:_}).start()},n.getBadgePositionInterpolation=function(e,t){return void 0===t&&(t=1),e.animated.spring.to([0,1],[20,0]).to(function(e){return"translate("+e+" "+e*t+")"})},n.getLowerBadgeStyles=function(){var e=this.state.lowerBadgeMask.animated.spring;return{opacity:e.to([0,.5,1],[0,0,1]),transform:e.to(function(e){return"translate("+(16-16*e)+"px, "+(16-16*e)+"px)"})}},n.getUpperBadgeStyles=function(){var e=this.state.upperBadgeMask.animated.spring;return{opacity:e.to([0,.5,1],[0,0,1]),transform:e.to(function(e){return"translate("+(16-16*e)+"px, "+-1*(16-16*e)+"px)"})}},n.getPathInterpolation=function(){return this.state.borderRadiusMask.animated.spring.to(g)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.lowerBadge,l=e.lowerBadgeWidth,u=e.style,c=e.upperBadge,p=this.state,h=p.maskId,v=p.lowerBadgeMask,m=p.upperBadgeMask;return f("div",{className:(0,o.default)(n,d.default.wrapper),style:u},void 0,f("svg",{width:48,height:48,viewBox:"0 0 48 48",className:d.default.svg},void 0,f("mask",{id:h,fill:"black",x:0,y:0,width:48,height:48},void 0,f(i.animated.path,{d:this.getPathInterpolation(),fill:"white"}),f(i.animated.rect,{x:28,y:-4,width:24,height:24,rx:12,ry:12,transform:this.getBadgePositionInterpolation(m,-1),fill:"black"}),f(i.animated.rect,{x:48-(l+8)+4,y:28,width:l+8,height:24,rx:12,ry:12,transform:this.getBadgePositionInterpolation(v),fill:"black"})),f("foreignObject",{mask:"url(#"+h+")",x:0,y:0,width:48,height:48},void 0,t)),f(s.default,{component:a.Fragment},void 0,null!=r?f(E,{className:d.default.lowerBadge,animatedStyle:this.getLowerBadgeStyles()},"lower-badge",r):null,null!=c?f(E,{className:d.default.upperBadge,animatedStyle:this.getUpperBadgeStyles()},"upper-badge",c):null))},t}(a.Component);y.displayName="BlobMask",y.defaultProps={selected:!1,lowerBadgeWidth:16};var S=y;t.default=S},6579:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_CLOSE})};var r=l(n(2)),a=l(n(15)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},6581:function(e,t,n){"use strict";t.__esModule=!0,t.init=u,t.open=s,t.close=d,t.setSection=c,t.selectPermissionOverwrite=f,t.updateChannel=p,t.saveChannel=h,t.deleteChannel=v,t.default=void 0;var r=i(n(12)),a=i(n(2)),o=n(264),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_INIT,channelId:e})}function s(e){u(e),(0,o.pushLayer)(l.Layers.CHANNEL_SETTINGS)}function d(){a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_CLOSE})}function c(e){a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:e})}function f(e){a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT,overwriteId:e})}function p(e){var t=e.name,n=e.type,r=e.topic,o=e.bitrate,i=e.userLimit,u=e.nsfw,s=e.rateLimitPerUser;a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_UPDATE,name:t,channelType:n,topic:r,bitrate:o,userLimit:i,nsfw:u,rateLimitPerUser:s})}function h(e,t){var n=t.name,o=t.type,i=t.position,u=t.topic,s=t.bitrate,d=t.userLimit,c=t.nsfw,f=t.permissionOverwrites,p=t.rateLimitPerUser;return a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_SUBMIT}),r.default.patch({url:l.Endpoints.CHANNEL(e),body:{name:n,type:o,position:i,topic:u,bitrate:s,user_limit:d,nsfw:c,permission_overwrites:f,rate_limit_per_user:p}}).then(function(t){return a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS,channelId:e}),t},function(e){return a.default.dispatch({type:l.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE,errors:e.body}),e})}function v(e){r.default.delete(l.Endpoints.CHANNEL(e)).then(function(){return d()})}var m={init:u,open:s,close:d,setSection:c,selectPermissionOverwrite:f,updateChannel:p,saveChannel:h,deleteChannel:v};t.default=m},6584:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(916)),a=o(n(25));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){return(0,r.default)([a.default],function(){return a.default.theme})};t.default=l},6585:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(8)),l=f(n(16)),i=f(n(106)),u=f(n(6550)),s=n(1),d=f(n(4)),c=f(n(5977));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).inputRef=a.createRef(),h(n).handleRemove=n.handleRemove.bind(h(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.handleExternalFileChange=function(e){(0,l.default)(null!=this.inputRef.current,"ImageInputRef asked to handleExternalFileChange when not mounted"),this.inputRef.current.handleFileChange(e)},f.handleRemove=function(){this.props.onChange(null)},f.render=function(){var e,t,n,r,l=this.props,f=l.avatar,h=l.size,v=l.hint,m=l.name,_=l.makeURL,g=l.disabled,E=l.onChange,y=l.showIcon,S=l.className,I=l.avatarClassName,T=l.hideSize;return(e=null!=f&&/^data:/.test(f)?f:_(f))?t='url("'+e+'")':n=p("div",{className:c.default.avatarUploaderAcronym},void 0,m.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,"")),g?p("div",{className:(0,o.default)(c.default.avatarUploader,c.default.disabled,S)},void 0,p("div",{className:(0,o.default)(c.default.avatarUploaderInner,I),style:{backgroundImage:t}},void 0,n)):(null!=f?r=p(i.default,{className:c.default.removeButton,onClick:this.handleRemove},void 0,d.default.Messages.REMOVE):T||(r=p("small",{className:c.default.sizeInfo},void 0,d.default.Messages.MINIMUM_SIZE.format({size:s.AVATAR_SIZE}))),p("div",{className:(0,o.default)(c.default.avatarUploader,S)},void 0,p("div",{className:(0,o.default)(c.default.avatarUploaderInner,I),style:{backgroundImage:t}},void 0,n,p("div",{className:c.default.avatarUploaderHint},void 0,v),a.createElement(u.default,{ref:this.inputRef,onChange:E,size:h,className:c.default.fileInput}),y&&p("div",{className:c.default.avatarUploaderIndicator})),r))},r}(a.PureComponent);v.displayName="AvatarUploader",v.defaultProps={name:"",size:64,makeURL:function(e){return e},hint:d.default.Messages.CHANGE_AVATAR,disabled:!1,showIcon:!1,hideSize:!1};var m=v;t.default=m},6586:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(8)),o=u(n(58)),l=u(n(257)),i=u(n(6299));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.onMouseLeave,n=e.onMouseEnter,r=e.onClick,u=e.children,d=e.disabled,c=void 0!==d&&d;return s(o.default,{onClick:c?null:r,onMouseEnter:n,onMouseLeave:t,className:(0,a.default)(i.default.wrapper,c?i.default.disabled:i.default.enabled)},void 0,s(l.default,{className:i.default.text,color:c?l.default.Colors.MUTED:l.default.Colors.STANDARD},void 0,u))};d.displayName="OverlayButton";var c=d;t.default=c},6587:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InviteResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(67)),l=h(n(341)),i=h(n(122)),u=h(n(6559)),s=h(n(65)),d=n(6523),c=n(1),f=h(n(4)),p=h(n(5952));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(){return v(a.Fragment,{},void 0,v(d.Avatar,{src:null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}),v(d.SubTitle,{},void 0,f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),v(d.Title,{className:p.default.inviteResolvingGuildName},void 0,f.default.Messages.LOADING))};t.InviteResolvingHeader=m,m.displayName="InviteResolvingHeader";var _=function(e){var t=e.guild,n=e.user;return n?v(d.Avatar,{src:null!=n?n.getAvatarURL():null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}):t?v(d.GuildIcon,{guild:t,size:d.GuildIcon.Sizes.XLARGE,className:p.default.guildIcon,animate:!0}):null},g=function(e){var t=e.invite,n=e.disableUser,r=void 0!==n&&n,h=e.error;if(null==t)return null;var m,g,E=null!=t.guild?new l.default(t.guild):null,y=null!=t.channel?new o.default(t.channel):null,S=r||null==t.inviter?null:new i.default(t.inviter),I=null!=t.approximate_member_count&&t.approximate_member_count>100,T=null!=E&&E.hasFeature(c.GuildFeatures.VERIFIED),O=null!=E&&E.hasFeature(c.GuildFeatures.PARTNERED),N=null;if(null!=E)N=null==S?f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:f.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:S.username}),t.target_user_type===c.InviteTargetUserTypes.STREAM&&null!=t.target_user&&(N=f.default.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username})),I||T||O||(m=v(d.GuildIcon,{guild:E,size:d.GuildIcon.Sizes.SMALL})),g=E.name;else if(null!=y){if(null==S)throw new Error("no inviter in group DM invite");var C=S.username;y.name?(N=f.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:C}),g=y.name,null!=y.icon&&(m=v(d.ChannelIcon,{channel:y,size:d.Avatar.Sizes.SIZE_32}))):(N=f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,g=C)}return v(a.Fragment,{},void 0,v(_,{guild:E,user:r||I?null:S}),h?v(a.Fragment,{},void 0,v(d.SubTitle,{},void 0,f.default.Messages.INVITE_MODAL_ERROR_TITLE),v(d.Title,{},void 0,h)):v(a.Fragment,{},void 0,v(d.SubTitle,{},void 0,N),v(d.Title,{className:p.default.title},void 0,null!=E?v(u.default,{guild:E,className:p.default.guildBadge,tooltipPosition:s.default.Positions.LEFT}):null,m,g)),v(d.ActivityCount,{className:p.default.activityCount,online:t.approximate_presence_count,total:t.approximate_member_count}))};g.displayName="InviteHeader";var E=g;t.default=E},6595:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i={open:function(e,t,n,r){a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_OPEN,channelType:e,guildId:t,categoryId:n,cloneChannelId:r})},close:function(){a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_CLOSE})},createChannel:function(e,t,n,l,i,u,s,d,c){var f=this;void 0===l&&(l=[]),a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT});var p={type:t,name:n,permission_overwrites:l};if(null!=i&&i!==o.BITRATE_DEFAULT&&(p.bitrate=i),null!=u&&u>0&&(p.user_limit=u),null!=s&&(p.parent_id=s),t===o.ChannelTypes.GUILD_STORE){if(null==d)throw new Error("Unexpected missing SKU");p.sku_id=d,p.branch_id=c}r.default.post({url:o.Endpoints.GUILD_CHANNELS(e),body:p}).then(function(){return f.close()},function(e){return a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT_FAILURE,errors:e.body})})}};t.default=i},6598:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l={},i=!1;var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isLoading=function(){return i},a.passesChecklist=function(e){var t;return!i&&(null===(t=l[e])||void 0===t?void 0:t.sufficient)},a.isPendingSuccess=function(e){var t=l[e];return null!=t&&(!i&&t.healthScorePending&&t.safeEnvironment&&t.nsfwSafe&&t.size&&t.protected)},a.getDiscoveryChecklist=function(e){return l[e]},r}(r.default.Store))(a.default,{DISCOVER_CHECKLIST_FETCH_START:function(e){i=!0},DISCOVER_CHECKLIST_FETCH_FAILURE:function(e){i=!1},DISCOVER_CHECKLIST_FETCH_SUCCESS:function(e){var t=e.checklist,n=e.guildId;i=!1,l[n]={guildId:t.guild_id,safeEnvironment:t.safe_environment,healthy:t.healthy,healthScorePending:t.health_score_pending,nsfwSafe:t.nsfw_safe,size:t.size,protected:t.protected,sufficient:t.sufficient}}});t.default=u},6599:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i={fetchForGuild:function(e){a.default.dirtyDispatch({type:o.ActionTypes.WEBHOOKS_FETCHING,guildId:e}),r.default.get(o.Endpoints.GUILD_WEBHOOKS(e)).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,webhooks:n})}).catch(function(t){var n=t.body;a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,error:n.message})})},fetchForChannel:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.WEBHOOKS_FETCHING,guildId:e,channelId:t}),r.default.get(o.Endpoints.CHANNEL_WEBHOOKS(t)).then(function(n){var r=n.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,channelId:t,webhooks:r})})},create:function(e,t,n){return r.default.post({url:o.Endpoints.CHANNEL_WEBHOOKS(t),body:n}).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOK_CREATE,guildId:e,webhook:n}),n})},delete:function(e,t){return r.default.delete(o.Endpoints.WEBHOOK(t)).then(function(){a.default.dispatch({type:o.ActionTypes.WEBHOOK_DELETE,guildId:e,webhookId:t})})},update:function(e,t,n){return r.default.patch({url:o.Endpoints.WEBHOOK(t),body:n}).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOK_UPDATE,guildId:e,webhook:n}),n})}};t.default=i},6601:function(e,t,n){"use strict";t.__esModule=!0,t.makeChannelSortable=function(e){return(0,r.DropTarget)(_,{drop:function(e,t){var n=t.getItem(),r=(0,f.getDropData)(u.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null!=r){var i=u.default.getChannel(n.id);if(null!=i){var p=e.channel.getGuildId(),m=s.default.getCategories(p),_=d.default.getGuild(p);if(null!=_){var g=(0,f.getDnDUpdates)(i,u.default.getChannel(r.referenceId),r.parentId,m);if(0!==g.length){var E,y=c.default.getCurrentUser();if(g=g.filter(function(e){var t=e.id,n=u.default.getChannel(t);if(null==n)return!1;var r=u.default.getChannel(n.parent_id);return n.type===v.ChannelTypes.GUILD_CATEGORY||null==r?h.default.can(v.Permissions.MANAGE_CHANNELS,y,_):h.default.can(v.Permissions.MANAGE_CHANNELS,y,r)}),i.parent_id!==r.parentId&&g.find(function(e){if(e.id!==i.id)return!1;var t=u.default.getChannel(e.parent_id);if(!(null!=t&&h.default.can(v.Permissions.MANAGE_ROLES,y,i)&&h.default.can(v.Permissions.MANAGE_ROLES,y,t)))return!0;var n=h.default.areChannelsLocked(i,t),r=h.default.areChannelsLocked(i,u.default.getChannel(i.parent_id));return(null==i.parent_id&&!n||r&&!n)&&(E=e),!0}),null!=E){var S=u.default.getChannel(E.parent_id);null!=S&&o.default.push(l.default,{channel:i,category:S,onSync:function(){null!=E&&(E.lock_permissions=!0,a.default.batchChannelUpdate(p,g))},onCancel:function(){null!=E&&a.default.batchChannelUpdate(p,g)}})}else a.default.batchChannelUpdate(p,g)}}}}},canDrop:function(e,t){var n=t.getItem(),r=u.default.getChannel(n.id),a=c.default.getCurrentUser();if(null==r)return!1;var o=(0,f.getDropData)(u.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList),l=d.default.getGuild(n.guildId);if(null==o||null==l)return!1;var i=u.default.getChannel(o.parentId),s=u.default.getChannel(r.parent_id),p=h.default.can(v.Permissions.MANAGE_CHANNELS,a,l),m=null!=s?h.default.can(v.Permissions.MANAGE_CHANNELS,a,s):p,_=null!=i?h.default.can(v.Permissions.MANAGE_CHANNELS,a,i):p;return m&&_}},function(e,t){var n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parent:null}})((0,r.DragSource)(_,{canDrag:function(e){var t=e.channel,n=c.default.getCurrentUser(),r=d.default.getGuild(t.getGuildId());if(null==r)return!1;if(t.type===v.ChannelTypes.GUILD_CATEGORY)return h.default.can(v.Permissions.MANAGE_CHANNELS,n,r);var a=u.default.getChannel(t.parent_id);return null!=a&&h.default.can(v.Permissions.MANAGE_CHANNELS,n,a)||null==a&&h.default.can(v.Permissions.MANAGE_CHANNELS,n,r)},beginDrag:function(e){var t=e.channel,n=t.id,r=t.parent_id,a=t.guild_id,o=t.type,l=e.position,u=c.default.getCurrentUser(),d=s.default.getCategories(a);return{isChannelDrag:!0,id:n,position:l,parentId:r,type:o,channelList:(0,p.getFlattenedChannelList)(d._categories,d,function(e){var t=e.channel;return t.type===v.ChannelTypes.GUILD_CATEGORY&&d[t.id]&&0===d[t.id].length?h.default.can(v.Permissions.MANAGE_CHANNELS,u,t)&&h.default.can(v.Permissions.VIEW_CHANNEL,u,t):!i.default.isCollapsed(t.parent_id)}),guildId:a}}},function(e){return{connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}})(e))};var r=n(866),a=m(n(139)),o=m(n(30)),l=m(n(6964)),i=m(n(858)),u=m(n(14)),s=m(n(470)),d=m(n(19)),c=m(n(11)),f=n(6816),p=n(226),h=m(n(73)),v=n(1);function m(e){return e&&e.__esModule?e:{default:e}}var _="DRAGGABLE_GUILD_CHANNEL"},6617:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(24)),o=u(n(42)),l=u(n(71)),i=u(n(5987));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.title,n=e.subtitle,r=e.iconType;return s(a.default,{className:i.default.wrapper,align:a.default.Align.BASELINE},void 0,null!=r&&s(o.default,{name:r,width:16,height:16,className:i.default.icon}),s(l.default,{weight:l.default.Weights.NORMAL,size:l.default.Sizes.MEDIUM,color:l.default.Colors.PRIMARY,className:i.default.title},void 0,t),n&&s(l.default,{weight:l.default.Weights.SEMIBOLD,size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,className:i.default.subtitle},void 0,n))};d.displayName="IconSelectOption";var c=d;t.default=c},6618:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(8)),o=i(n(257)),l=i(n(6129));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.children,n=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default,{color:o.default.Colors.CUSTOM,className:(0,a.default)(l.default.subtext,n),size:o.default.Sizes.SIZE_12},void 0,t)}u.displayName="PanelSubtext"},6619:function(e){e.exports=JSON.parse('[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]')},6620:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(922),l=v(n(352)),i=v(n(869)),u=n(1),s=v(n(6665)),d=v(n(6666)),c=v(n(6667)),f=v(n(6668)),p=v(n(6669)),h=v(n(6670));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _,g,E,y,S=m("source",{src:s.default,type:"video/mp4"},"mp4"),I=m("img",{alt:"",src:d.default},"png"),T=m("source",{src:c.default,type:"video/mp4"},"mp4"),O=m("img",{alt:"",src:f.default},"png"),N=m("source",{src:p.default,type:"video/webm"},"webm"),C=m("source",{src:h.default,type:"video/webm"},"webm"),A=(g=(0,o.getChromeVersion)(),E=[S,I],y=[T,O],(g>52||-1===g)&&(E.unshift(N),y.unshift(C)),(_={})[u.ThemeTypes.DARK]=E,_[u.ThemeTypes.LIGHT]=y,_),M=function(e){var t=e.loop,n=void 0===t||t,r=e.autoPlay,o=void 0===r||r,s=e.setRef,d=e.className,c=e.onReady,f=a.useContext(l.default);return a.createElement(i.default,{key:f,ref:s,onLoadedData:c,className:d,loop:n,autoPlay:o,playsInline:!0},A[f]||A[u.ThemeTypes.DARK])};M.displayName="AppSpinner";var P=M;t.default=P},6622:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=D(n(0)),o=L(n(8)),l=n(335),i=L(n(3)),u=L(n(853)),s=n(498),d=D(n(6633)),c=L(n(30)),f=D(n(6579)),p=L(n(862)),h=n(6526),v=L(n(10)),m=L(n(943)),_=L(n(6555)),g=L(n(71)),E=D(n(6523)),y=L(n(15)),S=n(80),I=n(867),T=L(n(155)),O=L(n(6830)),N=L(n(6716)),C=D(n(6587)),A=n(1),M=L(n(4)),P=L(n(455)),R=L(n(969)),b=L(n(6155));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=U(E.AuthSpinner,{hideQuote:!0}),F=U(C.InviteResolvingHeader,{}),B=function(e){var t,r;function i(t){var n;(n=e.call(this,t)||this).setEmailRef=function(e){n.emailRef=e},n.setPasswordRef=function(e){n.passwordRef=e},n.setCodeRef=function(e){n.codeRef=e},n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null},n.handleLogin=function(e){var t=n.state,r=t.email,a=t.password,o=t.captchaKey,l=t.undelete;null!=e&&e.preventDefault(),u.default.login({email:r,password:a,undelete:l,captchaKey:o,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},n.handleTokenSubmit=function(e){var t=n.state.code,r=n.props.mfaTicket;null!=e&&e.preventDefault(),u.default.loginMFA({code:t.replace(/ /g,""),ticket:r,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,r=n.props.mfaTicket;null!=e&&e.preventDefault(),u.default.loginSMS({code:t.replace(/ /g,""),ticket:r}),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault(),u.default.requestSMSToken(t),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},n.handleForgotPassword=function(){var e=n.state.email;null!=n.emailRef&&n.emailRef.focus(),u.default.forgotPassword(e,function(){c.default.push(function(t){return a.createElement(T.default,w({header:M.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:M.default.Messages.OKAY,red:!1,className:I.isMobile?R.default.mobile:""},t),U(g.default,{size:g.default.Sizes.MEDIUM,color:g.default.Colors.PRIMARY},void 0,M.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:e})))})}),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},n.handleReset=function(e){null!=e&&e.preventDefault(),u.default.loginReset(),n.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},n.handleCancelAccountDeletion=function(){n.setState({undelete:!0},n.handleLogin)},n.handleCaptchaVerify=function(e){n.setState({captchaKey:e},n.handleLogin)},n.handleGotoRegister=function(){var e=n.state.email,t=n.props,r=t.invite,a=t.giftCode,o=t.location,i=t.transitionTo,s=t.redirectTo;if(t.isGuest)return d.close(),void f.open();var c,p=null!=o?(0,l.parse)(o.search):{};""!==e&&(p.email=e),null!=r?(p.mode="register",c=A.Routes.INVITE(r.code)):null!=a?(p.mode="register",c=A.Routes.GIFT_CODE(a.code)):null!=s?(c=A.Routes.REGISTER,p.redirect_to=s):c=A.Routes.REGISTER,u.default.loginReset(),i(c,{search:(0,l.stringify)(p)}),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)};var r=null!=t.location?(0,l.parse)(t.location.search):{};return n.state={redirecting:t.authenticated,checkingHandoff:t.handoffAvailable,email:r.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},n}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.getDerivedStateFromProps=function(e){var t=e.handoffAvailable,n=e.authenticated;return t||n?null:{checkingHandoff:!1}};var m,_,L,D=i.prototype;return D.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU,a=e.invite,o=e.location;t&&!n?(0,s.handoffBegin)():n&&this.loginOrSSO(n,o,!0),y.default.track(A.AnalyticEvents.LOGIN_VIEWED,w({location:null!=a?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource},null!=r?(0,p.default)(r,!1,!1):{}),!0),(0,h.trackAppUIViewed)("login")},D.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,a=this.state.checkingHandoff;!n||e.authenticated||a||this.loginOrSSO(n,r),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},D.loginOrSSO=function(e,t,n){var r=this;void 0===n&&(n=!1);var a=this.props.isGuest;e&&(null!=t||a)&&(n?u.default.verifySSOToken().then(function(){return r.transitionSSO(t)}):this.transitionSSO(t))},D.transitionSSO=function(e){var t=this.props,n=t.transitionTo,r=t.redirectTo;if(t.isGuest&&null!=r)n(r);else{var a=null!=e?(0,l.parse)(e.search):{},o=(a.redirect_to,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(a,["redirect_to"]));if(null!=r)n(r);else if(null==o.service)n(A.Routes.APP);else{var i=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+A.Endpoints.SSO,u=w({},o,{token:v.default.getToken()});window.location=i+"?"+(0,l.stringify)(u)}}},D.hasError=function(e){return null!=this.props.errors[e]},D.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return U(E.default,{className:e},void 0,k,U(E.Title,{className:P.default.marginBottom8},void 0,M.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),U(E.SubTitle,{},void 0,M.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},D.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,r=e.authBoxClassName;return null==t?null:U(E.default,{className:r},void 0,U(E.Avatar,{src:t.getAvatarURL(),size:E.Avatar.Sizes.DEPRECATED_SIZE_100,className:P.default.marginBottom20}),U(E.Title,{className:P.default.marginBottom8},void 0,M.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),U(E.SubTitle,{className:P.default.marginBottom40},void 0,M.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),U(E.Block,{},void 0,U(E.Button,{onClick:function(){return n(A.Routes.APP)},className:P.default.marginBottom8},void 0,M.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),U(E.Button,{look:E.Button.Looks.LINK,onClick:this.handleReset},void 0,M.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},D.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===A.LoginStates.ACCOUNT_DISABLED,n=t?M.default.Messages.ACCOUNT_DISABLED_TITLE:M.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,r=t?M.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:M.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return U(E.default,{tag:"form",onSubmit:this.handleReset,className:e},void 0,U(E.Title,{className:P.default.marginBottom8},void 0,n),U(E.SubTitle,{className:P.default.marginBottom20},void 0,r),U(E.Block,{},void 0,U(E.Button,{color:E.Button.Colors.BRAND,type:"submit"},void 0,M.default.Messages.RETURN_TO_LOGIN),U("div",{className:(0,o.default)(P.default.marginTop8,b.default.needAccount)},void 0,M.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},D.renderResolving=function(){var e=this,t=this.props.authBoxClassName;return U(E.default,{className:t},void 0,F,U(E.Block,{className:P.default.marginTop20},void 0,U(E.Input,{className:P.default.marginBottom20,label:M.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),U(E.Input,{className:P.default.marginBottom20,label:M.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),U(E.Button,{className:P.default.marginBottom8,type:"submit",disabled:!0},void 0,M.default.Messages.LOGIN),U(E.Button,{disabled:!0,look:E.Button.Looks.LINK},void 0,M.default.Messages.FORGOT_PASSWORD),U(E.Button,{disabled:!0,className:P.default.marginTop4,look:E.Button.Looks.LINK},void 0,M.default.Messages.NEED_ACCOUNT)))},D.renderDefault=function(){var e,t=this,n=this.props,r=n.invite,l=n.giftCode,i=n.loginStatus,u=n.authBoxClassName,s=n.isGuest,d=!this.hasError("email")&&this.hasError("password");return e=null!=r&&null!=r.channel?U(C.default,{invite:r}):null!=l?U(N.default,{giftCode:l}):s?null:U(a.Fragment,{},void 0,U(E.Title,{className:P.default.marginBottom8},"title",M.default.Messages.LOGIN_TITLE),U(E.SubTitle,{},"subtitle",M.default.Messages.AUTH_LOGIN_BODY)),U(E.default,{onSubmit:this.handleLogin,tag:"form",className:u},void 0,e,U(E.Block,{className:P.default.marginTop20},void 0,U(E.Input,{className:P.default.marginBottom20,label:M.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(e){return t.setState({email:e})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!d}),U(E.Input,{label:M.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return t.setState({password:e})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:d,value:this.state.password}),U(E.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:E.Button.Looks.LINK,className:(0,o.default)(P.default.marginBottom20,P.default.marginTop4)},void 0,M.default.Messages.FORGOT_PASSWORD),U(E.Button,{type:"submit",submitting:i===A.LoginStates.LOGGING_IN,className:P.default.marginBottom8},void 0,M.default.Messages.LOGIN),U("div",{className:P.default.marginTop4},void 0,U("span",{className:b.default.needAccount},void 0,M.default.Messages.NEED_ACCOUNT),U(E.Button,{onClick:this.handleGotoRegister,look:E.Button.Looks.LINK,className:b.default.smallRegisterLink},void 0,M.default.Messages.REGISTER))))},D.renderMFA=function(){var e=this,t=this.props,r=t.loginStatus,a=t.mfaSMS,o=t.authBoxClassName;return U(E.default,{onSubmit:this.handleTokenSubmit,tag:"form",className:o},void 0,U("img",{alt:"",src:n(6672),className:P.default.marginBottom20}),U(E.Title,{className:P.default.marginBottom8},void 0,M.default.Messages.TWO_FA),U(E.SubTitle,{},void 0,M.default.Messages.TWO_FA_ENTER_TOKEN_BODY),U(E.Block,{className:P.default.marginTop40},void 0,U(E.Input,{className:P.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:M.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:M.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),U(E.Button,{type:"submit",submitting:r===A.LoginStates.LOGGING_IN_MFA},void 0,M.default.Messages.LOGIN),a?U(E.Button,{onClick:this.handleToggleSMSLogin,submitting:r===A.LoginStates.LOGGING_IN_MFA_SMS,className:P.default.marginTop8,look:E.Button.Looks.LINK},void 0,M.default.Messages.MFA_SMS_RECEIVE_CODE):null,U(E.Button,{look:E.Button.Looks.LINK,className:P.default.marginTop4,onClick:this.handleReset},void 0,M.default.Messages.TWO_FA_LOGIN_FOOTER)))},D.renderMFASMS=function(){var e=this,t=this.props,r=t.loginStatus,a=t.maskedPhone,o=t.authBoxClassName,l=r===A.LoginStates.LOGGING_IN_MFA_SMS||""===a;return U(E.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:o},void 0,U("img",{alt:"",src:n(6672),className:P.default.marginBottom20}),U(E.Title,{className:P.default.marginBottom8},void 0,M.default.Messages.TWO_FA),U(E.SubTitle,{className:P.default.marginBottom8},void 0,l?M.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:M.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:a})),U(E.Block,{className:P.default.marginTop40},void 0,U(E.Input,{className:P.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:M.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:M.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),U(E.Button,{type:"submit",submitting:l,color:l?E.Button.Colors.TRANSPARENT:E.Button.Colors.BRAND},void 0,M.default.Messages.LOGIN),l?null:U(E.Button,{onClick:this.handleToggleSMSLogin,className:P.default.marginTop8,look:E.Button.Looks.LINK},void 0,M.default.Messages.MFA_SMS_RESEND),U(E.Button,{look:E.Button.Looks.LINK,className:P.default.marginTop4,onClick:this.handleReset},void 0,M.default.Messages.TWO_FA_LOGIN_FOOTER)))},D.render=function(){var e=this.props,t=e.authenticated,n=e.invite,r=e.loginStatus,a=e.handoffAvailable,o=e.isGuest,l=e.authBoxClassName,i=this.state,u=i.checkingHandoff;if(i.redirecting)return null;if(this.hasError("captcha_key"))return U(O.default,{authBoxClassName:l,onVerify:this.handleCaptchaVerify,title:o?null:M.default.Messages.LOGIN_TITLE});if(a)return this.renderHandOffAvailable();if(t&&u)return this.renderHandOffContinue();switch(r){case A.LoginStates.LOGGING_IN_MFA_SMS:case A.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case A.LoginStates.LOGGING_IN_MFA:case A.LoginStates.MFA_STEP:return this.renderMFA();case A.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case A.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case A.LoginStates.LOGGING_IN:case A.LoginStates.NONE:default:return null!=n&&n.state===A.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},m=i,(_=[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite,r=e.isGuest;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":r?"guest_lurker":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}])&&G(m.prototype,_),L&&G(m,L),i}(a.PureComponent);B.displayName="Login",B.defaultProps={isGuest:!1,transitionTo:function(t){return e.location.assign(t)}};var j=i.default.connectStores([v.default,m.default,_.default],function(){return{authenticated:v.default.isAuthenticated(),handoffAvailable:m.default.isHandoffAvailable(),user:m.default.user,loginStatus:v.default.getLoginStatus(),mfaTicket:v.default.getMFATicket(),mfaSMS:v.default.getMFASMS(),maskedPhone:v.default.getMaskedPhone(),errors:v.default.getErrors(),defaultRoute:_.default.defaultRoute}})(B);t.default=j}).call(this,n(28))},6633:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Login Modal",location:e}),r.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_CLOSE})};var r=l(n(2)),a=l(n(15)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},6642:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var r=i(n(12)),a=i(n(2)),o=i(n(232)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var s=216e5;function d(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<s)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.default.get({url:l.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,a.default.dispatch({type:l.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){u(o,r,a,l,i,"next",e)}function i(e){u(o,r,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}},6646:function(e,t,n){"use strict";var r;t.__esModule=!0,t.PUBLIC_SUCCESS_MODAL_SEEN_KEY=t.POLICY_ACCEPTED_STATES=void 0;var a=(0,((r=n(82))&&r.__esModule?r:{default:r}).default)({ACCEPTED:null,UNACCEPTED:null});t.POLICY_ACCEPTED_STATES=a;t.PUBLIC_SUCCESS_MODAL_SEEN_KEY="publicSuccessModalSeen"},6647:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=v(n(3)),l=v(n(2)),i=n(184),u=n(330),s=v(n(333)),d=v(n(225)),c=v(n(275)),f=v(n(19)),p=v(n(6765)),h=n(1);function v(e){return e&&e.__esModule?e:{default:e}}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(c.default,f.default),this.syncWith([d.default],function(){return!0})},a.getExperimentId=function(){return s.default.GUILD_ANALYTICS},a.getMetaData=function(){return{title:"Guild Analytics",description:["Control: No guild analytics","Treatment 1: Guild analytics enabled"]}},a.getExperimentDescriptor=function(e){return d.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?p.default.getExperimentAssignment(e,this.getExperimentId()):null)},a.hasGuildAnalytics=function(e){var t=f.default.getGuild(e);if(null==t)return!1;var n=this.getExperimentDescriptor(e);return!(null==n||n.bucket===i.ExperimentBuckets.NOT_ELIGIBLE||!t.features.has(h.GuildFeatures.PARTNERED)&&!t.features.has(h.GuildFeatures.VERIFIED))&&((0,u.triggerExperiment)(s.default.GUILD_ANALYTICS,n),i.ExperimentBuckets.TREATMENT_1===n.bucket)},r}(o.default.Store))(l.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return e.experimentId===s.default.GUILD_ANALYTICS},EXPERIMENT_OVERRIDE_TYPE:function(e){return e.experimentId===s.default.GUILD_ANALYTICS}});(0,u.registerExperimentLegacy)(m,((a={})[i.ExperimentTypes.GUILD]=((r={})[i.ExperimentBuckets.CONTROL]=function(){return null},r[i.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var _=m;t.default=_},6648:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(6)),a=c(n(3)),o=c(n(2)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6649)),i=n(67),u=c(n(53)),s=c(n(19)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=[d.Permissions.KICK_MEMBERS,d.Permissions.BAN_MEMBERS,d.Permissions.ADMINISTRATOR,d.Permissions.MANAGE_CHANNELS,d.Permissions.MANAGE_GUILD,d.Permissions.MANAGE_NICKNAMES,d.Permissions.MANAGE_ROLES,d.Permissions.MANAGE_WEBHOOKS,d.Permissions.MANAGE_EMOJIS,d.Permissions.MUTE_MEMBERS,d.Permissions.DEAFEN_MEMBERS],h=null,v=[],m=[],_=[],g=[],E=!0,y=!1,S=!1,I=!0,T=!1,O=null,N=d.AuditLogActions.ALL,C={},A=0;function M(e){var t=[],n=0;return e.reverse().forEach(function(e){var r=[],a=null,o=null;if(null!=e.reason&&r.push(new l.AuditLogChange(d.AuditLogChangeKeys.REASON,null,e.reason)),e.changes&&e.changes.forEach(function(e){var t=new l.AuditLogChange(e.key,e.old_value,e.new_value);r.push(t),t.key===d.AuditLogChangeKeys.NAME?a=t:t.key===d.AuditLogChangeKeys.TYPE&&(o=t)}),e.action_type===d.AuditLogActions.MEMBER_PRUNE){var u=null!=e&&null!=e.options&&null!=e.options.delete_member_days?e.options.delete_member_days:1,s=new l.AuditLogChange(d.AuditLogChangeKeys.PRUNE_DELETE_DAYS,null,u);r.push(s)}var c=new l.default({id:e.id,action:e.action_type,targetId:e.target_id,userId:e.user_id,changes:r,options:e.options,guildId:h}),f=t[0];if(function(e,t,n,r,a){return void 0===r&&(r=30),void 0===a&&(a=50),null!=e&&e.action===t.action&&e.targetId===t.targetId&&e.userId===t.userId&&t.timestampStart.diff(e.timestampStart,"minutes")<r&&n<a&&t.targetType!==d.AuditLogTargetTypes.INVITE&&t.action!==d.AuditLogActions.MESSAGE_DELETE&&t.action!==d.AuditLogActions.MESSAGE_BULK_DELETE&&t.action!==d.AuditLogActions.MESSAGE_PIN&&t.action!==d.AuditLogActions.MESSAGE_UNPIN&&t.action!==d.AuditLogActions.MEMBER_MOVE&&t.action!==d.AuditLogActions.MEMBER_DISCONNECT&&t.action!==d.AuditLogActions.BOT_ADD}(f,c,n))return t[0]=f.merge({changes:[].concat(f.changes,c.changes),timestampEnd:c.timestampStart}),void n++;if(c.actionType===d.AuditLogActionTypes.DELETE&&null!=a){var p,v=a.oldValue;if(c.targetType!==d.AuditLogTargetTypes.CHANNEL&&c.targetType!==d.AuditLogTargetTypes.CHANNEL_OVERWRITE||null===o||!(0,i.isGuildSelectableChannelType)(o.oldValue)||(v="#"+v),null==C[c.targetType])C[c.targetType]=((p={})[c.targetId]=v,p);else C[c.targetType][c.targetId]=v}n=0,t.unshift(c)}),t}function P(e){if(e.section!==d.GuildSettingsSections.AUDIT_LOG)return!1;var t=u.default.getMembers(h),n=s.default.getGuild(h);_=(0,r.default)(t).filter(function(e){return e.roles.some(function(t){if(null!=n){if(e.userId===n.ownerId)return!0;var r=n.roles[t];return null!=r&&p.some(function(e){return e&r.permissions})}})}).map(function(e){return e.userId}).value()}var R=new(function(e){var t,n,r,a,o;function l(){return e.apply(this,arguments)||this}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=l,(a=[{key:"logs",get:function(){return v}},{key:"integrations",get:function(){return m}},{key:"webhooks",get:function(){return g}},{key:"isInitialLoading",get:function(){return E}},{key:"isLoading",get:function(){return y}},{key:"isLoadingNextPage",get:function(){return S}},{key:"hasOlderLogs",get:function(){return I}},{key:"hasError",get:function(){return T}},{key:"userIds",get:function(){return _}},{key:"userIdFilter",get:function(){return O}},{key:"actionFilter",get:function(){return N}},{key:"deletedTargets",get:function(){return C}},{key:"groupedFetchCount",get:function(){return A}}])&&f(r.prototype,a),o&&f(r,o),l}(a.default.Store))(o.default,{AUDIT_LOG_FETCH_START:function(e){y=!0},AUDIT_LOG_FETCH_SUCCESS:function(e){var t=e.logs,n=e.integrations,r=e.webhooks;A=0,E=!1,y=!1,I=!0,T=!1,v=M(t),m=n,g=r,t.length<d.AUDIT_LOG_PAGE_LIMIT&&(I=!1)},AUDIT_LOG_FETCH_FAIL:function(e){return y=!1,T=!0,void(v=[])},AUDIT_LOG_FETCH_NEXT_PAGE_START:function(e){var t=e.isGroupedFetch;S=!0,t&&A++},AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS:function(e){var t=e.logs,n=e.integrations,r=e.webhooks;if(S=!1,m=n,g=r,(0===t.length||t.length<d.AUDIT_LOG_PAGE_LIMIT)&&(I=!1),t.length>0){var a=M(t);v=[].concat(v,a)}},AUDIT_LOG_FETCH_NEXT_PAGE_FAIL:function(e){S=!1},AUDIT_LOG_FILTER_BY_ACTION:function(e){var t=e.action;N=t},AUDIT_LOG_FILTER_BY_USER:function(e){var t=e.userId;O=t},GUILD_SETTINGS_SET_SECTION:P,GUILD_SETTINGS_INIT:function(e){var t=e.guildId,n=e.section;return h=t,P({section:n})},GUILD_SETTINGS_CLOSE:function(e){return v=[],_=[],N=d.AuditLogActions.ALL,O=null,C={},A=0,E=!0,m=[],void(g=[])}});t.default=R},6649:function(e,t,n){"use strict";t.__esModule=!0,t.getTargetType=s,t.getActionType=d,t.default=t.AuditLogChange=void 0;var r=u(n(5)),a=u(n(52)),o=u(n(290)),l=u(n(144)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return e===i.AuditLogActions.ALL?i.AuditLogTargetTypes.ALL:e<=i.AuditLogActions.GUILD_UPDATE?i.AuditLogTargetTypes.GUILD:e<=i.AuditLogActions.CHANNEL_DELETE||e===i.AuditLogActions.MESSAGE_BULK_DELETE?i.AuditLogTargetTypes.CHANNEL:e<=i.AuditLogActions.CHANNEL_OVERWRITE_DELETE?i.AuditLogTargetTypes.CHANNEL_OVERWRITE:e<=i.AuditLogActions.BOT_ADD||e===i.AuditLogActions.MESSAGE_DELETE||e===i.AuditLogActions.MESSAGE_PIN||e===i.AuditLogActions.MESSAGE_UNPIN?i.AuditLogTargetTypes.USER:e<=i.AuditLogActions.ROLE_DELETE?i.AuditLogTargetTypes.ROLE:e<=i.AuditLogActions.INVITE_DELETE?i.AuditLogTargetTypes.INVITE:e<=i.AuditLogActions.WEBHOOK_DELETE?i.AuditLogTargetTypes.WEBHOOK:e<=i.AuditLogActions.EMOJI_DELETE?i.AuditLogTargetTypes.EMOJI:e<=i.AuditLogActions.INTEGRATION_DELETE?i.AuditLogTargetTypes.INTEGRATION:(o.default.captureMessage("Unknown target type for: "+e),i.AuditLogTargetTypes.UNKNOWN)}function d(e){switch(e){case i.AuditLogActions.CHANNEL_CREATE:case i.AuditLogActions.CHANNEL_OVERWRITE_CREATE:case i.AuditLogActions.MEMBER_BAN_REMOVE:case i.AuditLogActions.ROLE_CREATE:case i.AuditLogActions.INVITE_CREATE:case i.AuditLogActions.WEBHOOK_CREATE:case i.AuditLogActions.EMOJI_CREATE:case i.AuditLogActions.MESSAGE_PIN:case i.AuditLogActions.BOT_ADD:case i.AuditLogActions.INTEGRATION_CREATE:return i.AuditLogActionTypes.CREATE;case i.AuditLogActions.CHANNEL_DELETE:case i.AuditLogActions.CHANNEL_OVERWRITE_DELETE:case i.AuditLogActions.MEMBER_KICK:case i.AuditLogActions.MEMBER_PRUNE:case i.AuditLogActions.MEMBER_BAN_ADD:case i.AuditLogActions.ROLE_DELETE:case i.AuditLogActions.INVITE_DELETE:case i.AuditLogActions.WEBHOOK_DELETE:case i.AuditLogActions.EMOJI_DELETE:case i.AuditLogActions.MESSAGE_DELETE:case i.AuditLogActions.MESSAGE_BULK_DELETE:case i.AuditLogActions.MESSAGE_UNPIN:case i.AuditLogActions.INTEGRATION_DELETE:case i.AuditLogActions.MEMBER_DISCONNECT:return i.AuditLogActionTypes.DELETE;case i.AuditLogActions.GUILD_UPDATE:case i.AuditLogActions.CHANNEL_UPDATE:case i.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:case i.AuditLogActions.MEMBER_UPDATE:case i.AuditLogActions.MEMBER_ROLE_UPDATE:case i.AuditLogActions.ROLE_UPDATE:case i.AuditLogActions.INVITE_UPDATE:case i.AuditLogActions.WEBHOOK_UPDATE:case i.AuditLogActions.EMOJI_UPDATE:case i.AuditLogActions.INTEGRATION_UPDATE:case i.AuditLogActions.MEMBER_MOVE:return i.AuditLogActionTypes.UPDATE}return i.AuditLogActionTypes.ALL}t.AuditLogChange=function(e,t,n){this.key=e,this.oldValue=t,this.newValue=n};var c=function(e){var t,n;function a(t){var n;return(n=e.call(this)||this).id=t.id,n.action=t.action,n.actionType=d(n.action),n.targetId=t.targetId,n.timestampStart=t.timestampStart||(0,r.default)(l.default.extractTimestamp(n.id)),n.timestampEnd=t.timestampEnd||n.timestampStart,n.userId=t.userId,n.changes=t.changes||[],n.targetType=s(n.action),n.options=t.options||{},n.target=t.target||t.id,n.user=t.user||null,n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(a.default);t.default=c},6650:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=(r=n(6))&&r.__esModule?r:{default:r},i=n(462);function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this,t=this.props,n=t.intervalDuration,r=t.onInterval;this._interval=setInterval(function(){e.forceUpdate(),r&&r()},n)},a.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)},a.render=function(){var e,t=this.props,n=t.deadline,r=t.children,a=t.showDays,o=t.className;if(n===1/0)e="∞";else{var s=(0,i.diffAsUnits)(Date.now(),n);if(null!=r)return r(s);var d=[s.days,s.hours,s.minutes,s.seconds];if(0===s.days)d.shift();else if(!a){var c=d.shift();d[0]+=24*c}e=(0,l.default)(d).map(function(e){return e<10?"0"+e:e}).map(function(e,t){return[t>0?":":null,u("span",{},t,e)]}).flatten().value()}return u("span",{className:o},void 0,e)},r}(o.PureComponent);s.displayName="Countdown",s.defaultProps={showDays:!0,intervalDuration:1e3};var d=s;t.default=d},6651:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i={fetchDefaultRegions:function(){return this.fetchRegions(null)},fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1}).then(function(t){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})},function(){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})})},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t}})}};t.default=i},6652:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(8)),l=n(29),i=f(n(21)),u=f(n(955)),s=f(n(138)),d=n(272),c=f(n(6012));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={mode:u.default.Modes.DEFAULT},n._timeout=new l.Timeout,n.handleCopy=n.handleCopy.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentWillUnmount=function(){this._timeout.stop()},f.render=function(){var e=this.props,t=e.isVertical,n=e.value,r=e.text,l=e.className,d=e.inputClassName,f=this.state.mode;return t?h("div",{className:(0,o.default)(l,f)},void 0,h(s.default,{value:n,inputClassName:d}),h(i.default,{className:c.default.button,onClick:this.handleCopy,size:i.default.Sizes.MIN,color:this.getVerticalButtonColor(f),look:i.default.Looks.FILLED},void 0,r)):a.createElement(u.default,p({},this.props,{onCopy:this.handleCopy,mode:f}))},f.handleCopy=function(){var e=this,t=this.props,n=t.onCopy,r=t.value,a=(0,d.copy)(r);this.setState({mode:a?u.default.Modes.SUCCESS:u.default.Modes.ERROR}),this._timeout.start(300,function(){return e.setState({mode:u.default.Modes.DEFAULT})}),n&&n()},f.getVerticalButtonColor=function(e){switch(e){case u.default.Modes.SUCCESS:return i.default.Colors.GREEN;case u.default.Modes.ERROR:return i.default.Colors.RED;default:return i.default.Colors.BRAND}},r}(a.PureComponent);v.displayName="CopyInput",v.defaultProps={isVertical:!1};var m=v;t.default=m},6653:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LiveIndicatorSizes=t.LiveIndicatorLooks=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=d(n(8)),o=d(n(82)),l=n(6531),i=n(1),u=d(n(4)),s=d(n(6016));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=(0,o.default)({RED:null,GRAY:null});t.LiveIndicatorLooks=f;var p={LARGE:s.default.liveLarge,SMALL:s.default.liveSmall};function h(e){var t=e.className,n=e.look,r=void 0===n?f.RED:n,o=e.size,d=void 0===o?p.LARGE:o;return r===f.RED?c(l.TextBadge,{text:u.default.Messages.LIVE,className:(0,a.default)(t,s.default.live,d),color:i.Colors.STATUS_RED}):c(l.TextBadge,{text:u.default.Messages.LIVE,className:(0,a.default)(t,s.default.live,d,s.default.grey),disableColor:!0})}t.LiveIndicatorSizes=p,h.Looks=f,h.Sizes=p;var v=h;t.default=v},6654:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=s(n(8)),o=s(n(6560)),l=s(n(58)),i=s(n(42)),u=s(n(6304));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.className,n=e.imgSrc,r=e.header,s=e.body,c=e.onClose,f=e.renderButtons;return d(o.default.Consumer,{},void 0,function(e){var o,p=e.isDiscover;return d("article",{className:(0,a.default)(u.default.wrapper,t,(o={},o[u.default.discover]=p,o))},void 0,null!=n?d("img",{className:u.default.image,alt:"",src:n}):null,null!=r?d("header",{className:u.default.header},void 0,r):null,null!=s?d("p",{className:u.default.body},void 0,s):null,null!=f?d("div",{className:u.default.buttons},void 0,f()):null,null!=c?d(l.default,{className:u.default.close,onClick:c},void 0,d(i.default,{name:i.default.Names.CLOSE,width:18,height:18})):null)})};c.displayName="BaseCard";var f=c;t.default=f},6655:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){var r=e.id,s=e.clientFilter,d=(0,o.useStateFromStores)([u.default],function(){return null!=t?u.default.getGuildExperimentDescriptor(r,t):null},[r,t]),c=(0,a.useState)(function(){return null!=t&&(null==s||s.isEligible({guildId:t}))}),f=c[0],p=c[1];return(0,a.useEffect)(function(){if(null!=t&&null!=s&&null!=s.subscribe)return s.subscribe({guildId:t},function(e){return p(e)})},[t,s]),(0,a.useEffect)(function(){f&&null!=d&&(0,i.triggerExperiment)(r,d,n)},[f,r,d,n]),null!=d?d.bucket:l.ExperimentBuckets.NOT_ELIGIBLE};var r,a=n(0),o=n(3),l=n(184),i=n(330),u=(r=n(280))&&r.__esModule?r:{default:r}},6656:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(12)),o=u(n(2)),l=u(n(10)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d,c={},f=Object.freeze({});function p(e){return c[e]||f}function h(e){var t=e.channelId,n=e.userId,r=s({},p(t));clearTimeout(r[n]),r[n]=function(e,t){return setTimeout(function(){o.default.dispatch({type:i.ActionTypes.TYPING_STOP,channelId:e,userId:t})},i.TYPING_TIMEOUT)}(t,n),c[t]=r}function v(e){var t=e.channelId,n=e.userId,r=c[t];if(null==r||null==r[n])return!1;var a=s({},r);clearTimeout(a[n]),delete a[n],c[t]=a}function m(){c={}}var _=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getTypingUsers=function(e){return p(e)},a.isTyping=function(e,t){return null!=p(e)[t]},r}(r.default.Store))(o.default,{TYPING_START:h,TYPING_STOP:v,TYPING_START_LOCAL:function(e){var t=e.channelId,n=l.default.getId();if(null==n)return!1;null!=d&&d.channelId!==t&&(null!=d.timeout&&clearTimeout(d.timeout),d=null);var r=Date.now(),u=.8*i.TYPING_TIMEOUT;if(null!=d&&(null!=d.timeout||d.prevSend+u>r))return!1;var s=null==d||d.prevSend>r-2*u?i.TYPING_DELAY_LOCAL:0,c=setTimeout(function(){null!=d&&d.channelId===t&&n===l.default.getId()&&null!=d.timeout&&(d.timeout=null,function(e){var t=p(e);return t===f?0:Object.keys(t).length}(t)>i.MAX_TYPING_USERS||a.default.post(i.Endpoints.TYPING(t)).then(function(e){if(200===e.status){var n=e.body.message_send_cooldown_ms;n>0&&o.default.dispatch({type:i.ActionTypes.SLOWMODE_START_COOLDOWN,channelId:t,cooldownMs:n})}}))},s);return d={channelId:t,timeout:c,prevSend:r},h({channelId:t,userId:n})},TYPING_STOP_LOCAL:function(e){var t=e.channelId,n=l.default.getId();return null!=n&&(null!=d&&d.channelId===t&&null!=d.timeout&&(clearTimeout(d.timeout),d=null,v({channelId:t,userId:n})))},CONNECTION_OPEN:function(e){return m()},OVERLAY_INITIALIZE:function(e){return m()},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message.author;return e.optimistic&&function(e){if(null==d||d.channelId!==e)return!1;null!=d.timeout&&clearTimeout(d.timeout),d=null}(t),v({channelId:t,userId:n.id})}});t.default=_},6657:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(8)),o=l(n(6021));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.className,n=e.children;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("header",{className:(0,a.default)(t,o.default.container)},void 0,n)};i.displayName="ListSectionItem";var u=i;t.default=u},6658:function(e,t,n){"use strict";t.__esModule=!0,t.analyticsListProperties=D,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=C(n(16)),i=n(259),u=C(n(3)),s=n(29),d=n(6638),c=n(877),f=C(n(260)),p=C(n(862)),h=C(n(22)),v=C(n(50)),m=C(n(6751)),_=C(n(119)),g=C(n(855)),E=C(n(15)),y=n(80),S=n(154),I=C(n(7260)),T=C(n(7261)),O=C(n(7262)),N=n(1);function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=200,b=1e3,L=Object.freeze(((r={})[N.StoreApplicationSort.REVERSE_ALPHABETICAL]="z-a",r[N.StoreApplicationSort.ALPHABETICAL]="a-z",r[N.StoreApplicationSort.NEW_RELEASES]="Newest",r[N.StoreApplicationSort.ID]="id",r));function D(e){var t=e.listIndex,n=e.listSort,r=e.listSearched;return{list_index:t,list_sort:null!=n?L[n]:null,list_searched:r}}var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).mouseoverTimeout=new s.Timeout,t.mouseoverAnalyticsTimeout=new s.Timeout,t.isUnmounted=!1,t.state={playing:!1,hasSeen:!1,isMouseOver:!1},t.getAnalyticsLocationForTile=function(e){return M({},e,{object:N.AnalyticsObjects.CARD,objectType:t.isPerk?N.AnalyticsObjectTypes.PERK:N.AnalyticsObjectTypes.BOX_ART})},t.handleSetTilePlaying=function(e){var n=e.skuId,r=t.props.sku;t.setState({playing:null!=r&&r.id===n})},t.handleMouseEnter=function(){var e=t.props,n=e.sku,r=e.analyticsContext,a=r.loadId,o=r.location,l=t.state,i=l.isMouseOver,u=l.playing;i||t.setState({isMouseOver:!0}),u||((null!=n||t.isPerk)&&t.mouseoverAnalyticsTimeout.start(b,function(){E.default.track(N.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,M({},null!=n?(0,p.default)(n):{},D(t.props),{watch_trailer:!0,load_id:a,location:t.getAnalyticsLocationForTile(o)}))}),t.mouseoverTimeout.start(R,function(){if(!t.isUnmounted){var e=t.props.muted,r=null!=n?n.id:null;y.ComponentDispatch.dispatch(N.ComponentActions.STORE_VIDEO_PLAY,{skuId:r,muted:e}),t.setState({playing:!0})}}))},t.handleMouseLeave=function(){var e=t.state,n=e.isMouseOver,r=e.playing;if(t.mouseoverTimeout.stop(),t.mouseoverAnalyticsTimeout.stop(),!t.isUnmounted){var a=null;n&&(a={isMouseOver:!1}),r&&(a=M({},a,{playing:!1})),null!=a&&t.setState(a)}},t.handleToggleMute=function(){var e=t.props,n=e.sku,r=e.analyticsContext,a=r.loadId,o=r.location;null!=n&&E.default.track(N.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,M({},(0,p.default)(n),D(t.props),{audio_enabled:t.props.muted,load_id:a,location:t.getAnalyticsLocationForTile(o)})),t.props.muted?(null!=n&&y.ComponentDispatch.dispatch(N.ComponentActions.STORE_VIDEO_PLAY,{skuId:n.id,muted:!1}),(0,c.unmuteStoreDirectory)()):(0,c.muteStoreDirectory)()},t.handleVisibilityChange=function(e){if(!t.state.hasSeen&&e){t.setState({hasSeen:e});var n=t.props,r=n.onSKUViewed,a=n.sku;null!=r&&null!=a&&r(a)}},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.sku;null!=a&&null!=r&&r(e,a.applicationId)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,u,f,h=r.prototype;return h.componentWillUnmount=function(){this.isUnmounted=!0,this.mouseoverTimeout.stop(),this.mouseoverAnalyticsTimeout.stop(),y.ComponentDispatch.unsubscribe(N.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},h.componentDidUpdate=function(e,t){var n=this.state.playing;!t.playing&&n&&y.ComponentDispatch.subscribe(N.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying),!n&&t.playing&&y.ComponentDispatch.unsubscribe(N.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},h.getStoreListingLocation=function(){var e=this.props,t=e.sku,n=e.analyticsContext.location;if(null==t)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,S.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:this.getAnalyticsLocationForTile(n),analyticsProperties:D(this.props)})},h.renderTile=function(){var e=this.props,t=e.type,n=e.sku,r=e.skuId,a=e.storeListing,u=e.muted,s=e.inLibrary,d=e.showBuyInline,c=e.listIndex,f=e.tileData,p=e.className,h=e.analyticsContext,v=e.renderActions,m=this.state,_=m.hasSeen,g=m.playing,E=m.isMouseOver,y={onToggleMute:this.handleToggleMute,playing:g,muted:u,showMediaPlaceholder:!_,isMouseOver:E};if(t===N.StoreDirectoryTileTypes.PERK)return(0,l.default)(null!=f,"Unexpected missing tileData"),A("div",{className:p,onContextMenu:this.handleContextMenu},void 0,o.createElement(T.default,M({tileData:f,index:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,analyticsContext:h,renderActions:v},y)));if(t===N.StoreDirectoryTileTypes.PERK_FULL_MEDIA)return(0,l.default)(null!=f,"Unexpected missing tileData"),A("div",{className:p,onContextMenu:this.handleContextMenu},void 0,o.createElement(O.default,M({tileData:f,index:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,analyticsContext:h,renderActions:v},y)));if(null==n)throw new Error("Should not be rendering ApplicationDirectoryTile without SKU: "+(r||""));if(null==a)throw new Error("Should not be rendering ApplicationDirectoryTile without StoreListing");return A("div",{className:p,onContextMenu:this.handleContextMenu},void 0,A(i.Link,{to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,o.createElement(I.default,M({},y,{sku:n,storeListing:a,inLibrary:s,showBuyInline:d}))))},h.render=function(){return A(d.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!this.state.hasSeen},void 0,this.renderTile())},a=r,(u=[{key:"isPerk",get:function(){var e=this.props.type;return[N.StoreDirectoryTileTypes.PERK,N.StoreDirectoryTileTypes.PERK_FULL_MEDIA].includes(e)}}])&&P(a.prototype,u),f&&P(a,f),r}(o.PureComponent);w.displayName="ApplicationDirectoryTile",w.defaultProps={showBuyInline:!1};var U=(0,f.default)(u.default.connectStores([_.default,m.default,v.default,h.default,g.default],function(e){var t=e.skuId,n=null!=t?_.default.get(t):null;return{sku:n,inLibrary:null!=n&&v.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?g.default.getForSKU(n.id):null,muted:m.default.isDirectoryMuted}})(w));t.default=U},6659:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=T(n(0)),o=I(n(6581)),l=I(n(30)),i=n(67),u=I(n(98)),s=I(n(19)),d=I(n(64)),c=I(n(6707)),f=I(n(58)),p=I(n(42)),h=I(n(65)),v=n(6816),m=n(193),_=T(n(6547)),g=I(n(6532)),E=n(1),y=I(n(4)),S=I(n(5928));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleInviteClick=function(){var e=t.props.channel,n=s.default.getGuild(e.getGuildId());if(null!=n){var r=u.default.getActiveStream();l.default.push(g.default,{guild:n,channel:e,streamUserId:null!=r&&r.channelId===e.id?r.ownerId:null,source:E.InstantInviteSources.GUILD_CHANNELS})}},t.handleEditClick=function(){o.default.open(t.props.channel.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var I=r.prototype;return I.renderEditButton=function(){var e=this,t=this.props,n=t.channel;return t.disableManageChannels||!d.default.can(E.Permissions.MANAGE_CHANNELS,n)&&!d.default.can(E.Permissions.MANAGE_ROLES,n)&&!d.default.can(E.Permissions.MANAGE_WEBHOOKS,n)||(0,i.isGuildSelectableChannelType)(n.type)&&!d.default.can(E.Permissions.VIEW_CHANNEL,n)||n.type===E.ChannelTypes.GUILD_VOICE&&!d.default.can(E.Permissions.CONNECT,n)?null:N(h.default,{text:y.default.Messages.EDIT_CHANNEL},void 0,function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return N(f.default,{className:S.default.iconItem,onClick:e.handleEditClick,onMouseEnter:n,onMouseLeave:r},void 0,N(p.default,{name:p.default.Names.GEAR,width:16,height:16,className:S.default.actionIcon}))})},I.renderInviteButton=function(){var e=this.props,t=e.channel,n=e.isDefaultChannel,r=e.locked,o=s.default.getGuild(t.getGuildId());if(!r&&(0,m.canViewInviteModal)(o,t)){var l=N(f.default,{onClick:this.handleInviteClick},void 0,N(p.default,{name:p.default.Names.INVITE,width:16,height:16,className:S.default.actionIcon}));return n&&c.default.shouldShow("instant-invite")&&(l=N(_.default,{tutorialId:"instant-invite",position:_.TutorialIndicatorPositions.LEFT},void 0,N("div",{},void 0,l))),N(h.default,{text:d.default.can(E.Permissions.CREATE_INSTANT_INVITE,t)?y.default.Messages.CREATE_INSTANT_INVITE:y.default.Messages.INVITE_TO_SERVER},void 0,function(e){return a.createElement("div",O({className:S.default.iconItem},e),l)})}},I.getClassName=function(){var e=this.props,t=e.position,n=e.sortingPosition;return null!=n?t>n?S.default.containerDragAfter:S.default.containerDragBefore:S.default.containerDefault},I.isDisabled=function(){var e=this.props,t=e.channel,n=e.sorting,r=e.sortingType;return n&&!(0,v.areTypesInSameSection)(r,t.type)},r}(a.PureComponent);C.defaultProps={isDefaultChannel:!1};var A=C;t.default=A},6660:function(e,t,n){"use strict";t.__esModule=!0,t.default=v;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=n(866),i=c(n(121)),u=c(n(139)),s=n(1),d=c(n(6121));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=(0,l.useDrop)({accept:[s.GuildsBarDragTypes.GUILD,s.GuildsBarDragTypes.FOLDER],options:{arePropsEqual:i.default},canDrop:function(t,n){if(t.folderIndex===e.folderIndex&&t.index===e.index)return!1;if(n.getItemType()===s.GuildsBarDragTypes.FOLDER){if(null!=e.index)return!1;if(e.isExpandedFolder&&1===e.offset)return!1}return!0},hover:function(t){var n=e.folderIndex,r=e.index;if(0!==e.offset)if(e.isExpandedFolder){if(null!=e.index)return;r=0}else null==e.index?n+=e.offset:r+=e.offset;t.folderIndex<n&&null==t.index?n-=1:t.folderIndex===n&&null!=r&&t.index<r&&(r-=1),n===t.folderIndex&&r===t.index||(u.default.move(t.index,r,t.folderIndex,n),t.folderIndex=n,t.index=r)},collect:function(e){return{canDrop:e.canDrop(),isDraggingFolder:e.getItemType()===s.GuildsBarDragTypes.FOLDER}}}),r=n[0],c=r.canDrop,f=r.isDraggingFolder,p=n[1],h=null!=e.index,v=f||h||e.isExpandedFolder||e.isLastItem?d.default.half:d.default.edge;return a.createElement("span",{ref:p,className:(0,o.default)(v,(t={},t[d.default.higher]=e.isLastItem,t[d.default.autoPointerEvents]=c,t))})}function h(e){var t,n=e.onDragOverChanged,r=(0,l.useDrop)({accept:s.GuildsBarDragTypes.GUILD,options:{arePropsEqual:i.default},canDrop:function(t){return t.folderIndex!==e.folderIndex||t.index!==e.index},drop:function(t){var n=e.folderIndex;null==t.index&&t.folderIndex<n&&(n-=1),u.default.move(t.index,-1,t.folderIndex,n)},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}),c=r[0],f=c.canDrop,p=c.isOver,h=r[1];return a.useLayoutEffect(function(){null!=n&&n(p)},[n,p]),a.createElement("span",{ref:h,className:(0,o.default)(d.default.middle,(t={},t[d.default.autoPointerEvents]=f,t))})}function v(e){var t=e.folderIndex,n=e.index,r=e.isExpandedFolder,a=e.isLastItem,o=e.onDragOverChanged;return f("div",{className:d.default.wrapper,"aria-hidden":!0},void 0,f(p,{folderIndex:t,index:n,offset:0,isLastItem:a}),null==n&&!r&&!a&&f(h,{folderIndex:t,index:n,onDragOverChanged:o}),!a&&f(p,{folderIndex:t,index:n,offset:1,isExpandedFolder:r}))}p.displayName="EdgeDropTarget",h.displayName="CenterDropTarget",v.displayName="GuildDropTarget"},6661:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=n(259),i=n(190),u=s(n(6123));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=[18,18,16,16,14,12,10];var p=function(e){var t,n,r,s=e.children,p=e.icon,h=e.name,v=e.ariaLabel,m=e.className,_=e.style,g=e.selected,E=void 0!==g&&g,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","icon","name","ariaLabel","className","style","selected"]);return null==p&&null!=h&&(r=function(e){return f[e.length-1]||f[f.length-1]}(n=(0,i.getAcronym)(h))),a.createElement(l.Link,c({},y,{className:(0,o.default)(m,u.default.wrapper,(t={},t[u.default.selected]=E,t)),"aria-label":v||h,style:c({},_,{fontSize:r})}),null!=n?d("div",{className:(0,o.default)(u.default.childWrapper,u.default.acronym),"aria-hidden":!0},void 0,n):null,null!=p?d("img",{className:u.default.icon,src:p,alt:"",width:48,height:48,"aria-hidden":!0}):null,null!=s?d("div",{className:u.default.childWrapper},void 0,s):null)};p.displayName="NavItem";var h=p;t.default=h},6662:function(e,t,n){"use strict";t.__esModule=!0,t.default=v;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(21)),i=c(n(42)),u=c(n(65)),s=c(n(271)),d=c(n(6128));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=20;function v(e){var t=e.tooltipText,n=e["aria-label"],r=e.children,c=e.onContextMenu,v=e.onClick,m=e.disabled,_=e.iconName,g=e.iconForeground,E=e.innerClassName,y=p(i.default,{width:h,height:h,name:_,foreground:g});return p(u.default,{text:t,"aria-label":n},void 0,function(e){var t,n=e.onClick,i=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClick"]);return a.createElement(l.default,f({},i,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,disabled:m,innerClassName:E,className:(0,o.default)(d.default.button,(t={},t[d.default.disabled]=m,t[d.default.enabled]=!m,t)),onClick:function(e){null!=n&&n(),null!=v&&v(e)},onContextMenu:c}),null!=r?p(s.default,{width:h,height:h,mask:s.default.Masks.PANEL_BUTTON},void 0,y):y,r)})}v.displayName="PanelButton"},6663:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(8)),o=i(n(257)),l=i(n(6130));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.children,n=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default,{color:o.default.Colors.CUSTOM,className:(0,a.default)(l.default.title,n),size:o.default.Sizes.SIZE_14},void 0,t)}u.displayName="PanelTitle"},6664:function(e,t,n){"use strict";t.__esModule=!0,t.useShouldShowScreenshareHotspot=function(){return(0,a.useStateFromStores)([u.default,s.default,l.default],function(){return!u.default.hasLayers()&&null==s.default.getModal()&&l.default.hasHotspot(o.HotspotLocations.SCREENSHARE_BUTTON)})},t.default=void 0;var r=h(n(41)),a=n(3),o=n(6535),l=h(n(5926)),i=h(n(275)),u=h(n(859)),s=h(n(463)),d=h(n(13)),c=n(184),f=n(330),p=h(n(333));function h(e){return e&&e.__esModule?e:{default:e}}var v=(0,h(n(6867)).default)([i.default],function(e){var t=e.guildId,n=i.default.getMemberCount(t)||0;return!__OVERLAY__&&n<200&&d.default.isWindows()&&null!=r.default.os&&"10"===r.default.os.version});var m=(0,f.registerGuildExperiment)({id:p.default.GO_LIVE_SCREENSHARE,title:"Go Live Screenshare Experiment",description:["Screenshare experiment for Go Live","Control: No screenshare","Treatment 1: Screenshare options for Go Live"],clientFilter:v,buckets:[c.ExperimentBuckets.CONTROL,c.ExperimentBuckets.TREATMENT_1,c.ExperimentBuckets.TREATMENT_2]});t.default=m},6665:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6666:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6667:function(e,t,n){e.exports=n.p+"3a9125b1cf120f62f1339925115af7d4.mp4"},6668:function(e,t,n){e.exports=n.p+"c33d106fdbfb5f84e0e4f0352665f230.png"},6669:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6670:function(e,t,n){e.exports=n.p+"3d5696326e1a1f22f5025061e6701193.webm"},6672:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},6695:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={update:function(e){a.default.dispatch({type:o.ActionTypes.CHANNEL_COLLAPSE,channelId:e})},toggleCollapseGuild:function(e){a.default.dispatch({type:o.ActionTypes.GUILD_TOGGLE_COLLAPSE_MUTED,guildId:e})}};t.default=l},6701:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(0)),o=f(n(24)),l=f(n(6549)),i=n(80),u=f(n(331)),s=p(n(6546)),d=f(n(7124)),c=n(1);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=1.4,_=h(d.default,{}),g=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._unmounted=!1,n._intensity=m,n._subscribedStores=[],v(n).handleSetSection=n.handleSetSection.bind(v(n)),v(n).handleNoticeStoreUpdate=n.handleNoticeStoreUpdate.bind(v(n)),v(n).handleClose=n.handleClose.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.componentDidMount=function(){var e=this;this.getPredicateSections().forEach(function(t){var n=t.notice;if(null!=n){var r=n.store;r&&(r.addChangeListener(e.handleNoticeStoreUpdate),e._subscribedStores.push(r))}})},d.componentDidUpdate=function(e){e.section!==this.props.section&&(this._intensity=m)},d.componentWillUnmount=function(){var e=this;this._unmounted=!0,this._subscribedStores.forEach(function(t){return t.removeChangeListener(e.handleNoticeStoreUpdate)})},d.handleNoticeStoreUpdate=function(){this._unmounted||(this._intensity=m,this.forceUpdate())},d.getPredicateSections=function(){return this.props.sections.filter(function(e){return null==e.predicate||e.predicate()})},d.validNavigation=function(){var e=this.props.section,t=(this.getPredicateSections().find(function(t){return e===t.section})||{}).notice;return t&&t.store.showNotice()?(i.ComponentDispatch.dispatch(c.ComponentActions.SHAKE_APP,{duration:300,intensity:this._intensity}),this._intensity=Math.min(this._intensity+2,15),i.ComponentDispatch.dispatch(c.ComponentActions.EMPHASIZE_NOTICE),!1):(this._intensity=m,!0)},d.handleSetSection=function(e){var t=this.props.onSetSection;this.validNavigation()&&t(e)},d.handleClose=function(){if(this.validNavigation()){var e=this.props.onClose;e&&e()}},d.renderSidebar=function(e){var t=this.props.section||e[0].section;return h(l.default,{selectedItem:t,onItemSelect:this.handleSetSection},void 0,e.map(function(e,t){var n=e.section,r=e.element,a=e.label,i=void 0===a?null:a,u=e.ariaLabel,d=e.onClick,f=e.color,p=e.className,v=e.newIndicator;switch(n){case s.SectionTypes.HEADER:return h(l.default.Header,{},t,i);case s.SectionTypes.DIVIDER:return h(l.default.Separator,{},t);case s.SectionTypes.CUSTOM:return h(r||c.NOOP_NULL,{},t);default:return h(l.default.Item,{color:f,id:n,onClick:d,className:p,"aria-label":u},n,v?h(o.default,{justify:o.default.Justify.BETWEEN,align:o.default.Align.CENTER},void 0,i,_):i)}}))},d.renderContent=function(e){var t=e&&e.element?e.element:c.NOOP_NULL,n=e&&e.elementProps?e.elementProps:{};return h(u.default,{section:e.section},void 0,a.createElement(t,n))},d.renderNotice=function(e){var t=this.props.theme;if(null==e||null==e.notice)return null;var n=e.notice,r=n.store,a=n.element;return null==r||r.showNotice()?h(a,{theme:t}):null},d.render=function(){var e=this.props,t=e.theme,n=e.sidebarTheme,r=e.section,a=this.getPredicateSections(),o=a.find(function(e){return e.section===r});return null==o?null:h(s.default,{theme:t,sidebarTheme:n,section:r,sidebar:this.renderSidebar(a),content:this.renderContent(o),contentType:o.type,notice:this.renderNotice(o),closeAction:this.handleClose})},r}(a.PureComponent);g.displayName="SettingsView";var E=g;t.default=E},6702:function(e,t,n){e.exports=n.p+"3d5742be4e4344542d190d09e7848ad9.svg"},6703:function(e,t,n){e.exports=n.p+"35462ef5c4e67741bc865a7f09b7d2b4.svg"},6704:function(e,t,n){var r={"./bg.png":6901,"./cs.png":6902,"./da.png":6903,"./de.png":6904,"./el.png":6905,"./en-GB.png":6906,"./en-US.png":6907,"./es-ES.png":6908,"./fi.png":6909,"./fr.png":6910,"./hr.png":6911,"./hu.png":6912,"./it.png":6913,"./ja.png":6914,"./ko.png":6915,"./lt.png":6916,"./nl.png":6917,"./no.png":6918,"./pl.png":6919,"./pt-BR.png":6920,"./ro.png":6921,"./ru.png":6922,"./sv-SE.png":6923,"./th.png":6924,"./tr.png":6925,"./uk.png":6926,"./vi.png":6927,"./zh-CN.png":6928,"./zh-TW.png":6929};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6704},6705:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RegionSelect=t.RegionSelectModal=t.RegionName=t.RegionFlag=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(8)),l=m(n(873)),i=(m(n(46)),m(n(890))),u=m(n(3)),s=m(n(30)),d=m(n(6651)),c=m(n(6608)),f=m(n(58)),p=m(n(182)),h=m(n(4)),v=m(n(5996));function m(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,r,a=e.region,l=e.className,i=void 0===l?v.default.regionSelectFlag:l;if("unknown"===a.id)r=n(6569);else{var u=a.id.replace(/^vip-/,"");try{r=n(6781)("./"+u+".png")}catch(e){r=n(6569)}}return g("div",{className:(0,o.default)(i,(t={},t[v.default.vip]=a.vip,t)),style:{backgroundImage:'url("'+r+'")'}})};t.RegionFlag=E,E.displayName="RegionFlag";var y=function(e){var t=e.region,n=e.className;return g("div",{className:void 0===n?v.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};t.RegionName=y,y.displayName="RegionName";var S=function(e){var t=e.region,n=e.onClick;return g(f.default,{className:v.default.regionSelectModalOption,onClick:function(){return n(t)}},void 0,g(E,{region:t}),g(y,{region:t}))};S.displayName="RegionOption";var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){t.props.onChange&&t.props.onChange(e),t.props.onClose()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this;return g("div",{className:v.default.regionSelectModal},void 0,g("div",{className:v.default.regionSelectModalHeader},void 0,h.default.Messages.REGION_SELECT_HEADER),g("div",{className:v.default.regionSelectModalOptions},void 0,this.props.regions.map(function(t,n){return g(S,{region:t,onClick:e.handleSelect},n)})),g("div",{className:v.default.regionSelectModalFooter},void 0,h.default.Messages.REGION_SELECT_FOOTER))},r}(a.Component);t.RegionSelectModal=I,I.displayName="RegionSelectModal";var T=(0,l.default)({displayName:"RegionSelect",mixins:[u.default.StoreListenerMixin(c.default),i.default],getDefaultProps:function(){return{disabled:!1,changeRegionButtonText:h.default.Messages.CHANGE}},getStateFromStores:function(){return{regions:c.default.getRegions(this.props.guildId)}},componentDidMount:function(){null==this.state.regions&&d.default.fetchRegions(this.props.guildId)},componentDidUpdate:function(e){this.props.guildId!==e.guildId&&(null==c.default.getRegions(this.props.guildId)&&d.default.fetchRegions(this.props.guildId))},handleChange:function(e){this.props.onChange&&this.props.onChange(e.id)},openChangeModal:function(){var e=this,t=this.state.regions.filter(function(e){return!e.deprecated});s.default.push(function(n){return a.createElement(I,_({regions:t,onChange:e.handleChange},n))})},render:function(){var e,t=this;if(null==this.state.regions)return g("div",{className:(0,o.default)(v.default.regionSelect,v.default.regionSelectLoading)},void 0,g(p.default,{type:p.default.Type.CHASING_DOTS}));var n=this.state.regions.find(function(e){return e.id===t.props.value})||{id:"unknown",name:h.default.Messages.UNKNOWN_REGION,vip:!1};return g(f.default,{className:(0,o.default)(v.default.regionSelect,(e={},e[v.default.disabled]=this.props.disabled,e)),onClick:this.openChangeModal},void 0,g("div",{className:v.default.regionSelectInner},void 0,g(E,{region:n}),g(y,{region:n})),g("button",{type:"button"},void 0,this.props.changeRegionButtonText))}});t.RegionSelect=T;var O=T;t.default=O},6706:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(8)),o=l(n(6006));function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.data,n=e.disabled,r=t.content,l=t.className,u=t.onClick,s=t.disabled;return i("button",{className:(0,a.default)(o.default.item,l),onClick:u,disabled:n||s},void 0,r)};u.displayName="Button";var s=function(e){var t=e.buttons,n=e.disabled,r=e.className;return i("div",{role:"group",className:(0,a.default)(o.default.group,r)},void 0,t.map(function(e,t){return i(u,{data:e,disabled:n},t)}))};s.displayName="ButtonGroup";var d=s;t.default=d},6707:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(2)),o=u(n(7212)),l=u(n(355)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d={},c={},f=!0,p={},h=!1;function v(){return o.default}function m(){if(p={},!f){var e=v();Object.keys(e).map(function(t){var n=e[t],r=!1!==d[t];if(r&&null!=n.prerequisites){var a=n.prerequisites,o=Array.isArray(a),l=0;for(a=o?a:a[Symbol.iterator]();;){var i;if(o){if(l>=a.length)break;i=a[l++]}else{if((l=a.next()).done)break;i=l.value}if(!(!1===d[i]))return void(p[t]=!1)}}p[t]=r})}}function _(e){delete(c=s({},c))[e.tutorialId]}var g=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){m(),this.mustEmitChanges(function(e){return e.type!==i.ActionTypes.CONNECTION_OPEN}),this.waitFor(l.default)},a.shouldShow=function(e){return!(!h||f)&&(p[e]||!1)},a.shouldShowAnyIndicators=function(){return!f},a.getIndicators=function(){return c},a.getData=function(){return v()},a.getDefinition=function(e){var t=this.getData();return null!=t?t[e]:null},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.tutorial;h=!0,f=!0,d={},null!=t&&(f=t.indicators_suppressed,t.indicators_confirmed.forEach(function(e){return d[e]=!1})),m()},CONNECTION_CLOSED:function(e){h=!1},TUTORIAL_INDICATOR_DISMISS:function(e){var t;d=s({},d,((t={})[e.tutorialId]=!1,t)),_(e),m()},TUTORIAL_INDICATOR_SHOW:function(e){var t;c=s({},c,((t={})[e.tutorialId]=e.renderData,t))},TUTORIAL_INDICATOR_HIDE:_,TUTORIAL_INDICATOR_SUPPRESS_ALL:function(e){f=!0}});t.default=g},6708:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(2)),o=s(n(53)),l=s(n(19)),i=s(n(11)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var d={notClaimed:!1,notEmailVerified:!1,notPhoneVerified:!1,newAccount:!1,newMember:!1,canChat:!0},c={};function f(e){p(e);var t=l.default.getGuild(e),n=i.default.getCurrentUser();if(null!=t&&t.verificationLevel!==u.VerificationLevels.NONE&&!t.isOwner(n)){var r=o.default.getMember(t.id,n.id);if(!(null!=r&&r.roles.length>0)){var s=+n.createdAt+6e4*u.VerificationCriteria.ACCOUNT_AGE-Date.now(),d=+t.joinedAt+6e4*u.VerificationCriteria.MEMBER_AGE-Date.now(),f=t.verificationLevel>=u.VerificationLevels.LOW&&!n.isClaimed(),h=!1,v=!1,m=!1,_=!1;n.isPhoneVerified()||(h=t.verificationLevel>=u.VerificationLevels.LOW&&!n.verified,v=t.verificationLevel>=u.VerificationLevels.VERY_HIGH,m=t.verificationLevel>=u.VerificationLevels.MEDIUM&&s>0,_=t.verificationLevel>=u.VerificationLevels.HIGH&&d>0);var g,E=[];_&&E.push(d),m&&E.push(s),E.length&&(g=setTimeout(function(){return a.default.dispatch({type:u.ActionTypes.GUILD_VERIFICATION_CHECK,guildId:e})},Math.max.apply(Math,E))),c[e]={notClaimed:f,notEmailVerified:h,notPhoneVerified:v,newAccount:m,newMember:_,canChat:!(f||h||v||m||_),accountDeadline:new Date(Date.now()+s),memberDeadline:new Date(Date.now()+d),timeoutRef:g}}}}function p(e){var t=c[e];null!=t&&clearTimeout(t.timeoutRef),delete c[e]}function h(e){f(e.guild.id)}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,i.default)},a.getCheck=function(e){return c[e]||d},a.canChatInGuild=function(e){return(c[e]||d).canChat},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){Object.keys(c).forEach(p),e.guilds.forEach(function(e){return f(e.id)})},CONNECTION_CLOSED:function(e){Object.keys(c).forEach(p)},CURRENT_USER_UPDATE:function(e){Object.keys(c).forEach(f)},GUILD_CREATE:h,GUILD_UPDATE:h,GUILD_DELETE:function(e){p(e.guild.id)},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId;if(e.user.id!==i.default.getCurrentUser().id)return!1;f(t)},GUILD_VERIFICATION_CHECK:function(e){f(e.guildId)}});t.default=v},6709:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=u(n(3)),o=u(n(6791)),l=u(n(7218)),i=u(n(7219));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){var t,n;function a(t){var n;return d(n=e.call(this,t)||this).handleAddPhone=n.handleAddPhone.bind(d(n)),d(n).handleVerifyPhone=n.handleVerifyPhone.bind(d(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.render=function(){var e=this.props,t=e.error,n=e.working,a=e.valid,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["error","working","valid"]);return r.createElement(i.default,s({},o,{error:t,working:n,validPhone:a,onAddPhone:this.handleAddPhone,onVerifyPhone:this.handleVerifyPhone}))},l.handleAddPhone=function(e){o.default.addPhone(e)},l.handleVerifyPhone=function(e){var t=this;o.default.verifyPhone(e).then(function(){var e=t.props.onAddedPhone;null!=e&&e()})},a}(r.PureComponent);c.displayName="PhoneVerificationModal";var f=a.default.connectStores([l.default],function(){return l.default.getProps()})(c);t.default=f},6710:function(e,t,n){"use strict";t.__esModule=!0,t.deepLinkRouteIfLandedAndNotAuthed=t.deepLinkRouteIfLanded=void 0;var r=u(n(360)),a=u(n(10)),o=u(n(13)),l=u(n(36)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=o.default.embedded?i.NOOP:function(e,t){o.default.isDesktop&&!l.default.hasNavigated&&r.default.requestOnce(i.RPCCommands.DEEP_LINK,{type:e,params:t})};t.deepLinkRouteIfLanded=d;var c=o.default.embedded?i.NOOP:function(e,t){if(!a.default.isAuthenticated()&&!a.default.isGuest())return d(e,s({},t||{},{fingerprint:a.default.getFingerprint()}))};t.deepLinkRouteIfLandedAndNotAuthed=c},6712:function(e,t,n){"use strict";t.__esModule=!0,t.getDispatchApplicationStates=w,t.default=void 0;var r,a,o,l,i,u=M(n(0)),s=A(n(8)),d=A(n(118)),c=A(n(3)),f=A(n(263)),p=A(n(69)),h=A(n(288)),v=A(n(22)),m=A(n(50)),_=A(n(42)),g=n(476),E=A(n(6963)),y=A(n(65)),S=M(n(89)),I=A(n(36)),T=A(n(6814)),O=n(1),N=A(n(4)),C=A(n(6105));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var b=Object.freeze(((l={})[O.LocalDispatchApplicationStates.INSTALLING]=((r={})[g.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},r[g.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},r[g.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},r[g.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},r),l[O.LocalDispatchApplicationStates.UPDATING]=((a={})[g.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e})},a[g.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t})},a[g.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t})},a[g.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})},a),l[O.LocalDispatchApplicationStates.REPAIRING]=((o={})[g.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},o[g.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},o[g.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},o[g.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},o),l)),L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderProgressBody=function(e,n){var r=t.props,a=r.state,o=r.application,l=a.stage,i=a.progress,u=a.total,s=a.type;if(null==i||null==u||null==l)return null;var d=e[e.length-1]/n*1e3,c=u-i,f=0!==d?Math.max(1,c/d):null,p=null!=f?f/60:null,h=b[s],v=null!=h?Object.keys(h):[],m=(0,g.getTimeAndUnit)(p,v),_=m.unit,E=m.time;if(null!=h&&null!=_){var y=h[_];return null!=y?y(o.name,E):null}return null},t}R(t,e);var n=t.prototype;return n.renderText=function(){var e=this.props,t=e.state,n=e.isPaused;if(t.type===O.LocalDispatchApplicationStates.UPDATING||t.type===O.LocalDispatchApplicationStates.REPAIRING||t.type===O.LocalDispatchApplicationStates.INSTALLING){if(n)return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(t.stage===O.DispatchApplicationStages.PATCHING||t.stage===O.DispatchApplicationStages.REPAIRING)return P(T.default,{getHistoricalTotalBytes:p.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressBody)}return null},n.render=function(){var e=this.renderText();return null!=e?e:N.default.Messages.LIBRARY},t}(u.PureComponent);L.displayName="UpdateProgressTooltipText";var D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={animationScale:new d.default.Value(0)},t.handleOnClick=function(e){var n=t.props.onClick;e.preventDefault(),e.stopPropagation(),null!=n&&n(e),I.default.transitionTo(O.Routes.APPLICATION_LIBRARY)},t}R(t,e);var n=t.prototype;return n.componentWillAppear=function(e){this.state.animationScale.setValue(1),e()},n.componentWillEnter=function(e){d.default.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)},n.componentWillLeave=function(e){d.default.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)},n.getTooltipText=function(){var e=this.props,t=e.firstApplication,n=e.firstState,r=e.isPaused;return null==t||null==n?N.default.Messages.LIBRARY:P(L,{application:t,state:n,isPaused:r})},n.render=function(){var e=this.props,t=e.percent,n=e.isPaused,r=e.className;return P(d.default.div,{style:{transform:[{scale:this.state.animationScale}]},className:(0,s.default)(r,C.default.progressContainer),onClick:this.handleOnClick},void 0,P(y.default,{text:this.getTooltipText(),position:y.default.Positions.RIGHT,"aria-label":!1},void 0,function(e){return u.createElement("div",e,P(E.default,{percent:t,colorOverride:n?O.Colors.PRIMARY_DARK_500:null},void 0,P(_.default,{name:_.default.Names.NOVA_DOWNLOAD,className:C.default.downloadIcon})))}))},t}(u.PureComponent);D.displayName="GameUpdateProgressIndicator",D.defaultProps={strokeSize:E.default.StrokeSizes.MEDIUM};function w(e){return e.reduce(function(e,t){var n=t.applicationId,r=t.branchId,a=p.default.getState(n,r);return null!=a&&e.push(a),e},[])}var U=c.default.connectStores([p.default,h.default,m.default],function(){var e=h.default.activeItems,t=w(e),n=S.getCombinedProgress(t),r=n.total,a=n.progress;return{percent:S.calculateProgressPercentage(a,r),isPaused:h.default.paused,firstApplication:e.length>0?v.default.getGame(e[0].applicationId):null,firstState:t.length>0?t[0]:null}})(function(e){var t=e.determineOwnVisibility,n=void 0===t||t,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["determineOwnVisibility"]);return n?P(f.default,{component:u.Fragment},void 0,r.percent>0&&r.percent<100?u.createElement(D,r):null):u.createElement(D,r)});t.default=U},6713:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(0)),o=d(n(923)),l=d(n(1005)),i=c(n(7338)),u=d(n(13)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._mounted=!1,n.recordStart=function(){u.default.embedded&&(n.gs=new l.default,n.gs.on("change",n.handleGSChange)),n.setState({mode:i.RecordModes.RECORDING})},n.recordEnd=function(){n.cleanUp(),n.setState({mode:i.RecordModes.DEFAULT})},n.toggleRecordMode=function(){n.state.mode===i.RecordModes.DEFAULT?n.recordStart():n.recordEnd()},n.handleComboKeys=function(e,t,r){if(r.preventDefault(),"keydown"===r.type){var a=t.map(function(e){return[s.KeyboardDeviceTypes.KEYBOARD_KEY,(0,o.default)(e),s.KeyboardEnvs.BROWSER]}),l=r.keyCode;a.find(function(e){var t=e[1];return l===t})||a.push([s.KeyboardDeviceTypes.KEYBOARD_KEY,l,s.KeyboardEnvs.BROWSER]),n.handleComboChange(a)}},n.handleGSChange=function(e){if(!1!==n._mounted){var t=[].concat(e.combo);n.handleComboChange(t)}};var r=t.defaultValue;return n.state={codes:r,mode:i.RecordModes.DEFAULT},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.componentDidMount=function(){this._mounted=!0},d.componentWillUnmount=function(){this._mounted=!1,this.cleanUp()},d.cleanUp=function(){u.default.embedded&&null!=this.gs&&(this.gs.destroy(),this.gs=null)},d.handleComboChange=function(e){var t=this.props.onChange;null!=t&&t(e),this.setState({codes:e})},d.render=function(){var e,t=this.state,n=t.codes,a=t.mode,o=this.props.disabled;return u.default.embedded||(e=this.handleComboKeys),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{disabled:o,value:n,mode:a,onClick:this.toggleRecordMode,onChange:e})},a}(a.PureComponent);f.displayName="KeybindRecorder";var p=f;t.default=p},6714:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=n(1),o=(r=n(4))&&r.__esModule?r:{default:r};var l={getStatus:function(e,t){var n,r;switch(void 0===t&&(t=!1),e){case a.RTCConnectionStates.CONNECTING:n=a.ConnectionStatus.CONNECTING,r=o.default.Messages.CONNECTION_STATUS_CONNECTING;break;case a.RTCConnectionStates.AUTHENTICATING:n=a.ConnectionStatus.CONNECTING,r=o.default.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case a.RTCConnectionStates.AWAITING_ENDPOINT:n=a.ConnectionStatus.CONNECTING,r=o.default.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case a.RTCConnectionStates.RTC_CONNECTED:n=a.ConnectionStatus.CONNECTED,r=t?o.default.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:o.default.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case a.RTCConnectionStates.RTC_CONNECTING:n=a.ConnectionStatus.CONNECTING,r=o.default.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case a.RTCConnectionStates.ICE_CHECKING:n=a.ConnectionStatus.CONNECTING,r=o.default.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case a.RTCConnectionStates.NO_ROUTE:n=a.ConnectionStatus.ERROR,r=o.default.Messages.CONNECTION_STATUS_NO_ROUTE;break;case a.RTCConnectionStates.RTC_DISCONNECTED:n=a.ConnectionStatus.ERROR,r=o.default.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break;case a.RTCConnectionStates.DISCONNECTED:default:n=a.ConnectionStatus.ERROR,r=o.default.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:n,connectionStatusText:r}},getShortHostname:function(e){return null==e?"":e.split(".")[0]}};t.default=l},6715:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(5)),o=h(n(3)),l=h(n(12)),i=h(n(2)),u=h(n(67)),s=h(n(341)),d=h(n(6684)),c=h(n(122)),f=h(n(14)),p=n(1);function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m,_,g,E,y,S=p.FormStates.CLOSED,I={},T={},O=!1,N=!1,C=["name","type","topic","bitrate","userLimit","nsfw","rateLimitPerUser"];function A(e){var t=f.default.getChannel(e.channelId);if(null==t)return P();S=p.FormStates.OPEN,null!=(g=_=t)&&(g=g.set("nsfw",g.isNSFW())),E=f.default.getChannel(g.parent_id),y=g.getGuildId(),I={},M({section:m||p.ChannelSettingsSections.OVERVIEW})}function M(e){m=e.section,null!=g&&m===p.ChannelSettingsSections.INSTANT_INVITES&&(O=!0,l.default.get(p.Endpoints.INSTANT_INVITES(g.id)).then(function(e){O=!1,i.default.dispatch({type:p.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})},function(){return O=!1}))}function P(){N=!1,S=p.FormStates.CLOSED,m=null,g=_=null,E=null,T={}}var R=r.default.debounce(function(){if(null==g||null==_)return!1;var e=g.toJS(),t=_.toJS();C.every(function(n){return e[n]===t[n]})&&g!==_&&(g=_,L.emitChange())},500);function b(e){return new d.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new u.default(e.channel),guild:null!=e.guild?new s.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,a.default)(e.created_at)})}var L=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default)},a.hasChanges=function(){return g!==_},a.isOpen=function(){return N},a.getSection=function(){return m},a.getInvites=function(){return{invites:T,loading:O}},a.showNotice=function(){return this.hasChanges()},a.getChannel=function(){return g},a.getFormState=function(){return S},a.getCategory=function(){return E},a.getProps=function(){return{submitting:S===p.FormStates.SUBMITTING,errors:I,channel:g,section:m,invites:T,selectedOverwriteId:y,hasChanges:this.hasChanges()}},r}(o.default.Store))(i.default,{CHANNEL_SETTINGS_INIT:A,CHANNEL_SETTINGS_OPEN:function(e){N=!0,A(e)},CHANNEL_SETTINGS_SUBMIT:function(e){S=p.FormStates.SUBMITTING},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(e){A(e)},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){S=p.FormStates.OPEN,I=e.errors||{}},CHANNEL_SETTINGS_CLOSE:function(e){return P()},CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;y=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,l=e.nsfw,i=e.rateLimitPerUser;if(null==g)return!1;null!=t&&(g=g.set("name",t)),null!=r&&(g=g.set("topic",r)),null!=a&&(g=g.set("bitrate",a)),null!=o&&(g=g.set("userLimit",o)),null!=l&&(g=g.set("nsfw",l)),null!=i&&(g=g.set("rateLimitPerUser",i)),null!=n&&(g=g.set("type",n)),R()},CHANNEL_SETTINGS_SET_SECTION:M,CHANNEL_SETTINGS_LOADED_INVITES:function(e){T={},e.invites.forEach(function(e){T[e.code]=b(e)})},CHANNEL_UPDATE:function(e){if(!function(e){if(null==_||_.id!==e)return!1;if(_===g){var t=f.default.getChannel(e);if(null==t)return!1;g=_=t,E=f.default.getChannel(g.parent_id)}else{var n=f.default.getChannel(e);if(null==n)return!1;_=n,null!=g&&(g=g.set("permissionOverwrites",_.permissionOverwrites),E=f.default.getChannel(g.parent_id))}return!0}(e.channel.id)||null==g)return!1;null!=y&&null==g.permissionOverwrites[y]&&(y=g.getGuildId())},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=g&&(g.id===t&&void(S=p.FormStates.CLOSED))},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(T=v({},T))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;T=v({},T,((t={})[e.invite.code]=b(e.invite),t))}}),D=L;t.default=D},6716:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GiftCodeResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(8)),l=g(n(3)),i=g(n(22)),u=g(n(11)),s=g(n(221)),d=g(n(119)),c=g(n(267)),f=n(6523),p=n(1),h=g(n(4)),v=g(n(464)),m=g(n(455)),_=g(n(6154));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(){return E(a.Fragment,{},void 0,E(f.Avatar,{src:null,size:f.Avatar.Sizes.DEPRECATED_SIZE_100,className:m.default.marginBottom20}),E(f.SubTitle,{},void 0,h.default.Messages.GIFT_CODE_AUTH_GIFTED),E(f.Title,{className:(0,o.default)(m.default.marginTop8,v.default.flexCenter)},void 0,h.default.Messages.LOADING))};t.GiftCodeResolvingHeader=y,y.displayName="GiftCodeResolvingHeader";var S=function(e){var t=e.error,n=e.gifter,r=e.sku,l=e.application,i=e.subscriptionPlan,u=null==n?h.default.Messages.GIFT_CODE_AUTH_GIFTED:h.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),s=r.name;return null!=i&&(s=(i.interval===p.SubscriptionIntervalTypes.MONTH?h.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:h.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:r.name,intervalCount:i.intervalCount})),E(a.Fragment,{},void 0,E(f.Avatar,{src:null!=n?n.getAvatarURL():null,size:f.Avatar.Sizes.DEPRECATED_SIZE_100,className:m.default.marginBottom20}),null!=t?E(a.Fragment,{},void 0,E(f.SubTitle,{},void 0,h.default.Messages.INVITE_MODAL_ERROR_TITLE),E(f.Title,{},void 0,t)):E(a.Fragment,{},void 0,E(f.SubTitle,{},void 0,u),E(f.Title,{className:(0,o.default)(m.default.marginTop8,v.default.flexCenter)},void 0,E(c.default,{size:c.default.Sizes.MEDIUM,className:_.default.applicationIcon,game:l,skuId:r.id}),s)))};S.displayName="GiftCodeHeader";var I=l.default.connectStores([d.default,i.default,s.default,u.default],function(e){var t=e.giftCode,n=d.default.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?s.default.get(r):null,application:null!=n?i.default.getGame(n.applicationId):null,gifter:u.default.getUser(t.userId)}})(S);t.default=I},6717:function(e,t,n){"use strict";t.__esModule=!0,t.shouldNotify=function(e,t,n){void 0===n&&(n=!0);var r=a.default.getChannel(t),o=f.default.getCurrentUser(),l=f.default.getUser(e.author.id);if(null==r||null==o||null==l)return!1;if(!E(o,l,r))return!1;if(!n){var i=s.default.getGuildId();if(u.default.getChannelId(i)===r.id)return!1}if(c.default.allowAllMessages(r))return!0;var d=c.default.isSuppressEveryoneEnabled(r.getGuildId());return p.default.isMentioned(e,o.id,d)},t.shouldNotifyVoiceStatus=function(e,t){var n=f.default.getCurrentUser();return null!=n&&E(n,e,t)},t.makeTextChatNotification=function(e,t,n){var l=h.default.getName(e.getGuildId(),e.id,n),i=l;switch(e.type){case m.ChannelTypes.GUILD_ANNOUNCEMENT:case m.ChannelTypes.GUILD_TEXT:var u=a.default.getChannel(e.parent_id);if(t.type===m.MessageTypes.DEFAULT)i=y(i,e,u);else null!=o.default.getGuild(e.getGuildId())&&(i=y(i,e,u));break;case m.ChannelTypes.GROUP_DM:e.isManaged()&&n.bot&&i===(0,r.default)(e)||(i=i+" ("+(0,r.default)(e,!0)+")")}var s,d=t.content;if(t.type!==m.MessageTypes.DEFAULT&&null==(d=v.default.stringify(t)))throw console.warn("SystemMessageUtils.stringify(...) could not convert",t),new Error("failed to stringify system message");if(null!=t.activity&&null!=t.application){var c,f=t.activity.type===m.ActivityActionTypes.JOIN;c=f?S(e,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN):S(e,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_SPECTATE,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_SPECTATE,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_SPECTATE),s=c.format({user:l,game:t.application.name})}else if(null!=t.activity&&t.activity.type===m.ActivityActionTypes.LISTEN){var g=S(e,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_LISTEN,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_LISTEN,_.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_LISTEN);s=g.format({user:l})}else s=p.default.unparse(d,e.id,!0);if(!s.length&&t.attachments.length){var E=t.attachments[0].filename;s=_.default.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:E})}if(!s.length&&t.embeds.length){var I=t.embeds[0];if(null!=I.description)s=null!=I.title?I.title+": "+I.description:I.description;else if(null!=I.title)s=I.title;else if(null!=I.fields){var T=I.fields[0];s=T.name+": "+T.value}}return{icon:n.getAvatarURL(),title:i,body:s}};var r=g(n(137)),a=g(n(14)),o=g(n(19)),l=g(n(276)),i=g(n(51)),u=g(n(39)),s=g(n(153)),d=g(n(160)),c=g(n(188)),f=g(n(11)),p=g(n(278)),h=g(n(281)),v=g(n(7075)),m=n(1),_=g(n(4));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n){if(n.isManaged())return!1;var r=n.getGuildId();return(null==r||!l.default.isLurking(r))&&(t.id!==e.id&&(!i.default.isBlocked(t.id)&&(d.default.getStatus()!==m.StatusTypes.DND&&!c.default.allowNoMessages(n))))}var y=function(e,t,n){return e+" ("+(0,r.default)(t,!0)+(null!=n?", "+(0,r.default)(n):"")+")"};function S(e,t,n,r){switch(e.type){case m.ChannelTypes.GUILD_ANNOUNCEMENT:case m.ChannelTypes.GUILD_TEXT:return t;case m.ChannelTypes.GROUP_DM:return n;case m.ChannelTypes.DM:default:return r}}},6726:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t],o=e[a];if(null!=o&&null==o.error&&r.has(a))return!0}return!1},t.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;var r=new Set(["nvidia"]);t.SUPPORTED_HARDWARE_ACCEL_VENDORS=r},6727:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=i[l.default.getPlatform()];if(null==t)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],u=e[a],s=t[a];if(null!=u&&null!=s&&null==u.error){var d=((c=u).major||0)+"."+(c.minor||0)+".0";if(!o.default.satisfies(d,s))return!0}}var c;return!1},t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;var r,a,o=(r=n(6993))&&r.__esModule?r:{default:r},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(13));var i=((a={})[l.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},a);t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=i},6737:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){return n.getVoiceStatesForChannel(e).map(function(e){return t.getStreamForUser(e.userId)}).filter(Boolean)}},6738:function(e,t,n){"use strict";t.__esModule=!0,t.setHomeLink=function(e){a.default.dirtyDispatch({type:o.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},6752:function(e,t,n){"use strict";t.__esModule=!0,t.Header=t.Application=t.User=t.GroupDM=t.Channel=t.Guild=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(6529),l=m(n(137)),i=m(n(6878)),u=m(n(58)),s=m(n(267)),d=m(n(6521)),c=m(n(42)),f=m(n(6613)),p=m(n(328)),h=n(6533),v=m(n(5960));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){e.preventDefault();var n=t.props.onClick,r=g(t).node;null!=r&&n(e,r)},t.handleMouseEnter=function(e){var n=t.props.onMouseEnter,r=g(t).node;null!=r&&n(e,r)},t.setRef=function(e){t.node=e},t}E(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.focused,n=e.onFocus,r=this.node;t&&null!=r&&n(r)},n.componentDidUpdate=function(e){var t=this.props,n=t.focused,r=t.onFocus,a=this.node;null!=a&&n&&!e.focused&&r(a)},n.render=function(){var e=this.props,t=e.focused,n=e.children;return _(u.default,{innerRef:this.setRef,className:t?v.default.resultFocused:v.default.resultDefault,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},void 0,n)},t}(a.PureComponent);y.displayName="Result";var S=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.guild;return _("div",{className:v.default.guildIconContainer},void 0,_(d.default,{guild:e,size:d.default.Sizes.MINI,className:v.default.guildIcon}))},n.renderName=function(){var e=this.props.guild;return _("div",{className:v.default.name},void 0,_("span",{className:v.default.match},void 0,e.name))},n.renderContent=function(){var e=this.props,t=e.unread,n=e.children;return _("div",{className:t?v.default.contentUnread:v.default.contentDefault},void 0,this.renderIcon(),this.renderName(),_("div",{className:v.default.misc},void 0,n))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return _(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Guild=S,S.displayName="Guild";var I=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.channel,t=(0,h.getIconNameForChannel)(e);return null==t?null:_("div",{className:v.default.iconContainer},void 0,_(c.default,{name:t,className:v.default.icon,width:16,height:16}))},n.renderName=function(){var e,t,n=this.props,r=n.mentions,a=n.category,o=n.channel;return null!=r&&r>0&&(e=_(i.default,{className:v.default.badge,value:r})),null!=a&&(t=_("span",{className:v.default.note},void 0,(0,l.default)(a))),_("div",{className:v.default.name},void 0,_("span",{className:v.default.match},void 0,(0,l.default)(o)),e,this.renderVoiceStates(),t)},n.renderVoiceStates=function(){var e=this.props.voiceStates;return null==e?null:_(f.default,{users:e.map(function(e){return{user:e.user}}),max:4})},n.renderContent=function(){var e=this.props,t=e.unread,n=e.mentions,r=e.children;return _("div",{className:t||null!=n&&n>0?v.default.contentUnread:v.default.contentDefault},void 0,this.renderIcon(),this.renderName(),_("div",{className:v.default.misc},void 0,r))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return _(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Channel=I,I.displayName="Channel",I.defaultProps={unread:!1};var T=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.channel;return _("div",{className:v.default.dmIconContainer},void 0,_(p.default,{src:(0,o.getChannelIconURL)(e),size:p.default.Sizes.SIZE_24,className:v.default.avatarSizeOverride,"aria-label":(0,l.default)(e)}))},n.renderName=function(){var e,t=this.props,n=t.mentions,r=t.channel;return null!=n&&n>0&&(e=_(i.default,{className:v.default.badge,value:n})),_("div",{className:v.default.name},void 0,_("span",{className:v.default.match},void 0,(0,l.default)(r)),e)},n.renderContent=function(){var e=this.props,t=e.mentions,n=e.children;return _("div",{className:null!=t&&t>0?v.default.contentUnread:v.default.contentDefault},void 0,this.renderIcon(),this.renderName(),_("div",{className:v.default.misc},void 0,n))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return _(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.GroupDM=T,T.displayName="GroupDM";var O=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.user;return _("div",{className:v.default.iconContainer},void 0,_(p.default,{src:e.getAvatarURL("jpg"),"aria-label":e.username,size:p.default.Sizes.SIZE_24,className:v.default.avatarSizeOverride}))},n.renderName=function(){var e,t,n=this.props,r=n.user,a=n.comparator,o=n.mentions,l=n.nickname;if(null!=o&&o>0&&(e=_(i.default,{className:v.default.badge,value:o})),null!=a&&a===r.tag){var u=a.split("#");u.pop(),t=u.join("#")}else t=a||r.username;return t===r.username&&(t=l||t),_("div",{className:v.default.name},void 0,_("span",{className:v.default.match},void 0,t),e,_("span",{className:v.default.username},void 0,r.tag))},n.renderContent=function(){var e=this.props,t=e.children,n=e.mentions;return _("div",{className:null!=n&&n>0?v.default.contentUnread:v.default.contentDefault},void 0,this.renderIcon(),this.renderName(),_("div",{className:v.default.misc},void 0,t))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return _(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.User=O,O.displayName="User";var N=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.renderContent=function(){var e=this.props,t=e.children,n=e.application;return _("div",{className:v.default.contentDefault},void 0,_("div",{className:v.default.iconContainer},void 0,_(s.default,{className:v.default.gameIcon,game:n,size:v.default.gameIconSize})),n.name,_("div",{className:v.default.misc},void 0,t))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return _(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Application=N,N.displayName="Application";var C=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){return _("div",{className:v.default.resultDefault},void 0,_("div",{className:v.default.contentDefault},void 0,_("div",{className:v.default.header},void 0,this.props.children)))},t}(a.Component);t.Header=C,C.displayName="Header"},6753:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,l.default)(function(t){var n,l;function h(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))||this).handleApplicationContextMenu=function(t,n,a){var l=e.props.analyticsContext;(0,o.openContextMenu)(t,function(e){return r.createElement(s.default,v({},e,{type:p.ContextMenuTypes.APPLICATION_ACTIVITY_FEED,applicationId:n.id,analyticsContext:l}))},{onClose:a})},e}l=t,(n=h).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var m=h.prototype;return m.render=function(){return r.createElement(e,v({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onApplicationContextMenu:this.handleApplicationContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))},m.handleMessageUser=function(e,t){return a.default.openPrivateChannel(i.default.getId(),t.id)},m.handleUserContextMenu=function(e,t,n,a){void 0===n&&(n=p.ContextMenuTypes.USER_GENERIC_LIST),(0,o.openContextMenu)(e,function(e){return r.createElement(f.default,v({},e,{type:n,user:t}))},{onClose:a})},m.handleGuildContextMenu=function(e,t){(0,o.openContextMenu)(e,function(e){return r.createElement(c.default,v({},e,{type:p.ContextMenuTypes.GUILD_ACTIVITY_FEED,guild:t}))})},m.handleChannelContextMenu=function(e,t){if(null==t)return null;var n=u.default.getGuild(t.getGuildId());(0,o.openContextMenu)(e,function(e){return r.createElement(d.default,v({},e,{type:p.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE,channel:t,guild:n}))})},h}(r.Component))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=h(n(140)),o=n(35),l=h(n(260)),i=h(n(10)),u=h(n(19)),s=h(n(912)),d=h(n(6543)),c=h(n(6564)),f=h(n(459)),p=n(1);function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},6754:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),l=n(35),i=f(n(6595)),u=f(n(64)),s=f(n(38)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function a(t){var n;return p(n=e.call(this,t)||this).handleClick=n.handleClick.bind(p(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){var e=this.props,t=e.type,n=e.guild;(0,l.closeContextMenu)(),i.default.open(t,n.id,null,null)},o.render=function(){if(__OVERLAY__)return null;var e,t=this.props,n=t.type;return t.canManageChannels?(e=n===d.ChannelTypes.GUILD_TEXT?c.default.Messages.CREATE_TEXT_CHANNEL:n===d.ChannelTypes.GUILD_VOICE?c.default.Messages.CREATE_VOICE_CHANNEL:n===d.ChannelTypes.GUILD_CATEGORY?c.default.Messages.CREATE_CATEGORY:c.default.Messages.CREATE_CHANNEL,function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:e,action:this.handleClick})):null},a}(a.PureComponent);h.displayName="ChannelCreateItem";var v=o.default.connectStores([u.default],function(e){var t=e.guild;return{canManageChannels:u.default.can(d.Permissions.MANAGE_CHANNELS,t)}})(h);t.default=v},6755:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=l(n(14));n(1);function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={},s=u;function d(){Object.keys(s).forEach(function(e){null==o.default.getChannel(e)&&delete s[e]})}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){this.waitFor(o.default),s=e||u},a.getState=function(){return s},a.getCollapsed=function(){return s},a.isCollapsed=function(e){return s[e]||!1},r}(r.default.PersistedStore);c.persistKey="collapsedChannels";var f=new c(a.default,{CONNECTION_OPEN:function(e){return d()},OVERLAY_INITIALIZE:function(e){return d()},CHANNEL_COLLAPSE:function(e){var t=e.channelId;s[t]?delete s[t]:s[t]=!0,s=i({},s)}});t.default=f},6756:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=d(n(0)),o=d(n(7093)),l=s(n(458)),i=s(n(65)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).renderCustomColorPopout=function(){return f(o.CustomColorPicker,{onChange:n.handleCustomOnChange,value:n.state.customColor})},n.renderCustomButton=function(e){var t=a.createElement(o.CustomColorButton,e);return e.disabled?t:f(l.default,{renderPopout:n.renderCustomColorPopout,position:l.default.Positions.BOTTOM},void 0,function(e){return f(i.default,{text:u.default.Messages.CUSTOM_COLOR,position:i.default.Positions.BOTTOM},void 0,function(n){return a.createElement("div",c({},n,e),t)})})},n.renderDefaultButton=function(e){var t=a.createElement(o.DefaultColorButton,e);return n.props.disabled?t:f(i.default,{text:u.default.Messages.DEFAULT,position:i.default.Positions.BOTTOM},void 0,function(e){return a.createElement("div",e,t)})},n.handleOnChange=function(e){var t=n.props.onChange;t&&t(e),n.setState({customColor:null})},n.handleCustomOnChange=function(e){var t=n.props.onChange;t&&t(e),n.setState({customColor:e})};var r=t.value,s=t.defaultColor,d=t.colors;return n.state={customColor:0===r||r===s||d.some(function(e){return e===r})?null:r},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return a.createElement(o.default,c({},this.props,{renderDefaultButton:this.renderDefaultButton,renderCustomButton:this.renderCustomButton,customColor:this.state.customColor,onChange:this.handleOnChange}))},r}(a.PureComponent);p.displayName="ColorPicker";var h=p;t.default=h},6759:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={open:function(e){a.default.dispatch({type:o.ActionTypes.PRIVACY_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:o.ActionTypes.PRIVACY_SETTINGS_MODAL_CLOSE})}};t.default=l},6760:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(2)),o=i(n(19)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u=["features","discoverySplash","description","rulesChannelId","preferredLocale"],s=l.FormStates.CLOSED,d=null,c=null,f={};function p(){d=c=null,f={},s=l.FormStates.CLOSED}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(o.default)},a.showNotice=function(){return c!==d},a.getProps=function(){return{submitting:s===l.FormStates.SUBMITTING,guild:c,error:f}},a.hasError=function(){return f},r}(r.default.Store))(a.default,{GUILD_SETTINGS_DISCOVERY_INIT:function(e){var t=e.guildId;if(null==(c=o.default.getGuild(t)))return p();d=c,s=l.FormStates.OPEN},GUILD_SETTINGS_DISCOVERY_CLOSE:function(e){return p()},GUILD_SETTINGS_DISCOVERY_RESET:function(e){return c=d,void(f={})},GUILD_SETTINGS_DISCOVERY_UPDATE:function(e){if(null==c)return!1;u.forEach(function(t){null!=c&&e.hasOwnProperty(t)&&(c=c.set(t,e[t]))}),function(){if(null==c)return!1;var e=c.toJS(),t=null!=d?d.toJS():{};u.some(function(n){return e[n]!==t[n]})||(c=d)}()},GUILD_SETTINGS_DISCOVERY_SUBMIT:function(e){s=l.FormStates.SUBMITTING},GUILD_SETTINGS_DISCOVERY_SUBMIT_SUCCESS:function(e){s=l.FormStates.OPEN},GUILD_SETTINGS_DISCOVERY_SUBMIT_FAILURE:function(e){var t=e.errors;s=l.FormStates.OPEN,f=t||{}},GUILD_UPDATE:function(e){if(null==c||c.id!==e.guild.id)return!1;var t=o.default.getGuild(c.id);if(null==t)return!1;var n=d=t,r=null!=c?c.toJS():{};u.forEach(function(e){"discoverySplash"!==e&&("features"!==e?n=n.set(e,r[e]):n.set(e,new Set(r[e])))}),c=n}});t.default=h},6761:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=n(158),o=d(n(3)),l=d(n(2)),i=d(n(6762)),u=d(n(6515)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p,h=new Set,v=s.FormStates.CLOSED,m=!1,_=!1,g=[],E=[];function y(){return null==p||null==g?[]:i.default.calculatePositionDeltas(r.default.values(p.roles),g,function(e){return e.id},function(e){var t=e.originalPosition;return null!=t?t:1/0},!1)}function S(e){var t=e.section;if(null!=p||t!==s.GuildSettingsSections.ROLES)return!1;I()}function I(){p=u.default.getProps().guild,m=!1,_=!1,h.clear(),v=s.FormStates.OPEN,g=null!=p?(0,r.default)(p.roles).values().value():[],E=[].concat(g)}var T=r.default.debounce(function(){var e=!1;_&&((_=y().length>0)||(e=!0)),h.forEach(function(t){r.default.isEqual(N(t),function(e){return E.find(function(t){return t.id===e})}(t))&&(h.delete(t),e=!0)}),0===h.size&&(m=!1),e&&A.emitChange()},500);function O(e,t){var n=g.indexOf(e);if(n<0)return!1;var r=f({},e,t);g[n]=r,g=[].concat(g),m=!0,h.add(r.id),T(r)}function N(e){return g.find(function(t){return t.id===e})}function C(e){var t=e.guildId;if(null==p||t!==p.id||v===s.FormStates.SUBMITTING)return!1;p=u.default.getProps().guild;var n=[];null!=p&&(n=(0,r.default)(p.roles).values().value()),h.forEach(function(e){var t=N(e),r=-1;null==n.find(function(t,n){if(t.id===e)return r=n,!0})||null==t?h.delete(e):n[r]=t}),0===h.size&&(m=!1),_=!1,g=[].concat(n)}var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,l,i=r.prototype;return i.initialize=function(){this.waitFor(u.default)},i.hasChanges=function(){return m||_},i.getSortDeltas=function(){return y()},i.showNotice=function(){return this.hasChanges()},i.getRole=function(e){return N(e)},a=r,(o=[{key:"hasSortChanges",get:function(){return _}},{key:"guild",get:function(){return p}},{key:"editedRoleIds",get:function(){return Array.from(h)}},{key:"roles",get:function(){return g}},{key:"formState",get:function(){return v}}])&&c(a.prototype,o),l&&c(a,l),r}(o.default.Store))(l.default,__OVERLAY__?{}:{GUILD_SETTINGS_ROLES_INIT:function(e){return I()},GUILD_SETTINGS_INIT:S,GUILD_SETTINGS_SET_SECTION:S,GUILD_SETTINGS_ROLES_SORT_UPDATE:function(e){var t=e.roles;if(null!=g&&t.length!==g.length)return!1;g=t.map(function(e){return N(e)}),_=!0,T()},GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS:function(e){var t=e.id,n=e.flag,r=e.allow,a=N(t);if(null==a)return!1;var o=a.permissions;return r?o|=n:o^=o&n,O(a,{permissions:o})},GUILD_SETTINGS_ROLES_CLEAR_PERMISSIONS:function(e){var t=N(e.id);return null!=t&&O(t,{permissions:0})},GUILD_SETTINGS_ROLES_UPDATE_NAME:function(e){var t=e.id,n=e.name,r=N(t);return null!=r&&O(r,{name:n})},GUILD_SETTINGS_ROLES_UPDATE_COLOR:function(e){var t=e.id,n=e.color,r=0===n?null:(0,a.int2hex)(n),o=N(t);return null!=o&&O(o,{color:n,colorString:r})},GUILD_SETTINGS_ROLES_UPDATE_SETTINGS:function(e){var t=e.id,n=e.hoist,r=e.mentionable,a=N(t);return null!=a&&O(a,{hoist:n,mentionable:r})},GUILD_SETTINGS_CLOSE:function(e){return p=null,E=g=[],h.clear(),m=!1,_=!1,void(v=s.FormStates.CLOSED)},GUILD_ROLE_CREATE:C,GUILD_ROLE_UPDATE:C,GUILD_ROLE_DELETE:C,GUILD_SETTINGS_ROLES_SUBMITTING:function(e){v=s.FormStates.SUBMITTING},GUILD_SETTINGS_ROLES_SAVE_SUCCESS:function(e){I()}}),M=A;t.default=M},6762:function(e,t,n){"use strict";t.__esModule=!0,t.calculatePositionDeltas=o,t.moveItemFromTo=l,t.getPositionUpdates=i,t.default=void 0;var r,a=(r=n(6))&&r.__esModule?r:{default:r};function o(e,t,n,r,a){void 0===a&&(a=!0);var o=t.length;if(e.length!==o)return console.warn("Arrays are not of the same length!",e,t),[];var l=e.map(n).sort().join(":"),i=t.map(n).sort().join(":");if(l!==i)return console.warn("Object IDs in the old ordering and the new ordering are not the same.",l,i),[];for(var u={},s=0;s<o;s++)u[n(e[s])]=r(e[s]);for(var d=[],c=0;c<o;c++){var f=n(t[c]),p=a?c:o-1-c;u[f]===p&&r(t[c])===p||d.push({id:f,position:p})}return a||d.reverse(),d}function l(e,t,n){var r=e[t],a=[].concat(e);return a.splice(t,1),a.splice(n,0,r),a}function i(e,t,n,r,i,u){return void 0===u&&(u=!0),Array.isArray(e)||(e=a.default.values(e)),o(e,l(e,t,n),r,i,u)}var u={moveItemFromTo:l,calculatePositionDeltas:o,getPositionUpdates:i};t.default=u},6763:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={init:function(e){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_DISCOVERY_INIT,guildId:e})},close:function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_DISCOVERY_CLOSE})},updateGuild:function(e){a.default.dispatch(i({type:o.ActionTypes.GUILD_SETTINGS_DISCOVERY_UPDATE},e))},saveGuild:function(e,t){var n=t.name,l=t.description,i=t.icon,u=t.splash,s=t.banner,d=t.region,c=t.afkChannelId,f=t.afkTimeout,p=t.systemChannelId,h=t.verificationLevel,v=t.defaultMessageNotifications,m=t.explicitContentFilter,_=t.features,g=t.systemChannelFlags,E=t.preferredLocale,y=t.discoverySplash,S=t.rulesChannelId;return a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_DISCOVERY_SUBMIT}),r.default.patch({url:o.Endpoints.GUILD(e),body:{name:n,description:l,icon:i,splash:u,banner:s,region:d,features:_,preferred_locale:E,afk_channel_id:c,afk_timeout:f,system_channel_id:p,verification_level:h,default_message_notifications:v,explicit_content_filter:m,system_channel_flags:g,discovery_splash:y,rules_channel_id:S}}).then(function(){return a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_DISCOVERY_SUBMIT_SUCCESS})},function(e){return a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_DISCOVERY_SUBMIT_FAILURE,errors:e.body})})}};t.default=u},6764:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=null,u=0,s=null,d=!1;var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,c,f=r.prototype;return f.showNotice=function(){return i!==s},f.hasError=function(){return d},a=r,(o=[{key:"vanityURLCode",get:function(){return i}},{key:"originalVanityURLCode",get:function(){return s}},{key:"vanityURLUses",get:function(){return u}}])&&l(a.prototype,o),c&&l(a,c),r}(r.default.Store))(a.default,{GUILD_SETTINGS_SET_VANITY_URL:function(e){s=i=e.code||"",u=e.uses,d=!1},GUILD_SETTINGS_VANITY_URL_CLOSE:function(e){return s=i=null,u=0,void(d=!1)},GUILD_SETTINGS_VANITY_URL_RESET:function(e){return i=s,void(u=0)},GUILD_SETTINGS_VANITY_URL_SET:function(e){i=e.code,u=0},GUILD_SETTINGS_VANITY_URL_ERROR:function(e){d=!0}});t.default=c},6765:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=l(n(280));n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(o.default)},a.getExperimentAssignment=function(e,t){return o.default.getGuildExperimentDescriptor(t,e)},r}(r.default.Store))(a.default,{LOGOUT:function(e){return!0},LOGIN:function(e){return!0},CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},OVERLAY_INITIALIZE:function(e){return!0},CACHE_LOADED:function(e){return!0},EXPERIMENTS_FETCH_FAILURE:function(e){return!0},EXPERIMENT_REGISTER_LEGACY:function(e){return!0},EXPERIMENT_REGISTER_SURVEY:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0}});t.default=i},6766:function(e,t,n){"use strict";t.__esModule=!0,t.getChangeTitle=function(e){switch(e.action){case _.AuditLogActions.GUILD_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_UPDATE;case _.AuditLogActions.CHANNEL_CREATE:var t=e.changes?e.changes.find(function(e){return e.key===_.AuditLogChangeKeys.TYPE}):null;if(null==t)throw new Error("[AuditLog] Could not find type change for channel create");switch(t.newValue){case _.ChannelTypes.GUILD_VOICE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_VOICE_CREATE;case _.ChannelTypes.GUILD_CATEGORY:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_CATEGORY_CREATE;default:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TEXT_CREATE}case _.AuditLogActions.CHANNEL_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_UPDATE;case _.AuditLogActions.CHANNEL_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_DELETE;case _.AuditLogActions.CHANNEL_OVERWRITE_CREATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_CREATE;case _.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_UPDATE;case _.AuditLogActions.CHANNEL_OVERWRITE_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_DELETE;case _.AuditLogActions.MEMBER_KICK:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_KICK;case _.AuditLogActions.MEMBER_PRUNE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE;case _.AuditLogActions.MEMBER_BAN_ADD:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_ADD;case _.AuditLogActions.MEMBER_BAN_REMOVE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_REMOVE;case _.AuditLogActions.MEMBER_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_UPDATE;case _.AuditLogActions.MEMBER_ROLE_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLE_UPDATE;case _.AuditLogActions.MEMBER_MOVE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MOVE;case _.AuditLogActions.MEMBER_DISCONNECT:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DISCONNECT;case _.AuditLogActions.BOT_ADD:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_BOT_ADD;case _.AuditLogActions.ROLE_CREATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_CREATE;case _.AuditLogActions.ROLE_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_UPDATE;case _.AuditLogActions.ROLE_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_DELETE;case _.AuditLogActions.INVITE_CREATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CREATE;case _.AuditLogActions.INVITE_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_UPDATE;case _.AuditLogActions.INVITE_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_DELETE;case _.AuditLogActions.WEBHOOK_CREATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CREATE;case _.AuditLogActions.WEBHOOK_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_UPDATE;case _.AuditLogActions.WEBHOOK_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_DELETE;case _.AuditLogActions.EMOJI_CREATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_CREATE;case _.AuditLogActions.EMOJI_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_UPDATE;case _.AuditLogActions.EMOJI_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_DELETE;case _.AuditLogActions.MESSAGE_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_DELETE;case _.AuditLogActions.MESSAGE_BULK_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_BULK_DELETE;case _.AuditLogActions.MESSAGE_PIN:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_PIN;case _.AuditLogActions.MESSAGE_UNPIN:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_UNPIN;case _.AuditLogActions.INTEGRATION_CREATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_CREATE;case _.AuditLogActions.INTEGRATION_UPDATE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_UPDATE;case _.AuditLogActions.INTEGRATION_DELETE:return g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_DELETE;default:return null}},t.getStringForPermission=function(e,t){switch(e){case _.Permissions.CREATE_INSTANT_INVITE:return g.default.Messages.CREATE_INSTANT_INVITE;case _.Permissions.KICK_MEMBERS:return g.default.Messages.KICK_MEMBERS;case _.Permissions.BAN_MEMBERS:return g.default.Messages.BAN_MEMBERS;case _.Permissions.ADMINISTRATOR:return g.default.Messages.ADMINISTRATOR;case _.Permissions.MANAGE_CHANNELS:return t.targetType===_.AuditLogTargetTypes.CHANNEL||t.targetType===_.AuditLogTargetTypes.CHANNEL_OVERWRITE?g.default.Messages.MANAGE_CHANNEL:g.default.Messages.MANAGE_CHANNELS;case _.Permissions.MANAGE_GUILD:return g.default.Messages.MANAGE_SERVER;case _.Permissions.VIEW_GULD_ANALYTICS:return g.default.Messages.VIEW_GUILD_ANALYTICS;case _.Permissions.CHANGE_NICKNAME:return g.default.Messages.CHANGE_NICKNAME;case _.Permissions.MANAGE_NICKNAMES:return g.default.Messages.MANAGE_NICKNAMES;case _.Permissions.MANAGE_ROLES:return g.default.Messages.MANAGE_ROLES;case _.Permissions.MANAGE_WEBHOOKS:return g.default.Messages.MANAGE_WEBHOOKS;case _.Permissions.MANAGE_EMOJIS:return g.default.Messages.MANAGE_EMOJIS;case _.Permissions.VIEW_AUDIT_LOG:return g.default.Messages.VIEW_AUDIT_LOG;case _.Permissions.VIEW_CHANNEL:return g.default.Messages.READ_MESSAGES;case _.Permissions.SEND_MESSAGES:return g.default.Messages.SEND_MESSAGES;case _.Permissions.SEND_TSS_MESSAGES:return g.default.Messages.SEND_TTS_MESSAGES;case _.Permissions.MANAGE_MESSAGES:return g.default.Messages.MANAGE_MESSAGES;case _.Permissions.EMBED_LINKS:return g.default.Messages.EMBED_LINKS;case _.Permissions.ATTACH_FILES:return g.default.Messages.ATTACH_FILES;case _.Permissions.READ_MESSAGE_HISTORY:return g.default.Messages.READ_MESSAGE_HISTORY;case _.Permissions.MENTION_EVERYONE:return g.default.Messages.MENTION_EVERYONE;case _.Permissions.USE_EXTERNAL_EMOJIS:return g.default.Messages.USE_EXTERNAL_EMOJIS;case _.Permissions.ADD_REACTIONS:return g.default.Messages.ADD_REACTIONS;case _.Permissions.CONNECT:return g.default.Messages.CONNECT;case _.Permissions.SPEAK:return g.default.Messages.SPEAK;case _.Permissions.MUTE_MEMBERS:return g.default.Messages.MUTE_MEMBERS;case _.Permissions.DEAFEN_MEMBERS:return g.default.Messages.DEAFEN_MEMBERS;case _.Permissions.MOVE_MEMBERS:return g.default.Messages.MOVE_MEMBERS;case _.Permissions.USE_VAD:return g.default.Messages.USE_VAD;case _.Permissions.PRIORITY_SPEAKER:return g.default.Messages.PRIORITY_SPEAKER;case _.Permissions.STREAM:return g.default.Messages.STREAM}return null},t.transformLogs=function(e,t){var n=[];return e.forEach(function(e){var r=function(e,t){switch(e.targetType){case _.AuditLogTargetTypes.GUILD:return t;case _.AuditLogTargetTypes.CHANNEL:case _.AuditLogTargetTypes.CHANNEL_OVERWRITE:return N(e,_.AuditLogChangeKeys.NAME,function(e){return f.default.getChannel(e)},function(e){return(0,d.default)(e,!0)});case _.AuditLogTargetTypes.USER:return N(e,_.AuditLogChangeKeys.NICK,function(e){return v.default.getUser(e)},function(e){return e});case _.AuditLogTargetTypes.ROLE:return N(e,_.AuditLogChangeKeys.NAME,function(e){return t.getRole(e)},function(e){return e.name});case _.AuditLogTargetTypes.INVITE:return N(e,_.AuditLogChangeKeys.CODE,_.NOOP_NULL,function(e){return e.code});case _.AuditLogTargetTypes.INTEGRATION:return N(e,_.AuditLogChangeKeys.NAME,function(e){return h.default.integrations.find(function(t){return t.id===e})},function(e){return e.name});case _.AuditLogTargetTypes.WEBHOOK:return N(e,_.AuditLogChangeKeys.NAME,function(e){return h.default.webhooks.find(function(t){return t.id===e})},function(e){return e.name});case _.AuditLogTargetTypes.EMOJI:return N(e,_.AuditLogChangeKeys.NAME,function(e){return p.default.getGuildEmoji(t.id).find(function(t){return t.id===e})},function(e){return e.name});default:return console.warn("[GuildSettingsAuditLog] Unknown targetType for log",e),null}}(e,t),a=v.default.getUser(e.userId);if((null!=r||e.action===_.AuditLogActions.MEMBER_PRUNE)&&null!=a){if(null!=(e=(e=(e=e.set("user",a)).set("target",r)).set("options",function(e){if(null!=e.options){var t=y({},e.options);switch(e.options.type){case _.AuditLogSubtargetTypes.USER:t.subtarget=C(e.options.id,function(e){return v.default.getUser(e)},function(e){return e.toString()});break;case _.AuditLogSubtargetTypes.ROLE:t.subtarget=C(e.options.role_name,_.NOOP_NULL)}return null!=e.options.channel_id&&(t.channel=N(e,"",function(e){return f.default.getChannel(e)},function(e){return e},e.options.channel_id)),e.options.members_removed&&(t.count=e.options.members_removed),t}return e.options}(e))).changes){var o=[];e.changes.forEach(function(e){var t=function(e){switch(e.key){case _.AuditLogChangeKeys.OWNER_ID:return O(e,function(e){return v.default.getUser(e)});case _.AuditLogChangeKeys.AFK_CHANNEL_ID:return O(e,function(e){return f.default.getChannel(e)},function(e){return(0,d.default)(e,!0)});case _.AuditLogChangeKeys.AFK_TIMEOUT:return O(e,function(e){return e/60});case _.AuditLogChangeKeys.SYSTEM_CHANNEL_ID:return O(e,function(e){return f.default.getChannel(e)},function(e){return(0,d.default)(e,!0)});case _.AuditLogChangeKeys.BITRATE:return O(e,function(e){return e/1e3});case _.AuditLogChangeKeys.COLOR:return O(e,function(e){return(0,s.int2hex)(e).toUpperCase()});case _.AuditLogChangeKeys.MAX_AGE:return O(e,function(e){var t=m.default.getMaxAgeOptions.find(function(t){var n=t.value;return e===n});return t?t.label:e});case _.AuditLogChangeKeys.CHANNEL_ID:return O(e,function(e){return f.default.getChannel(e)},function(e){return(0,d.default)(e,!0)});case _.AuditLogChangeKeys.PERMISSIONS:var t=[],n=T(e.oldValue,e.newValue),r=n.added,a=n.removed;if(r.length>0){var o=new c.AuditLogChange(_.AuditLogChangeKeys.PERMISSIONS_GRANTED,null,r);t.push(o)}if(a.length){var l=new c.AuditLogChange(_.AuditLogChangeKeys.PERMISSIONS_DENIED,null,a);t.push(l)}return t;case _.AuditLogChangeKeys.PERMISSIONS_GRANTED:case _.AuditLogChangeKeys.PERMISSIONS_DENIED:var i=[],u=T(e.oldValue,e.newValue).added;if(u.length>0){var p=new c.AuditLogChange(e.key,null,u);i.push(p)}return i;case _.AuditLogChangeKeys.PREFERRED_LOCALE:return O(e,function(e){var t=g.default.getAvailableLocales().find(function(t){return t.value===e});return null!=t?t.name:null})}return e}(e);Array.isArray(t)?t.forEach(function(e){return o.push(e)}):o.push(t)}),e=e.set("changes",o)}n.push(e)}}),n},t.ACTION_FILTER_ITEMS=t.NotRenderedChanges=t.IntegrationChangeStrings=t.EmojiChangeStrings=t.WebhookChangeStrings=t.InviteChangeStrings=t.RoleChangeStrings=t.UserChangeStrings=t.ChannelChangeStrings=t.GuildChangeStrings=t.DEFAULT_FOR_STRINGS_KEY=void 0;var r,a,o,l,i,u,s=n(158),d=E(n(137)),c=n(6649),f=E(n(14)),p=E(n(196)),h=E(n(6648)),v=E(n(11)),m=E(n(193)),_=n(1),g=E(n(4));function E(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.DEFAULT_FOR_STRINGS_KEY=-1;var S=function(){var e;return(e={})[_.AuditLogChangeKeys.REASON]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e};t.GuildChangeStrings=function(){var e,t,n,r,a;return y(((a={})[_.AuditLogChangeKeys.NAME]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_NAME_CHANGE,a[_.AuditLogChangeKeys.DESCRIPTION]=M(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CLEAR,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CHANGE),a[_.AuditLogChangeKeys.ICON_HASH]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_ICON_HASH_CHANGE,a[_.AuditLogChangeKeys.SPLASH_HASH]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SPLASH_HASH_CHANGE,a[_.AuditLogChangeKeys.BANNER_HASH]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_BANNER_HASH_CHANGE,a[_.AuditLogChangeKeys.OWNER_ID]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_OWNER_ID_CHANGE,a[_.AuditLogChangeKeys.REGION]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_REGION_CHANGE,a[_.AuditLogChangeKeys.PREFERRED_LOCALE]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_PREFERRED_LOCALE_CHANGE,a[_.AuditLogChangeKeys.AFK_CHANNEL_ID]=M(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CLEAR,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CHANGE),a[_.AuditLogChangeKeys.AFK_TIMEOUT]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_TIMEOUT_CHANGE,a[_.AuditLogChangeKeys.SYSTEM_CHANNEL_ID]=M(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_DISABLE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_CHANGE),a[_.AuditLogChangeKeys.MFA_LEVEL]=((e={})[_.MFALevels.NONE]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_DISABLED,e[_.MFALevels.ELEVATED]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_ENABLED,e),a[_.AuditLogChangeKeys.WIDGET_ENABLED]={true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_ENABLED,false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_DISABLED},a[_.AuditLogChangeKeys.WIDGET_CHANNEL_ID]=M(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_DELETE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_CHANGE),a[_.AuditLogChangeKeys.VERIFICATION_LEVEL]=((t={})[_.VerificationLevels.NONE]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_NONE,t[_.VerificationLevels.LOW]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_LOW,t[_.VerificationLevels.MEDIUM]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_MEDIUM,t[_.VerificationLevels.HIGH]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_HIGH,t[_.VerificationLevels.VERY_HIGH]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_VERY_HIGH,t),a[_.AuditLogChangeKeys.DEFAULT_MESSAGE_NOTIFICATIONS]=((n={})[_.UserNotificationSettings.ALL_MESSAGES]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ALL_MESSAGES,n[_.UserNotificationSettings.ONLY_MENTIONS]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ONLY_MENTIONS,n),a[_.AuditLogChangeKeys.VANITY_URL_CODE]=M(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_DELETE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_CHANGE),a[_.AuditLogChangeKeys.EXPLICIT_CONTENT_FILTER]=((r={})[_.GuildExplicitContentFilterTypes.DISABLED]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_DISABLE,r[_.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_MEMBERS_WITHOUT_ROLES,r[_.GuildExplicitContentFilterTypes.ALL_MEMBERS]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_ALL_MEMBERS,r),a),S())};t.ChannelChangeStrings=function(){var e;return(e={})[_.AuditLogChangeKeys.NAME]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CHANGE),e[_.AuditLogChangeKeys.POSITION]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CHANGE),e[_.AuditLogChangeKeys.TOPIC]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CHANGE),e[_.AuditLogChangeKeys.BITRATE]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CHANGE),e[_.AuditLogChangeKeys.RATE_LIMIT_PER_USER]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CHANGE),e[_.AuditLogChangeKeys.PERMISSIONS_GRANTED]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_GRANTED,e[_.AuditLogChangeKeys.PERMISSIONS_DENIED]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_DENIED,e[_.AuditLogChangeKeys.REASON]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e[_.AuditLogChangeKeys.NSFW]={false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_DISABLED,true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_ENABLED},e[_.AuditLogChangeKeys.TYPE]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TYPE_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TYPE_CHANGE),e};t.UserChangeStrings=function(){var e,t,n,r,a;return y(((e={})[_.AuditLogChangeKeys.NICK]=(t=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CHANGE,n=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CREATE,r=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_DELETE,function(e){return null!=e.newValue&&null!=e.oldValue?t:null!=e.newValue?n:null!=e.oldValue?r:a}),e[_.AuditLogChangeKeys.DEAF]={true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_ON,false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_OFF},e[_.AuditLogChangeKeys.MUTE]={true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_ON,false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_OFF},e[_.AuditLogChangeKeys.ROLES_REMOVE]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_REMOVE,e[_.AuditLogChangeKeys.ROLES_ADD]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_ADD,e[_.AuditLogChangeKeys.PRUNE_DELETE_DAYS]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE_DELETE_DAYS,e),S())};t.RoleChangeStrings=function(){var e,t;return y(((t={})[_.AuditLogChangeKeys.NAME]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CHANGE),t[_.AuditLogChangeKeys.PERMISSIONS_GRANTED]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_GRANTED,t[_.AuditLogChangeKeys.PERMISSIONS_DENIED]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_DENIED,t[_.AuditLogChangeKeys.COLOR]=((e={"#000000":g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR_NONE})[-1]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR_IOS,e),t[_.AuditLogChangeKeys.HOIST]={true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_ON,false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_OFF},t[_.AuditLogChangeKeys.MENTIONABLE]={true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_ON,false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_OFF},t),S())};t.InviteChangeStrings=function(){var e,t,n;return y(((n={})[_.AuditLogChangeKeys.CODE]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CODE_CREATE,n[_.AuditLogChangeKeys.CHANNEL_ID]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CHANNEL_CREATE,n[_.AuditLogChangeKeys.MAX_USES]=((e={0:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE_INFINITE})[-1]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE,e),n[_.AuditLogChangeKeys.MAX_AGE]=((t={0:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE_INFINITE})[-1]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE,t),n[_.AuditLogChangeKeys.TEMPORARY]={true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_ON,false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_OFF},n),S())};t.WebhookChangeStrings=function(){var e;return(e={})[_.AuditLogChangeKeys.CHANNEL_ID]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CHANGE),e[_.AuditLogChangeKeys.NAME]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CHANGE),e[_.AuditLogChangeKeys.AVATAR_HASH]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_AVATAR,e[_.AuditLogChangeKeys.REASON]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e};t.EmojiChangeStrings=function(){var e;return y(((e={})[_.AuditLogChangeKeys.NAME]=A(g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CREATE,g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CHANGE),e),S())};t.IntegrationChangeStrings=function(){var e;return y(((e={})[_.AuditLogChangeKeys.ENABLE_EMOTICONS]={true:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_ENABLE_EMOTICONS_ON,false:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_ENABLE_EMOTICONS_OFF},e[_.AuditLogChangeKeys.EXPIRE_BEHAVIOR]={0:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_EXPIRE_BEHAVIOR_REMOVE_SYNCED_ROLE,1:g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_EXPIRE_BEHAVIOR_KICK_FROM_SERVER},e[_.AuditLogChangeKeys.EXPIRE_GRACE_PERIOD]=g.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INTEGRATION_EXPIRE_GRACE_PERIOD,e),S())};var I=((u={})[_.AuditLogTargetTypes.CHANNEL]=((r={})[_.AuditLogChangeKeys.ID]=!0,r[_.AuditLogChangeKeys.PERMISSION_OVERWRITES]=!0,r),u[_.AuditLogTargetTypes.CHANNEL_OVERWRITE]=((a={})[_.AuditLogChangeKeys.TYPE]=!0,a[_.AuditLogChangeKeys.ID]=!0,a[_.AuditLogChangeKeys.PERMISSION_OVERWRITES]=!0,a),u[_.AuditLogTargetTypes.INVITE]=((o={})[_.AuditLogChangeKeys.INVITER_ID]=!0,o[_.AuditLogChangeKeys.USES]=!0,o),u[_.AuditLogTargetTypes.WEBHOOK]=((l={})[_.AuditLogChangeKeys.TYPE]=!0,l[_.AuditLogChangeKeys.APPLICATION_ID]=!0,l),u[_.AuditLogTargetTypes.INTEGRATION]=((i={})[_.AuditLogChangeKeys.TYPE]=!0,i[_.AuditLogChangeKeys.ACCOUNT_ID]=!0,i),u);t.NotRenderedChanges=I;function T(e,t){var n="number"==typeof e?e:0,r="number"==typeof t?t:0,a=r&~n,o=n&~r,l=[],i=[];for(var u in _.Permissions){var s=+_.Permissions[u];(a&s)===s&&l.push(s),(o&s)===s&&i.push(s)}return{added:l,removed:i}}function O(e,t,n){var r=e.newValue,a=e.oldValue;return null!=e.newValue&&(r=t(e.newValue),null!=n&&null!=r&&(r=n(r))),null!=e.oldValue&&(a=t(e.oldValue),null!=n&&null!=a&&(a=n(a))),new c.AuditLogChange(e.key,a||e.oldValue,r||e.newValue)}function N(e,t,n,r,a){var o=null,l=n(a=a||e.targetId);if(null!=l&&(o=r(l)),null==o){var i=h.default.deletedTargets[e.targetType];null!=i&&i[a]&&(o=i[a])}if(null==o&&null!=e.changes){var u=e.changes.find(function(e){return e.key===t});null!=u&&(o=u.newValue||u.oldValue)}return o||e.targetId}function C(e,t,n){var r=e,a=t(e);return null!=a&&null!=n&&(r=n(a)),r}function A(e,t){return function(n){return null==n.oldValue?e:t}}function M(e,t){return function(n){return null==n.newValue?e:t}}t.ACTION_FILTER_ITEMS=function(){return[{value:_.AuditLogActions.ALL,label:g.default.Messages.GUILD_SETTINGS_FILTER_ALL_ACTIONS,valueLabel:g.default.Messages.GUILD_SETTINGS_FILTER_ALL},{value:_.AuditLogActions.GUILD_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_GUILD_UPDATE},{value:_.AuditLogActions.CHANNEL_CREATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_CREATE},{value:_.AuditLogActions.CHANNEL_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_UPDATE},{value:_.AuditLogActions.CHANNEL_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_DELETE},{value:_.AuditLogActions.CHANNEL_OVERWRITE_CREATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_CREATE},{value:_.AuditLogActions.CHANNEL_OVERWRITE_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_UPDATE},{value:_.AuditLogActions.CHANNEL_OVERWRITE_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_DELETE},{value:_.AuditLogActions.MEMBER_KICK,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_KICK},{value:_.AuditLogActions.MEMBER_PRUNE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_PRUNE},{value:_.AuditLogActions.MEMBER_BAN_ADD,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_ADD},{value:_.AuditLogActions.MEMBER_BAN_REMOVE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_REMOVE},{value:_.AuditLogActions.MEMBER_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_UPDATE},{value:_.AuditLogActions.MEMBER_ROLE_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_ROLE_UPDATE},{value:_.AuditLogActions.MEMBER_MOVE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_MOVE},{value:_.AuditLogActions.MEMBER_DISCONNECT,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_DISCONNECT},{value:_.AuditLogActions.BOT_ADD,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_BOT_ADD},{value:_.AuditLogActions.ROLE_CREATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_CREATE},{value:_.AuditLogActions.ROLE_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_UPDATE},{value:_.AuditLogActions.ROLE_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_DELETE},{value:_.AuditLogActions.INVITE_CREATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_CREATE},{value:_.AuditLogActions.INVITE_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_UPDATE},{value:_.AuditLogActions.INVITE_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_DELETE},{value:_.AuditLogActions.WEBHOOK_CREATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_CREATE},{value:_.AuditLogActions.WEBHOOK_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_UPDATE},{value:_.AuditLogActions.WEBHOOK_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_DELETE},{value:_.AuditLogActions.EMOJI_CREATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_CREATE},{value:_.AuditLogActions.EMOJI_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_UPDATE},{value:_.AuditLogActions.EMOJI_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_DELETE},{value:_.AuditLogActions.MESSAGE_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_DELETE},{value:_.AuditLogActions.MESSAGE_BULK_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_BULK_DELETE},{value:_.AuditLogActions.MESSAGE_PIN,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_PIN},{value:_.AuditLogActions.MESSAGE_UNPIN,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_UNPIN},{value:_.AuditLogActions.INTEGRATION_CREATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INTEGRATION_CREATE},{value:_.AuditLogActions.INTEGRATION_UPDATE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INTEGRATION_UPDATE},{value:_.AuditLogActions.INTEGRATION_DELETE,label:g.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INTEGRATION_DELETE}]}},6767:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(8)),l=p(n(6)),i=n(158),u=p(n(24)),s=p(n(42)),d=n(1),c=p(n(455)),f=p(n(5969));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=l.default.memoize(function(e){var t=!1;if(null!=e&&(0,i.isValidHex)(e)){var n=(0,i.hex2int)(e);null!=n&&(t=(0,i.getDarkness)(n)<.2)}return t?d.Colors.BLACK:d.Colors.WHITE}),_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={color:m(t.props.color)},t.handleClick=function(){var e=t.props;(0,e.onClick)(function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClick"]))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.props,r=n.selected,a=n.color,l=n.className,i=n.children,p=m(a);return r?t={color:p,background:a||d.Colors.BRAND}:null!=a&&(t={color:a}),h(u.default,{className:(0,o.default)(f.default.selectableItem,l,(e={},e[f.default.selected]=r,e)),onClick:this.handleClick,align:u.default.Align.CENTER,style:v({},t,this.props.style)},void 0,h(u.default,{align:u.default.Align.CENTER,className:f.default.selectableItemLabel,shrink:1},void 0,i),r&&h(u.default,{wrap:u.default.Wrap.WRAP,className:c.default.marginReset,grow:0,shrink:0},void 0,h(s.default,{name:s.default.Names.CHECKMARK,color:p})))},r}(a.PureComponent);_.displayName="SelectableItem";var g=_;t.default=g},6768:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(192)),l=f(n(6769)),i=f(n(6896)),u=f(n(152)),s=f(n(223)),d=f(n(4)),c=f(n(5972));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=h(l.default.Divider,{}),_=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).renderPopout=n.renderPopout.bind(v(n)),n.renderItems=n.renderItems.bind(v(n)),n.handleChange=n.handleChange.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.renderItems=function(){var e=this,t=this.props,n=t.items,r=t.renderItem;return 0===n.length?h(l.default.Empty,{},void 0,d.default.Messages.NONE):h(u.default,{track:!0,className:c.default.scroller,theme:u.default.Themes.GHOST_HAIRLINE},void 0,n.map(function(t,n){return null!=r?r(t,n):a.createElement(l.default.Item,p({key:n},t,{onClick:e.handleChange}))}))},f.renderPopout=function(e){var t=this.props,n=t.searchProps,r=t.popoutClassName;return a.createElement(l.default,p({},e,{className:r}),a.createElement(l.default.SearchBar,n),m,this.renderItems())},f.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,o=e.className,l=e.popoutId,u=e.popoutProps;return a.createElement(s.default,p({},u,{uniqueId:l,render:this.renderPopout}),h("div",{className:o},void 0,h(i.default,{label:t,value:n,renderValue:r})))},f.handleChange=function(e){var t=this.props,n=t.popoutId,r=t.onChange;o.default.close(n),r&&r(e)},r}(a.PureComponent);_.displayName="SearchableQuickSelectWrapper";var g=_;t.default=g},6769:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(6593)),i=d(n(6767)),u=d(n(332)),s=d(n(5970));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(){return p(u.default,{className:s.default.divider})};h.displayName="PopoutListDivider";var v=function(e){var t=e.children;return p("div",{className:s.default.popoutListEmpty},void 0,t)};v.displayName="PopoutListEmpty";var m=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]);return a.createElement(l.default,c({},n,{className:(0,o.default)(s.default.popoutListInput,t)}))},t}(a.PureComponent);m.displayName="PopoutListSearchBar",m.defaultProps={autoFocus:!0};var _=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return p("div",{className:(0,o.default)(s.default.popoutList,t)},void 0,n)},t}(a.PureComponent);_.displayName="PopoutList",_.SearchBar=m,_.Item=i.default,_.Divider=h,_.Empty=v;var g=_;t.default=g},6770:function(e,t,n){e.exports=n.p+"519c307aa0e0541936a1efe408a0a898.svg"},6771:function(e,t,n){e.exports=n.p+"097e4735ce238a3adbdb1b90c146aea5.svg"},6772:function(e,t,n){e.exports=n.p+"4688672f33ab19dd400c5714f9a2074d.svg"},6773:function(e,t,n){e.exports=n.p+"0aab05e7b7f37e6eb593a32ce06efb2c.svg"},6774:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=E(n(8)),i=E(n(6584)),u=E(n(6559)),s=E(n(65)),d=E(n(271)),c=E(n(257)),f=E(n(88)),p=n(229),h=n(1),v=E(n(4)),m=E(n(5976)),_=E(n(6897)),g=E(n(6898));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=240,I=144,T=50,O=((r={})[h.ThemeTypes.DARK]=_.default,r[h.ThemeTypes.LIGHT]=g.default,r);function N(e){var t,n,r=e.guild,a=e.disabled,_=e.small,g=e.loading,E=void 0!==g&&g,N=e.description,C=e.memberCount,A=e.presenceCount,M=e.className,P=(0,i.default)(),R=o.useState(!1),b=R[0],L=R[1];if(null==r||E)return y("div",{className:(0,l.default)(M,m.default.card,m.default.cardPlaceholder,(n={},n[m.default.cardSmall]=_,n[m.default.cardDisabled]=a,n))});var D=r.name,w=null!=r.discoverySplash&&/^data:/.test(r.discoverySplash)?r.discoverySplash:f.default.getGuildDiscoverySplashURL({id:r.id,splash:r.discoverySplash,size:S*(0,p.getDevicePixelRatio)()}),U=null!=w?w:O[P],G=f.default.getGuildIconURL({id:r.id,icon:r.icon,size:T})||void 0,k=null!=r.description?r.description:N,F=null!=C?C:null==r?void 0:r.memberCount,B=null!=A?A:null==r?void 0:r.presenceCount;return y("div",{className:(0,l.default)(M,m.default.card,(t={},t[m.default.cardSmall]=_,t[m.default.cardDisabled]=a,t[m.default.splashLoaded]=b,t))},void 0,y("div",{className:m.default.cardHeader},void 0,y("div",{className:m.default.splash},void 0,y(d.default,{mask:d.default.Masks.VERTICAL_FADE,width:S,height:I},void 0,y("img",{src:U,alt:"",className:m.default.splashImage,onLoad:function(){return L(!0)}}))),y("div",{className:m.default.guildIcon},void 0,y(d.default,{mask:d.default.Masks.SQUIRCLE,width:T,height:T},void 0,y("img",{src:G,alt:"",className:m.default.avatar})))),y("div",{className:m.default.guildInfo},void 0,y("div",{className:m.default.title},void 0,y(u.default,{className:m.default.verifiedIcon,guild:r,tooltipColor:s.default.Colors.BLACK,badgeColor:h.Colors.PRIMARY_DARK}),y(c.default,{className:m.default.guildName,size:c.default.Sizes.SIZE_16},void 0,y("span",{},void 0,D))),y(c.default,{className:m.default.description,size:c.default.Sizes.SIZE_14},void 0,y("span",{},void 0,k)),y("div",{className:m.default.memberInfo},void 0,null!=B&&y("div",{className:m.default.memberCount},void 0,y("div",{className:m.default.dotOnline}),y(c.default,{size:c.default.Sizes.SIZE_12},void 0,v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:B}))),null!=F&&y("div",{className:m.default.memberCount},void 0,y("div",{className:m.default.dotOffline}),y(c.default,{size:c.default.Sizes.SIZE_12},void 0,v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:F}))))))}N.displayName="DiscoverStaticGuildCard";var C=N;t.default=C},6775:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ChecklistItem=t.MINIMUM_GUILD_SIZE=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(8)),l=n(3),i=_(n(6598)),u=_(n(461)),s=_(n(42)),d=_(n(182)),c=_(n(456)),f=_(n(257)),p=_(n(183)),h=n(1),v=_(n(4)),m=_(n(5979));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.MINIMUM_GUILD_SIZE=250;var E=function(e){var t=e.name,n=e.description,r=e.checked,a=e.pending,o=e.pendingDescription,l=e.failingDescription,i=null,d=null;return a?(i=g(s.default,{name:s.default.Names.WARNING_CIRCLE,color:h.Colors.STATUS_YELLOW,width:20,height:20}),d=null!=o?o:n):r?(i=g(u.default,{readOnly:!0,shape:u.default.Shapes.ROUND,size:20,type:u.default.Types.INVERTED,value:!0}),d=n):(i=g(s.default,{name:s.default.Names.CLOSE_CIRCLE,color:h.Colors.STATUS_RED,width:20,height:20}),d=null!=l?l:n),g("div",{className:m.default.checklistItem},void 0,g("div",{className:m.default.checklistIcon},void 0,i),g("div",{className:m.default.checklistText},void 0,g(c.default,{size:c.default.Sizes.SIZE_16},void 0,t),g(f.default,{},void 0,d)))};t.ChecklistItem=E,E.displayName="ChecklistItem";var y=function(e){var t=e.guildId,n=e.className,r=(0,l.useStateFromStoresArray)([i.default],function(){return[i.default.getDiscoveryChecklist(t),i.default.isLoading()]},[t]),u=r[0];if(r[1]||null==u)return g("div",{className:(0,o.default)(m.default.container,n)},void 0,g(d.default,{className:m.default.spinner}));var s=[{name:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SAFE,description:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SAFE_DESCRIPTION,failingDescription:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SAFE_FAILING,checked:null==u?void 0:u.safeEnvironment},{name:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_HEALTHY,description:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_HEALTHY_DESCRIPTION,pendingDescription:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_HEALTHY_PENDING.format({checkBackHook:function(e){return g("strong",{className:m.default.healthPending},e,e)}}),checked:null==u?void 0:u.healthy,pending:null==u?void 0:u.healthScorePending},{name:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SIZE.format({minMembers:250}),description:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SIZE_DESCRIPTION.format({minMembers:250}),checked:null==u?void 0:u.size},{name:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_NSFW,description:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_NSFW_DESCRIPTION,failingDescription:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_NSFW_FAILING,checked:null==u?void 0:u.nsfwSafe},{name:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_2FA,description:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_2FA_DESCRIPTION,failingDescription:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_2FA_FAILING.format({articleURL:p.default.getArticleURL(h.HelpdeskArticles.WEBHOOKS_INTRODUCTION)}),checked:null==u?void 0:u.protected}];return g("div",{className:(0,o.default)(m.default.container,n)},void 0,g("div",{className:m.default.header},void 0,g(c.default,{},void 0,(null==u?void 0:u.sufficient)?v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_GOOD_STANDING:v.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_BAD_STANDING.format({doesNotHook:function(e){return g("strong",{className:m.default.doesNot},e,e)}}))),s.map(function(e,t){return g(a.Fragment,{},e.name,a.createElement(E,e),t<s.length-1&&g("div",{className:m.default.divider}))}))};y.displayName="GuildSettingsDiscoveryChecklist";var S=y;t.default=S},6776:function(e,t,n){"use strict";t.__esModule=!0,t.viewGuild=function(e,t,n){(0,i.trackGuildSelected)(e,t,n),l.startLurking(e,n.location)},t.fetchDiscoverableGuilds=function(e){return c.apply(this,arguments)};var r=s(n(101)),a=s(n(12)),o=s(n(2)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(875)),i=n(6899),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function c(){var e;return e=regeneratorRuntime.mark(function e(t){var n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.default.dirtyDispatch({type:u.ActionTypes.DISCOVER_GUILDS_FETCH_START,guildIds:t}),e.prev=1,e.next=4,a.default.get({url:u.Endpoints.GUILD_DISCOVERY,query:r.default.stringify({guild_ids:t})});case 4:n=e.sent,l=n.body.guilds,o.default.dispatch({type:u.ActionTypes.DISCOVER_GUILDS_FETCH_SUCCESS,guilds:l}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o.default.dispatch({type:u.ActionTypes.DISCOVER_GUILDS_FETCH_FAILURE});case 12:case"end":return e.stop()}},e,null,[[1,9]])}),(c=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){d(o,r,a,l,i,"next",e)}function i(e){d(o,r,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}},6777:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(58)),i=d(n(42)),u=n(1),s=d(n(5986));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){return f("div",{className:e.className},void 0,e.children)};p.displayName="RowHeader";var h=function(e){return f("div",{className:e.className},void 0,e.children)};h.displayName="Row";var v=function(e){return f("div",{className:e.className},void 0,e.children)};v.displayName="Cell";var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSort=function(e){var n=t.props,r=n.sortKey,a=n.sortDirection,o=n.onSort;null!=o&&o(e,r===e&&a===u.TableSortDirections.ASCENDING?u.TableSortDirections.DESCENDING:u.TableSortDirections.ASCENDING)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.isSortable=function(e){return null!=e.sort&&!1!==e.sort},d.getDefaultSort=function(e){return function(t,n){var r=t[e],a=n[e];return null!=r&&null!=a?r===a?0:r<a?-1:1:0}},d.renderHeader=function(e){var t,n=this;void 0===e&&(e=!1);var r=this.props,a=r.columns,d=r.data,c=r.sortDirection,h=r.sortKey,v=r.headerCellClassName,m=r.headerClassName,_=r.sortedHeaderCellClassName,g=r.stickyHeader,E=a.map(function(e){var t,r=null!=e.renderHeader?e.renderHeader(e,d):e.key;return f(l.default,{className:(0,o.default)(s.default.headerCell,v,e.headerCellClassName,e.cellClassName,(t={},t[_||s.default.sortedHeaderCell]=h===e.key,t[s.default.clickable]=n.isSortable(e),t)),onClick:n.isSortable(e)?function(){return n.handleSort(e.key)}:null},e.key,f("div",{className:s.default.headerCellContent},void 0,r,n.isSortable(e)&&h===e.key?f(i.default,{name:c===u.TableSortDirections.ASCENDING?i.default.Names.ARROW_DROP_UP:i.default.Names.ARROW_DROP_DOWN,className:s.default.sortIcon}):null))});return f(p,{className:(0,o.default)(m,s.default.row,(t={},t[s.default.stickyHeader]=g&&!e,t[s.default.spacerHeader]=g&&e,t))},void 0,E)},d.renderBody=function(){var e=this.props,t=e.columns,n=e.data,r=e.sortData,l=e.sortKey,i=e.sortDirection,d=e.bodyCellClassName,f=e.rowClassName,p=e.cellProps,h=e.rowProps,v=e.rowComponent,m=e.cellComponent,_=n;if(r){var g=null!=l?t.find(function(e){return e.key===l}):null,E=[].concat(n),y=null!=g&&g.sort,S=null!=g&&null!=l&&this.isSortable(g)?E.sort("function"==typeof y?function(e,t){return y(e,t,i)}:this.getDefaultSort(l)):E;_=null!=g&&i===u.TableSortDirections.DESCENDING?S.reverse():S}return _.map(function(e,n){var r=t.map(function(t){return a.createElement(m,c({},p,{key:t.key,item:e,className:(0,o.default)(d,t.bodyCellClassName,t.cellClassName)}),null!=t.render?t.render(e,p,n):e[t.key])});return a.createElement(v,c({},h,{key:e.key,item:e,className:(0,o.default)(s.default.row,f)}),r)})},d.render=function(){var e=this.props,t=e.className,n=e.hasHeader,r=e.stickyHeader;return f("div",{className:t},void 0,n?this.renderHeader():null,n&&r?this.renderHeader(!0):null,this.renderBody())},r}(a.PureComponent);m.displayName="Table",m.SortDirection=u.TableSortDirections,m.defaultProps={initialSortDirection:u.TableSortDirections.ASCENDING,rowHeaderComponent:p,rowComponent:h,cellComponent:v,hasHeader:!0,sortData:!0,stickyHeader:!1};var _=m;t.default=_},6778:function(e,t,n){e.exports=n.p+"712a0fd4d14a1caadd31cb0745e91238.svg"},6779:function(e,t,n){e.exports=n.p+"857c505aafbe092e4f6efecebcad0bc8.svg"},6780:function(e,t,n){e.exports=n.p+"4c5ec1acbac91467f698659c23e0cf1c.svg"},6781:function(e,t,n){var r={"./amsterdam.png":7161,"./brazil.png":7162,"./dubai.png":7163,"./eu-central.png":7164,"./eu-west.png":7165,"./europe.png":7166,"./frankfurt.png":7167,"./hongkong.png":7168,"./india.png":7169,"./japan.png":7170,"./london.png":7171,"./russia.png":7172,"./singapore.png":7173,"./southafrica.png":7174,"./sydney.png":7175,"./unknown.png":6569,"./us-central.png":7176,"./us-east.png":7177,"./us-south.png":7178,"./us-west.png":7179};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6781},6782:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(6585)),o=n(1),l=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.name,n=e.icon,i=e.makeURL,u=e.onChange,s=e.disabled,d=e.showIcon,c=e.className,f=e.avatarClassName;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{name:t,avatar:n,size:o.AVATAR_MAX_SIZE,makeURL:i,onChange:u,disabled:s,hint:l.default.Messages.CHANGE_ICON,showIcon:d,className:c,avatarClassName:f})}},6783:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;f(n(0));var r,a=c(n(8)),o=c(n(21)),l=c(n(42)),i=f(n(258)),u=n(871),s=c(n(6616)),d=c(n(5997));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guildId,n=e.tier,r=e.className,c=e.locationSection;return p(i.default,{type:i.Types.DESCRIPTION,className:(0,a.default)(d.default.container,r)},void 0,p(l.default,{className:d.default.icon,name:l.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE}),p("span",{className:d.default.text},void 0,"Boost this server to ",p("strong",{},void 0,"Level ",n)," to unlock this feature."),p(o.default,{className:d.default.button,look:o.default.Looks.INVERTED,size:o.default.Sizes.SMALL,onClick:function(){return function(e,t){(0,u.openFullScreenLayer)(function(n){var r=n.transitionState,a=n.closeLayer;return p(s.default,{layerTransitionState:r,close:a,guildId:e,locationSection:t})})}(t,c)}},void 0,"Boost"))}h.displayName="GuildSettingsPremiumUpsell"},6784:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=i(n(8)),o=n(99),l=i(n(6004));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={XSMALL:l.default.xsmall,SMALL:l.default.small,MEDIUM:l.default.medium,LARGE:l.default.large},d={DEFAULT:"default",STATIC:"static"},c=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.getMode=function(){return null!=t.props.srcHover?d.STATIC:d.DEFAULT},t.handleHover=function(e){var n=t.props.onMouseEnter;n&&n(e),t.state.hovered||t.setState({hovered:!0})},t.handleBlur=function(e){var n=t.props.onMouseLeave;n&&n(e),t.state.hovered&&t.setState({hovered:!1})},t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.size,n=e.src,i=e.srcHover,s=e.className,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["size","src","srcHover","className"]),c={backgroundImage:"url('"+(this.state.hovered&&i?i:n)+"')"},f=this.getMode();return r.createElement("button",u({className:(0,a.default)((0,o.getClass)(l.default,"iconButton",f),s,t),style:c,onMouseEnter:this.handleHover,onFocus:this.handleHover,onMouseLeave:this.handleBlur,onBlur:this.handleBlur},d))},i}(r.PureComponent);c.displayName="IconButton",c.Sizes=s,c.defaultProps={size:s.MEDIUM,disabled:!1};var f=c;t.default=f},6785:function(e,t,n){e.exports=n.p+"ffc8cce621d39fcac0e58a1c834605d0.svg"},6786:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(0)),o=P(n(12)),l=P(n(30)),i=P(n(6599)),u=P(n(137)),s=R(n(87)),d=P(n(64)),c=P(n(106)),f=P(n(21)),p=P(n(24)),h=P(n(460)),v=P(n(138)),m=P(n(75)),_=P(n(332)),g=P(n(262)),E=R(n(258)),y=P(n(66)),S=n(88),I=P(n(183)),T=P(n(6585)),O=P(n(6652)),N=P(n(6550)),C=n(1),A=P(n(4)),M=P(n(6013));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var D=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleChannelChange=n.handleChannelChange.bind(L(n)),n.handleAvatarChange=n.handleAvatarChange.bind(L(n)),n.handleNameChange=n.handleNameChange.bind(L(n)),n.handleSaveWebhook=n.handleSaveWebhook.bind(L(n));var r=t.webhook,a=r.name,o=r.channel_id,l=r.avatar;return n.state={name:a,channelId:o,avatar:l,submitting:!1,errors:{}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleNameChange=function(e){this.setState({name:e})},a.handleAvatarChange=function(e){this.setState({avatar:e})},a.handleChannelChange=function(e){var t=e.value;this.setState({channelId:t})},a.handleSaveWebhook=function(){var e=this,t=this.state,n=t.avatar,r=t.name,a=t.channelId,o=this.props.webhook,u={name:r,channel_id:a};n!==o.avatar&&(u.avatar=n),this.setState({submitting:!0},function(){i.default.update(o.guild_id,o.id,u).then(function(){l.default.pop()}).catch(function(t){var n=t.body;e.setState({errors:n,submitting:!1})})})},a.getWebhookURL=function(){var e=this.props.webhook,t=e.id,n=e.token;return""+o.default.getAPIBaseURL(!1)+C.Endpoints.WEBHOOK_INTEGRATION(t,n)},a.renderNameChannel=function(){var e=this.props.webhook,t=this.state,n=t.name,r=t.channelId,a=t.errors,o=s.default.getChannels(e.guild_id)[s.GUILD_SELECTABLE_CHANNELS_KEY].filter(function(e){var t=e.channel;return d.default.can(C.Permissions.MANAGE_WEBHOOKS,{channelId:t.id})}).map(function(e){var t=e.channel;return{value:t.id,label:(0,u.default)(t,!0)}});return b(p.default,{},void 0,b(p.default.Child,{basis:"50%"},void 0,b(g.default,{title:A.default.Messages.WEBHOOK_FORM_NAME},void 0,b(v.default,{value:n,onChange:this.handleNameChange,error:a.name}))),b(p.default.Child,{basis:"50%"},void 0,b(g.default,{title:A.default.Messages.CHANNEL},void 0,b(h.default,{value:r,clearable:!1,searchable:!1,options:o,onChange:this.handleChannelChange}))))},a.renderAvatar=function(){var e=this.props.webhook.id,t=this.state,n=t.avatar,r=t.errors;return b(g.default,{title:A.default.Messages.WEBHOOK_MODAL_ICON_TITLE,className:M.default.container},void 0,b(p.default,{},void 0,b(p.default.Child,{},void 0,b(E.default,{type:E.Types.DESCRIPTION},void 0,A.default.Messages.WEBHOOK_MODAL_ICON_DESCRIPTION),b(f.default,{look:f.default.Looks.OUTLINED,color:f.default.Colors.PRIMARY,className:M.default.uploadButton},void 0,A.default.Messages.UPLOAD_IMAGE,b(N.default,{onChange:this.handleAvatarChange}))),b(p.default.Child,{wrap:!0,grow:0},void 0,b(T.default,{avatar:n,size:C.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,makeURL:function(){return(0,S.getUserAvatarURL)({id:e,avatar:n,discriminator:C.NON_USER_BOT_DISCRIMINATOR})},avatarClassName:M.default.avatarUploaderInner}),r.avatar?b("div",{},void 0,r.avatar):null)))},a.renderURL=function(){return b(p.default.Child,{className:M.default.urlContainer},void 0,b(g.default,{title:A.default.Messages.WEBHOOK_FORM_URL},void 0,b(O.default,{value:this.getWebhookURL(),className:M.default.copyInput}),b(E.default,{type:E.Types.DESCRIPTION},void 0,b(c.default,{href:I.default.getArticleURL(C.HelpdeskArticles.WEBHOOKS_INTRODUCTION)},void 0,A.default.Messages.WEBHOOK_FORM_WEBHOOK_URL_HELP))))},a.render=function(){return b(m.default,{size:M.default.size},void 0,b(m.default.Header,{},void 0,b(y.default,{tag:y.default.Tags.H4},void 0,A.default.Messages.WEBHOOK_MODAL_TITLE)),b(m.default.Content,{},void 0,this.renderNameChannel(),b(_.default,{className:M.default.divider}),this.renderAvatar(),b(_.default,{className:M.default.divider}),this.renderURL()),b(m.default.Footer,{},void 0,b(f.default,{submitting:this.state.submitting,onClick:this.handleSaveWebhook},void 0,A.default.Messages.SAVE),b(f.default,{color:f.default.Colors.GREY,look:f.default.Looks.LINK,onClick:this.props.onClose},void 0,A.default.Messages.CANCEL)))},r}(a.PureComponent);D.displayName="WebhookModal";var w=D;t.default=w},6787:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(2)),o=n(195),l=n(108);n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u=12e4,s=1e4,d={},c={},f=new Set;function p(){d={},c={}}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getPreviewURL=function(e,t,n){var r=(0,l.encodeStreamKey)({streamType:"guild",guildId:e,channelId:t,ownerId:n}),i=d[r];return null==i||Date.now()>i.expires?(f.has(r)||(f.add(r),a.default.wait(function(){(0,o.fetchStreamPreview)(e,t,n)})),null):i.url},i.getIsPreviewLoading=function(e,t,n){var r=(0,l.encodeStreamKey)({streamType:"guild",guildId:e,channelId:t,ownerId:n});return f.has(r)},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return p()},LOGOUT:function(e){return p()},STREAM_PREVIEW_FETCH_START:function(e){var t=e.streamKey;c[t]=(c[t]||0)+1,f.add(t)},STREAM_PREVIEW_FETCH_SUCCESS:function(e){var t=e.streamKey,n=e.previewURL;d[t]={url:n,expires:Date.now()+u},c[t]=0,f.delete(t)},STREAM_PREVIEW_FETCH_FAIL:function(e){var t=e.streamKey,n=e.retryAfter;d[t]={url:null,expires:Date.now()+(null!=n?n:s*c[t])},f.delete(t)},VOICE_STATE_UPDATE:function(e){var t=e.userId,n=e.guildId,r=e.channelId,a=e.selfStream,o=(0,l.encodeStreamKey)({streamType:"guild",guildId:n,channelId:r,ownerId:t});a||(delete d[o],delete c[o])}});t.default=h},6788:function(e,t,n){e.exports=n.p+"3bd0d83cb24ccf918b757ab5c18dc564.svg"},6789:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(58)),i=d(n(42)),u=d(n(138)),s=d(n(6020));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._textInputRef=a.createRef(),t.handleClear=function(){var e=t.props,n=e.onClear,r=e.forwardedRef,a=(null!=r?r:t._textInputRef).current;null!=a&&a.focus(),null!=n&&n()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.label,r=e.placeholder,a=e.searchTerm,d=e.inputClassName,c=e.className,p=e.onChange,h=e.onFocus,v=e.onBlur,m=e.onKeyPress,_=e.autoComplete,g=e.forwardedRef,E=e.iconClassName,y=null!=a&&a.length>0;return f("div",{className:(0,o.default)(s.default.searchBox,c)},void 0,f(u.default,{inputRef:null!=g?g:this._textInputRef,name:"search",maxLength:100,className:s.default.searchBoxInputWrapper,inputClassName:(0,o.default)(s.default.searchBoxInput,d),onChange:p,onFocus:h,onBlur:v,onKeyPress:m,value:y?a:"",placeholder:r,autoFocus:t,"aria-label":n,autoComplete:_?"on":"off"}),y?f(l.default,{onClick:this.handleClear,className:s.default.clear},void 0,f(i.default,{name:i.default.Names.CLEAR,className:(0,o.default)(s.default.clearIcon,E)})):f(i.default,{className:(0,o.default)(s.default.searchIcon,E),name:i.default.Names.SEARCH}))},r}(a.Component);p.displayName="SearchBox",p.defaultProps={autoComplete:!1};var h=a.forwardRef(function(e,t){return a.createElement(p,c({forwardedRef:t},e))});t.default=h},6790:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(21)),l=d(n(6650)),i=d(n(456)),u=d(n(257)),s=d(n(6024));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.message,n=e.subtitle,r=e.countdown,d=e.buttonText,f=e.buttonSubmitting,p=e.onButtonClick,h=e.imageSrc,v=e.secondaryButtonText,m=e.onSecondaryButtonClick;return null!=t?c("div",{className:s.default.wrapper},void 0,c("div",{className:s.default.content},void 0,null!=h?c("img",{alt:"",src:h,className:s.default.image}):null,c("div",{className:s.default.text},void 0,c(i.default,{size:i.default.Sizes.SIZE_16,className:s.default.title},void 0,t),null!=n?c(u.default,{color:u.default.Colors.MUTED,size:u.default.Sizes.SIZE_12},void 0,n):null)),c("div",{className:s.default.buttonContainer},void 0,null!=v?c(o.default,{className:s.default.button,size:o.default.Sizes.SMALL,onClick:m,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY,submitting:f},void 0,v):null,null!=d?c(o.default,{className:s.default.button,size:o.default.Sizes.SMALL,onClick:p,submitting:f},void 0,d):null),null!=r?c(l.default,{className:s.default.countdown,deadline:r}):null):a.Children.only(this.props.children)},r}(a.PureComponent);f.displayName="ChannelTextAreaGuard";var p=f;t.default=p},6791:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=i({},{},{addPhone:function(e){a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADDING_PHONE}),r.default.post({url:o.Endpoints.PHONE,body:{phone:e}}).then(function(){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_SUCCESS})},function(e){var t=e.body;return a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_FAILURE,error:t.message})})},verifyPhone:function(e){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFYING_PHONE}),r.default.post({url:o.Endpoints.VERIFY_PHONE,body:{code:e}}).then(function(e){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFY_PHONE_SUCCESS}),a.default.dispatch({type:o.ActionTypes.MODAL_POP}),e},function(e){throw a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFY_PHONE_FAILURE,error:e.body.message}),e})},reset:function(){a.default.dirtyDispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_RESET})}});t.default=u},6792:function(e,t,n){e.exports=n.p+"b0df989dede2e65a2d631874ffe04de0.svg"},6793:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(8)),o=l(n(5934));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.children,n=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(n||o.default.default,o.default.base)},void 0,t)};i.displayName="EmptyMessage";var u=i;t.default=u},6794:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(2)),a=u(n(142)),o=u(n(189)),l=n(1),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(null!=e)switch(e.type){case l.ScreenshareChromeExtensionResponseTypes.SCREENSHARE_START_SUCCESS:return function(e){o.default.setDesktopSource(e.streamId)}(e)}else window.chrome.app.isInstalled||a.default.show({title:i.default.Messages.SCREENSHARE_EXTENSION_TITLE,body:i.default.Messages.SCREENSHARE_EXTENSION_BODY,confirmText:i.default.Messages.YES_TEXT,cancelText:i.default.Messages.NO_TEXT,onConfirm:function(){null!=window.chrome.webstore&&null!=window.chrome.webstore.install?window.chrome.webstore.install():Object.assign(document.createElement("a"),{target:"_blank",href:"https://chrome.google.com/webstore/detail/discord-screen-sharing/lcbhdgefieegnkbopmgklhlpjjdgmbog"}).click()}})}var d={open:function(e){if(null!=window.chrome){if(null!=navigator.getDisplayMedia||null!=navigator.mediaDevices.getDisplayMedia)return o.default.setWebScreenShare();window.chrome.runtime.sendMessage(l.SCREENSHARE_CHROME_EXTENSION_ID,{command:l.ScreenshareChromeExtensionCommands.SCREENSHARE},s)}else r.default.dispatch({type:l.ActionTypes.SCREENSHARE_MODAL_OPEN,channel:e})},close:function(){r.default.dispatch({type:l.ActionTypes.SCREENSHARE_MODAL_CLOSE})},selectSourceType:function(e){r.default.dispatch({type:l.ActionTypes.SCREENSHARE_MODAL_SELECT_SOURCE_TYPE,sourceType:e})}};t.default=d},6795:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(902)),l=m(n(54)),i=m(n(21)),u=m(n(24)),s=m(n(71)),d=n(136),c=n(220),f=m(n(15)),p=n(1),h=m(n(4)),v=m(n(455));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClose=function(){var e=t.props.onClose;e&&e()},t.handleStreamWithoutSound=function(){var e=t.props,n=e.handleStream,r=e.onClose,a=e.pid;o.default.continueNonelevatedProcess(a),n(),r()},t.handleRequestElevated=function(){var e=t.props,n=e.handleStream,r=e.onClose,a=e.pid;o.default.requestElevatedProcess(a),n(),r()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.pid,t=null!=e?l.default.getGameForPID(e):null;f.default.track(p.AnalyticEvents.OPEN_MODAL,{Type:"Elevated Permissions Sound",application_id:null!=t?t.id:null,application_name:null!=t?t.name:null,game_id:null!=t?t.id:null})},a.render=function(){return _(c.ModalRoot,{transitionState:this.props.transitionState},void 0,_(c.ModalHeader,{separator:!1},void 0,_(u.default,{},void 0,_(d.FormTitle,{tag:d.FormTitle.Tags.H4},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_TITLE),_(c.ModalCloseButton,{onClick:this.handleClose}))),_(c.ModalContent,{},void 0,_(s.default,{color:s.default.Colors.PRIMARY,size:s.default.Sizes.MEDIUM,weight:s.default.Weights.MEDIUM,className:v.default.marginBottom20},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_BODY)),_(c.ModalFooter,{},void 0,_(i.default,{onClick:this.handleRequestElevated},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_REQUEST_ACCESS_BUTTON),_(i.default,{look:i.default.Looks.LINK,color:i.default.Colors.PRIMARY,onClick:this.handleStreamWithoutSound},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_NO_SOUND_BUTTON)))},r}(a.Component);g.displayName="ElevatedPermissionsSound";var E=g;t.default=E},6796:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){if(null==e)return!0;var r=!1;null!=e.userPremiumType&&(r=r||o.default.isPremiumAtLeast(t,e.userPremiumType));null!=e.guildPremiumTier&&(r=r||(0,a.isGuildPremiumAtLeast)(n,e.guildPremiumTier));return r};var r,a=n(6534),o=(r=n(96))&&r.__esModule?r:{default:r}},6797:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(30)),l=g(n(6952)),i=g(n(21)),u=g(n(24)),s=g(n(75)),d=n(136),c=g(n(257)),f=g(n(6685)),p=g(n(6953)),h=g(n(6954)),v=g(n(4)),m=g(n(6043)),_=g(n(5931));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){o.default.popWithKey("stream-report-problem")}var S=E(f.default,{}),I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={problem:null},t.handleChanged=function(e){t.setState({problem:null!=e?e.value:null})},t.handleSubmit=function(){var e=t.props,n=e.stream,r=e.streamApplication,a=t.state.problem;(0,l.default)(a,n,r,"Stream"),o.default.push(p.default)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.isStreamer,t=this.state.problem;return E(s.default,{},void 0,S,E(s.default.Header,{separator:!1},void 0,E(s.default.CloseButton,{className:_.default.closeButton,onClick:y}),E(d.FormTitle,{tag:d.FormTitle.Tags.H2,className:_.default.title},void 0,v.default.Messages.STREAM_REPORT_A_PROBLEM)),E(s.default.Content,{className:_.default.content},void 0,E(c.default,{},void 0,v.default.Messages.STREAM_REPORT_PROBLEM_BODY),E(h.default,{onChange:this.handleChanged,isStreamer:e,problem:t}),E("div",{className:m.default.art})),E(s.default.Footer,{separator:!1,className:_.default.footer},void 0,E(i.default,{color:i.default.Colors.BRAND,disabled:null==t,onClick:this.handleSubmit},void 0,v.default.Messages.STREAM_REPORT_SUBMIT),E(u.default,{},void 0,E(i.default,{look:i.default.Looks.LINK,color:i.default.Colors.PRIMARY,size:i.default.Sizes.NONE,onClick:y},void 0,v.default.Messages.CANCEL))))},r}(a.PureComponent);I.displayName="ReportProblem";var T=I;t.default=T},6798:function(e,t,n){"use strict";t.__esModule=!0,t.updateLocation=function(e){a.default.wait(function(){return a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_LOCATION_CHANGE,location:e})})},t.handleDirectoryUnmount=function(e,t){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMOUNT,scrollTop:e,directoryLocation:t})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},6799:function(e,t,n){"use strict";t.__esModule=!0,t.MODAL_CAROUSEL_PREV=t.MODAL_CAROUSEL_NEXT=t.CAROUSEL_PREV=t.CAROUSEL_NEXT=void 0;var r=i(n(859)),a=i(n(463)),o=n(80),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){return a.default.hasModalOpen()||r.default.hasLayers()},s={binds:["right"],global:!0,action:function(){if(!u())return o.ComponentDispatch.dispatch(l.ComponentActions.CAROUSEL_NEXT),!1}};t.CAROUSEL_NEXT=s;var d={binds:["left"],global:!0,action:function(){if(!u())return o.ComponentDispatch.dispatch(l.ComponentActions.CAROUSEL_PREV),!1}};t.CAROUSEL_PREV=d;var c={binds:["right","down","space"],global:!0,action:function(){return o.ComponentDispatch.dispatch(l.ComponentActions.MODAL_CAROUSEL_NEXT),!1}};t.MODAL_CAROUSEL_NEXT=c;var f={binds:["left","up"],global:!0,action:function(){return o.ComponentDispatch.dispatch(l.ComponentActions.MODAL_CAROUSEL_PREV),!1}};t.MODAL_CAROUSEL_PREV=f},6800:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(2)),o=d(n(22)),l=d(n(25)),i=d(n(119)),u=d(n(855)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f,p,h,v,m={},_={},g={},E=!1,y={};function S(e){var t=e.directoryLayout,n=t.id;m[n]=t,g[n]=!1,_[n]=Date.now()}function I(){m={},_={},g={}}var T=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,s,d,S=r.prototype;return S.initialize=function(){this.waitFor(i.default,u.default,o.default,l.default),v=l.default.locale},S.getDirectoryLayout=function(e){return m[e]},S.isFetching=function(e){return g[e]},S.shouldFetch=function(e){return!g[e]&&(null==_[e]||Date.now()-_[e]>18e5)},a=r,(s=[{key:"lastHomeDirectoryView",get:function(){return p}},{key:"lastBrowseDirectoryView",get:function(){return h}},{key:"isLibraryApplicationsHidden",get:function(){return E}},{key:"searchTerm",get:function(){return f}},{key:"previousFilters",get:function(){return y}}])&&c(a.prototype,s),d&&c(a,d),r}(r.default.Store))(a.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){var t=e.layoutId;g[t]=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:S,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:S,APPLICATION_STORE_DIRECTORY_FETCH_FAILURE:function(e){var t=e.layoutId;g[t]=!1},APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case s.DirectoryLocations.HOME:p={scrollTop:t};break;case s.DirectoryLocations.BROWSE:h={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;E=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;f=t},APPLICATION_STORE_SAVE_FILTERS:function(e){var t=e.filters;y=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:l.default.locale;if(v===t)return!1;v=t,I()},APPLICATION_STORE_CLEAR_DATA:function(e){return I()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return p=null,void(h=null)}});t.default=T},6801:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(335),l=T(n(3)),i=T(n(329)),u=T(n(260)),s=T(n(25)),d=T(n(11)),c=T(n(185)),f=T(n(897)),p=T(n(119)),h=T(n(21)),v=T(n(42)),m=T(n(348)),_=T(n(15)),g=T(n(96)),E=T(n(36)),y=n(1),S=T(n(4)),I=T(n(6048));function T(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(e){var t,n,r,a,l;function u(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n,r=t.props.isAuthenticated;(e.preventDefault(),r)?(n=t.analyticsLocation,_.default.track(y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:n}),i.default.open(y.UserSettingsSections.PREMIUM)):E.default.transitionTo(y.Routes.LOGIN,{search:(0,o.stringify)(y.Routes.APPLICATION_STORE)})},t}return n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,u.prototype.render=function(){var e=this.props,t=e.size,n=e.className,r=e.isWindowFocused;return N(m.default,{onClick:this.handleClick,innerClassName:I.default.premiumSubscribeButton,color:h.default.Colors.GREEN,size:t,className:n,pauseAnimation:!r},void 0,N(v.default,{name:v.default.Names.NITRO_WHEEL,className:I.default.premiumIcon}),N("span",{className:I.default.buttonText},void 0,S.default.Messages.APPLICATION_STORE_GET_PREMIUM))},r=u,(a=[{key:"analyticsLocation",get:function(){var e=this.props.storeListingAnalyticsProperties,t=null!=e?e.promotionId:null;return O({},this.props.analyticsContext.location,{object:y.AnalyticsObjects.BUTTON_CTA,objectType:y.AnalyticsObjectTypes.BUY,promotionId:t})}}])&&C(r.prototype,a),l&&C(r,l),u}(a.Component);A.displayName="PremiumSubscribeButton";var M=l.default.connectStores([p.default,f.default,d.default,s.default,c.default],function(){var e=d.default.getNullableCurrentUser();return{isUserPremium:g.default.canInstallPremiumApplications(e),isWindowFocused:c.default.isFocused(),isAuthenticated:null!=e}})((0,u.default)(A));t.default=M},6802:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(8)),o=i(n(4)),l=i(n(6049));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(l.default.perkTag,t)},void 0,o.default.Messages.APPLICATION_STORE_PREMIUM_PERKS)};u.displayName="PerkTag";var s=u;t.default=s},6803:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(3)),l=n(159),i=_(n(260)),u=_(n(22)),s=_(n(6800)),d=_(n(119)),c=_(n(895)),f=_(n(36)),p=_(n(6530)),h=n(1),v=_(n(4)),m=_(n(6054));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=[{id:h.Routes.APPLICATION_STORE,label:v.default.Messages.PREMIUM},{id:h.Routes.APPLICATION_STORE_BROWSE,label:v.default.Messages.APPLICATION_STORE_BROWSE}],y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.sku;f.default.transitionTo(e.id,{state:{analyticsSource:{object:h.AnalyticsObjects.NAVIGATION_LINK,section:h.AnalyticsSections.NAVIGATION,page:null==n?h.AnalyticsPages.STORE_DIRECTORY_BROWSE:h.AnalyticsPages.STORE_LISTING}}})},t.renderCustomBreadcrumb=function(e,t){return g(p.default.Title,{className:t?null:m.default.breadcrumb,muted:!t},void 0,e.label)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.sku,n=e.primarySkuId,r=e.isFetchingPrimarySku;null==n||r||null==t||(0,l.fetchSKU)(t.applicationId,n)},a.render=function(){var e=this.props,t=e.sku,n=e.primarySku,r=[].concat(E),a=h.Routes.APPLICATION_STORE_BROWSE;if(null!=t){var o=h.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug);a=o,null!=n&&r.push({id:h.Routes.APPLICATION_STORE_LISTING_SKU(n.id,n.slug),label:n.name}),r.push({id:o,label:t.name})}return g(c.default,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:r,activeId:a})},r}(a.PureComponent);y.displayName="StoreBreadcrumbs";var S=(0,i.default)(o.default.connectStores([d.default,s.default,u.default],function(e){var t=e.sku,n=null!=t?u.default.getGame(t.applicationId):null,r=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{primarySkuId:r,isFetchingPrimarySku:null!=r&&d.default.isFetching(r),primarySku:null!=r?d.default.get(r):null}})(y));t.default=S},6804:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(21)),l=u(n(6600)),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).cancel=function(){var e=t.props.onClose;e&&e()},t.confirm=function(){var e=t.props,n=e.onConfirm,r=e.onClose;r&&r(),n()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return s(l.default,{},void 0,s(l.default.Header,{},void 0,i.default.Messages.PREMIUM_GRANDFATHERED_WARNING_TITLE),s(l.default.Content,{type:l.default.Types.GRANDFATHERED},void 0,i.default.Messages.PREMIUM_GRANDFATHERED_WARNING.format()),s(l.default.Footer,{secondary:{onClick:this.cancel,label:i.default.Messages.NEVERMIND},primaryRenderer:s(o.default,{color:o.default.Colors.RED,onClick:this.confirm},void 0,i.default.Messages.PREMIUM_GRANDFATHERED_WARNING_CONFIRM)}))},r}(a.Component);d.displayName="GrandfatheredWarningModal";var c=d;t.default=c},6805:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=l(n(21)),o=l(n(6061));function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children"]);return r.createElement(a.default,i({},n,{size:a.default.Sizes.SMALL,look:a.default.Looks.INVERTED,className:o.default.button}),t)}u.displayName="PremiumSettingsPushButton"},6806:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(3)),l=h(n(853)),i=h(n(30)),u=h(n(11)),s=h(n(21)),d=h(n(71)),c=h(n(342)),f=h(n(155)),p=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isSendingVerificationEmail:!1},t.handleResendVerification=function(){var e=t.props,n=e.currentUser,r=e.onClick;r&&r(),t.setState({isSendingVerificationEmail:!0},function(){l.default.verifyResend().then(function(){return i.default.push(function(e){return a.createElement(f.default,v({header:p.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:p.default.Messages.OKAY,red:!1},e),m(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY},void 0,p.default.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})))})}).catch(function(e){var t=e.body,n=p.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email),i.default.push(function(e){return a.createElement(c.default,v({title:p.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))})}).then(function(){return t.setState({isSendingVerificationEmail:!1})})})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.color,n=e.look,r=e.size;return m(s.default,{look:n,size:r,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,p.default.Messages.RESEND_VERIFICATION_EMAIL)},r}(a.Component);_.displayName="ResendEmailVerificationButton",_.defaultProps={size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND};var g=o.default.connectStores([u.default],function(){return{currentUser:u.default.getCurrentUser()}})(_);t.default=g},6807:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(8)),l=n(59),i=f(n(118)),u=f(n(861)),s=f(n(936)),d=f(n(58)),c=f(n(6068));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v={tension:7,friction:5,overshootClamping:!0},m=function(e){var t=e.onClick,n=e.className;return h(d.default,{className:(0,o.default)(c.default.scrollerButton,n),onClick:t},void 0,h(s.default,{className:c.default.scrollerButtonArrow,direction:s.default.Directions.RIGHT}))};m.displayName="ScrollerButton";var _=Object.freeze({LEFT:0,RIGHT:1}),g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={tileIndex:0,prevWidth:t.props.width,lastArrowDirection:_.LEFT,scrollerWidth:0,mouseOver:!1},t.scrollerRef=a.createRef(),t.animatedValue=new i.default.Value(0),t.handleMouseEnter=function(){t.setState({mouseOver:!0})},t.handleMouseLeave=function(){t.setState({mouseOver:!1})},t.prev=function(){t.setState({tileIndex:t.state.lastArrowDirection===_.LEFT?Math.max(t.state.tileIndex-1,0):t.state.tileIndex,lastArrowDirection:_.LEFT})},t.next=function(){t.setState({tileIndex:t.state.lastArrowDirection===_.RIGHT?Math.min(t.state.tileIndex+1,t.getMaxIndex()):t.state.tileIndex,lastArrowDirection:_.RIGHT})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){return t.prevWidth!==e.width?{tileIndex:0,prevWidth:e.width,lastArrowDirection:_.LEFT}:null};var u=r.prototype;return u.getMaxOffset=function(){var e=this.props.width,t=this.state.scrollerWidth;return Math.max(t-e,0)},u.getSideOffset=function(){var e=this.props,t=e.tileWidth,n=e.tileMargin,r=this.getMaxOffset(),a=t+n;return r-Math.floor(r/a)*a},u.getMaxIndex=function(){var e=this.props,t=e.tileWidth,n=e.tileMargin;return Math.floor(this.getMaxOffset()/(t+n))},u.getOffset=function(e,t){var n=this.props,r=n.tileWidth,a=n.tileMargin;return Math.min(e*(r+a)+(t===_.RIGHT?this.getSideOffset():0),this.getMaxOffset())},u.componentDidMount=function(){var e=(0,l.findDOMNode)(this.scrollerRef.current);e instanceof HTMLElement&&this.setState({scrollerWidth:e.offsetWidth})},u.componentDidUpdate=function(e,t){t.tileIndex===this.state.tileIndex&&t.lastArrowDirection===this.state.lastArrowDirection||i.default.spring(this.animatedValue,p({},v,{toValue:this.getOffset(this.state.tileIndex,this.state.lastArrowDirection)})).start()},u.render=function(){var e,t,n=this.state,r=n.tileIndex,l=n.mouseOver,u=n.lastArrowDirection,s=this.getMaxOffset(),d=s>0;return h("div",{className:c.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,h(i.default.div,{className:c.default.scroller,style:{transform:[{translateX:this.animatedValue.interpolate({inputRange:[0,1],outputRange:["0px","-1px"]})}]}},void 0,a.createElement("div",{className:c.default.scroller,ref:this.scrollerRef},this.props.children)),d?h(a.Fragment,{},void 0,h(i.default.div,{className:c.default.gradientOverlayLeft,style:{opacity:this.animatedValue.interpolate({inputRange:[0,50],outputRange:[0,1],extrapolate:"clamp"})}}),h(i.default.div,{className:c.default.gradientOverlayRight,style:{opacity:this.animatedValue.interpolate({inputRange:[s-50,s],outputRange:[1,0],extrapolate:"clamp"})}})):null,d?h(a.Fragment,{},void 0,h(m,{onClick:this.prev,className:(0,o.default)(c.default.arrowLeft,(e={},e[c.default.arrowDisabled]=0===r&&u===_.LEFT,e[c.default.arrowHidden]=!l,e))}),h(m,{onClick:this.next,className:(0,o.default)(c.default.arrowRight,(t={},t[c.default.arrowDisabled]=r===this.getMaxIndex()&&u===_.RIGHT,t[c.default.arrowHidden]=!l,t))})):null)},r}(a.Component);g.displayName="ApplicationStoreTileScroller";var E=(0,u.default)(g);t.default=E},6808:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l,i,u;function s(){i={},l={},u=new Set}s();var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStatisticsForApplication=function(e){return l[e]},a.shouldFetchStatisticsForApplication=function(e){var t=i[e];return!u.has(e)&&(null==t||Date.now()-t>36e5)},r}(r.default.Store))(a.default,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){var t=e.applicationId;u.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){var t=e.applicationId;u.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){var t=e.statistics,n=e.applicationId;i[n]=Date.now(),u.delete(n),l[n]=t},LOGOUT:function(e){return s()}});t.default=d},6809:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a,o=(r=n(6070))&&r.__esModule?r:{default:r};t.default=function(){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:o.default.divider})}},6810:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(5)),l=n(462),i=n(229),u=c(n(106)),s=c(n(24)),d=c(n(6076));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getCoverImageURL=function(){var e=this.props,t=e.game,n=e.news.thumbnail;return null!=n&&null!=n.proxy_url?(0,i.getSizedImageSrc)(n.proxy_url,700,210,"png"):t.getSplashURL(700)},a.getCoverImageURLStyle=function(){var e=this.getCoverImageURL();return null!=e?{backgroundImage:"url("+e+")"}:null},a.getTimestamp=function(){var e=this.props.news;return null!=e.timestamp?(0,l.dateFormat)((0,o.default)(e.timestamp),"LL"):null},a.renderOpenBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=this.getTimestamp();return f(s.default,{className:d.default.openWrap},void 0,f("div",{className:d.default.openBody},void 0,null!=n?f("div",{className:d.default.openTimestamp},void 0,n):null,f("div",{className:d.default.openTitle},void 0,e.title),f("div",{className:d.default.openDescription},void 0,e.description)),f("div",{className:d.default.openImage,style:t}))},a.renderCollapsedBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=null!=e.timestamp?(0,l.dateFormat)((0,o.default)(e.timestamp),"LL"):null;return f(s.default,{className:d.default.collapsedWrap},void 0,f("div",{className:d.default.collapsedImage,style:t}),f(s.default,{className:d.default.collapsedBody,direction:s.default.Direction.VERTICAL,justify:s.default.Justify.CENTER,style:{margin:16}},void 0,null!=n?f("div",{className:d.default.collapsedTimestamp},void 0,n):null,f("div",{className:d.default.collapsedTitle},void 0,e.title)))},a.render=function(){var e=this.props,t=e.collapsed,n=e.news;return f(u.default,{href:n.url,target:"_blank",className:d.default.item},void 0,t?this.renderCollapsedBody():this.renderOpenBody())},r}(a.PureComponent);t.default=p,p.displayName="ApplicationNewsItem"},6811:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ItemSizes=void 0;var r,a=y(n(0)),o=E(n(8)),l=E(n(118)),i=E(n(861)),u=y(n(6812)),s=y(n(7076)),d=E(n(58)),c=n(6637),f=E(n(7072)),p=E(n(935)),h=n(909),v=n(80),m=n(6614),_=n(1),g=E(n(6081));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(){var e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["grayscale(",")"]);return S=function(){return e},e}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O={top:85,left:85,bottom:85,right:85},N={SMALL:{width:640,height:360,margin:15},MEDIUM:{width:880,height:495,margin:20}};t.ItemSizes=N;var C={width:1920,height:1080},A={width:1280,height:720},M=function(e){return(0,m.renderVideoComponent)(T({},e,{className:g.default.videoWrapper,mediaPlayerClassName:g.default.mediaPlayer}))},P=function(e){var t,n,r=e.item,a=e.size,o=e.onPlay,l=e.onEnded,i=e.onClick,u=e.playable,s=e.volume,f=e.isMuted,p=e.onVolumeChange,v=e.onMute;if(r.type===_.CarouselMediaTypes.YOUTUBE_VIDEO)t=T({url:(0,_.YOUTUBE_PREVIEW_URL)(r.youtubeVideoId)},C),n=T({url:(0,_.YOUTUBE_EMBED_URL)(r.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},A);else{var E=null!=r.width?r.width:0,y=null!=r.height?r.height:0;t={url:r.thumbnailSrc,width:E,height:y},n={url:r.src,proxyURL:r.src,width:E,height:y}}var S=I(c.EmbedVideo,{href:null,thumbnail:t,video:n,allowFullScreen:!0,maxHeight:a.height,maxWidth:a.width,onPlay:o,onEnded:l,playable:u,className:g.default.video,volume:s,onVolumeChange:p,autoMute:f,onMute:v,autoPlay:!0,renderVideoComponent:M,renderImageComponent:m.renderImageComponent,renderLinkComponent:h.defaultRenderLinkComponent});return u?S:I(d.default,{onClick:i},void 0,S)},R=function(){return I("div",{className:g.default.paginationVideoOverlay},void 0,I(p.default,{inactive:!0,className:g.default.paginationVideoPlayPill}))};R.displayName="VideoOverlay";var b=I(R,{}),L=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={currentIndex:0,animate:!0,playingVideo:!1,hasInteracted:!1,hoveringPreviousItem:!1,hoveringNextItem:!1,volume:1,isMuted:!0},t.getItemSize=function(){var e=t.props.width,n=N.MEDIUM;return null!=e&&e<n.width&&(n=N.SMALL),n},t.setItem=function(e,n){var r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),a=r.props,o=a.items,l=a.onIntentionalChange,i=r.state,u=i.currentIndex,d=i.hasInteracted,c=(0,s.normalizeIndex)(u,o.length),f=(0,s.normalizeIndex)(e,o.length),p=1===Math.abs(e-c)||e===o.length-1&&0===c||0===e&&c===o.length-1;n&&(d=!0),t.setState({playingVideo:!1,currentIndex:f,animate:p,hasInteracted:d}),n&&null!=l&&l(o[f],c,f)},t.autoNext=function(){t.setItem(t.state.currentIndex+1,!1)},t.manualNext=function(){t.setItem(t.state.currentIndex+1,!0)},t.manualPrevious=function(){t.setItem(t.state.currentIndex-1,!0)},t.handlePlay=function(e){return t.setState({playingVideo:!0,hasInteracted:!e})},t.handleEnded=function(){t.state.hasInteracted||t.autoNext()},t.handleVolumeChange=function(e){t.setState({volume:e,hasInteracted:!0})},t.handleMute=function(e){t.setState({isMuted:e,hasInteracted:!0})},t.handleVideoClick=function(e){t.setItem(e,!0)},t.handleEdgeItemMouseLeave=function(){t.setState({hoveringPreviousItem:!1,hoveringNextItem:!1})},t.renderCarouselImage=function(e,n,r){return r?I(d.default,{onClick:function(){return t.handleCurrentItemClick(e,n)},className:g.default.itemImageWrapper},void 0,I("img",{src:e.src,alt:"",className:g.default.currentImage})):I(d.default,{onClick:function(){return t.setItem(n,!0)},className:g.default.itemImageWrapper},void 0,I("img",{alt:"",className:g.default.itemImage,src:e.src,draggable:!1}))},t.renderItem=function(e,n,r){var a,i=t.state,u=i.currentIndex,d=i.volume,c=i.isMuted,f=n===(0,s.normalizeIndex)(u,t.props.items.length);return I(l.default.div,{className:(0,o.default)(g.default.item,(a={},a[g.default.currentItem]=f,a)),style:null!=r?t.getStyle(n,r):null,onMouseEnter:f?null:function(){return t.handleEdgeItemMouseEnter(n)},onMouseLeave:f?null:t.handleEdgeItemMouseLeave},void 0,e.type===_.CarouselMediaTypes.VIDEO||e.type===_.CarouselMediaTypes.YOUTUBE_VIDEO?I(P,{item:e,size:t.getItemSize(),onPlay:t.handlePlay,onEnded:t.handleEnded,playable:f,onClick:function(){return t.handleVideoClick(n)},volume:d,onVolumeChange:t.handleVolumeChange,isMuted:c,onMute:t.handleMute}):t.renderCarouselImage(e,n,f))},t.renderPaginationItem=function(e,n){var r=t.state.currentIndex===n;return I("div",{className:(0,o.default)(g.default.paginationItem,r?g.default.selectedStorePaginationItem:g.default.unselectedStorePaginationItem)},"page-"+n,I("img",{alt:null==e.alt?n:e.alt,className:g.default.storePaginationImg,src:t.getPaginationSrc(e),draggable:!1}),e.type===_.CarouselMediaTypes.YOUTUBE_VIDEO||e.type===_.CarouselMediaTypes.VIDEO?b:null,r?I("div",{className:g.default.overlappingBorder}):null)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){v.ComponentDispatch.subscribe(_.ComponentActions.CAROUSEL_PREV,this.manualPrevious),v.ComponentDispatch.subscribe(_.ComponentActions.CAROUSEL_NEXT,this.manualNext)},a.componentWillUnmount=function(){v.ComponentDispatch.unsubscribe(_.ComponentActions.CAROUSEL_PREV,this.manualPrevious),v.ComponentDispatch.unsubscribe(_.ComponentActions.CAROUSEL_NEXT,this.manualNext)},a.getStyle=function(e,t){var n=t.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:l.default.Extrapolate.CLAMP});return{opacity:t.interpolate({inputRange:[0,1],outputRange:[.3,1],extrapolate:l.default.Extrapolate.CLAMP}),filter:l.default.template(S(),n)}},a.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},a.handleEdgeItemMouseEnter=function(e){var t=this.state.currentIndex;e<t?this.setState({hoveringPreviousItem:!0}):e>t&&this.setState({hoveringNextItem:!0})},a.renderCarousel=function(){var e,t,n=this.props.items,r=this.state,a=r.currentIndex,l=r.animate,i=r.hoveringPreviousItem,d=r.hoveringNextItem,c=I(s.default,{items:n,itemSize:this.getItemSize(),renderItem:this.renderItem,currentIndex:a,animate:l,edgeItems:2});return n.length<=1?c:I("div",{className:g.default.carouselButtonsContainer},void 0,c,I(u.CarouselPrevious,{onClick:this.manualPrevious,className:(0,o.default)(g.default.arrow,(e={},e[g.default.arrowHovered]=i,e))}),I(u.CarouselNext,{onClick:this.manualNext,className:(0,o.default)(g.default.arrow,(t={},t[g.default.arrowHovered]=d,t))}))},a.getPaginationSrc=function(e){return e.type===_.CarouselMediaTypes.YOUTUBE_VIDEO?(0,_.YOUTUBE_PREVIEW_URL)(e.youtubeVideoId):e.type===_.CarouselMediaTypes.IMG?e.src:e.type===_.CarouselMediaTypes.VIDEO?e.thumbnailSrc:null},a.render=function(){var e=this,t=this.props,n=t.items,r=t.className,a=t.autoplayInterval,o=t.paused,l=this.state,i=l.currentIndex,s=l.playingVideo,d=l.hasInteracted;return I(f.default,{pauseOnHover:!0,onInterval:this.autoNext,interval:a,className:r,disable:s||d||o},void 0,this.renderCarousel(),I("div",{className:g.default.pagination},void 0,I(u.default,{renderItem:this.renderPaginationItem,scrollToPadding:O,items:n,selectedIndex:i,onSetItem:function(t){return e.setItem(t,!0)},paginationContainerClass:g.default.scroller,gutterStyle:u.default.Gutter.STORE,align:n.length<6?u.default.Align.LEFT:u.default.Align.CENTER})))},r}(a.PureComponent);L.displayName="MediaCarousel",L.defaultProps={autoplayInterval:8e3,paused:!1};var D=(0,i.default)(L);t.default=D},6812:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CarouselNext=t.CarouselPrevious=void 0;var r,a=c(n(0)),o=d(n(8)),l=d(n(936)),i=d(n(21)),u=c(n(152)),s=d(n(6080));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h={CENTER:s.default.alignCenter,LEFT:s.default.alignLeft},v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._paginationItemRefs=[],t.handleSetScrollerRef=function(e){t._scrollerRef=e},t.handleSelectedIndexChange=function(e){var n=t._scrollerRef;if(null!=n){var r=t._paginationItemRefs[e];null!=r&&n.scrollIntoView(r,!0,t.props.scrollToPadding)}},t.handlePageClick=function(e){(0,t.props.onSetItem)(e)},t}p(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},n.render=function(){var e=this,t=this.props,n=t.renderItem,r=t.items,l=t.vertical,i=t.paginationContainerClass,d=t.align,c=t.gutterStyle,f=l?u.default:u.HorizontalScroller,p=l?s.default.verticalPaginationItemContainer:s.default.horizontalPaginationItemContainer;return a.createElement(f,{track:!0,gutterStyle:c,className:(0,o.default)(p,i,d),ref:this.handleSetScrollerRef},r.map(function(t,r){return a.cloneElement(n(t,r),{onClick:function(){return e.handlePageClick(r)},key:r,ref:function(t){e._paginationItemRefs[r]=t}})}))},t}(a.PureComponent);v.displayName="CarouselPaginationStrip",v.Align=h,v.Gutter=u.default.GutterStyles,v.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0},align:h.CENTER};var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var n=t.props.onClick;n&&n(e)},t}return p(t,e),t.prototype.render=function(){var e=this.props.className;return f(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:(0,o.default)(s.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,f(l.default,{className:s.default.arrow,direction:l.default.Directions.LEFT}))},t}(a.PureComponent);t.CarouselPrevious=m,m.displayName="CarouselPrevious";var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var n=t.props.onClick;n&&n(e)},t}return p(t,e),t.prototype.render=function(){var e=this.props.className;return f(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:(0,o.default)(s.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,f(l.default,{className:s.default.arrow,direction:l.default.Directions.RIGHT}))},t}(a.PureComponent);t.CarouselNext=_,_.displayName="CarouselNext";var g=v;t.default=g},6813:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MessageStyles=void 0;var r,a=f(n(0)),o=c(n(82)),l=c(n(3)),i=c(n(2)),u=f(n(159)),s=c(n(897)),d=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var p=(0,o.default)({SHORT:null,LONG:null});t.MessageStyles=p;var h=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getText=function(e,t){if(429===e.status)switch(t){case p.SHORT:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR_SHORT;case p.LONG:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR}switch(t){case p.SHORT:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR_SHORT;case p.LONG:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR}},o.componentWillUnmount=function(){this.props.purchaseError&&i.default.wait(function(){return u.clearPurchaseError()})},o.render=function(){var e=this.props,t=e.className,n=e.purchaseError,a=e.messageStyle;return null==n?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:t},void 0,this.getText(n,a))},a}(a.PureComponent);h.displayName="ApplicationStorePurchaseError",h.defaultProps={messageStyle:p.LONG};var v=l.default.connectStores([s.default],function(){return{purchaseError:s.default.error}})(h);t.default=v},6814:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(29);var o=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._interval=new a.Interval,n.update=function(){var e=n.props,t=e.onUpdate,r=e.numUpdatesToShow,a=e.pointsToSmooth,o=e.updateInterval,l=n.props.getHistoricalTotalBytes(),i=null!=l[0]?l[0].bytes:0,u=[].concat(n.state.deltaBytes.slice(1,r+a),[i-n.state.lastTotalBytes]);n.setState({deltaBytes:u,smoothedDeltaBytes:n.smoothDeltaBytes(u),lastTotalBytes:i},function(){return null!=t&&t(o)})};var r=n.props.getHistoricalTotalBytes(),o=n.calculateInitialDeltaBytes(r);return n.state={deltaBytes:o,smoothedDeltaBytes:n.smoothDeltaBytes(o),lastTotalBytes:null!=r[0]?r[0].bytes:0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.update(),this._interval.start(this.props.updateInterval,this.update)},o.componentWillUnmount=function(){this._interval.stop()},o.calculateInitialDeltaBytes=function(e){for(var t=this.props,n=t.numUpdatesToShow,r=t.updateInterval,a=t.pointsToSmooth,o=Date.now(),l=0,i=0,u=[],s=null!=e[0]?e[0].bytes:0;l<n+a;l++){for(var d=o-(l+1)*r,c=void 0;i<e.length&&(c=e[i]).timestamp>d;)i++;if(i===e.length)break;null!=c&&(u.push(s-c.bytes),s=c.bytes)}for(;l<n+a;l++)u.push(0);return u.reverse(),u},o.smoothDeltaBytes=function(e){for(var t=this.props.pointsToSmooth,n=[],r=0;r<e.length-t;r++){for(var a=0,o=0;o<t;o++)a+=e[r+o];n.push(a/t)}return n},o.render=function(){var e=this.props,t=e.numUpdatesToShow,n=e.updateInterval;return(0,e.children)(this.state.smoothedDeltaBytes,n,t)},r}(r.Component);o.displayName="ByteProgressSmoother",o.defaultProps={numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10};var l=o;t.default=l},6815:function(e,t,n){"use strict";t.__esModule=!0,t.showNotice=function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.CHANNEL_NOTICE_SHOW,noticeType:e,guild:t})},t.hideNotice=function(e){a.default.dirtyDispatch({type:o.ActionTypes.CHANNEL_NOTICE_HIDE,noticeType:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},6816:function(e,t,n){"use strict";t.__esModule=!0,t.areTypesInSameSection=u,t.getDropData=function(e,t,n,r,o){if(null==e||null==n)return null;var l=i.ChannelTypes.GUILD_CATEGORY;if(e.type===l)return r===t||r<t&&e.type===n.type?c(n):r>t?function(e,t,n){var r=i.ChannelTypes.GUILD_CATEGORY,a=n[(d(t,n,!0)||0)+1],o=s(-1,t.id,e.type,n);if(null==o||o&&o.channel.id===e.id)return null;if(null==a||a.channel.type===r)return{referenceId:o.channel.id,parentId:null};return null}(e,n,o):null;if(u(e.type,n.type))return c(n);if(r<t)return n.type===l?function(e,t,n){var r=i.ChannelTypes.GUILD_CATEGORY,o=i.ChannelTypes.GUILD_VOICE,l=n[(d(t,n,!0)||0)-1],c=s(1,t.id,e.type,n);if(null==l)return{referenceId:null,parentId:null};if(null!=c){if(u(l.channel.type,e.type)||e.type===o&&(0,a.isGuildSelectableChannelType)(l.channel.type))return{referenceId:c.channel.id,parentId:l.channel.parent_id};if(l.channel.type===r)return{referenceId:c.channel.id,parentId:l.channel.id}}return null}(e,n,o):function(e,t,n){var r=i.ChannelTypes.GUILD_CATEGORY,o=i.ChannelTypes.GUILD_VOICE,l=n[(d(t,n,!0)||0)-1],u=s(1,t.id,e.type,n);if(null==l&&e.type!==o)return{referenceId:null!=u?u.channel.id:null,parentId:null};if((0,a.isGuildSelectableChannelType)(e.type)&&null!=u&&((0,a.isGuildSelectableChannelType)(l.channel.type)||l.channel.type===r))return{referenceId:u.channel.id,parentId:t.parent_id};return null}(e,n,o);if(n.type===l)return function(e,t,n){var r=i.ChannelTypes.GUILD_CATEGORY,o=i.ChannelTypes.GUILD_VOICE,l=n[(d(t,n,!0)||0)+1],c=s(-1,t.id,e.type,n);if(null!=c){if(null==l)return{referenceId:c.channel.id,parentId:t.id};if(u(l.channel.type,e.type)||(0,a.isGuildSelectableChannelType)(e.type)&&l.channel.type===o)return{referenceId:c.channel.id,parentId:l.channel.parent_id};if(l.channel.type===r)return{referenceId:c.channel.id,parentId:t.id}}return null}(e,n,o);return function(e,t,n){var r=i.ChannelTypes.GUILD_CATEGORY,a=i.ChannelTypes.GUILD_VOICE,o=n[(d(t,n,!0)||0)+1],l=s(-1,t.id,e.type,n);if(null==l)return null;if(e.type===a){if(null==o||o.channel.type===r)return{referenceId:l.channel.id,parentId:t.parent_id};if(o.channel.type===a)return{referenceId:l.channel.id,parentId:o.channel.parent_id}}if(e.type===r&&(null==o||o.channel.type===r))return{referenceId:l.channel.id,parentId:null};return null}(e,n,o)},t.getDnDUpdates=function(e,t,n,r){var u,s,c=i.ChannelTypes.GUILD_CATEGORY,f=i.ChannelTypes.GUILD_VOICE,p=[],h=[],v=r._categories,m=function(t){var n;return n=null!=u&&null!=s&&function(e,t,n,r){if(null!=t&&null!=n&&null!=r[t]&&r[t].channel===e&&null!=r[n])return!0;return!1}(e,u,s,t)?l.default.moveItemFromTo(t,u,s):[].concat(t),p=p.concat(l.default.calculatePositionDeltas(t,n,function(e){return e.channel.id},function(e){return e.channel.position})),n};if(e.type===c){var _=[].concat(v).slice(1);u=d(e,_),s=d(t,_),(h=m(_)).unshift(v[0])}if((0,a.isGuildSelectableChannelType)(e.type)||e.type===c){var g=(0,o.getFlattenedChannelList)(h.length?h:v,r,function(e){var t=e.channel.type;return(0,a.isGuildSelectableChannelType)(t)});u=d(e,g),s=d(t,g),m(g)}if(e.type===f||e.type===c){var E=(0,o.getFlattenedChannelList)(h.length?h:v,r,function(e){return e.channel.type===f});u=d(e,E),s=d(t,E),m(E)}if(e.parent_id!==n){var y=!1;p.find(function(t){return t.id===e.id&&(t.parent_id=n,y=!0)}),y||p.push({id:e.id,parent_id:n})}return p};var r,a=n(67),o=n(226),l=(r=n(6762))&&r.__esModule?r:{default:r},i=n(1);function u(e,t){return null!=e&&null!=t&&(e===t||(0,a.isGuildSelectableChannelType)(e)&&(0,a.isGuildSelectableChannelType)(t))}function s(e,t,n,r){var a=-1;if(r.find(function(e,n){return e.channel.id===t&&(a=n,!0)}),a<0)return null;for(var o=a;o>=0&&o<r.length;o+=e){var l=r[o];if(u(l.channel.type,n))return l}return null}function d(e,t,n){if(void 0===n&&(n=!1),null==e)return 0;var r=null;return t.filter(function(t){var r=t.channel.type;return null!=e&&(n||u(e.type,r))}).find(function(t,n){var a=t.channel.id;return null!=e&&a===e.id&&(r=n,!0)}),r}function c(e){return{referenceId:e.id,parentId:e.parent_id}}},6817:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(892)),i=d(n(118)),u=d(n(121)),s=d(n(6109));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h={friction:10,tension:300},v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={translateY:new i.default.Value},n}p(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!(0,u.default)(this.props,e,["animate"])||!(0,u.default)(this.state,t)},n.componentDidMount=function(){this.props.hide?this.state.translateY.setValue(1):this.state.translateY.setValue(0)},n.componentDidUpdate=function(e){var t=e.hide,n=this.props.hide;n&&!t?this.animateOut():!n&&t&&this.animateIn()},n.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},n.animateIn=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?this._timeout=setTimeout(function(){i.default.spring(e,f({toValue:0},h)).start()},100):e.setValue(0)},n.animateOut=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?i.default.spring(e,f({toValue:1},h)).start():e.setValue(1)},n.render=function(){var e=this.props,t=e.className,n=e.text,r=e.onClick;return c(i.default.div,{className:(0,o.default)(s.default.bar,t),onClick:r,style:this.getAnimatedStyle()},void 0,c("span",{className:s.default.text},void 0,n))},n.getAnimatedStyle=function(){var e=this.state.translateY,t=this.props.reverse;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"180%":"-180%"]})}]}},t}(a.Component);v.displayName="Bar";var m=200,_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={unread:null,mention:null},t.calculateState=(0,l.default)(function(){var e=t.props,n=e.items,r=e.expandedFolders,a=e.isVisible,o=e.isUnread,l=e.isMentioned,i=e.reverse,u=e.onCalculate,s=null,d=null,c=[];n.forEach(function(e){"string"==typeof e?c.push(e):"object"==typeof e&&null!=e.folderId?null!=r&&r.has(e.folderId)?(c.push("folder:"+e.folderId),e.guildIds.forEach(function(e){return c.push(e)})):c.push(e.guildIds):c.push(e.guildIds[0])});for(var f=function(e){null==s&&l(e,i,c)&&(s=e),null==d&&o(e,i,c)&&(d=e)},p=i?c.length-1:0,h=c[p];null!=h;){if("string"==typeof h){if(a(h,i,c))break;f(h)}else{var v=!1,m=h,_=Array.isArray(m),g=0;for(m=_?m:m[Symbol.iterator]();;){var E;if(_){if(g>=m.length)break;E=m[g++]}else{if((g=m.next()).done)break;E=g.value}var y=E;if(a(y,i,c)){v=!0;break}f(y)}if(v)break}h=c[p+=i?-1:1]}null!=u&&u(s,d,i),t.setState({mention:s,unread:d})},m),t.handleClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.state,r=n.unread,a=n.mention,o=t.props.onJumpTo,l=a||r;null!=l&&o(l,[a,r])},t}p(t,e);var n=t.prototype;return n.componentDidMount=function(){this.calculateState()},n.componentDidUpdate=function(){this.calculateState()},n.componentWillUnmount=function(){this.calculateState.cancel()},n.render=function(){var e=this.state,t=e.unread,n=e.mention,r=this.props,a=r.textMention,l=r.textUnread,i=r.reverse,u=r.className,d=r.barClassName,f=r.hide,p=r.animate;return c("div",{className:u},void 0,c(v,{hide:!0===f||null==t&&null==n,className:(0,o.default)(d,null!=n?s.default.mention:s.default.unread),text:null!=n?a:l,reverse:i,animate:p,onClick:this.handleClick}))},t}(a.PureComponent);_.displayName="UnreadBar",_.defaultProps={className:s.default.container,reverse:!1,hide:!1,animate:!0};var g=_;t.default=g},6818:function(e,t,n){"use strict";t.__esModule=!0,t.makeVoiceUserDroppable=function(e){return(0,r.DropTarget)(s,{canDrop:function(e){var t=e.channel,n=o.default.getCurrentUser();return l.default.can(i.Permissions.MOVE_MEMBERS,n,t)&&l.default.can(i.Permissions.CONNECT,n,t)},drop:function(e,t){var n=e.channel;a.default.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},function(e,t){return{connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}})(e)},t.makeVoiceUserDraggable=function(e){return(0,r.DragSource)(s,{canDrag:function(e){return e.canDrag},beginDrag:function(e){return{user:e.user}}},function(e){return{connectUserDragSource:e.dragSource()}})(e)};var r=n(866),a=u(n(139)),o=u(n(11)),l=u(n(73)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s="DRAGGABLE_USER"},6819:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=g(n(3)),l=n(45),i=g(n(2)),u=n(184),s=n(330),d=g(n(333)),c=g(n(6632)),f=g(n(903)),p=g(n(225)),h=g(n(275)),v=g(n(40)),m=g(n(11)),_=g(n(6765));n(1);function g(e){return e&&e.__esModule?e:{default:e}}function E(){return!0}var y=new Set(["21154681615024128","520070086158057513"]),S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default,h.default),this.syncWith([p.default],E)},a.getExperimentId=function(){return d.default.GUILD_VIDEO},a.getMetaData=function(){return{title:"Guild Video",description:["Treatment 1: Enable guild video."]}},a.getExperimentDescriptor=function(e){return p.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?_.default.getExperimentAssignment(e,this.getExperimentId()):null)},a.isAvailable=function(e){if(!v.default.supports(l.Features.VIDEO))return!1;if((0,c.default)(v.default,m.default)&&!y.has(e))return!1;var t=this.getExperimentDescriptor(e),n=h.default.getMemberCount(e)||0;return null==t||t.bucket===u.ExperimentBuckets.NOT_ELIGIBLE||n>50?f.default.isDeveloper:((0,s.triggerExperiment)(d.default.GUILD_VIDEO,t),t.bucket===u.ExperimentBuckets.TREATMENT_1)},r}(o.default.Store))(i.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0}});(0,s.registerExperimentLegacy)(S,((a={})[u.ExperimentTypes.USER]=((r={})[u.ExperimentBuckets.CONTROL]=function(){return null},r[u.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var I=S;t.default=I},6820:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(122)),i=c(n(58)),u=c(n(42)),s=c(n(271)),d=c(n(6115));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){var n=e instanceof l.default?e:null!=e?e.user:null;return null!=n?n.id:"user-"+t}function h(e){return f("div",{className:d.default.moreUsers},void 0,e)}h.displayName="defaultRenderMoreUsers";var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this)._ref=a.createRef(),t.defaultRenderUser=function(e,n){var r=t.props.onClick;if(null==e)return f("div",{className:(0,o.default)(d.default.emptyUser)});var a=f("img",{src:e.getAvatarURL("png"),alt:e.username,className:d.default.avatar},e.id);return null!=r?f(i.default,{className:d.default.clickableAvatar,onClick:function(n){return r(n,e,t._ref.current)}},e.id,a):a},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,r=e.renderUser,o=void 0===r?this.defaultRenderUser:r,l=e.renderMoreUsers,i=[],u=t.length===n?t.length:n-1,c=0;c<u&&c<t.length;){var h=c===t.length-1,v=o(t[c],h);i.push(h?f("div",{className:d.default.avatarContainer},p(t[c]||null,c),v):f(s.default,{className:d.default.avatarContainerMasked,mask:s.default.Masks.VOICE_USER_SUMMARY_ITEM},p(t[c],c),v)),c++}if(c<t.length){var m=Math.min(t.length-c,99);i.push(f(a.Fragment,{},"more-users",l("+"+m,m)))}return i},l.renderIcon=function(){return this.props.renderIcon?f(u.default,{name:u.default.Names.SPEAKER,foreground:d.default.foreground,className:d.default.icon}):null},l.render=function(){var e=this.props.className;return a.createElement("div",{className:(0,o.default)(e,d.default.container),ref:this._ref},this.renderIcon(),this.renderUsers())},r}(a.PureComponent);v.displayName="UserSummaryItem",v.defaultProps={max:10,renderMoreUsers:h,renderIcon:!1};var m=v;t.default=m},6821:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LurkingGuild=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=G(n(8)),l=n(866),i=G(n(3)),u=G(n(121)),s=n(29),d=G(n(140)),c=n(35),f=G(n(337)),p=G(n(6564)),h=G(n(98)),v=G(n(10)),m=G(n(344)),_=G(n(860)),g=G(n(273)),E=G(n(6541)),y=G(n(19)),S=G(n(191)),I=G(n(39)),T=G(n(340)),O=G(n(185)),N=G(n(6572)),C=n(6531),A=G(n(6573)),M=G(n(6661)),P=n(88),R=n(270),b=n(6571),L=G(n(6660)),D=n(6822),w=n(1),U=G(n(5937));function G(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=200,j={analyticsSource:{page:w.AnalyticsPages.GUILD_CHANNEL,section:w.AnalyticsSections.CHANNEL_LIST,object:w.AnalyticsObjects.CHANNEL}},H=k("div",{},void 0,k(b.DragPlaceholder,{})),V=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1,isDropHovering:!1,isPreviewingFolder:!1},t.setDropHoveringDelayedCall=new s.DelayedCall(B,function(){return t.setState({isDropHovering:!0})}),t.getMemoizedTo=(0,R.cachedFunction)(function(e){return{pathname:e,state:j}}),t.handleMouseDown=function(){var e=t.props,n=e.guild,r=e.selectedChannelId,a=e.unavailable;null==n||null==r||a||d.default.preload(n.id,r)},t.handleContextMenu=function(e){var n=t.props,r=n.guild,o=n.selectedChannelId;if(null!=r){var l=w.Routes.CHANNEL(r.id,o);(0,c.openContextMenu)(e,function(e){return a.createElement(p.default,F({},e,{type:w.ContextMenuTypes.GUILD_ICON_BAR,guild:r,link:l}))})}},t.handleMouseLeave=function(){!t.props.sorting&&t.setState({hovered:!1})},t.handleMouseEnter=function(){!t.props.sorting&&t.setState({hovered:!0})},t.handleDragOverChanged=function(e){e?t.setDropHoveringDelayedCall.delay():(t.setDropHoveringDelayedCall.cancel(),t.setState({isDropHovering:!1}))},t.handleFolderPreviewAnimationStart=function(){t.state.isDropHovering&&t.setState({isPreviewingFolder:!0})},t.handleFolderPreviewAnimationRest=function(){!t.state.isDropHovering&&t.setState({isPreviewingFolder:!1})},t.setRef=function(e){var n=t.props,r=n.setRef,a=n.guildId;null!=r&&r(a,e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.sorting,r=t.hovered;return n&&r?{hovered:!1}:null};var l=r.prototype;return l.componentDidUpdate=function(e){var t=this.props,n=t.dragging,r=t.guildId,a=t.onDragStart;n&&!e.dragging&&null!=a&&a(r)},l.componentWillUnmount=function(){this.setDropHoveringDelayedCall.cancel()},l.render=function(){var e=this.props,t=e.guild,n=e.selected,r=e.unread,l=e.setRef,i=e.draggable,u=e.badge,s=e.connectDragSource,d=e.sorting,c=e.draggingGuildId,f=e.audio,p=e.video,h=e.unavailable,v=e.animatable,m=e.selectedChannelId,_=e.folderIndex,g=e.index,E=this.state,y=E.hovered,S=E.isDropHovering,I=E.isPreviewingFolder;if(null==t)return null;var T,O,P=c===t.id;if(P)T=H;else{var R,G=S||I?k(D.FolderIconPreview,{guild:t,show:S,active:n,onAnimationStart:this.handleFolderPreviewAnimationStart,onAnimationRest:this.handleFolderPreviewAnimationRest}):k(M.default,{to:this.getMemoizedTo(w.Routes.CHANNEL(t.id,m)),name:t.toString(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,icon:t.getIconURL(y&&v?"gif":"jpg"),selected:n||y}),F=h?(0,b.renderUnavailableBadge)():(0,b.renderIconBadge)(f,p),B=u>0?(0,b.renderMentionBadge)(u):null;T=k("div",{className:(0,o.default)(U.default.blobContainer,(R={},R[U.default.sorting]=d,R[U.default.wobble]=S,R))},void 0,k(A.default,{selected:S||n||y,upperBadge:F,lowerBadge:B,lowerBadgeWidth:(0,C.getBadgeWidthForValue)(u)},void 0,G)),i&&null!=s&&(T=s(T))}return i&&null!=_&&(O=k(L.default,{folderIndex:_,index:g,onDragOverChanged:this.handleDragOverChanged})),(0,b.renderListItem)(k(a.Fragment,{},void 0,k(N.default,{hovered:!P&&y,selected:!P&&n,unread:!P&&r,className:U.default.pill}),k(b.ListItemTooltip,{text:t.toString(),disabled:d,disableWrapper:!0},void 0,T),O),null!=l?this.setRef:null)},r}(a.PureComponent);V.displayName="Guild",V.defaultProps={unread:!1,audio:!1,video:!1,unavailable:!1,badge:0,draggable:!0,sorting:!1};t.LurkingGuild=function(e){var t=e.guild,n=e.guildId,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["guild","guildId"]);return null!=t&&null!=n?a.createElement(V,F({guildId:n,guild:t,draggable:!1,dragging:!1},r)):null};var x,Y=(x=i.default.connectStores([y.default,g.default,_.default,m.default,S.default,E.default,h.default,I.default,O.default],function(e){var t=e.guildId,n=y.default.getGuild(t),r=g.default.isUnavailable(t),a=S.default.isDisabled()?null:S.default.getChannelId(),o=S.default.isDisabled()?null:S.default.getGuildId(),l=_.default.getGuildId(),i=m.default.getMode(a),u=h.default.getActiveStream(),s=!1,d=!1;return o===t&&(s=i===w.ChannelModes.VOICE,d=i===w.ChannelModes.VIDEO),d||null==u||(d=u.guildId===t&&u.ownerId===v.default.getId()),{guild:n,selectedChannelId:I.default.getChannelId(t),animatable:O.default.isFocused()&&null!=n&&(0,P.hasAnimatedGuildIcon)(n),selected:l===t,badge:E.default.getMentionCount(t),unread:E.default.hasUnread(t),audio:s,video:d,unavailable:r}},{forwardRef:!0})(V),(0,l.DragSource)(w.GuildsBarDragTypes.GUILD,{beginDrag:function(e){return{folderIndex:e.folderIndex,index:e.index}},endDrag:function(e){e.onDragEnd(),f.default.updateRemoteSettings({guildFolders:T.default.guildFolders})}},function(e,t){return{connectDragSource:e.dragSource(),dragging:t.isDragging()}},{arePropsEqual:u.default})(x));t.default=Y},6822:function(e,t,n){"use strict";t.__esModule=!0,t.FolderIconPreview=function(e){var t=e.guild,n=e.show,r=e.active,a=e.onAnimationStart,i=e.onAnimationRest,u={},s={};u.transform="translate3d(10px, 10px, 0) scale3d(3, 3, 1)",s.transform="translate3d(0, 0, 0) scale3d(1, 1, 1)",r&&null==t.icon&&(u.backgroundColor=T.Colors.BRAND,s.backgroundColor=T.Colors.PRIMARY_DARK_630);return(0,l.useTransition)(n,null,{from:u,enter:s,leave:u,config:{duration:100},onStart:a,onRest:i}).map(function(e){var n=e.item,r=e.key,a=e.props;return n&&R("div",{className:(0,o.default)(C.default.folder,C.default.hover)},r,R("div",{className:C.default.folderIconWrapper},void 0,R("div",{className:C.default.closedFolderIconWrapper},void 0,R(l.animated.div,{className:C.default.folderIconPreview,style:a},void 0,R(h.default,{guild:t,size:h.default.Sizes.SMOL,className:C.default.guildIcon})),R(y.DragPlaceholder,{className:C.default.miniPlaceholder}))))})},t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=A(n(8)),l=n(157),i=n(158),u=n(3),s=n(35),d=A(n(139)),c=A(n(6564)),f=A(n(19)),p=A(n(58)),h=A(n(6521)),v=A(n(42)),m=A(n(6572)),_=n(6531),g=A(n(6573)),E=n(190),y=n(6571),S=A(n(6821)),I=A(n(6660)),T=n(1),O=A(n(4)),N=A(n(5937)),C=A(n(6125));function A(e){return e&&e.__esModule?e:{default:e}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=(0,E.cssValueToNumber)(C.default.animationDuration),L=(0,E.cssValueToNumber)(C.default.guildIconSize),D=(0,E.cssValueToNumber)(C.default.guildIconMargin),w=.4;function U(e){var t=e.guildId,n=e.animate,r=(0,u.useStateFromStores)([f.default],function(){return f.default.getGuild(t)},[t]);return null==r?R("div",{className:C.default.guildIconUnavailable},void 0,"!"):R(h.default,{guild:r,animate:n,size:h.default.Sizes.SMOL,className:C.default.guildIcon})}function G(e){var t,n,r=e.guildIds,o=e.color,u=e.hovered,s=e.expanded,d=e.isDropHovered,c=null!=o?o:T.DEFAULT_FOLDER_COLOR,f=a.useState(!1),p=f[0],h=f[1],m=a.useState(s),_=m[0],g=m[1],E=s?0:-L,S=(0,l.useSpring)({transform:"translate3d(0, "+E+"px, 0)",config:{duration:b},onStart:function(){h(!0),g(s)},onRest:function(){h(!1)}}),I=p?S:null;if((p||_)&&(t=R(l.animated.div,{style:I,className:C.default.expandedFolderIconWrapper},void 0,R(v.default,{name:v.default.Names.FOLDER,style:{color:(0,i.int2hex)(c)}}))),p||!_||d){var O=d&&r.length<4?R(y.DragPlaceholder,{className:C.default.miniPlaceholder}):null;n=R(l.animated.div,{style:I,className:C.default.closedFolderIconWrapper},void 0,r.slice(0,4).map(function(e){return R(U,{guildId:e,animate:u},e)}),O)}return R("div",{style:s?null:{backgroundColor:(0,i.int2rgba)(c,w)},className:C.default.folderIconWrapper},void 0,t,n)}function k(e){var t=e.expanded,n=e.sorting,r=e.draggingGuildId,a=e.guildIds,o=e.folderIndex,i=e.setRef,u=e.onDragStart,s=e.onDragEnd,d=(0,l.useTransition)(t,null,{from:{height:0},enter:{height:1},leave:{height:0},config:{duration:b}}),c=a.map(function(e,t){return R(S.default,{guildId:e,nested:!0,draggable:!0,sorting:n,draggingGuildId:r,folderIndex:o,index:t,setRef:i,onDragStart:u,onDragEnd:s},e)}),f=a.length*(L+D);return d.map(function(e){var t=e.item,n=e.key,r=e.props;return t&&R(l.animated.div,{style:{height:r.height.interpolate(function(e){return e*f})},className:C.default.expandedGuilds},n,c)})}U.displayName="GuildIcon",G.displayName="FolderIcon";var F=R("div",{},void 0,R(y.DragPlaceholder,{})),B=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1,isDropHovering:!1},t.handleClick=function(){var e=t.props.folderId;d.default.toggleGuildFolderExpand(e)},t.handleContextMenu=function(e){var n=t.props,r=n.folderId,o=n.unread,l=n.badge,i=n.folderName,u=n.folderColor;(0,s.openContextMenu)(e,function(e){return a.createElement(c.default,M({},e,{folderId:r,folderName:i,folderColor:u,unread:o||l>0,type:T.ContextMenuTypes.GUILD_ICON_FOLDER}))})},t.handleMouseLeave=function(){!t.props.sorting&&t.setState({hovered:!1})},t.handleMouseEnter=function(){!t.props.sorting&&t.setState({hovered:!0})},t.handleDragOverChanged=function(e){t.setState({isDropHovering:e})},t.setRef=function(e){var n=t.props,r=n.setFolderRef,a=n.folderId;null!=r&&r(a,e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.sorting,r=t.hovered;return n&&r?{hovered:!1}:null};var l,i,u,f=r.prototype;return f.componentDidUpdate=function(e){var t=this.props,n=t.dragging,r=t.onDragStart;n&&!e.dragging&&null!=r&&r(null)},f.renderFolderIcon=function(){var e,t,n,r=this.props,l=r.guildIds,i=r.folderName,u=r.folderColor,s=r.selected,d=r.expanded,c=r.unread,f=r.sorting,h=r.draggable,v=r.dragging,E=r.badge,S=r.connectDragSource,T=r.audio,A=r.video,M=r.index,P=r.defaultFolderName,b=this.state,L=b.hovered,D=b.isDropHovering;v?e=F:(e=R("div",{className:(0,o.default)((t={},t[N.default.wobble]=D&&!d,t))},void 0,R(g.default,{selected:!0,upperBadge:d||!T&&!A?null:(0,y.renderIconBadge)(T,A),lowerBadge:!d&&E>0?(0,y.renderMentionBadge)(E):null,lowerBadgeWidth:(0,_.getBadgeWidthForValue)(E)},void 0,R(p.default,{className:(0,o.default)(C.default.folder,(n={},n[C.default.hover]=this.isHovering,n)),onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,R(G,{guildIds:l,color:u,hovered:L,expanded:d,isDropHovered:D})))),h&&null!=S&&(e=S(e)));return(0,y.renderListItem)(R(a.Fragment,{},void 0,R(m.default,{hovered:!v&&!d&&L,selected:!v&&!d&&s,unread:!v&&!d&&c,className:N.default.pill}),R(y.ListItemTooltip,{text:i||P||O.default.Messages.SERVER_FOLDER_PLACEHOLDER,disabled:f,disableWrapper:!0},void 0,e),R(I.default,{folderIndex:M,isExpandedFolder:d,onDragOverChanged:this.handleDragOverChanged})))},f.renderExpandedGuilds=function(){var e=this.props,t=e.guildIds,n=e.dragging,r=e.sorting,a=e.draggingGuildId,o=e.index;return R(k,{expanded:e.expanded&&!n,sorting:r,draggingGuildId:a,guildIds:t,setRef:e.setGuildRef,folderIndex:o,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd})},f.render=function(){var e,t=this.props,n=t.dragging,r=t.expanded;return a.createElement("div",{className:C.default.wrapper,ref:this.setRef},!n&&R("span",{className:(0,o.default)(C.default.expandedFolderBackground,(e={},e[C.default.collapsed]=!r,e[C.default.hover]=this.isHovering,e))}),this.renderFolderIcon(),this.renderExpandedGuilds())},l=r,(i=[{key:"isHovering",get:function(){var e=this.props,t=e.guildIds,n=e.draggingGuildId,r=this.state,a=r.hovered,o=r.isDropHovering,l=null!=n&&t.includes(n);return a||o||l}}])&&P(l.prototype,i),u&&P(l,u),r}(a.PureComponent);B.displayName="GuildFolder",B.defaultProps={muteConfig:null,unread:!1,audio:!1,video:!1,badge:0,draggable:!0};var j=B;t.default=j},6823:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(8)),l=n(357),i=h(n(24)),u=h(n(203)),s=h(n(71)),d=n(7337),c=n(190),f=h(n(4)),p=h(n(6133));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,h,_,g=r.prototype;return g.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return v(s.default,{className:(0,o.default)(p.default.description,n)},void 0,t instanceof l.CreditCardSourceRecord?f.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,c.upperCaseFirstChar)(t.brand),last_4:t.last4}):f.default.Messages.PAYMENT_SOURCE_PAYPAL)},g.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r="";return t instanceof l.CreditCardSourceRecord?r=f.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof l.PaypalSourceRecord&&(r=t.email),r},g.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,r=e.showSubtext,a=e.isForSubscription;return v(i.default,{},void 0,v(u.default,{type:this.typeString}),v(i.default,{direction:i.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,v(i.default,{align:i.default.Align.CENTER},void 0,this.renderDescription(),t?v("div",{className:p.default.defaultIndicator},void 0,f.default.Messages.DEFAULT):null,a?v("div",{className:p.default.premiumIndicator},void 0,f.default.Messages.PAYMENT_SOURCE_SUBSCRIPTION):null,n.invalid?v("div",{className:p.default.invalidIndicator},void 0,f.default.Messages.PAYMENT_SOURCE_INVALID):null),r?v("div",{className:p.default.subText},void 0,this.renderSubText()):null))},a=r,(h=[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof l.PaypalSourceRecord?u.default.Types.PAYPAL:e instanceof l.CreditCardSourceRecord?u.default.getType(e.brand):u.default.Types.UNKNOWN}}])&&m(a.prototype,h),_&&m(a,_),r}(a.PureComponent);t.default=_,_.displayName="PaymentDescription",_.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},6824:function(e,t,n){"use strict";t.__esModule=!0,t.default=Ie;var r,a=oe(n(0)),o=ae(n(8)),l=ae(n(16)),i=ae(n(6)),u=oe(n(3)),s=ae(n(7341)),d=n(29),c=ae(n(107)),f=n(195),p=n(184),h=ae(n(6655)),v=ae(n(6664)),m=n(925),_=n(889),g=ae(n(6796)),E=ae(n(5929)),y=ae(n(6578)),S=ae(n(493)),I=ae(n(14)),T=ae(n(22)),O=ae(n(87)),N=ae(n(19)),C=ae(n(54)),A=ae(n(39)),M=ae(n(11)),P=ae(n(72)),R=ae(n(469)),b=oe(n(21)),L=ae(n(457)),D=ae(n(58)),w=ae(n(24)),U=ae(n(267)),G=ae(n(6825)),k=ae(n(42)),F=ae(n(6525)),B=ae(n(152)),j=ae(n(6969)),H=ae(n(182)),V=n(65),x=ae(n(75)),Y=n(136),W=n(265),z=ae(n(257)),K=ae(n(6820)),$=ae(n(15)),Q=n(270),X=ae(n(20)),q=ae(n(281)),J=ae(n(13)),Z=ae(n(882)),ee=ae(n(6795)),te=n(1),ne=ae(n(4)),re=ae(n(6139));function ae(e){return e&&e.__esModule?e:{default:e}}function oe(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ue,se=5;!function(e){e.SELECT_SOURCE="select_source",e.SELECT_CHANNEL="select_channel"}(ue||(ue={}));var de,ce=[ue.SELECT_SOURCE,ue.SELECT_CHANNEL],fe=(0,Q.cachedFunction)(function(e,t){var n={};return(0,i.default)(e).forEach(function(e){var r=e.channelId,a=e.userId;if(null!=r){var o=n[r];null==o?n[r]=[a]:a===t?o.unshift(a):o.push(a)}}),n}),pe=function(e,t){var n=t.id,r=t.guild_id;return e.length<=1?null:2===e.length?ne.default.Messages.GO_LIVE_MODAL_OVERFLOW_TWO_USERS.format({nickname0:q.default.getName(r,n,e[0]),nickname1:q.default.getName(r,n,e[1])}):3===e.length?ne.default.Messages.GO_LIVE_MODAL_OVERFLOW_THREE_USERS.format({nickname0:q.default.getName(r,n,e[0]),nickname1:q.default.getName(r,n,e[1]),nickname2:q.default.getName(r,n,e[2])}):ne.default.Messages.GO_LIVE_MODAL_OVERFLOW_FOUR_OR_MORE_USERS.format({nickname0:q.default.getName(r,n,e[0]),nickname1:q.default.getName(r,n,e[1]),remainingCount:e.length-2})};function he(e){var t=e.children;return ie(L.default,{editable:!0,className:re.default.card},void 0,t)}function ve(e){var t,n=e.channel,r=e.users,a=e.selected,l=void 0!==a&&a,i=null;if(null!=r&&r.length>0){var u=r.map(function(e){return M.default.getUser(e)}).filter(Boolean);i=ie(K.default,{className:re.default.voiceUserList,users:u,renderUser:function(e){if(null==e)return null;var t=q.default.getName(n.guild_id,n.id,e),r=e.getAvatarURL();return ie(V.TooltipContainer,{text:t},void 0,ie("img",{src:null!=r?r:void 0,"aria-label":e.username,alt:"",className:re.default.avatar}))},renderMoreUsers:function(e){var t=u.slice(se-1),r=pe(t,n);return ie("div",{},void 0,ie(V.TooltipContainer,{text:r},void 0,ie("div",{className:re.default.userListOverflow},void 0,e)))},max:se})}return ie("div",{className:(0,o.default)(re.default.channelInfo,(t={},t[re.default.selected]=l,t))},void 0,ie(k.default,{name:n.getTitleIcon(),className:re.default.channelIcon}),ie("div",{className:re.default.channelName},void 0,n.name),i)}he.displayName="RowCard",ve.displayName="RadioItem",function(e){e.WINDOW="window",e.SCREEN="screen"}(de||(de={}));var me=[{name:ne.default.Messages.GO_LIVE_MODAL_PROGRAMS,value:de.WINDOW},{name:ne.default.Messages.GO_LIVE_MODAL_SCREENS,value:de.SCREEN}];function _e(e,t){return null!=t&&e.id.startsWith("window:"+t)}var ge=ie(H.default,{}),Ee=function(e){var t,n;function r(t){var n,r;(r=e.call(this,t)||this).sourcesInterval=new d.Interval,r.sourcePriority=function(e){var t=r.props,n=t.runningGame,a=t.runningGames;return null!=n&&_e(e,n.windowHandle)?2:null!=a.find(function(t){return _e(e,t.windowHandle)})?1:0},r.updateSources=function(){r.fetchSources().then(function(e){return r.setState(le({},e))})},r.fetchSources=function(){return(0,s.default)([de.WINDOW,de.SCREEN],{width:176,height:99}).then(function(e){var t=e.filter(function(e){return e.id.startsWith(de.SCREEN)});return{windowSources:e.filter(function(e){return e.id.startsWith(de.WINDOW)}).sort(function(e,t){return r.sourcePriority(t)-r.sourcePriority(e)}),screenSources:t}})},r.close=function(){(0,r.props.onClose)()},r.getSelectedRunningGame=function(){var e=r.props,t=e.runningGame,n=e.runningGames,a=r.state.selectedSource;return null==a?t:n.find(function(e){return _e(a,e.windowHandle)})},r.handleScroll=function(e){r.setState({topSeparator:e.getScrollbarOffset()>0,bottomSeparator:!e.isScrolledToBottom()})},r.handleSelectChannel=function(e){r.setState({selectedChannelId:e.value})},r.handleSubmit=function(e){if(e.preventDefault(),r.state.step!==ue.SELECT_SOURCE){var t=r.getSelectedRunningGame();X.default.supportsFeature(te.NativeFeatures.ELEVATED_HOOK)&&null!=t&&t.elevated?r.handleRequestElevatedPermissions():r.handleGoLive()}else r.setState({step:ue.SELECT_CHANNEL})},r.handleRequestElevatedPermissions=function(){var e=r.props.runningGame,t=null!=e?e.pid:null;(0,W.openModal)(function(e){return a.createElement(ee.default,le({},e,{handleStream:r.handleGoLive,pid:t}))})},r.handleGoLive=function(){var e=r.props,t=e.runningGame,n=e.currentUserId,a=e.guildId,o=e.currentVoiceChannel,i=e.resolution,u=e.fps,s=r.state.selectedSource;(0,l.default)(null!=t||null!=s,"got nothing to stream");var d=r.getTargetChannelID();(0,l.default)(null!=d,"Received null target channel ID");var p=I.default.getChannel(d),h=null!=p?p.getGuildId():a;(0,l.default)(null!=h,"Could not find guild ID for channel"),null==o&&c.default.selectVoiceChannel(d);var v=i,_=u;(function(e,t,n,r){var a=M.default.getUser(n),o=N.default.getGuild(r),l=null!=a?a.premiumType:null,i=null!=o?o.premiumTier:null;return(0,g.default)(m.ApplicationStreamResolutionRequirements[e],l,i)&&(0,g.default)(m.ApplicationStreamFPSRequirements[t],l,i)})(v,_,n,h)||(v=m.ApplicationStreamResolutions.RESOLUTION_720,_=m.ApplicationStreamFPS.FPS_30);var E=r.getSelectedRunningGame(),y=!J.default.isWindows()||null==E||null==E?null:E.pid;(0,f.startGuildStream)(h,d,y,null==y&&null!=s?s.id:null,null==y&&null!=s?s.name:null),r.close()},r.handleChangeSource=function(){r.setState({step:ue.SELECT_SOURCE})},r.handleSelectSource=function(e){r.setState({selectedSource:e,sourceChanged:!0},function(){return r.setState({step:ue.SELECT_CHANNEL})})},r.handleSelectSegment=function(e){var t=e.value;r.setState({selectedSegment:t})},r.stepRenderer=((n={})[ue.SELECT_SOURCE]={renderBody:function(){return r.renderSources()}},n[ue.SELECT_CHANNEL]={renderBody:function(){var e=r.props,t=e.currentVoiceChannel,n=e.driversOutdated,o=r.state.selectedSource;return ie(a.Fragment,{},void 0,r.renderSource(),null!=o&&o.id.startsWith("screen")?r.renderWarning(ne.default.Messages.GO_LIVE_SCREENSHARE_NO_SOUND):null,null!=t&&null!=t.getGuildId()?r.renderCurrentChannel(t):r.renderChannelSelect(),n?r.renderWarning(ne.default.Messages.GO_LIVE_VIDEO_DRIVERS_OUTDATED):null)}},n);var o=t.voiceChannels,i=t.startWithScreens;return(0,l.default)(null!=t.runningGame||t.allowScreenshare,"cannot screenshare"),r.state={selectedChannelId:o.length>0?o[0].id:null,topSeparator:!1,bottomSeparator:!1,step:i||null==t.runningGame?ue.SELECT_SOURCE:ue.SELECT_CHANNEL,windowSources:null,screenSources:null,selectedSource:null,selectedSegment:de.WINDOW,sourceChanged:!1},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this,t=this.props,n=t.application,r=t.runningGame,a=t.analyticsLocation;this.fetchSources().then(function(t){var n=t.screenSources,a=t.windowSources,o=null;null!=r&&(o=a.find(function(e){return _e(e,r.windowHandle)})),e.setState({screenSources:n,windowSources:a,selectedSource:o})}),this.state.step===ue.SELECT_SOURCE&&this.sourcesInterval.start(1e3,this.updateSources),$.default.track(te.AnalyticEvents.OPEN_MODAL,{Type:"Go Live Modal",application_id:null!=n?n.id:null,application_name:null!=r?r.name:null,game_id:null!=n?n.id:null,location_section:a})},i.componentDidUpdate=function(e,t){this.state.step===ue.SELECT_SOURCE&&t.step!==ue.SELECT_SOURCE?this.sourcesInterval.start(1e3,this.updateSources):this.state.step===ue.SELECT_CHANNEL&&this.sourcesInterval.stop()},i.componentWillUnmount=function(){this.sourcesInterval.stop()},i.getTargetChannelID=function(){var e=this.props.currentVoiceChannel,t=this.state.selectedChannelId;return null!=e?e.id:t},i.renderSource=function(){var e=this.props,t=e.application,n=e.runningGame,r=e.runningApplications,a=e.allowScreenshare,o=this.state,l=o.selectedSource,i=o.sourceChanged,u=null;if(null!=l?u=l.name:null!=n&&(u=n.name),null==u)return null;var s=this.getSelectedRunningGame(),d=i?r.find(function(e){return null!=s&&e.id===s.id}):t;return ie(Y.FormItem,{title:ne.default.Messages.GO_LIVE_MODAL_APPLICATION_FORM_TITLE,className:re.default.modalContent,titleClassName:re.default.formItemTitle},void 0,ie(he,{},void 0,null!=d?ie(U.default,{game:d,size:U.default.Sizes.XSMALL,className:re.default.gameIcon}):ie(k.default,{name:null!=l&&l.id.startsWith("screen")?k.default.Names.MONITOR:k.default.Names.WINDOW,className:re.default.gameIcon}),ie("span",{className:re.default.ellipsisText},void 0,u),a?ie(b.default,{className:re.default.changeButton,color:b.default.Colors.GREY,size:b.default.Sizes.SMALL,onClick:this.handleChangeSource},void 0,ne.default.Messages.CHANGE):null))},i.renderCurrentChannel=function(e){var t=this.props,n=t.currentUserId,r=t.currentChannelVoiceStates,a=fe(r,n)[e.id];return ie(Y.FormItem,{title:ne.default.Messages.GO_LIVE_MODAL_CURRENT_CHANNEL_FORM_TITLE,className:(0,o.default)(re.default.modalContent,re.default.marginBottom),titleClassName:re.default.formItemTitle},void 0,ie(he,{},void 0,ie(ve,{channel:e,users:a})))},i.renderChannelSelect=function(){var e,t,n=this.props,r=n.currentUserId,l=n.voiceChannels,i=n.voiceStates,u=this.state,s=u.selectedChannelId,d=u.topSeparator,c=u.bottomSeparator,f=fe(i,r),p=l.map(function(e){return{name:ie(ve,{channel:e,users:f[e.id],selected:e.id===s}),value:e.id}});return ie(a.Fragment,{},void 0,ie("div",{className:(0,o.default)(re.default.channelSelectFormTitle,(e={},e[re.default.separator]=d,e))},void 0,ie(Y.FormTitle,{className:re.default.formItemTitle},void 0,ne.default.Messages.GO_LIVE_MODAL_SELECT_CHANNEL_FORM_TITLE)),ie(B.default,{fade:!0,theme:B.default.Themes.GHOST_HAIRLINE,outerClassName:(0,o.default)(re.default.searchScroller,re.default.marginBottom,(t={},t[re.default.bottomSeparator]=c,t)),className:re.default.searchScrollerInner,onScroll:this.handleScroll},void 0,ie(F.default,{options:p,value:s,itemInfoClassName:re.default.channelInfoWrapper,onChange:this.handleSelectChannel})))},i.renderHeader=function(){var e=this.state.step;return ie(x.default.Header,{className:re.default.modalHeader,separator:!1},void 0,ie(w.default,{direction:w.default.Direction.VERTICAL,align:w.default.Align.CENTER,className:re.default.header},void 0,ie("h4",{className:re.default.headerText},void 0,ne.default.Messages.GO_LIVE_MODAL_TITLE),ie(z.default,{className:re.default.headerDescription,size:z.default.Sizes.SIZE_16,color:z.default.Colors.CUSTOM},void 0,e===ue.SELECT_SOURCE?ne.default.Messages.GO_LIVE_MODAL_DESCRIPTION_SELECT_SOURCE:ne.default.Messages.GO_LIVE_MODAL_DESCRIPTION)),ie(x.default.CloseButton,{onClick:this.close,className:re.default.modalCloseButton}))},i.renderSources=function(){var e,t=this,n=this.state,r=n.windowSources,l=n.screenSources,i=n.selectedSource,u=n.selectedSegment,s=n.topSeparator,d=u===de.WINDOW?r:l;if(null==d)return ie(w.default,{className:re.default.spinner,justify:w.default.Justify.CENTER,align:w.default.Align.CENTER},void 0,ge);var c=d.map(function(e){var n,r,a,l=e.id,u=e.name,s=e.url,d=null!=i&&i.id===l;return ie(D.default,{className:(0,o.default)(re.default.tile,(n={},n[re.default.selected]=d,n)),onClick:function(){return t.handleSelectSource(e)}},l,ie(w.default,{direction:w.default.Direction.VERTICAL,justify:w.default.Justify.CENTER,align:w.default.Align.CENTER},void 0,ie(w.default,{justify:w.default.Justify.CENTER,align:w.default.Align.CENTER},void 0,ie("div",{style:{backgroundImage:"url("+s+")"},className:(0,o.default)(re.default.sourceThumbnail,(r={},r[re.default.selected]=d,r))})),ie(z.default,{className:(0,o.default)(re.default.sourceName,(a={},a[re.default.selected]=d,a))},void 0,u)))});return ie(a.Fragment,{},void 0,ie("div",{className:re.default.segmentContainer},void 0,ie("div",{className:(0,o.default)(re.default.divider,(e={},e[re.default.separator]=s,e))}),ie(j.default,{options:me,value:u,onChange:this.handleSelectSegment,className:re.default.segmentControl,optionClassName:re.default.segmentControlOption})),ie(B.default,{theme:B.default.Themes.GHOST_HAIRLINE,className:re.default.sourceScroller,onScroll:this.handleScroll},void 0,ie(G.default,{layout:G.default.Layout.WRAP,columns:2,className:re.default.sourceContainer},void 0,c)))},i.renderBody=function(){var e=this.state.step,t=this.stepRenderer[e].renderBody();return ie("div",{className:re.default.modalBody},void 0,ie(Z.default,{step:e,steps:ce},void 0,t))},i.renderFooter=function(){var e=this.props.runningGame,t=this.state,n=t.selectedSource,r=t.step,a=t.sourceChanged,o=r===ue.SELECT_SOURCE||null==n&&null==e||null==this.getTargetChannelID();return ie(x.default.Footer,{justify:w.default.Justify.BETWEEN},void 0,ie(b.default,{type:"submit",disabled:o,autoFocus:!0},void 0,ne.default.Messages.GO_LIVE_MODAL_CTA),r!==ue.SELECT_SOURCE&&a?ie(b.default,{color:b.ButtonColors.PRIMARY,onClick:this.handleChangeSource},void 0,ne.default.Messages.BACK):ie(b.default,{color:b.ButtonColors.PRIMARY,onClick:this.close},void 0,ne.default.Messages.CANCEL))},i.renderWarning=function(e){return ie(w.default,{align:w.default.Align.CENTER,className:re.default.warning},void 0,ie(k.default,{name:k.default.Names.WARNING_CIRCLE,className:re.default.warningIcon}),ie(z.default,{color:z.default.Colors.CUSTOM,size:z.default.Sizes.SIZE_12},void 0,e))},i.render=function(){return ie("div",{className:re.default.modalOverhang},void 0,ie(x.default,{size:re.default.modalSize},void 0,ie("form",{onSubmit:this.handleSubmit},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())),ie("div",{className:re.default.art}))},r}(a.PureComponent);Ee.displayName="GoLiveModal";var ye=(0,Q.cachedFunction)(_.getStreamEligibleChannels),Se=u.default.connectStores([I.default,T.default,O.default,C.default,M.default,P.default,S.default,A.default,E.default],function(e){var t=e.guildId,n=J.default.isWindows()?(0,y.default)(C.default,R.default):null,r=M.default.getCurrentUser(),a=A.default.getVoiceChannelId(),o=S.default.getState(),l=o.resolution,i=o.fps,u=C.default.getRunningGames(),s=u.map(function(e){return null!=e.id?T.default.getGame(e.id):null}).filter(Boolean),d=I.default.getChannel(a);return{runningGame:n,application:null!=n&&null!=n.id?T.default.getGame(n.id):null,currentUserId:r.id,currentVoiceChannel:d,currentChannelVoiceStates:P.default.getVoiceStatesForChannel(d),voiceChannels:ye(r,O.default.getChannels(t)),voiceStates:P.default.getVoiceStates(t),resolution:l,fps:i,runningGames:u,runningApplications:s,driversOutdated:E.default.GPUDriversOutdated,hardwareAccelerationUnavailable:!E.default.canUseHardwareAcceleration}})(Ee);function Ie(e){var t=(0,h.default)(v.default,e.guildId,te.AnalyticsLocations.GO_LIVE_MODAL),n=(0,u.useStateFromStores)([M.default],function(){return M.default.getCurrentUser()}),r=null!=n&&n.isStaff(),o=t===p.ExperimentBuckets.TREATMENT_1||t===p.ExperimentBuckets.TREATMENT_2;return a.createElement(Se,le({},e,{allowScreenshare:!__OVERLAY__&&(o||r)}))}Ie.displayName="GoLiveWithScreenshareExperiment"},6825:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=s(n(8)),i=s(n(24)),u=s(n(6137));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e.WRAP="wrap",e.STACK="stack"}(a||(a={}));var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderChildren=function(){var e,t=this.props,n=t.children,r=t.layout,o=t.columns;switch(r){case a.STACK:e="100%";break;case a.WRAP:e=1/o*100+"%"}return n.map(function(t,n){return d(i.default.Child,{className:u.default.tile,basis:e,grow:0},n,t)})},o.render=function(){var e=this.props.className;return d(i.default,{className:(0,l.default)(e,u.default.grid),wrap:i.default.Wrap.WRAP},void 0,this.renderChildren())},r}(o.PureComponent);c.displayName="Grid",c.Layout=a,c.defaultProps={children:[],layout:a.WRAP,columns:4};var f=c;t.default=f},6826:function(e,t,n){"use strict";t.__esModule=!0,t.default=i;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(8)),o=l(n(6149));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.application,n=e.splashSize,l=e.className,i=e.overrideSplash,u=null!=i?i:t.getSplashURL(n),s=null!=u?"url("+u+")":null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(o.default.splashBackground,l),style:{backgroundImage:s}})}i.displayName="ApplicationSplashBackground"},6827:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),o=C(n(3)),l=C(n(2)),i=n(377),u=n(877),s=A(n(164)),d=C(n(204)),c=C(n(50)),f=C(n(205)),p=C(n(380)),h=C(n(21)),v=C(n(24)),m=C(n(267)),_=C(n(348)),g=C(n(36)),E=n(466),y=n(154),S=C(n(359)),I=C(n(975)),T=n(1),O=C(n(4)),N=C(n(991));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(){return[O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_1,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_2,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_3,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_4]},R=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={confirmHeaderIndex:Math.floor(Math.random()*P().length),installPath:t.props.defaultInstallationPath,hasInstallPathError:!1,hasAcceptedNeccessaryTerms:!1},t.handleInstallPathChange=function(e,n){t.setState({installPath:e,hasInstallPathError:n})},t.handleInventoryClick=function(){g.default.transitionTo(T.Routes.APPLICATION_LIBRARY_INVENTORY),t.props.onClose()},t.handleGoToLibrary=function(){g.default.transitionTo(T.Routes.APPLICATION_LIBRARY),t.props.onClose()},t.handleInstall=function(){var e=t.props,n=e.application,r=e.branchId,a=e.buildId,o=e.hasPreviouslyAcceptedStoreTerms,l=e.manifestIds,i=e.onClose,d=t.state,c=d.installPath,f=d.hasInstallPathError;o||(0,u.acceptPurchaseTerms)(),null!=n.eulaId&&(0,u.acceptEULA)(n.eulaId),f||null==a||null==l||(s.installApplication(n,r,a,l,c,T.AnalyticsLocations.APPLICATION_STORE_PAYMENT_MODAL),i(),g.default.transitionTo(T.Routes.APPLICATION_LIBRARY))},t.handlePurchaseTermsChange=function(e){t.setState({hasAcceptedNeccessaryTerms:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.fetchInstallSize=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,o=e.buildSizeKB;null!=r&&null!=a&&null==o&&l.default.wait(function(){(0,i.fetchBuildSize)(t.id,n,r,a)})},o.componentDidMount=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,o=e.sku;!e.isIAP&&(0,E.canUserInstall)(o)&&(null==r||null==a?l.default.wait(function(){return(0,i.fetchLiveBuild)(t.id,n)}):this.fetchInstallSize())},o.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},o.getHeaderBlurb=function(){var e=this.props,t=e.sku,n=e.application,r=e.isIAP;if(t.isPreorder()&&null!=t.preorderReleaseAt)return O.default.Messages.APPLICATION_STORE_PREORDER_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,date:t.preorderReleaseAt.format("MMMM DD")});if(r||[T.SKUTypes.DLC,T.SKUTypes.CONSUMABLE].includes(t.type))return O.default.Messages.APPLICATION_ADDON_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,itemName:t.name});if(t.type===T.SKUTypes.BUNDLE)return O.default.Messages.APPLICATION_STORE_BUNDLE_PURCHASE_CONFIRMATION_BLURB.format({name:t.name});var a=t.supportedOperatingSystems[0];return O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_UNSUPPORTED_OS.format({name:n.name,operatingSystem:(0,y.skuOperatingSystemToText)(a)})},o.renderInstallationHeader=function(){var e=this.props.application;return M("div",{className:N.default.blurb},void 0,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_BLURB.format({name:e.name}))},o.renderInstallationBody=function(){var e=this.props,t=e.isFetchingBuild,n=e.buildId,r=e.buildSizeKB,o=e.application,l=this.state,i=l.installPath,u=l.hasInstallPathError,s=l.hasAcceptedNeccessaryTerms;return M(a.Fragment,{},void 0,M(I.default,{className:N.default.installSelector,value:i,requiredDiskKB:r,onChange:this.handleInstallPathChange}),M(S.default,{eulaId:o.eulaId,applicationName:o.name,onChange:this.handlePurchaseTermsChange,className:N.default.storeTerms}),M(_.default,{className:N.default.confirmButton,disabled:u||null==n||!s,onClick:this.handleInstall,submitting:t,color:h.default.Colors.GREEN},void 0,O.default.Messages.APPLICATION_STORE_PURCHASE_INSTALL_GAME))},o.renderGenericHeader=function(){return M("div",{className:N.default.blurb},void 0,this.getHeaderBlurb())},o.renderBlurbBody=function(){var e,t=this.props,n=t.isIAP,r=t.sku,o=t.onClose;return r.isPreorder()?(e=O.default.Messages.APPLICATION_PREORDER_PURCHASE_CONFIRMATION_BUTTON,o=this.handleGoToLibrary):e=n?O.default.Messages.APPLICATION_IAP_PURCHASE_RETURN_TO_GAME:O.default.Messages.OKAY,M(a.Fragment,{},void 0,M(h.default,{className:N.default.confirmButton,onClick:o},void 0,e))},o.renderBlurb=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,E.canUserInstall)(t)||t.isPreorder()?this.renderGenericHeader():this.renderInstallationHeader()},o.renderBody=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,E.canUserInstall)(t)||t.isPreorder()?this.renderBlurbBody():this.renderInstallationBody()},o.render=function(){var e=this.props.application,t=this.state.confirmHeaderIndex;return M(v.default,{direction:v.default.Direction.VERTICAL,align:v.default.Align.CENTER},void 0,M(m.default,{game:e,className:N.default.icon,size:m.default.Sizes.LARGE}),M("div",{className:N.default.header},void 0,P()[t]),this.renderBlurb(),M("div",{className:N.default.divider}),this.renderBody())},r}(a.Component);R.displayName="PurchaseConfirmation";var b=o.default.connectStores([d.default,f.default,c.default,p.default],function(e){var t,n=e.application,r=c.default.getActiveLibraryApplication(n.id);t=null!=r?r.id:n.id;var a=f.default.getTargetBuildId(n.id,t);return{defaultInstallationPath:d.default.defaultInstallationPath,branchId:t,isFetchingBuild:f.default.isFetching(n.id,t),buildId:a,manifestIds:f.default.getTargetManifests(n.id,t),buildSizeKB:null!=a?f.default.getBuildSize(a):null,hasPreviouslyAcceptedStoreTerms:p.default.hasAcceptedStoreTerms}})(R);t.default=b},6828:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Pages=void 0;var r,a,o,l=E(n(82)),i=E(n(3)),u=E(n(27)),s=E(n(2)),d=n(184),c=n(330),f=E(n(333)),p=E(n(15)),h=E(n(13)),v=E(n(225)),m=E(n(19)),_=E(n(11)),g=n(1);function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S="homepageNUFComplete",I="homepageNUFPage",T="NUX_WEB_WELCOME",O=h.default.isWeb(),N=(0,l.default)({INITIAL:null,CLAIM:null,JOIN:null,CREATE:null,DOWNLOAD:null,DISABLED:null});t.Pages=N;var C=((r={})[N.CLAIM]=function(){var e=_.default.getCurrentUser();return null!=e&&(O&&!e.isClaimed())},r[N.JOIN]=function(){return O&&!(Object.keys(m.default.getGuilds()).length>0)},r[N.CREATE]=function(){return O&&!(Object.keys(m.default.getGuilds()).length>0)},r[N.DOWNLOAD]=function(){return O},r),A=[[N.CLAIM,!0],[N.JOIN,!0],[N.CREATE,!0],[N.DOWNLOAD,!1]],M=[[N.JOIN,!0],[N.CREATE,!0],[N.CLAIM,!0],[N.DOWNLOAD,!1]],P=!1,R=null,b=null,L=u.default.get(S)||!1,D=null;function w(){return!0}function U(e){return null!=e&&null!=b&&null!=b[e]?b[e][0]:N.INITIAL}function G(e,t,n){O&&p.default.track(g.AnalyticEvents.NUO_TRANSITION_KEY,{flow_type:T,from_step:e,to_step:t,skip:n,seconds_on_from_step:null!=D?(Date.now()-D)/1e3:0})}function k(){if(P=!0,!L){b=function(){var e=B.getExperimentDescriptor();if(null==e||e.bucket===d.ExperimentBuckets.CONTROL)return null;var t=(e.bucket===d.ExperimentBuckets.TREATMENT_1?A:M).filter(function(e){var t=e[0];return null!=C[t]&&C[t]()});return t.length>0?t:null}();var e=B.getExperimentDescriptor();if(null!=e&&O&&(0,c.triggerExperiment)(f.default.HOMEPAGE_NUF,e),null==b)return void F(!0);var t=u.default.get(I,null);null!=t&&b.forEach(function(e,n){e[0]===t&&(R=n)}),null==R&&(R=0),D=Date.now(),G(N.INITIAL,U(R),!1)}}function F(e){var t=B.getExperimentDescriptor();null!=t&&t.bucket!==d.ExperimentBuckets.CONTROL&&(L=!0,u.default.remove(I),u.default.set(S,!0),G(U(R),N.DISABLED,e))}var B=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,l,i=r.prototype;return i.initialize=function(){this.waitFor(_.default,m.default),this.syncWith([v.default],w)},i.getExperimentId=function(){return f.default.HOMEPAGE_NUF},i.getMetaData=function(){return{title:"Homepage NUF",description:["CONTROL: Off","TREATMENT_1: Claim frontloaded","TREATMENT_2: Join/Create frontloaded"]}},i.getExperimentDescriptor=function(){return v.default.getOverrideExperimentDescriptor(this.getExperimentId())||v.default.getEligibleExperiment(this.getExperimentId())},i.isInExperiment=function(){return null!=this.getExperimentDescriptor()},i.isOpen=function(){var e=this.getExperimentDescriptor();return!L&&P&&null!=e&&e.bucket!==d.ExperimentBuckets.CONTROL},i.isTreatment1=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===d.ExperimentBuckets.TREATMENT_1},i.getProps=function(){return{progress:this.progress,pages:this.pages,page:this.page}},a=r,(o=[{key:"page",get:function(){return R}},{key:"pages",get:function(){return b}},{key:"progress",get:function(){var e=this.page;return null==e||null==b?1:Math.min((e+1)/b.length,1)}}])&&y(a.prototype,o),l&&y(a,l),r}(i.default.Store))(s.default,{CONNECTION_OPEN:function(e){return k()},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},LOGOUT:function(e){return R=null,b=null,void(P=!1)},HOMEPAGE_NUF_NEXT:function(e){var t=e.isSkip,n=e.autoAdvance;if(null==b)return!1;var r=R;null==b[R+=n?2:1]?F(t):(u.default.set(I,b[R][0]),G(U(r),U(R),t)),D=Date.now()},HOMEPAGE_NUF_DISMISS:function(e){F(e.isSkip)}});(0,c.registerExperimentLegacy)(B,((o={})[d.ExperimentTypes.NONE_LEGACY]=function(){return null},o[d.ExperimentTypes.USER]=((a={})[d.ExperimentBuckets.CONTROL]=function(){return null},a[d.ExperimentBuckets.TREATMENT_1]=function(){return null},a[d.ExperimentBuckets.TREATMENT_2]=function(){return null},a),o));var j=B;t.default=j},6830:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;d(n(0));var r,a=s(n(941)),o=d(n(6523)),l=s(n(4)),i=s(n(464)),u=s(n(455));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.title,r=e.onVerify,s=e.authBoxClassName;return c(o.default,{className:s},void 0,c("img",{alt:"",src:n(6672),className:u.default.marginBottom20}),null!=t?c(o.Title,{className:u.default.marginBottom8},void 0,t):null,c(o.SubTitle,{className:u.default.marginBottom40},void 0,l.default.Messages.BEEP_BOOP),c("div",{className:i.default.flexCenter},void 0,c(a.default,{onVerify:r,theme:a.default.Themes.DARK})))};f.displayName="AuthCaptcha";var p=f;t.default=p},6831:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=b(n(0)),o=R(n(8)),l=n(335),i=R(n(3)),u=n(29),s=R(n(853)),d=b(n(6633)),c=b(n(6579)),f=R(n(862)),p=n(6526),h=R(n(10)),v=R(n(6555)),m=R(n(461)),_=R(n(24)),g=R(n(65)),E=b(n(6523)),y=R(n(66)),S=R(n(15)),I=n(80),T=R(n(6830)),O=R(n(6716)),N=b(n(6587)),C=n(1),A=R(n(4)),M=R(n(455)),P=R(n(6159));function R(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.default.initialize();var U=/\.$/,G=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(U,"")}).join(". ").trim():e},k=D(N.InviteResolvingHeader,{}),F=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._retryTimer=new u.Timeout,n.handleCaptchaVerify=function(e){return n.setState({captchaKey:e},function(){return n.handleRegister()})},n.handleGotoLogin=function(){var e=n.state.email,t=n.props,r=t.onLoginStart,a=t.giftCode,o=t.transitionTo,i=t.invite,u=t.redirectTo,f=t.isGuest,p=t.location;if(f)return c.close(),void d.open();var h,v=null!=p?(0,l.parse)(p.search):{};null!=i?h=C.Routes.INVITE_LOGIN(i.code):null!=a?h=C.Routes.GIFT_CODE_LOGIN(a.code):null!=u?(h=C.Routes.LOGIN,v.redirect_to=u):(h=C.Routes.LOGIN,""!==e&&(v={email:e})),s.default.loginReset(),o(h,{search:(0,l.stringify)(v)}),null!=r&&r(),I.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},n.handleSubmit=function(e){e&&e.preventDefault(),n.handleRegister()},n.renderGiftCodeHeader=function(e){return D(O.default,{giftCode:e})};var r=null!=t.location?(0,l.parse)(t.location.search):{};return n.state={email:r.email||"",username:"",password:"",captchaKey:null,consent:!t.consentRequired,consentRequiredProp:t.consentRequired,isRateLimited:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,h,R,b=r.prototype;return b.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},b.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;S.default.track(C.AnalyticEvents.REGISTER_VIEWED,L({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?(0,f.default)(t,!1,!1):{}),!0),null==this.props.consentRequired&&s.default.getConsentRequired(),(0,p.trackAppUIViewed)("register")},b.componentWillUnmount=function(){this._retryTimer.stop()},r.getDerivedStateFromProps=function(e,t){var n=e.consentRequired;return null==t.consentRequiredProp&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}},b.componentDidUpdate=function(e){var t=this,n=this.props,r=n.errors,a=n.authenticated;e.errors!==r&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),a&&!e.authenticated&&this.redirectIfAuthenticated()},b.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:v.default.defaultRoute)},b.handleRegister=function(){var e=this.state,t=e.email,n=e.username,r=e.password,a=e.captchaKey,o=e.consent,l=this.props,i=l.invite,u=l.giftCode,d=l.consentRequired,c=null!=i?i.code:null,f=null!=u?u.skuId:null;null!==d&&(null!=i?s.default.register({username:n,consent:o,invite:c,giftCodeSKUId:f,captchaKey:a}):s.default.registerFull({email:t,username:n,consent:o,password:r,invite:c,giftCodeSKUId:f,captchaKey:a}),I.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE))},b.hasError=function(e){return null!=this.props.errors[e]},b.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,r=null;return this.props.consentRequired?r=D(_.default,{className:M.default.marginTop20,align:_.default.Align.CENTER},void 0,D(m.default,{value:t,type:m.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:P.default.checkbox}),D(E.SubText,{},void 0,A.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY}))):n=D(E.SubText,{className:M.default.marginTop20},void 0,A.default.Messages.TERMS_PRIVACY.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY})),{subText:n,consentText:r}},b.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return D(E.default,{className:t},void 0,k,D(E.Block,{className:M.default.marginTop40},void 0,D(y.default,{},void 0,A.default.Messages.FORM_LABEL_USERNAME),D(g.default,{text:A.default.Messages.AUTH_USERNAME_TOOLTIP,position:g.default.Positions.RIGHT,color:g.default.Colors.BRAND},void 0,function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return D(E.Input,{autoFocus:!0,className:M.default.marginBottom8,name:"username",value:e.state.username,placeholder:A.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},onMouseEnter:n,onMouseLeave:r})}),D(E.Button,{className:M.default.marginTop20,disabled:!0},void 0,A.default.Messages.CONTINUE),D(E.Button,{look:E.Button.Looks.LINK,disabled:!0,className:M.default.marginTop8},void 0,A.default.Messages.ALREADY_HAVE_ACCOUNT),D(E.SubText,{disabled:!0,className:M.default.marginTop20},void 0,A.default.Messages.TERMS_PRIVACY.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY}))))},b.renderInvite=function(){var e=this,t=this.props,n=t.invite,r=t.registering,o=t.consentRequired,l=t.authBoxClassName,i=t.errors.username,u=this.state.consent,s=this.renderConsentComponents(),d=s.subText,c=s.consentText,f=D(g.default,{text:!u&&o?A.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,function(t){return a.createElement("div",L({className:M.default.marginTop20},t),D(E.Button,{type:"submit",submitting:r,disabled:!e.hasConsent()},void 0,A.default.Messages.CONTINUE))});return D(E.default,{onSubmit:this.handleSubmit,tag:"form",className:l},void 0,D(N.default,{invite:n}),D(E.Block,{className:M.default.marginTop40},void 0,D(y.default,{error:G(i)},void 0,A.default.Messages.FORM_LABEL_USERNAME),D(g.default,{text:A.default.Messages.AUTH_USERNAME_TOOLTIP,position:g.default.Positions.RIGHT,color:g.default.Colors.BRAND},void 0,function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return D(E.Input,{autoFocus:!0,className:M.default.marginBottom8,name:"username",value:e.state.username,placeholder:A.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=i?"":null,onMouseEnter:n,onMouseLeave:r})}),c,f,D(E.Button,{look:E.Button.Looks.LINK,onClick:this.handleGotoLogin,className:M.default.marginTop8},void 0,A.default.Messages.ALREADY_HAVE_ACCOUNT),d))},b.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?D(E.SubText,{className:(0,o.default)(M.default.marginTop20,P.default.errorMessage)},void 0,e):null},b.renderFull=function(e){var t=this,n=this.state,r=n.email,o=n.username,l=n.password,i=n.consent,u=this.props,s=u.registering,d=u.consentRequired,c=u.isGuest,f=u.authBoxClassName,p=u.errors,h=(p=void 0===p?{}:p).email,v=p.username,m=p.password,_=this.renderConsentComponents(),y=_.subText,S=_.consentText,I=this.renderErrorMessage(),T=D(g.default,{text:!i&&d?A.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,function(e){return a.createElement("div",L({className:M.default.marginTop20},e),D(E.Button,{type:"submit",submitting:s,disabled:!t.hasConsent()||t.state.isRateLimited},void 0,A.default.Messages.CONTINUE))});return D(E.default,{onSubmit:this.handleSubmit,tag:"form",className:f},void 0,c?null:null!=e?e():D(E.Title,{},void 0,A.default.Messages.REGISTER_TITLE),D(E.Block,{className:M.default.marginTop20},void 0,D(E.Input,{autoFocus:!0,label:A.default.Messages.FORM_LABEL_EMAIL,className:M.default.marginBottom20,name:"email",value:r,onChange:function(e){return t.setState({email:e})},error:G(h),type:"email",setRef:function(e){t.emailRef=e}}),D(E.Input,{label:A.default.Messages.FORM_LABEL_USERNAME,className:M.default.marginBottom20,name:"username",value:o,onChange:function(e){return t.setState({username:e})},error:G(v),setRef:function(e){t.usernameRef=e}}),D(E.Input,{label:A.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:l,onChange:function(e){return t.setState({password:e})},error:G(m),type:"password",setRef:function(e){t.passwordRef=e}}),S,T,I,D(E.Button,{look:E.Button.Looks.LINK,onClick:this.handleGotoLogin,className:M.default.marginTop8},void 0,A.default.Messages.ALREADY_HAVE_ACCOUNT),y))},b.render=function(){var e=this,t=this.props,n=t.isGuest,r=t.authBoxClassName;if(this.hasError("captcha_key"))return D(T.default,{authBoxClassName:r,onVerify:this.handleCaptchaVerify,title:n?null:A.default.Messages.REGISTER_TITLE});var a=this.props,o=a.invite,l=a.giftCode;return null!=o?o.state===C.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=l?this.renderFull(function(){return e.renderGiftCodeHeader(l)}):this.renderFull()},i=r,(h=[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}])&&w(i.prototype,h),R&&w(i,R),r}(a.PureComponent);F.displayName="Register",F.defaultProps={giftCodeResolved:!1,transitionTo:function(t){return e.location.assign(t)}};var B=i.default.connectStores([h.default],function(){return{consentRequired:h.default.getConsentRequired(),authenticated:h.default.isAuthenticated(),registering:h.default.getRegisterStatus(),errors:h.default.getErrors()}})(F);t.default=B}).call(this,n(28))},6847:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={showChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_OPEN,query:e})},hideChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_CLOSE})}};t.default=l},6856:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=n(184),o=n(330),l=(r=n(333))&&r.__esModule?r:{default:r};var i=(0,o.registerUserExperiment)({id:l.default.DISCOVER_HOMEPAGE,title:"Discover Homepage",description:["Replace Activity homepage with the Discover page","Control: Keep Activity homepage as is","Treatment 1: Replace Activity with Discover","Treatment 2: Replace Activity with Discover with recommended servers collection 1","Treatment 3: Replace Activity with Discover with recommended servers collection 2","Treatment 4: Replace Activity with Discover with recommended servers collection 3"],buckets:[a.ExperimentBuckets.CONTROL,a.ExperimentBuckets.TREATMENT_1,a.ExperimentBuckets.TREATMENT_2,a.ExperimentBuckets.TREATMENT_3,a.ExperimentBuckets.TREATMENT_4]});t.default=i},6877:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=y(n(6556)),l=E(n(14)),i=E(n(19)),u=E(n(11)),s=E(n(279)),d=n(6752),c=E(n(182)),f=E(n(75)),p=E(n(66)),h=E(n(6576)),v=n(1),m=E(n(4)),_=E(n(455)),g=E(n(5961));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={autocompleter:null,results:[],query:"",selectedRow:0,sendingRecordId:null,keyboardMode:!0},t.handleResultsChange=function(e,n){var r=""===n.trim()?function(){var e=[];return s.default.getPrivateChannelIds().forEach(function(t){var n=l.default.getChannel(t);if(null!=n)if(n.type===v.ChannelTypes.DM){var r=n.getRecipientId(),a=null!=r?u.default.getUser(r):null;null!=a&&e.push((0,o.createAutocompleterResult)(o.AutocompleterResultTypes.USER,a))}else n.isMultiUserDM()&&e.push((0,o.createAutocompleterResult)(o.AutocompleterResultTypes.GROUP_DM,n))}),e}():e;t.setState({results:r})},t.close=function(){var e=t.props.onClose;null!=e&&e()},t.handleKeyDown=function(){t.state.keyboardMode||t.setState({keyboardMode:!0})},t.disableKeyboardMode=function(){t.setState({keyboardMode:!1})},t.handleMouseEnter=function(e){t.state.keyboardMode||t.setState({selectedRow:e})},t.handleSend=function(e){var n=t.props,r=n.sendToChannel,a=n.sendToUser,l=t.state.results[e],i=null!=l?l.record:null,u=t.state.sendingRecordId;if(null!=i&&null!=i.id&&null!=l&&null==u)switch(t.setState({sendingRecordId:i.id}),l.type){case o.AutocompleterResultTypes.GROUP_DM:case o.AutocompleterResultTypes.TEXT_CHANNEL:r(l);break;case o.AutocompleterResultTypes.USER:a(l)}},t.handleSelect=function(e,n){null==n?t.handleClear():t.handleSend(n)},t.handleSelectionChange=function(e,n){t.setState({selectedRow:n})},t.handleQueryChange=function(e){t.query(e)},t.handleClear=function(){t.query("")},t._handleModalRef=function(e){t._modal=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var E=r.prototype;return E.componentDidMount=function(){var e=new o.default(this.handleResultsChange,[o.AutocompleterResultTypes.TEXT_CHANNEL,o.AutocompleterResultTypes.GROUP_DM,o.AutocompleterResultTypes.USER],100);e.search("");var t=e.results;this.setState(function(){return{autocompleter:e,results:t}})},E.componentDidUpdate=function(e,t){var n=this.state.query,r=this.getScroller();n!==t.query&&null!=r&&r.scrollTo(0,!1)},E.componentWillUnmount=function(){var e=this.state.autocompleter;null!=e&&e.destroy()},E.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},E.query=function(e){var t=this.state,n=t.results,r=t.autocompleter;null!=r&&(r.search(e),n=r.results),this.setState({query:e,selectedRow:0,results:n})},E.scrollIntoView=function(e){var t=this.state.keyboardMode,n=this.getScroller();t&&null!=n&&n.scrollIntoViewRect(34*e-10,34*e+34+10)},E.renderResult=function(e,t){var n=this,r=this.state,a=r.selectedRow,l=r.sendingRecordId;switch(e.type){case o.AutocompleterResultTypes.TEXT_CHANNEL:var u=i.default.getGuild(e.record.guild_id);return S(d.Channel,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record},e.type+"-"+e.record.id,S("div",{className:g.default.miscContainer},void 0,l===e.record.id?S(c.default,{type:c.default.Type.PULSING_ELLIPSIS}):null!=u?u.name:null));case o.AutocompleterResultTypes.GROUP_DM:return S(d.GroupDM,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record,mentions:0},e.type+"-"+e.record.id,l===e.record.id?S(c.default,{type:c.default.Type.PULSING_ELLIPSIS}):null);case o.AutocompleterResultTypes.USER:return S(d.User,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},user:e.record,mentions:0,comparator:e.comparator},e.type+"-"+e.record.id,l===e.record.id?S(c.default,{type:c.default.Type.PULSING_ELLIPSIS}):null)}},E.render=function(){var e=this.props,t=e.className,n=e.renderFooter,r=e.title,o=this.state,l=o.query,i=o.selectedRow,u=o.results,s=o.keyboardMode;return S("div",{className:g.default.wrapper,onMouseMove:s?this.disableKeyboardMode:null},void 0,a.createElement(f.default,{size:g.default.modalSize,ref:this._handleModalRef,className:t},S(f.default.Header,{},void 0,S(f.default.CloseButton,{className:g.default.closeButton,onClick:this.close}),S("div",{className:g.default.header},void 0,S(p.default,{tag:p.default.Tags.H2,className:_.default.marginBottom8},void 0,r),S(h.default,{size:h.default.Sizes.MEDIUM,query:l,selectedSection:0,selectedRow:i,sections:[u.length],className:g.default.queryInput,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onKeyDown:this.handleKeyDown,placeholder:m.default.Messages.ACTIVITY_FEED_SHARE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===u.length?S("div",{className:g.default.noResults}):S(f.default.LazyContent,{elementHeight:34,paddingBottom:20,keyboardScroll:!0},void 0,u.map(this.renderResult,this)),null!=n?n():null))},r}(a.PureComponent);t.default=I,I.displayName="ChannelSelectModal"},6878:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=l(n(8)),o=l(n(5959));function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t=e.value,n=void 0===t?0:t,l=e.text,u=e.className,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","text","className"]);return null!=l?r.createElement("div",i({className:(0,a.default)(o.default.wrapper,u)},s),l):n>0?r.createElement("div",i({className:(0,a.default)(o.default.wrapper,u)},s),n):null};t.default=u},6879:function(e,t,n){"use strict";t.__esModule=!0,t.isTwoColumnLayout=function(e){return e===o.FeedLayouts.TWO_COL},t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(function(e){var t=e.activity;return(0,a.default)(t)}),game_platform:e.currentActivities.length>0?(0,r.default)(e.currentActivities[0].activity):null}};var r=l(n(240)),a=l(n(294)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},6895:function(e,t,n){"use strict";t.__esModule=!0,t.getGuildSettingsSections=function(e,t){return te(Z({channels:t},M.default.getGuildPermissionProps(e,O.default.getCurrentUser()))).filter(function(e){var t=e.section;return t!==R.SectionTypes.HEADER&&t!==R.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})},t.default=void 0;var r,a=J(n(0)),o=q(n(3)),l=q(n(334)),i=n(264),u=q(n(30)),s=q(n(120)),d=n(184),c=n(330),f=q(n(333)),p=q(n(6544)),h=n(6535),v=q(n(5926)),m=q(n(856)),_=q(n(87)),g=q(n(6760)),E=q(n(6761)),y=q(n(6515)),S=q(n(6764)),I=q(n(64)),T=q(n(25)),O=q(n(11)),N=q(n(6647)),C=q(n(71)),A=n(80),M=q(n(73)),P=q(n(6701)),R=n(6546),b=q(n(155)),L=q(n(7125)),D=q(n(7126)),w=q(n(7128)),U=q(n(7134)),G=J(n(7137)),k=q(n(7144)),F=q(n(7149)),B=q(n(7151)),j=q(n(7153)),H=q(n(7154)),V=q(n(7155)),x=J(n(7157)),Y=q(n(7180)),W=J(n(7184)),z=J(n(7196)),K=q(n(7199)),$=q(n(7205)),Q=n(1),X=q(n(4));function q(e){return e&&e.__esModule?e:{default:e}}function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(e){var t=e.guild,n=e.channels,r=e.canManageGuild,o=e.canViewAuditLog,s=e.canManageRoles,d=e.canManageEmoji,c=e.canManageWebhooks,f=e.canManageBans,p=e.canViewGuildAnalytics,m=e.forceVanityURL,_=e.isOwnerWithRequiredMfaLevel;return[{section:R.SectionTypes.HEADER,label:t.toString()||X.default.Messages.SERVER_SETTINGS},{section:Q.GuildSettingsSections.OVERVIEW,label:X.default.Messages.OVERVIEW,element:x.default,notice:{store:y.default,element:x.GuildSettingsOverviewNotice}},{section:Q.GuildSettingsSections.MODERATION,label:X.default.Messages.MODERATION,element:V.default,notice:{store:y.default,element:x.GuildSettingsOverviewNotice},predicate:function(){return r}},{section:Q.GuildSettingsSections.AUDIT_LOG,label:X.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG,element:w.default,type:R.ContentTypes.CUSTOM,predicate:function(){return o}},{section:Q.GuildSettingsSections.ROLES,label:X.default.Messages.ROLES,element:W.default,type:R.ContentTypes.MINIMAL,notice:{store:E.default,element:W.GuildSettingsRolesNotice},predicate:function(){return s}},{section:Q.GuildSettingsSections.INTEGRATIONS,label:X.default.Messages.INTEGRATIONS,element:B.default,predicate:function(){return r}},{section:Q.GuildSettingsSections.ANALYTICS,label:X.default.Messages.SERVER_INSIGHTS,ariaLabel:X.default.Messages.SERVER_INSIGHTS,element:D.default,newIndicator:v.default.hasHotspot(h.HotspotLocations.GUILD_ANALYTICS_GUILD_SETTINGS_MENU),predicate:function(){return p&&N.default.hasGuildAnalytics(t.id)}},{section:Q.GuildSettingsSections.EMOJI,label:X.default.Messages.EMOJI,element:k.default,predicate:function(){return d}},{section:Q.GuildSettingsSections.WEBHOOKS,label:X.default.Messages.WEBHOOKS,element:K.default,predicate:function(){return c}},{section:Q.GuildSettingsSections.EMBED,label:X.default.Messages.WIDGET,element:$.default,predicate:function(){return r}},{section:R.SectionTypes.DIVIDER,predicate:function(){return r&&t.hasFeature(Q.GuildFeatures.PUBLIC)}},{section:R.SectionTypes.HEADER,label:X.default.Messages.GUILD_SETTINGS_PUBLIC,predicate:function(){return r&&t.hasFeature(Q.GuildFeatures.PUBLIC)}},{section:Q.GuildSettingsSections.DISCOVERY,label:t.hasFeature(Q.GuildFeatures.DISCOVERABLE)?X.default.Messages.DISCOVERY:X.default.Messages.GUILD_SETTINGS_ENABLE_DISCOVERABLE,element:G.default,notice:{store:g.default,element:G.GuildSettingsDiscoveryNotice},predicate:function(){return r&&t.hasFeature(Q.GuildFeatures.PUBLIC)&&t.hasFeature(Q.GuildFeatures.VERIFIED)}},{section:Q.GuildSettingsSections.VANITY_URL,label:X.default.Messages.VANITY_URL,element:z.default,notice:{store:S.default,element:z.GuildSettingsVanityURLNotice},ariaLabel:X.default.Messages.VANITY_URL,predicate:function(){return r&&(m||t.hasFeature(Q.GuildFeatures.VANITY_URL))}},{section:R.SectionTypes.DIVIDER},{section:Q.GuildSettingsSections.GUILD_PREMIUM,label:X.default.Messages.GUILD_PREMIUM,element:Y.default,color:Q.Colors.BRAND},{section:R.SectionTypes.DIVIDER,predicate:function(){return r&&t.hasFeature(Q.GuildFeatures.NEWS)&&null!=n&&n.some(function(e){return e.channel.type===Q.ChannelTypes.GUILD_ANNOUNCEMENT})}},{section:R.SectionTypes.HEADER,label:X.default.Messages.FOLLOWER_ANALYTICS_HEADER,predicate:function(){return r&&t.hasFeature(Q.GuildFeatures.NEWS)&&null!=n&&n.some(function(e){return e.channel.type===Q.ChannelTypes.GUILD_ANNOUNCEMENT})}},{section:Q.GuildSettingsSections.FOLLOWER_ANALYTICS,label:X.default.Messages.FOLLOWER_ANALYTICS,element:F.default,newIndicator:v.default.hasHotspot(h.HotspotLocations.FOLLOWER_ANALYTICS_GUILD_SETTINGS),ariaLabel:X.default.Messages.FOLLOWER_ANALYTICS,predicate:function(){return r&&t.hasFeature(Q.GuildFeatures.NEWS)&&null!=n&&n.some(function(e){return e.channel.type===Q.ChannelTypes.GUILD_ANNOUNCEMENT})}},{section:R.SectionTypes.DIVIDER},{section:R.SectionTypes.HEADER,label:X.default.Messages.USER_MANAGEMENT},{section:Q.GuildSettingsSections.MEMBERS,label:X.default.Messages.MEMBERS,element:H.default,type:R.ContentTypes.CUSTOM},{section:Q.GuildSettingsSections.INSTANT_INVITES,label:X.default.Messages.INVITES,element:j.default,type:R.ContentTypes.CUSTOM,predicate:function(){return r}},{section:Q.GuildSettingsSections.BANS,label:X.default.Messages.BANS,element:U.default,type:R.ContentTypes.CUSTOM,predicate:function(){return f}},{section:R.SectionTypes.DIVIDER,predicate:function(){return _}},{section:Q.GuildSettingsSections.DELETE,onClick:function(){var e=O.default.getCurrentUser(),n=t.toString(),r={header:X.default.Messages.DELETE_SERVER_TITLE.format({name:n}),confirmText:X.default.Messages.DELETE_SERVER,cancelText:X.default.Messages.CANCEL,onConfirm:function(){A.ComponentDispatch.subscribeOnce(Q.ComponentActions.LAYER_POP_COMPLETE,function(){l.default.deleteGuild(t.id,n)}),(0,i.popLayer)()}};e.mfaEnabled?u.default.push(function(e){return a.createElement(b.default,Z({},e,r),ee(C.default,{size:C.default.Sizes.MEDIUM,color:C.default.Colors.PRIMARY},void 0,X.default.Messages.DELETE_SERVER_BODY.format({name:n})))}):u.default.push(function(e){return a.createElement(L.default,Z({},e,r,{validationText:n,instructionText:X.default.Messages.DELETE_SERVER_ENTER_NAME,errorText:X.default.Messages.DELETE_SERVER_INCORRECT_NAME}),X.default.Messages.DELETE_SERVER_BODY.format({name:n}))})},label:X.default.Messages.DELETE_SERVER,color:Q.Colors.STATUS_RED,predicate:function(){return _}}]}function ne(e,t){void 0===t&&(t=null),s.default.trackWithMetadata(Q.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",origin_pane:t,destination_pane:e})}var re={canManageGuild:!1,canManageChannels:!1,canManageRoles:!1,canManageBans:!1,canManageNicknames:!1,canManageEmoji:!1,canViewAuditLog:!1,canManageWebhooks:!1,canViewGuildAnalytics:!1,isOwnerWithRequiredMfaLevel:!1},ae=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){ne(this.props.section)},a.componentWillUnmount=function(){l.default.close()},a.componentDidUpdate=function(e){var t=e.section,n=this.props,r=n.section,a=n.canManageGuild,o=n.canManageRoles,l=n.canManageBans,u=n.canManageNicknames,s=n.canManageEmoji,d=n.canViewAuditLog,c=n.canManageWebhooks,f=n.canViewGuildAnalytics;r!==t&&ne(r,t),(!a&&!o&&!l&&!u&&!s&&!d&&!c||!d&&r===Q.GuildSettingsSections.AUDIT_LOG||!o&&r===Q.GuildSettingsSections.ROLES||!s&&r===Q.GuildSettingsSections.EMOJI||!c&&r===Q.GuildSettingsSections.WEBHOOKS||!l&&r===Q.GuildSettingsSections.BANS||!f&&r===Q.GuildSettingsSections.ANALYTICS)&&(0,i.popLayer)()},a.render=function(){var e=this.props,t=e.theme,n=e.sidebarTheme,r=e.section,a=e.guild,o=e.channels,u=e.canManageGuild,s=e.canViewAuditLog,d=e.canManageRoles,c=e.canManageEmoji,f=e.canManageWebhooks,p=e.canManageBans,h=e.canViewGuildAnalytics,v=e.isOwnerWithRequiredMfaLevel,m=e.forceVanityURL;return null==a?null:ee(P.default,{theme:t,sidebarTheme:n,section:r,onSetSection:l.default.setSection,onClose:i.popLayer,sections:te({guild:a,channels:o,canManageGuild:u,canViewAuditLog:s,canManageRoles:d,canManageEmoji:c,canManageWebhooks:f,canManageBans:p,canViewGuildAnalytics:h,isOwnerWithRequiredMfaLevel:v,forceVanityURL:m})})},r}(a.PureComponent);ae.displayName="GuildSettings";var oe=(0,c.registerUserExperiment)({id:f.default.GUILD_PREMIUM_VANITY_URL_UPSELL,title:"Guild Premium Vanity URL Upsell",description:["Show vanity URL section","Control: No section.","Treatment 1: show section."],buckets:[d.ExperimentBuckets.CONTROL,d.ExperimentBuckets.TREATMENT_1]});function le(e){var t=(0,p.default)(oe);return a.createElement(ae,Z({},e,{forceVanityURL:t===d.ExperimentBuckets.TREATMENT_1}))}le.displayName="GuildSettingsWithVanityURL";var ie=o.default.connectStores([_.default,y.default,O.default,T.default,I.default,m.default],function(){var e=y.default.getProps(),t=e.guild;return Z({section:e.section,theme:T.default.theme,sidebarTheme:m.default.darkSidebar?Q.ThemeTypes.DARK:void 0,channels:null!=t?_.default.getChannels(t.id).SELECTABLE:null},null!=t?M.default.getGuildPermissionProps(t,O.default.getCurrentUser()):re)})(le);t.default=ie},6896:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.QuickSelectPopout=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(24)),i=s(n(152)),u=s(n(5971));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,a=e.className;return c(l.default,{className:(0,o.default)(u.default.quickSelect,a),align:l.default.Align.CENTER},void 0,c("div",{className:u.default.quickSelectLabel},void 0,t),c(l.default,{align:l.default.Align.CENTER,className:u.default.quickSelectClick},void 0,c("div",{className:u.default.quickSelectValue},void 0,r?r(n):n.label),c("div",{className:u.default.quickSelectArrow})))},t}(a.PureComponent);p.displayName="QuickSelect";var h=function(e){function t(t){var n;return d(n=e.call(this,t)||this).handleClick=n.handleClick.bind(d(n)),n}f(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.selected,n=e.renderOption,r=e.option;return c(l.default,{className:(0,o.default)(u.default.quickSelectPopoutOption,{selected:t}),onClick:this.handleClick},void 0,n(r,t))},n.handleClick=function(){var e=this.props,t=e.option,n=e.onChange;n&&n(t)},t}(a.PureComponent);h.displayName="QuickSelectPopoutOption";var v=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.renderContent=function(){var e=this.props,t=e.options,n=e.renderOption,r=e.value,a=e.scroller,o=e.onChange,l=t.map(function(e){var t=null!=r&&e.value===r.value,a=t?void 0:o;return c(h,{className:u.default.quickSelectPopoutOption,renderOption:n,option:e,onChange:a,selected:t},e.key||e.value)});return a?c(i.default,{className:u.default.quickSelectScroller},void 0,l):l},n.render=function(){var e,t=this.props,n=t.className,r=t.scroller,a=(0,o.default)(u.default.quickSelectPopout,n,((e={})[u.default.quickSelectPopoutScroll]=r,e));return c(l.default,{className:a,direction:l.default.Direction.VERTICAL},void 0,this.renderContent())},t}(a.PureComponent);t.QuickSelectPopout=v,v.displayName="QuickSelectPopout";var m=p;t.default=m},6897:function(e,t,n){e.exports=n.p+"d03d90cb6f12a7ea06274b278dfa4160.svg"},6898:function(e,t,n){e.exports=n.p+"7b6ed225050df29a07cb5db712d35a73.svg"},6899:function(e,t,n){"use strict";t.__esModule=!0,t.trackGuildSelected=function(e,t,n){a.default.track(o.AnalyticEvents.GUILD_DISCOVERY_GUILD_SELECTED,{load_id:n.loadId,location:l({},n.location,{object:o.AnalyticsObjects.CARD}),guild_id:e,card_index:t})},t.trackDiscoveryViewed=function(e,t){var n=t.loadId,r=(t.loadDate,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["loadId","loadDate"]));a.default.track(o.AnalyticEvents.GUILD_DISCOVERY_VIEWED,l({},r,{load_id:n,num_guilds_recommended:e.length,recommended_guild_ids:e}))};var r,a=(r=n(15))&&r.__esModule?r:{default:r},o=n(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},6900:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(6)),a=u(n(3)),o=u(n(2)),l=u(n(10)),i=u(n(7142));n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s={},d=0;var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default)},a.isFetching=function(){return d>0},a.getGuild=function(e){return s[e]},a.getGuilds=function(e){return e.map(function(e){return s[e]}).filter(function(e){return null!=e})},r}(a.default.Store))(o.default,{DISCOVER_GUILDS_FETCH_START:function(e){d+=1},DISCOVER_GUILDS_FETCH_SUCCESS:function(e){var t=e.guilds;d-=1,r.default.map(t,i.default).forEach(function(e){return s[e.id]=e})},DISCOVER_GUILDS_FETCH_FAILURE:function(e){d-=1}});t.default=c},6930:function(e,t,n){e.exports=n.p+"1a7544e1a27a25e87075c01e3fa130e3.png"},6931:function(e,t,n){e.exports=n.p+"59c726954bd8424f376ca3a7eedc4c54.svg"},6932:function(e,t,n){e.exports=n.p+"fe5ef0f14b8d025d73465e2d76913e20.svg"},6933:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),o=C(n(8)),l=C(n(6)),i=C(n(269)),u=C(n(30)),s=C(n(137)),d=C(n(6650)),c=A(n(6524)),f=C(n(24)),p=C(n(983)),h=C(n(182)),v=C(n(71)),m=n(136),_=C(n(6551)),g=n(6546),E=C(n(6532)),y=A(n(870)),S=n(1),I=C(n(4)),T=C(n(5925)),O=C(n(455)),N=C(n(5991));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var R="3",b="3",L="1",D="2",w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRevokeInvite=function(){i.default.revokeInvite(t.props.invite.code)},t}P(t,e);var n=t.prototype;return n.renderChannel=function(){var e=this.props,t=e.showChannel,n=e.invite;return t?M(v.default,{size:v.default.Sizes.SMALL,className:N.default.channelName},void 0,(0,s.default)(n.channel,!0)):null},n.renderUser=function(){var e=this.props.invite.inviter;return null==e?null:M("div",{className:N.default.user},void 0,M(y.default,{user:e,size:y.Sizes.SIZE_24,className:N.default.avatar}),M(p.default,{className:N.default.username,discriminatorClass:N.default.discriminator,name:e.toString(),discriminator:e.discriminator}))},n.render=function(){var e=this.props,t=e.invite,n=e.hide,r=t.uses;return t.maxUses>0&&(r=t.uses+"/"+t.maxUses),M(f.default,{className:(0,o.default)(N.default.inviteSettingsInviteRow,T.default.card)},void 0,M(f.default,{grow:R,basis:0,align:f.default.Align.CENTER,className:(0,o.default)(N.default.text)},void 0,M(f.default.Child,{},void 0,this.renderUser(),this.renderChannel())),M(f.default,{grow:b,shrink:1,basis:0,align:f.default.Align.CENTER,className:N.default.text},void 0,M(v.default,{family:v.default.Family.CODE,className:N.default.inviteCode},void 0,n?"...":t.code)),M(f.default,{grow:L,basis:0,justify:f.default.Justify.END,align:f.default.Align.CENTER,className:(0,o.default)(N.default.text)},void 0,M(v.default,{family:v.default.Family.CODE,className:N.default.textAlignRight},void 0,r)),M(f.default,{grow:D,basis:0,align:f.default.Align.CENTER,justify:f.default.Justify.END,className:(0,o.default)(N.default.text,N.default.countdownColumn)},void 0,M(v.default,{family:v.default.Family.CODE,className:N.default.textAlignRight},void 0,M(d.default,{deadline:t.getExpiresAt()}))),M(_.default,{className:N.default.revokeInvite,onClick:this.handleRevokeInvite}))},t}(a.PureComponent);w.displayName="InviteRow";var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleShowInviteModal=function(){var e=t.props.guild;u.default.push(E.default,{guild:e,source:S.InstantInviteSources.SETTINGS_INVITE})},t}P(t,e);var r=t.prototype;return r.renderInvites=function(){var e=this.props,t=e.invites,n=e.hide,r=e.showChannel,a=e.loading;return null==t||a?[M(h.default,{className:O.default.marginTop20,type:h.default.Type.SPINNING_CIRCLE},"spinner")]:(0,l.default)(t).sortBy(function(e){return(e.inviter&&e.inviter.username||"").toLowerCase()}).value().map(function(e){return M(w,{hide:n,invite:e,showChannel:r},e.code)})},r.renderHeader=function(){var e,t=this.props,r=t.invites,a=t.loading,o=t.theme,i=t.canCreateInvites;return null==r||a||(e=l.default.isEmpty(r)?M(c.default,{theme:o,className:O.default.marginTop20},void 0,M(c.EmptyStateImage,{darkSrc:n(6778),lightSrc:n(6779),width:256,height:130}),M(c.EmptyStateText,{note:I.default.Messages.NO_INVITES_BODY},void 0,I.default.Messages.NO_INVITES_LABEL)):M(f.default,{},void 0,M(f.default.Child,{grow:R,basis:0,className:O.default.marginReset},void 0,M(m.FormTitle,{},void 0,I.default.Messages.INSTANT_INVITE_INVITER)),M(f.default.Child,{basis:0,grow:b,className:O.default.marginReset},void 0,M(m.FormTitle,{},void 0,I.default.Messages.INSTANT_INVITE_INVITE_CODE)),M(f.default.Child,{grow:L,basis:0,className:N.default.textAlignRight},void 0,M(m.FormTitle,{},void 0,I.default.Messages.INSTANT_INVITE_USES)),M(f.default.Child,{grow:D,basis:0,className:N.default.textAlignRight},void 0,M(m.FormTitle,{},void 0,I.default.Messages.INSTANT_INVITE_EXPIRES)))),M(m.FormSection,{className:O.default.marginBottom4},void 0,M(m.FormTitle,{tag:m.FormTitleTags.H2},void 0,I.default.Messages.INVITES),M(m.FormText,{className:O.default.marginBottom20,type:m.FormTextTypes.DESCRIPTION},void 0,i?I.default.Messages.SETTINGS_INVITE_TIP.format({onCreateInvite:this.handleShowInviteModal}):I.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE),M(m.FormDivider,{className:N.default.marginBottom20}),e)},r.render=function(){return M(g.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(),elementHeight:62},void 0,this.renderInvites())},t}(a.PureComponent);U.displayName="SettingsInvites";var G=U;t.default=G},6934:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i={open:function(e,t){void 0===t&&(t=7),a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_OPEN,guildId:e,days:t,estimate:-1}),r.default.get({url:o.Endpoints.GUILD_PRUNE(e),query:{days:t}}).then(function(n){a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_UPDATE,guildId:e,days:t,estimate:n.body.pruned})},function(){})},close:function(){a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_CLOSE})},prune:function(e,t){r.default.post({url:o.Endpoints.GUILD_PRUNE(e),query:{days:t,compute_prune_count:!1}}),this.close()}};t.default=i},6935:function(e,t,n){"use strict";t.__esModule=!0,t.generateVerificationLevelOptions=function(){return[{name:o.default.Messages.VERIFICATION_LEVEL_NONE,desc:o.default.Messages.VERIFICATION_LEVEL_NONE_CRITERIA,value:a.VerificationLevels.NONE},{name:o.default.Messages.VERIFICATION_LEVEL_LOW,desc:o.default.Messages.VERIFICATION_LEVEL_LOW_CRITERIA,value:a.VerificationLevels.LOW,color:a.Colors.STATUS_GREEN},{name:o.default.Messages.VERIFICATION_LEVEL_MEDIUM,desc:o.default.Messages.VERIFICATION_LEVEL_MEDIUM_CRITERIA.format({min:a.VerificationCriteria.ACCOUNT_AGE}),value:a.VerificationLevels.MEDIUM,color:a.Colors.STATUS_YELLOW},{name:"(╯°□°）╯︵ ┻━┻",desc:o.default.Messages.VERIFICATION_LEVEL_HIGH_CRITERIA.format({min:a.VerificationCriteria.MEMBER_AGE}),value:a.VerificationLevels.HIGH,color:a.UNSAFE_Colors.ORANGE},{name:"┻━┻ ﾐヽ(ಠ益ಠ)ノ彡┻━┻",desc:o.default.Messages.VERIFICATION_LEVEL_VERY_HIGH_CRITERIA,value:a.VerificationLevels.VERY_HIGH,color:a.Colors.STATUS_RED}]},t.generateContentFilterOptions=function(){return[{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.DISABLED},{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES},{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.ALL_MEMBERS}]},t.generateDMSafetyOptions=function(){return[{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS_HELP,value:a.ExplicitContentFilterTypes.FRIENDS_AND_NON_FRIENDS,color:a.Colors.STATUS_GREEN},{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS_HELP,value:a.ExplicitContentFilterTypes.NON_FRIENDS,color:a.Colors.STATUS_YELLOW},{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED_HELP,value:a.ExplicitContentFilterTypes.DISABLED,color:a.Colors.STATUS_RED}]};var r,a=n(1),o=(r=n(4))&&r.__esModule?r:{default:r}},6936:function(e,t,n){e.exports=n.p+"1a7a00562308635255f9a3e53d345b12.svg"},6937:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Content=t.Sidebar=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(24)),l=s(n(152)),i=n(1),u=s(n(6003));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.scrollable,n=e.theme,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["scrollable","theme"]),s=n===i.ThemeTypes.LIGHT?i.Colors.WHITE:i.Colors.PRIMARY_DARK_600;return t?d("aside",{className:u.default.sidebarScrollable},void 0,d(l.default,{fade:!0,theme:l.default.Themes.GHOST_HAIRLINE,backgroundColor:s,className:u.default.scroller},void 0,a.createElement(o.default.Child,c({},r,{wrap:!0})))):a.createElement(o.default.Child,c({},r,{wrap:!0}))},t}(a.PureComponent);t.Sidebar=p,p.displayName="Sidebar",p.defaultProps={basis:232,grow:0,shrink:0,className:u.default.sidebar};var h=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return a.createElement(o.default.Child,c({wrap:!0},this.props))},t}(a.PureComponent);t.Content=h,h.displayName="Content",h.defaultProps={className:u.default.content};var v=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return a.createElement(o.default,this.props)},t}(a.PureComponent);v.displayName="Layout",v.defaultProps={className:u.default.layout,direction:o.default.Direction.HORIZONTAL,justify:o.default.Justify.START,align:o.default.Align.START,wrap:o.default.Wrap.NO_WRAP,shrink:1,grow:1,basis:"auto"},v.Direction=o.default.Direction,v.Justify=o.default.Justify,v.Align=o.default.Align,v.Wrap=o.default.Wrap,v.Sidebar=p,v.Content=h;var m=v;t.default=m},6938:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=p(n(24)),i=p(n(6784)),u=n(6549),s=p(n(65)),d=p(n(982)),c=n(1),f=p(n(6005));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){(0,o.openContextMenu)(e,function(e){return a.createElement(d.default,v({},e,{roleId:t.props.id}))})},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var m=p.prototype;return m.renderLock=function(){var e=this.props,t=e.locked,r=e.lockTooltip,o=void 0===r?null:r,u=e.theme;if(!t)return null;var d=u===c.ThemeTypes.DARK?n(7186):n(7187);return h(l.default,{shrink:0,grow:0,align:l.default.Align.CENTER,style:{marginRight:0}},void 0,h(s.default,{text:o,color:s.default.Colors.RED},void 0,function(e){return a.createElement(i.default,v({className:f.default.lock,src:d},e))}))},m.render=function(){var e=this.props,t=e.color,n=e.id,r=e.children,a=e.isDragging,o=e.selectedItem,i=e.onItemSelect,s=e.itemType;return a?h("div",{className:f.default.dragged}):h(u.Item,{className:f.default.role,id:n,color:t||void 0,selectedItem:o,onItemSelect:i,itemType:s,"aria-label":r},void 0,h(l.default,{align:l.default.Align.CENTER,"aria-hidden":!0},void 0,this.renderLock(),h(l.default.Child,{className:f.default.roleInner,onContextMenu:this.handleContextMenu},void 0,r)))},p}(a.PureComponent);m.displayName="GuildRole";var _=m;t.default=_},6939:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=m(n(8)),l=m(n(42)),i=m(n(7188)),u=m(n(852)),s=m(n(65)),d=m(n(261)),c=_(n(66)),f=m(n(73)),p=n(1),h=m(n(455)),v=m(n(6008));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var m=r.prototype;return m.getOverwriteValue=function(e){var t=this.props,n=t.allow,r=t.deny;if(null==n||null==r)throw new Error("PermissionsForm.getOverwriteValue: Invalid allow or deny props");return n&e?f.default.ALLOW:r&e?f.default.DENY:f.default.PASSTHROUGH},m.getPermissionValue=function(e,t){return!!(t&e)},m.handleChange=function(e,t){(0,this.props.onChange)(e,t)},m.renderDisabledIndicator=function(e){return g(s.default,{text:e,position:s.default.Positions.TOP,color:s.default.Colors.RED},void 0,function(e){return a.createElement("span",e,g(l.default,{name:l.default.Names.NOT_ALLOWED,className:v.default.icon,width:18,height:18}))})},m.renderComponent=function(e){var t,n=this,r=e.title,a=e.description,l=e.flag,s=this.props,d=s.permissions,c=s.locked,f=s.permissionRender,h=f&&f(l),m=!(!c&&!h),_="string"==typeof h?this.renderDisabledIndicator(h):null,E=(0,o.default)(((t={})[v.default.title]=null!=_,t));return null==d?g(i.default,{disabled:m,value:this.getOverwriteValue(l),onChange:function(e){return n.handleChange(l,e)},note:a},l,_,g("span",{className:E},void 0,r)):g(u.default,{fill:p.Colors.STATUS_GREEN,disabled:m,value:this.getPermissionValue(l,d),onChange:function(e){var t=e.currentTarget.checked;return n.handleChange(l,t)},note:a},l,_,g("span",{className:E},void 0,r))},m.render=function(){var e=this.props,t=e.spec,n=e.className;return g(d.default,{className:n},void 0,g(c.default,{tag:c.Tags.H5,className:h.default.marginBottom20},void 0,t.title),t.permissions.map(this.renderComponent,this))},r}(a.PureComponent);E.displayName="PermissionsForm";var y=E;t.default=y},6940:function(e,t,n){e.exports=n.p+"cef02719c12d8aaf38894c16dca7fbe6.svg"},6941:function(e,t,n){e.exports=n.p+"808132e382c228d8fc8c7f9111b9abf7.svg"},6942:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(0)),o=P(n(8)),l=P(n(6)),i=P(n(3)),u=P(n(142)),s=P(n(30)),d=P(n(6599)),c=P(n(87)),f=P(n(64)),p=P(n(97)),h=P(n(25)),v=P(n(7200)),m=R(n(6524)),_=P(n(182)),g=P(n(332)),E=P(n(261)),y=P(n(258)),S=n(66),I=P(n(6536)),T=P(n(6786)),O=P(n(7201)),N=P(n(7202)),C=n(1),A=P(n(4)),M=P(n(455));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=["Spidey Bot","Captain Hook"],w=L(I.default,{}),U=function(e){var t,r;function i(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).renderWebhooks=function(){var e=t.props,r=e.webhooks,a=e.error,o=e.theme;return e.isFetching?L(_.default,{className:M.default.marginTop20,type:_.default.Type.SPINNING_CIRCLE}):null!=a?L(y.default,{},void 0,a):0===r.length?L(m.default,{theme:o,className:M.default.marginTop20},void 0,L(m.EmptyStateImage,{darkSrc:n(7203),lightSrc:n(7204),width:292,height:182}),L(m.EmptyStateText,{note:A.default.Messages.SETTINGS_WEBHOOKS_EMPTY_BODY},void 0,A.default.Messages.SETTINGS_WEBHOOKS_EMPTY_TITLE)):r.map(function(e,t){return L(O.default,{webhook:e,theme:o,className:M.default.marginBottom8},t)})},t.handleCreateWebhook=function(){var e=t.props,n=e.guild,r=e.createChannelId;if(null!=n&&null!=r){var o=D[l.default.random(0,D.length-1)];d.default.create(n.id,r,{name:o}).then(function(e){return s.default.push(function(t){return a.createElement(T.default,b({webhook:e},t))})}).catch(function(e){var t=e.body;t&&t.code===C.AbortCodes.TOO_MANY_WEBHOOKS?u.default.show({title:A.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:A.default.Messages.WEBHOOK_ERROR_MAX_WEBHOOKS_REACHED}):u.default.show({title:A.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:A.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=i.prototype;return c.componentDidMount=function(){var e=this.props,t=e.channel,n=e.guild;null!=n&&(null!=t?d.default.fetchForChannel(n.id,t.id):null!=n&&d.default.fetchForGuild(n.id))},c.render=function(){var e=this.props,t=e.streamerMode,n=e.createChannelId,r=e.error;return t?w:L(E.default,{tag:S.Tags.H2,title:A.default.Messages.WEBHOOKS},void 0,L(N.default,{disabled:null==n||null!=r,onCreate:this.handleCreateWebhook}),L(g.default,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),this.renderWebhooks())},i}(a.PureComponent);U.displayName="SettingsWebhooks",U.defaultProps={showChannel:!0};var G=i.default.connectStores([p.default,v.default,h.default,c.default,f.default],function(e){var t,n,r=e.channel,a=e.guild;if(null!=r)t=v.default.getWebhooksForChannel(a.id,r.id),n=r.id;else{t=v.default.getWebhooksForGuild(a.id);var o=c.default.getDefaultChannel(a.id);null!=o&&f.default.can(C.Permissions.MANAGE_WEBHOOKS,o)&&(n=o.id)}return{guild:a,webhooks:t,streamerMode:p.default.enabled,theme:h.default.theme,isFetching:0===t.length&&v.default.isFetching(a.id),error:v.default.error,createChannelId:n}})(U);t.default=G},6943:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=L(n(8)),l=L(n(82)),i=L(n(1038)),u=L(n(76)),s=L(n(550)),d=L(n(294)),c=L(n(986)),f=L(n(236)),p=L(n(197)),h=L(n(1036)),v=L(n(137)),m=L(n(989)),_=L(n(58)),g=L(n(42)),E=L(n(476)),y=L(n(6639)),S=L(n(223)),I=L(n(328)),T=L(n(456)),O=L(n(257)),N=L(n(343)),C=L(n(6653)),A=L(n(6944)),M=L(n(7768)),P=n(1),R=L(n(4)),b=L(n(6298));function L(e){return e&&e.__esModule?e:{default:e}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var U=64,G=160,k=[14,14,12,12,10,8,6],F=function(e,t){return void 0===t&&(t=null),w(T.default,{className:(0,o.default)(b.default.textContent,t),size:T.default.Sizes.SIZE_14,tag:T.default.Tags.H4},void 0,e)};F.displayName="renderSectionTitle";var B=function(e,t){return void 0===t&&(t=null),w(O.default,{className:(0,o.default)(b.default.textContent,t),size:O.default.Sizes.SIZE_12},void 0,e)};B.displayName="renderSectionText";var j=(0,i.default)(function(e){var t=e.message;return w("div",{className:b.default.timestamp},void 0,t)}),H=function(e){var t=e.children;return w("section",{className:b.default.section},void 0,t)};H.displayName="Section";var V=function(e){var t,n=e.inset,r=e.className;return w("div",{className:(0,o.default)(b.default.separator,(t={},t[b.default.inset]=n,t),r)})};V.displayName="Separator";var x=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;return null==n||!(0,c.default)(t)||(0,f.default)(t)?null:(e=(0,d.default)(t)?w(j,{timestamps:n}):w(E.default,{start:n.start,end:n.end,location:E.default.Locations.USER_ACTIVITY,className:b.default.playTime}),B(e))},l.render=function(){var e,t=this.props,r=t.activity,a=r.assets,l=r.details,i=r.state,u=r.application_id,s=t.getAssetImage;return w(H,{},void 0,w("div",{className:b.default.activitySection},void 0,null!=a&&0!==Object.keys(a).length?w("div",{className:b.default.activitySectionAssets},void 0,w("img",{alt:a.large_text||"",src:s(u,a.large_image,[G,G]),className:(0,o.default)(b.default.largeImage,(e={},e[b.default.largeImageMask]=null!=a.small_image,e))}),null!=a.small_image?w("img",{alt:a.small_text||"",src:s(u,a.small_image,[U,U]),className:b.default.smallImage}):null):w("div",{className:b.default.activitySectionAssets},void 0,w("img",{alt:"",src:n(7068),className:b.default.largeImage})),w("div",{},void 0,F(l||R.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=i?B(i):null,this.renderTimePlayed())))},a}(a.Component);x.displayName="RichPresenceSection";var Y=w("div",{}),W=function(e){var t,n=e.activity,r=n.assets,a=n.name,l=n.details,i=n.state,u=n.application_id,s=e.partySize,d=e.members,c=e.getAssetImage;return w(H,{},void 0,w("div",{className:b.default.spotifySection},void 0,null!=r?w("div",{className:b.default.activitySectionAssets},void 0,w("img",{alt:r.large_text||"",src:c(u,r.large_image,[G,G]),className:(0,o.default)(b.default.largeImage,(t={},t[b.default.largeImageMask]=null!=r.small_image,t))}),w(g.default,{className:b.default.smallImage,name:g.default.Names.PLATFORM_SPOTIFY,color:P.Colors.SPOTIFY})):Y,w("div",{},void 0,F(a),null!=l?B(l):null,null!=i?B(i):null),w(M.default,{partySize:s,members:d})))};W.displayName="SpotifySection";var z=function(e){var t,r,a=e.activity,l=e.user,i=e.getAssetImage,d=a.name,c=a.details,f=a.assets,h=a.application_id;return null!=f&&(0,p.default)(a)&&(r=w(m.default,{className:b.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,w(_.default,{href:(0,s.default)(a),tag:"a",target:"_blank"},void 0,w("img",{alt:f.large_text||"",src:i(h,f.large_image,[900,500]),className:b.default.twitchSectionPreview}),w("img",{src:n(8803),className:b.default.twitchSectionPlayButton,alt:""})))),w(H,{},void 0,w("div",{className:(0,o.default)((t={},t[b.default.twitchSectionSimple]=null==l,t[b.default.twitchSectionFull]=null!=l,t))},void 0,w("img",{alt:"",src:u.default.get(P.PlatformTypes.TWITCH).icon.color,className:b.default.twitchSectionIcon}),w("div",{},void 0,F(d),null!=c?B(c):null),null!=l?w(I.default,{src:l.getAvatarURL(),"aria-label":l.username,className:b.default.twitchSectionAvatar,size:I.default.Sizes.SIZE_24}):null),r)};z.displayName="TwitchSection";var K=function(e){var t=e.guild,n=e.channel,r=e.onGuildClick,a=e.partySize,l=e.members,i=e.onChannelContextMenu;return w(H,{},void 0,w("div",{className:b.default.voiceSection,onContextMenu:function(e){return i(e,n)}},void 0,w(_.default,{onClick:r},void 0,w("div",{className:b.default.voiceSectionAssets},void 0,null!=t.getIconURL()?w("img",{alt:"",src:t.getIconURL(),className:(0,o.default)(b.default.voiceSectionGuildImage,b.default.largeImageMask)}):w("div",{className:b.default.voiceSectionNoGuildImageWrapper},void 0,w("div",{className:b.default.voiceSectionNoGuildImage,style:{fontSize:k[t.acronym.length]||k[k.length-1]}},void 0,t.acronym)),w("div",{className:b.default.voiceSectionIconWrapper},void 0,w(g.default,{className:b.default.voiceSectionIcon,name:g.default.Names.SPEAKER})))),w(_.default,{onClick:r},void 0,w("div",{className:b.default.voiceSectionDetails},void 0,F(t.toString(),b.default.voiceSectionText),B((0,v.default)(n,!0),b.default.voiceSectionText))),w(M.default,{partySize:a,members:l})))};K.displayName="VoiceSection";var $=function(e){var t=e.title;return w(H,{},void 0,w("div",{className:b.default.xboxSection},void 0,w(g.default,{className:b.default.xboxSectionIcon,name:g.default.Names.PLATFORM_XBOX}),w("div",{className:b.default.xboxSectionDetails},void 0,F(t),B(R.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};$.displayName="XboxSection";var Q=function(e){var t=e.onIconClick,n=e.onIconContextMenu,r=e.icon,a=e.name,o=e.partySize,l=e.members;return w(H,{},void 0,w("div",{className:b.default.gameSection},void 0,null!=r?w(_.default,{onClick:t,onContextMenu:n},void 0,w("img",{alt:"",src:r,className:b.default.gameSectionIcon})):null,w("div",{},void 0,F(a),B(R.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:o.totalSize}))),w(M.default,{partySize:o,members:l})))};Q.displayName="GameSection";var X=function(e){var t=e.activity,n=e.user,r=e.applicationStream,o=e.analyticsContext,l=e.onPreviewClick,i={location:D({},o.location,{object:P.AnalyticsObjects.AVATAR})},u=r.guildId,s=r.channelId,d=r.ownerId,c=w(m.default,{className:b.default.applicationStreamingPreviewWrapper,aspectRatio:16/9},void 0,w(_.default,{onClick:l,className:b.default.applicationStreamingPreviewSize},void 0,w(A.default,{guildId:u,channelId:s,userId:d,className:b.default.applicationStreamingPreviewSize}),w("div",{className:b.default.applicationStreamingHoverWrapper},void 0,w("div",{className:b.default.applicationStreamingHoverText},void 0,R.default.Messages.JOIN_STREAM)))),f=(0,h.default)(t,r)||R.default.Messages.STREAMING_A_GAME;return w(H,{},void 0,w("div",{className:b.default.applicationStreamingSection},void 0,w(S.default,{render:function(e){return a.createElement(N.default,D({},e,{userId:n.id,analyticsParams:i}))},position:S.default.Positions.LEFT,closeOnScroll:!1},void 0,w(I.default,{size:I.default.Sizes.SIZE_32,src:n.getAvatarURL(),"aria-label":n.username,className:b.default.applicationStreamingAvatar})),w("div",{},void 0,F(n.toString()),B(f)),w(C.default,{size:C.default.Sizes.SMALL})),c)};X.displayName="ApplicationStreamingSection";var q=(0,l.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),J=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case q.XBOX:t=w(g.default,{className:b.default.headerIcon,name:g.default.Names.PLATFORM_XBOX,color:P.Colors.PRIMARY_DARK_300});break;case q.SPOTIFY:t=w(g.default,{className:b.default.headerIcon,name:g.default.Names.PLATFORM_SPOTIFY,color:P.Colors.SPOTIFY});break;case q.MULTIPLE:t=w("div",{className:b.default.multipleIconWrapper},void 0,w(g.default,{className:(0,o.default)(b.default.headerIcon,b.default.multipleIcon),name:g.default.Names.ACTIVITY,color:P.Colors.PRIMARY_DARK_300}));break;default:t=w("img",{src:n,alt:"",className:b.default.headerIcon})}return null!=r||null!=a?w(_.default,{onClick:r,className:(0,o.default)(null!=r?b.default.clickableIcon:""),onContextMenu:a},void 0,t):t};J.Src=q;var Z=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,o=e.icon,l=e.onContextMenu,i={location:D({},e.analyticsContext.location,{object:P.AnalyticsObjects.AVATAR})};return w("header",{className:null!=o?b.default.headerFull:b.default.headerSimple},void 0,w(S.default,{render:function(e){return a.createElement(N.default,D({},e,{userId:t.user.id,analyticsParams:i}))},position:S.default.Positions.LEFT,closeOnScroll:!1},void 0,w(I.default,{src:t.user.getAvatarURL(),"aria-label":t.user.username,size:I.default.Sizes.SIZE_32,className:b.default.headerAvatar,status:t.status,onContextMenu:l})),w("div",{className:b.default.headerDetails},void 0,w(T.default,{className:b.default.textContent,size:T.default.Sizes.SIZE_16},void 0,n),w(O.default,{className:b.default.textContent},void 0,r)),null!=o?o:null)};Z.displayName="NowPlayingHeader",Z.Icon=J;var ee=function(e){var t=e.children;return w(y.default,{inset:!0,padded:!1,className:b.default.body},void 0,t)};ee.displayName="NowPlayingBody";var te=function(e){var t=e.children,n=e.className;return w(y.default,{className:(0,o.default)(n,b.default.wrapper),padded:!1},void 0,t)};te.displayName="NowPlayingItem",te.Header=Z,te.Body=ee,te.Separator=V,te.VoiceSection=K,te.GameSection=Q,te.RichPresenceSection=x,te.XboxSection=$,te.SpotifySection=W,te.TwitchSection=z,te.ApplicationStreamingSection=X;var ne=te;t.default=ne},6944:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(8)),l=p(n(3)),i=p(n(6787)),u=p(n(24)),s=p(n(182)),d=p(n(257)),c=p(n(4)),f=p(n(6017));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=h(s.default,{}),m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).defaultRenderFallback=function(e){return h(u.default,{className:f.default.emptyPreviewContainer,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER},void 0,e?v:h(a.Fragment,{},void 0,h("div",{className:f.default.emptyPreviewImage}),h(d.default,{size:d.default.Sizes.SIZE_14,color:d.default.Colors.CUSTOM,className:f.default.emptyPreviewText},void 0,c.default.Messages.STREAM_NO_PREVIEW)))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.url,n=e.className,r=e.isLoading,a=e.renderFallback,l=void 0===a?this.defaultRenderFallback:a;return null==t||r?l(r):h("div",{className:(0,o.default)(n,f.default.root)},void 0,h("img",{src:t,alt:"",className:f.default.image}))},r}(a.Component);m.displayName="StreamPreview";var _=l.default.connectStores([i.default],function(e){var t=e.guildId,n=e.channelId,r=e.userId;return{url:i.default.getPreviewURL(t,n,r),isLoading:i.default.getIsPreviewLoading(t,n,r)}})(m);t.default=_},6945:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(111)),i=s(n(152)),u=s(n(513));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){return c("div",{style:{width:"100%",height:e.height,visibility:"hidden"}})};f.displayName="Spacer";var p=function(){function e(e){var t=e.sectionHeight,n=e.rowHeight,r=e.footerHeight,a=e.sections,o=e.uniform,l=e.paddingTop,i=e.paddingBottom;this.sectionHeight=t,this.rowHeight=n,this.footerHeight=r,this.numberOfSections=a.length,this.numberOfRows=a.reduce(function(e,t){return e+t},0),this.sections=a,this.uniform=o,this.paddingTop=l,this.paddingBottom=i}var t=e.prototype;return t.getHeight=function(){for(var e=this.paddingTop,t=0;t<this.numberOfSections;t++){if(e+=this.getHeightForSection(t),this.uniform)e+=this.sections[t]*this.getHeightForRow(t);else for(var n=0;n<this.sections[t];n++)e+=this.getHeightForRow(t,n);e+=this.getHeightForFooter(t)}return e+this.paddingBottom},t.getHeightForSection=function(e){var t=this.sectionHeight;return"number"==typeof t?t:t(e)},t.getHeightForRow=function(e,t){var n=this.rowHeight;return"number"==typeof n?n:n(e,t)},t.getHeightForFooter=function(e){var t=this.footerHeight;return"number"==typeof t?t:t(e)},t.compute=function(e,t){var n=this.sections,r=this.paddingTop,a=this.paddingTop,o=this.paddingBottom,l=[];function i(n){var l=r;return(r+=n)<e?(a+=n,!1):!(l>t)||(o+=n,!1)}for(var u=0;u<n.length;u++){var s=n[u];if(0!==s){if(i(this.getHeightForSection(u))&&l.push({section:u}),this.uniform)for(var d=this.getHeightForRow(u),c=0;c<s;c++)i(d)&&l.push({section:u,row:c});else for(var f=0;f<s;f++)i(this.getHeightForRow(u,f))&&l.push({section:u,row:f});i(this.getHeightForFooter(u))&&l.push({section:u,footer:!0})}}return{spacerTop:a,spacerBottom:o,items:l}},t.computeScrollPosition=function(e,t){for(var n=this.sections,r=this.paddingTop,a=0,o=!1;a<=e;){var l=n[a];if(0!==l){if(r+=this.getHeightForSection(a),this.uniform){var i=this.getHeightForRow(a);a===e?(r+=i*t,o=!0):r+=i*l}else for(var u=0;u<l;u++)if(a<e||a===e&&u<t)r+=this.getHeightForRow(a,u);else if(a===e&&u===t){o=!0;break}o||(r+=this.getHeightForFooter(a)),a+=1}else a+=1}return{scrollTop:r,rowHeight:this.getHeightForRow(e,t)}},e}(),h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={containerHeight:0,spacerTop:0,spacerBottom:0,items:[],scrolling:!1},t.setScrollerRef=function(e){t._scroller=e},t.handleResize=function(e){Promise.resolve().then(function(){t.setState(t.getStateFromScroller());var n=t.props.onResize;null!=n&&n(e)})},t.handleScroll=function(e){null!=t._scrollingTimeout&&clearTimeout(t._scrollingTimeout),t._scrollingTimeout=setTimeout(function(){return t.setState({scrolling:!1})},100),t.setState(d({},t.getStateFromScroller(),{scrolling:!0}));var n=t.props.onScroll;null!=n&&n(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidMount=function(){this.setState(this.getStateFromScroller())},s.UNSAFE_componentWillReceiveProps=function(e){e.uniform&&(0,l.default)(e,this.props)||this.setState(this.getStateFromScroller(e))},s.componentWillUnmount=function(){null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout)},s.getStateFromScroller=function(e){void 0===e&&(e=this.props);var t=e,n=t.sectionHeight,r=t.rowHeight,a=t.footerHeight,o=t.sections,l=t.uniform,i=t.paddingTop,u=t.paddingBottom,s=t.onScrollerStateUpdate,c=new p({sectionHeight:n,rowHeight:r,footerHeight:a,sections:o,uniform:l,paddingTop:i,paddingBottom:u}),f=this.getScrollTop(),h=this.getContainerHeight(),v=Math.ceil(h/2),m=v*Math.ceil(f/v),_=m+v,g=d({containerHeight:h},c.compute(Math.max(0,m-v),Math.min(c.getHeight(),_+v)));return null!=s&&s(g),g},s.renderItems=function(){var e=this.props,t=e.renderSection,n=e.wrapSection,r=e.renderRow,a=e.renderFooter,o=this.state.items,l=[],i=[],u=0;return o.forEach(function(e){var o=e.section,s=e.row;!0===e.footer?(i.push(a(o)),l.push(null!=n?n(u,i):i),i=[]):(u=o,null==s?i.push(t(o)):i.push(r(o,s)))}),i.length>0&&l.push(n?n(u,i):i),l},s.render=function(){var e,t=this.props,n=t.children,r=t.track,l=t.theme,s=t.className,p=t.backgroundColor,h=(t.footerHeight,t.onScrollerStateUpdate,t.renderFooter,t.renderRow,t.renderSection,t.rowHeight,t.sectionHeight,t.sections,t.uniform,t.wrapSection,t.paddingTop,t.paddingBottom,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children","track","theme","className","backgroundColor","footerHeight","onScrollerStateUpdate","renderFooter","renderRow","renderSection","rowHeight","sectionHeight","sections","uniform","wrapSection","paddingTop","paddingBottom"])),v=this.state,m=v.spacerTop,_=v.spacerBottom,g=v.scrolling;return a.createElement(i.default,d({},h,{ref:this.setScrollerRef,className:(0,o.default)(s,(e={},e[u.default.scrolling]=g,e)),outerClassName:u.default.containStyles,onResize:this.handleResize,onScroll:this.handleScroll,track:r,theme:l,backgroundColor:p}),n,c(f,{height:m}),this.renderItems(),c(f,{height:_}))},s.getItems=function(){return this.state.items},s.isItemVisible=function(e,t){var n=this.getScrollPosition(e,t),r=this.getScrollData(),a=r.offsetHeight,o=r.scrollTop;return!(n.scrollTop<o-n.rowHeight||n.scrollTop+n.rowHeight>o+a)},s.getScrollPosition=function(e,t){var n=this.props,r=n.sectionHeight,a=n.rowHeight,o=n.footerHeight,l=n.sections,i=n.uniform,u=n.paddingTop,s=n.paddingBottom;return new p({sectionHeight:r,rowHeight:a,footerHeight:o,sections:l,uniform:i,paddingTop:u,paddingBottom:s}).computeScrollPosition(e,t)},s.getScrollerNode=function(){return this._scroller&&this._scroller.getScrollerNode()},s.getScrollTop=function(){var e=this._scroller;return null!=e?e.getScrollTop():0},s.getContainerHeight=function(){return this._scroller&&this._scroller.getScrollData().offsetHeight||0},s.getScrollData=function(){var e=this._scroller;return null!=e?e.getScrollData():{scrollHeight:0,scrollTop:0,offsetHeight:0,pageHeight:0,offsetWidth:0}},s.scrollIntoView=function(e,t,n){this._scroller&&this._scroller.scrollIntoViewRect(e,t,n)},s.scrollTo=function(e,t,n){void 0===t&&(t=!1),this._scroller&&this._scroller.scrollTo(e,t,n)},s.scrollToRow=function(e,t,n,r,a){void 0===r&&(r=0);var o=this.getScrollPosition(e,t),l=this.getScrollTop(),i=this.getContainerHeight();o.scrollTop<l+r?this.scrollTo(o.scrollTop-r,n,a):o.scrollTop+o.rowHeight>l+i?this.scrollTo(o.scrollTop-i+o.rowHeight+r,n,a):null!=a&&a()},r}(a.PureComponent);t.default=h,h.displayName="List",h.Themes=i.default.Themes,h.defaultProps={track:!1,renderSection:function(){return null},renderFooter:function(){return null},sectionHeight:0,footerHeight:0,paddingTop:0,paddingBottom:0,uniform:!0,theme:i.default.Themes.GHOST}},6946:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=n(259),i=s(n(58)),u=s(n(6022));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t,n=e.avatar,r=e.name,s=e.children,f=e.subText,p=e.decorators,h=e.onClick,v=e.selected,m=e.to,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["avatar","name","children","subText","decorators","onClick","selected","to"]);_.className=(0,o.default)(_.className,u.default.container,((t={})[u.default.selected]=v,t[u.default.clickable]=!v&&(m||h),t));var g=c("div",{className:u.default.layout},void 0,c("div",{className:u.default.avatar},void 0,n),c("div",{className:u.default.content},void 0,c("div",{className:u.default.nameAndDecorators},void 0,c("div",{className:u.default.name},void 0,r),p),null!=f?c("div",{className:u.default.subText},void 0,f):null),null!=s?c("div",{className:u.default.children},void 0,s):null);return null!=m?a.createElement(l.Link,d({to:m,onClick:h},_),g):null!=h?a.createElement(i.default,d({onClick:h},_),g):a.createElement("div",_,g)}f.displayName="ListItem";var p=f;t.default=p},6947:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i={show:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_SHOW,tutorialId:e,renderData:t})},hide:function(e){a.default.dirtyDispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_HIDE,tutorialId:e})},dismiss:function(e){a.default.dispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_DISMISS,tutorialId:e}),r.default.put(o.Endpoints.TUTORIAL_INDICATOR(e))},suppressAll:function(){a.default.dispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_SUPPRESS_ALL}),r.default.post(o.Endpoints.TUTORIAL_INDICATORS_SUPPRESS)}};t.default=i},6948:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=b(n(8)),l=b(n(3)),i=b(n(2)),u=b(n(6615)),s=b(n(137)),d=b(n(14)),c=b(n(87)),f=b(n(19)),p=b(n(64)),h=b(n(39)),v=b(n(21)),m=b(n(6521)),_=b(n(42)),g=b(n(460)),E=b(n(262)),y=b(n(6617)),S=n(220),I=n(265),T=b(n(456)),O=b(n(257)),N=n(6533),C=b(n(15)),A=b(n(7217)),M=n(1),P=b(n(4)),R=b(n(6026));function b(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){var t=e.label,n=e.guild;return L("div",{className:R.default.guildOption},void 0,L(m.default,{className:R.default.icon,guild:n,size:m.default.Sizes.MINI}),L(O.default,{size:O.default.Sizes.SIZE_16},void 0,t))}function w(e){var t=e.label,n=e.channel,r=e.category,a=(0,N.getIconNameForChannel)(n);return L(y.default,{title:t,iconType:a,subtitle:r})}D.displayName="renderGuildOption",w.displayName="renderChannelOption";var U=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleGuildSelect=function(e){var t=e.value,r=n.props.guilds,a=n.state.selectedGuildId,o=r[t].channels,l=n.getDefaultChannelId(o);a!==t&&n.setState({selectedGuildId:t,selectedChannelId:l,channels:o})},n.handleChannelSelect=function(e){var t=e.value;n.setState({selectedChannelId:t})},n.handleFollow=function(){var e=n.props,t=e.channel,r=e.onClose,o=n.state,l=o.selectedChannelId,s=o.selectedGuildId;n.setState({submitting:!0}),u.default.createChannelFollower(l,t.id).then(function(){i.default.dispatch({type:M.ActionTypes.CHANNEL_FOLLOWER_CREATED,channelId:l,guildId:s}),r(),(0,I.openModal)(function(e){return a.createElement(A.default,e)})}).catch(function(e){e.body.code===M.AbortCodes.TOO_MANY_WEBHOOKS?n.setState({errorMessage:P.default.Messages.FOLLOW_MODAL_TOO_MANY_WEBHOOKS,submitting:!1}):n.setState({errorMessage:P.default.Messages.FOLLOW_MODAL_FAIL,submitting:!1})})};var r=t.guilds,o=t.lastChannelFollowingDestination,l=void 0===o?{}:o,s=l.guildId,d=l.channelId;return n.state={selectedGuildId:s,selectedChannelId:d,channels:null!=r[s]?r[s].channels:[],errorMessage:null,submitting:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){C.default.track(M.AnalyticEvents.OPEN_MODAL,{type:"Follow Channel Modal",num_guild_permissions:Object.keys(this.props.guilds).length,location:"Chat Input Blocker - Follow Channel"})},l.getDefaultChannelId=function(e){var t=e.find(function(e){var t=e.channel;return"general"===(0,s.default)(t)}),n=null!=t?t:e[0];return null!=n?n.channel.id:null},l.renderFooter=function(){var e=this.state,t=e.selectedGuildId,n=e.selectedChannelId,r=e.submitting,o=this.props.onClose;return L(a.Fragment,{},void 0,L(v.default,{submitting:r,onClick:this.handleFollow,disabled:null==t||null==n},void 0,P.default.Messages.FOLLOW),L(v.default,{look:v.default.Looks.LINK,color:v.default.Colors.PRIMARY,onClick:o},void 0,P.default.Messages.CANCEL))},l.renderForm=function(){var e=this.props.guilds,t=this.state,n=t.channels,r=t.selectedGuildId,o=t.selectedChannelId,l=t.errorMessage,i=Object.keys(e).map(function(t){var n=e[t].guild;return{value:t,label:n.toString(),guild:n}}),u=n.map(function(e){var t=e.channel,n=e.category;return{value:t.id,label:(0,s.default)(t),channel:t,category:n}}),d=0===i.length,c=d?P.default.Messages.FOLLOW_MODAL_HINT_NO_PERMS:P.default.Messages.FOLLOW_MODAL_HINT;return L(a.Fragment,{},void 0,L(E.default,{className:R.default.bottomMargin,title:P.default.Messages.FORM_LABEL_SEND_TO},void 0,L(g.default,{value:r,clearable:!1,searchable:!0,options:i,disabled:d,optionRenderer:D,valueRenderer:D,onChange:this.handleGuildSelect})),L(E.default,{className:R.default.bottomMargin,title:P.default.Messages.FORM_LABEL_SELECT_CHANNEL},void 0,L(g.default,{value:o,clearable:!1,searchable:!0,options:u,disabled:0===u.length,optionRenderer:w,valueRenderer:w,onChange:this.handleChannelSelect})),L(O.default,{className:R.default.bottomMargin,color:d||null!=l?O.default.Colors.ERROR:O.default.Colors.MUTED},void 0,null!=l?l:c))},l.renderBody=function(){var e,t=this.props.channel.nsfw;return L("div",{className:R.default.body},void 0,L(T.default,{size:T.default.Sizes.SIZE_20},void 0,P.default.Messages.FOLLOW_MODAL_TITLE),L(O.default,{color:O.default.Colors.MUTED,className:(0,o.default)(R.default.topMargin,(e={},e[R.default.formMargin]=!t,e)),size:O.default.Sizes.SIZE_14},void 0,P.default.Messages.FOLLOW_MODAL_BODY),t?L(O.default,{className:(0,o.default)(R.default.formMargin,R.default.topMargin),color:O.default.Colors.ERROR},void 0,P.default.Messages.FOLLOW_MODAL_WARNING):null)},l.renderHeader=function(){var e=this.props,t=e.guildToFollow,n=e.channelNameToFollow,r=e.channel,a=(0,N.getIconNameForChannel)(r)||_.default.Names.MEGAPHONE;return L(S.ModalHeader,{className:R.default.header},void 0,L(m.default,{guild:t,size:m.default.Sizes.LARGE}),L("div",{className:R.default.channelContainer},void 0,L("div",{className:R.default.channel},void 0,L(_.default,{name:a,width:20,height:20,className:R.default.channelIcon}),L(O.default,{size:O.default.Sizes.SIZE_16,className:R.default.channelName},void 0,n))))},l.render=function(){var e=this.props.transitionState;return L(S.ModalRoot,{transitionState:e},void 0,this.renderHeader(),L(S.ModalContent,{outerClassName:R.default.content,className:R.default.noScroll},void 0,this.renderBody(),this.renderForm()),L(S.ModalFooter,{},void 0,this.renderFooter()))},r}(a.PureComponent);U.displayName="FollowModal";var G=l.default.connectStores([f.default,d.default,c.default,p.default,h.default],function(e){var t=e.channel,n=f.default.getGuild(t.guild_id),r=Object.values(f.default.getGuilds()).reduce(function(e,t){var n=c.default.getChannels(t.id).SELECTABLE.map(function(e){return e.channel}).filter(function(e){return(e.type===M.ChannelTypes.GUILD_TEXT||e.type===M.ChannelTypes.GUILD_ANNOUNCEMENT)&&p.default.can(M.Permissions.MANAGE_WEBHOOKS,e)}).map(function(e){var t=d.default.getChannel(e.parent_id);return{channel:e,category:null!=t?t.name:null}});return n.length>0&&(e[t.id]={guild:t,channels:n}),e},{});return{guildToFollow:n,channelNameToFollow:t.name,guilds:r,lastChannelFollowingDestination:h.default.getLastChannelFollowingDestination()}},{forwardRef:!0})(U);t.default=G},6949:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=n(99),i=d(n(989)),u=d(n(182)),s=d(n(6332));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f={CONTAIN:"contain",COVER:"cover"},p=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})},n.state={loading:!0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.renderPlaceholder=function(){var e=this.props.streamPreviewUrl,t=null!=e?c("img",{src:e,alt:"",className:s.default.previewImage}):c(i.default,{aspectRatio:16/9,className:s.default.emptyPreviewWrapper},void 0,c("div",{className:s.default.emptyPreview}));return c(a.Fragment,{},void 0,t,c(u.default,{className:s.default.spinner}))},d.render=function(){var e,t,n=this.props,r=n.streamId,a=n.videoComponent,i=n.className,u=n.fit,d=n.mirror,f=n.paused,p=this.state.loading;return c("div",{className:s.default.wrapper},void 0,null!=r&&c(a,{className:(0,o.default)(s.default.video,(0,l.getClass)(s.default,"video",u),(e={},e[s.default.mirror]=d,e),i),streamId:r,onReady:this.handleReady,paused:f}),f?null:c("div",{className:(0,o.default)(s.default.previewWrapper,(t={},t[s.default.loading]=p,t))},void 0,p&&this.renderPlaceholder()))},r}(a.PureComponent);p.displayName="VideoStream",p.Fit=f,p.defaultProps={fit:f.CONTAIN,mirror:!1,paused:!1};var h=p;t.default=h},6950:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=v(n(8)),o=v(n(3)),l=v(n(197)),i=v(n(68)),u=v(n(65)),s=n(238);t.TooltipPositions=s.Positions;var d,c=n(951),f=v(n(20)),p=n(931),h=v(n(6036));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){d||(d="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var i=new Array(o),u=0;u<o;u++)i[u]=arguments[u+3];t.children=i}return{$$typeof:d,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=f.default.getEnableHardwareAcceleration()?c.AnimatedStatus:c.Status,E=function(e){var t=e.streaming,n=e.status,o=e.hideTooltip,l=e.className,i=e.style,d=e.isMobile,f=e.size,v=e.defaultStatus,E=e.position,y=void 0===E?s.Positions.TOP:E,S=t?c.StatusTypes.STREAMING:n||v,I=m(g,{isMobile:d,status:S,size:f});return m(u.default,{text:o?null:(0,p.humanizeStatus)(S),position:y},void 0,function(e){return r.createElement("div",_({},e,{className:(0,a.default)(l,h.default.disableFlex),style:i}),I)})};E.displayName="Status";var y=o.default.connectStores([i.default],function(e){var t=e.userId,n=e.defaultStatus;return{status:null!=t?i.default.getStatus(t,null,n):null,streaming:null!=t&&(0,l.default)(i.default.getActivities(t))}})(E);t.default=y},6951:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(24)),i=s(n(75)),u=s(n(6040));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){var t,n;function r(t){var n;return c(n=e.call(this,t)||this).setRef=n.setRef.bind(c(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.setRef=function(e){this._scroller=null!=e?e.getScroller():null},s.getScrollerNode=function(){var e=this._scroller;return e?e.getScrollerNode():null},s.render=function(){var e,t=this.props,n=t.renderFooter,r=t.selectable,s=t.renderHeader,c=t.className,f=t.onClose,p=t.children,h=t.onScroll;return n&&(e=d(i.default.Footer,{direction:l.default.Direction.HORIZONTAL},void 0,n())),a.createElement(i.default,{className:u.default.modal,size:u.default.size,ref:this.setRef,onScroll:h},d(i.default.Header,{},void 0,s(),d(l.default.Child,{grow:0},void 0,d(i.default.CloseButton,{onClick:f}))),d(i.default.Content,{className:(0,o.default)(c,u.default.content,{selectable:r})},void 0,p),e)},r}(a.PureComponent);f.displayName="Markdown",f.defaultProps={selectable:!1};var p=f;t.default=p},6952:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,l,i){void 0===i&&(i=null);a.default.track(o.AnalyticEvents.STREAM_REPORT_PROBLEM,{reason:e,streamer_user_id:t.ownerId,stream_channel_id:t.channelId,guild_id:t.guildId,application_id:null!=n?n.id:null,application_name:null!=n?n.name:null,media_session_id:r.default.getActiveMediaSessionId(),location:l,rating:i})};var r=l(n(905)),a=l(n(15)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},6953:function(e,t,n){"use strict";t.__esModule=!0,t.default=p;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=c(n(30)),o=c(n(21)),l=c(n(75)),i=n(136),u=c(n(257)),s=c(n(4)),d=c(n(5931));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return f(l.default,{},void 0,f(l.default.Header,{separator:!1},void 0,f(i.FormTitle,{tag:i.FormTitle.Tags.H2,className:d.default.title},void 0,s.default.Messages.STREAM_REPORTED)),f(l.default.Content,{},void 0,f(u.default,{className:d.default.description},void 0,s.default.Messages.STREAM_REPORTED_BODY)),f(l.default.Footer,{separator:!1},void 0,f(o.default,{color:o.default.Colors.BRAND,onClick:a.default.popAll},void 0,s.default.Messages.DONE)))}p.displayName="ProblemReported"},6954:function(e,t,n){"use strict";t.__esModule=!0,t.default=c;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(7251)),l=s(n(347)),i=n(136),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.problem,n=e.onChange,r=e.isStreamer,s=e.isEndStream,c=void 0!==s&&s;return d(a.Fragment,{},void 0,d(i.FormItem,{title:u.default.Messages.STREAM_REPORT_LABEL},void 0,d(l.default,{placeholder:u.default.Messages.STREAM_REPORT_PLACEHOLDER,options:(0,o.default)(r,c),onChange:n,value:t,maxVisibleItems:4,searchable:!1})))}c.displayName="StreamIssueSelector"},6956:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l=te(n(0)),i=ee(n(8)),u=ee(n(3)),s=ee(n(2)),d=te(n(186)),c=n(350),f=ee(n(30)),p=n(6563),h=te(n(7264)),v=n(184),m=n(330),_=ee(n(333)),g=ee(n(6544)),E=n(351),y=ee(n(7265)),S=n(881),I=n(896),T=ee(n(97)),O=ee(n(25)),N=ee(n(11)),C=ee(n(887)),A=ee(n(277)),M=ee(n(6957)),P=ee(n(336)),R=ee(n(7266)),b=ee(n(6711)),L=ee(n(346)),D=ee(n(21)),w=ee(n(42)),U=ee(n(7267)),G=ee(n(348)),k=ee(n(182)),F=ee(n(65)),B=n(136),j=ee(n(183)),H=ee(n(96)),V=n(156),x=ee(n(6536)),Y=ee(n(6958)),W=ee(n(6804)),z=ee(n(7268)),K=ee(n(7269)),$=ee(n(7270)),Q=ee(n(7276)),X=ee(n(7277)),q=n(1),J=ee(n(4)),Z=ee(n(6067));function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ae(e){return void 0===e&&(e=null),{page:q.AnalyticsPages.USER_SETTINGS,section:q.AnalyticsSections.SETTINGS_PREMIUM,object:q.AnalyticsObjects.BUTTON_CTA,objectType:e}}var oe=function(e){var t=e.handlePremiumTrial,n=e.handleGift;return re("div",{className:Z.default.tier2TrialButtons},void 0,re(G.default,{color:D.default.Colors.GREEN,size:D.default.Sizes.LARGE,onClick:t,className:Z.default.trialButton,innerClassName:Z.default.trialButtonInner},void 0,re(w.default,{name:w.default.Names.NITRO_WHEEL,className:Z.default.trialButtonIcon}),J.default.Messages.PREMIUM_TRIAL_BUTTON),re(D.default,{look:D.default.Looks.LINK,color:D.default.Colors.PRIMARY,size:D.default.Sizes.MEDIUM,className:Z.default.giftButton,onClick:n},void 0,J.default.Messages.BILLING_PREMIUM_GIFT_FRIEND))};oe.displayName="PremiumTier2ButtonsWithTrial";var le=function(e){var t,n=e.renderPlanOption,r=e.alignLeft,a=void 0!==r&&r;return re("div",{className:(0,i.default)(Z.default.horizontalButtons,(t={},t[Z.default.horizontalButtonsCenter]=!a,t))},void 0,re("div",{className:Z.default.horizontalButton},void 0,n(q.SubscriptionPlans.PREMIUM_YEAR_TIER_2,D.default.Sizes.LARGE)),re("div",{className:Z.default.horizontalButton},void 0,n(q.SubscriptionPlans.PREMIUM_MONTH_TIER_2,D.default.Sizes.LARGE)))};le.displayName="PremiumTier2ButtonsWithoutTrial";var ie=(0,Y.default)((0,b.default)(_.default.PREMIUM_TRIAL,"Premium Trial Experiment",["Premium subscription trial","Control: No trial","Treatment 1: With trial"]),((a={})[v.ExperimentTypes.NONE_LEGACY]=function(e){return l.createElement(le,e)},a[v.ExperimentTypes.USER]=((r={})[v.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return l.createElement(le,e)},r[v.ExperimentBuckets.CONTROL]=function(e){return l.createElement(le,e)},r[v.ExperimentBuckets.TREATMENT_1]=function(e){return l.createElement(oe,ne({},e,{withPremiumTrial:!0}))},r),a)),ue=(0,m.registerUserExperiment)({id:_.default.PREMIUM_XBOX_GAME_PASS_BANNER,title:"Premium Xbox Game Pass Banner",description:["Show banner in settings","Control: Don't banner","Treatment 1: Do banner"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]});function se(e){var t=e.premiumSubscription,n=function(){return null==t||H.default.isNoneSubscription(t.planId)},r=(0,g.default)(ne({},ue,{clientFilter:{isEligible:n}}));return n()&&r===v.ExperimentBuckets.TREATMENT_1?re("div",{className:Z.default.xboxPromotion},void 0,re("div",{className:Z.default.xboxPromotionLogos},void 0,re(w.default,{name:w.default.Names.NITRO_WHEEL,className:Z.default.xboxPromotionLogoPremium}),"+",re("div",{className:Z.default.xboxPromotionLogoXbox})),re("div",{},void 0,re("div",{className:Z.default.xboxPromotionTitle},void 0,J.default.Messages.XBOX_GAME_PASS_PROMOTION_BANNER_HEADER),re("div",{},void 0,J.default.Messages.XBOX_GAME_PASS_PROMOTION_BANNER_DESCRIPTION.format({helpdeskArticle:j.default.getArticleURL(q.HelpdeskArticles.XBOX_GAME_PASS_PROMOTION)})))):null}se.displayName="PremiumXboxGamePassBanner";var de=re(x.default,{}),ce=re(k.default,{}),fe=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPlanOption=function(e,n,r,a){void 0===a&&(a=!0);var o=t.props.premiumSubscription,l=H.default.getInterval(e),i=H.default.getPrice(e),u=l===q.SubscriptionIntervalTypes.MONTH?t.renderMonthly(e,i,o,n,r,a):t.renderYearly(e,i,o,n,r,a);return re("div",{className:Z.default.planOption},e,u)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;s.default.wait(function(){d.fetchSubscriptions(),(0,p.fetchUserPremiumGuildSubscriptionSlots)(),(0,c.fetchUserEntitlementsForApplication)(q.PREMIUM_SUBSCRIPTION_APPLICATION),d.fetchPaymentSources(),null==e.props.isUserEligibleForPremiumTrial&&h.fetchUserTrialEligibility(q.PREMIUM_SUBSCRIPTION_TRIAL_ID)})},a.openPremiumPaymentModal=function(e){var t=e.planId,n=e.trialId,r=e.isGift,a=e.analyticsType;(0,S.openPremiumSubscriptionNewPlanModal)({planId:t,trialId:n,isGift:r,analyticsLocation:ae(a)})},a.handleUpgrade=function(e){var t=this.props,n=t.premiumSubscription,r=t.paymentSource,a=t.isClaimed,o=t.isVerified;a?o?null!=n&&n.isPurchasedViaApple?window.open(q.AppleBillingUrls.SUBSCRIPTION_MANAGEMENT):null!=r&&null!=n?null!=n.planId&&H.default.isGrandfathered(n.planId)?f.default.push(function(t){return l.createElement(W.default,ne({},t,{onConfirm:function(){return(0,I.openPremiumSwitchPlanModal)({initialPlanId:e,analyticsLocation:ae()})}}))}):(0,I.openPremiumSwitchPlanModal)({initialPlanId:e,analyticsLocation:ae()}):this.openPremiumPaymentModal({planId:e,analyticsType:q.AnalyticsObjectTypes.BUY}):f.default.push(function(e){return l.createElement(X.default,e)}):f.default.push(function(e){return l.createElement(Q.default,e)})},a.handlePremiumTrial=function(){this.openPremiumPaymentModal({planId:q.SubscriptionPlans.PREMIUM_MONTH_TIER_2,trialId:q.PREMIUM_SUBSCRIPTION_TRIAL_ID})},a.handleGiftWithPlan=function(e){this.openPremiumPaymentModal({planId:e,isGift:!0,analyticsType:q.AnalyticsObjectTypes.GIFT})},a.isUserCurrentPlan=function(e){var t=this.props.premiumSubscription;return null!=t&&(t.planId===e||t.planId===q.SubscriptionPlans.PREMIUM_MONTH_LEGACY&&e===q.SubscriptionPlans.PREMIUM_MONTH_TIER_2||t.planId===q.SubscriptionPlans.PREMIUM_YEAR_LEGACY&&e===q.SubscriptionPlans.PREMIUM_YEAR_TIER_2)},a.renderMonthly=function(e,t,n,r,a,o){var i=this;void 0===a&&(a=D.default.Colors.PRIMARY),void 0===o&&(o=!0);var u=this.getDisabledButtonTooltipText(e);return re(l.Fragment,{},void 0,this.renderButtonTooltip(re(D.default,{look:D.default.Looks.FILLED,color:a,size:r,className:Z.default.subscribeButton,onClick:function(){return i.handleUpgrade(e)},disabled:null!=u},void 0,J.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,V.formatPrice)(t.amount,t.currency)})),u),o?re(D.default,{look:D.default.Looks.LINK,color:D.default.Colors.PRIMARY,size:r,className:Z.default.giftButton,onClick:function(){return i.handleGiftWithPlan(e)}},void 0,J.default.Messages.BILLING_PREMIUM_GIFT_MONTH):null)},a.renderYearly=function(e,t,n,r,a,o){var i=this;void 0===a&&(a=D.default.Colors.GREEN),void 0===o&&(o=!0);var u=this.getDisabledButtonTooltipText(e);return re(l.Fragment,{},void 0,this.renderButtonTooltip(re(D.default,{look:D.default.Looks.FILLED,color:a,size:r,onClick:function(){return i.handleUpgrade(e)},className:Z.default.subscribeButton,innerClassName:Z.default.yearlyButtonInner,disabled:null!=u},void 0,J.default.Messages.BILLING_PRICE_PER_YEAR.format({price:(0,V.formatPrice)(t.amount,t.currency)}),re("div",{className:Z.default.yearlyButtonDiscount},void 0,"-",q.PREMIUM_YEARLY_DISCOUNT_PERCENT,"%")),u),o?re(D.default,{look:D.default.Looks.LINK,color:D.default.Colors.PRIMARY,size:r,className:Z.default.giftButton,onClick:function(){return i.handleGiftWithPlan(e)}},void 0,J.default.Messages.BILLING_PREMIUM_GIFT_YEAR):null)},a.getDisabledButtonTooltipText=function(e){if(this.isUserCurrentPlan(e))return J.default.Messages.PREMIUM_UPGRADE_DISABLED_CURRENT_TOOLTIP;var t=this.props.premiumSubscription;return null==t?null:e===q.SubscriptionPlans.PREMIUM_YEAR_TIER_2&&null!=t.trialEndsAt?J.default.Messages.PREMIUM_UPGRADE_DISABLED_IN_TRIAL:null!=t.renewalMutations?t.renewalMutations.planId!==t.planId?J.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:J.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION:null},a.renderButtonTooltip=function(e,t){return null!=t?re("div",{className:Z.default.disabledButtonWrapper},void 0,e,re(F.default,{text:t},void 0,function(e){return l.createElement("div",ne({className:Z.default.disabledButtonOverlay},e))})):e},a.renderTier2Subscription=function(){var e=this,t=this.props,n=t.premiumSubscription,r=t.isUserEligibleForPremiumTrial;return re("section",{},void 0,re("div",{className:Z.default.tier2Plan},void 0,re("h4",{className:Z.default.sectionHeader},void 0,re(w.default,{name:w.default.Names.DISCORD_NITRO,className:Z.default.tier2PlanName})),re(U.default,{className:Z.default.tier2PlanMechaWumpus})),re("div",{className:Z.default.title},void 0,J.default.Messages.PREMIUM_TIER_2_TITLE),re("div",{className:Z.default.subtitleRepositioned},void 0,J.default.Messages.PREMIUM_TIER_2_SUBTITLE),null!=n||!0!==r?re(le,{renderPlanOption:this.renderPlanOption,alignLeft:!0}):re(ie,{handlePremiumTrial:function(){return e.handlePremiumTrial()},handleGift:function(){return e.handleGiftWithPlan(q.SubscriptionPlans.PREMIUM_MONTH_TIER_2)},renderPlanOption:this.renderPlanOption,alignLeft:!0}))},a.renderTierSection=function(e){var t=this,n=e.headerIcon,r=e.imageClass,a=e.description,o=e.features,l=e.plans,u=e.showGifts,s=void 0!==u&&u;return re("div",{className:Z.default.tier1Banner},void 0,re("div",{className:r}),re("div",{className:Z.default.planInfo},void 0,re(w.default,{name:n,className:Z.default.headerIcon}),re("div",{className:Z.default.planDescription},void 0,a,re("div",{className:Z.default.planFeatures},void 0,o.map(function(e,t){var n,r;if(null==e)return null;var a=!1!==e.included;return re("div",{className:(0,i.default)(Z.default.planFeature,(n={},n[Z.default.featureNotIncluded]=!a,n))},t,re(w.default,{name:a?w.default.Names.CHECKMARK:w.default.Names.CLOSE,className:(0,i.default)(Z.default.planFeatureIcon,(r={},r[Z.default.iconIncluded]=a,r))}),e.name)})))),re("div",{className:Z.default.verticalButtons},void 0,l.map(function(e){return t.renderPlanOption(e.plan,D.default.Sizes.SMALL,e.color,s)})))},a.renderTier1Subscription=function(){return re("section",{className:Z.default.sectionTier1},void 0,re("h3",{className:Z.default.sectionHeader},void 0,J.default.Messages.PREMIUM_CHAT_PERKS_SIMPLE_TITLE),this.renderTierSection({headerIcon:w.default.Names.NITRO_CLASSIC,imageClass:Z.default.tier1Image,features:[{name:J.default.Messages.PREMIUM_FEATURES_CHAT_PERKS},{name:J.default.Messages.GUILD_SETTINGS_PREMIUM_UPSELL_BODY_PERK_GUILD_SUBSCRIPTION_DISCOUNT.format({discountPercentage:E.PREMIUM_GUILD_FOR_PREMIUM_USER_DISCOUNT_PERCENT+"%"})},{name:J.default.Messages.GUILD_SETTINGS_PREMIUM_UPSELL_BODY_PERK_NUM_GUILD_SUBSCRIPTIONS.format({numFreeGuildSubscriptions:E.NUM_FREE_GUILD_SUBSCRIPTIONS_WITH_PREMIUM}),included:!1}],plans:[{plan:q.SubscriptionPlans.PREMIUM_YEAR_TIER_1,color:D.default.Colors.GREEN},{plan:q.SubscriptionPlans.PREMIUM_MONTH_TIER_1,color:D.default.Colors.PRIMARY}],showGifts:!0}))},a.renderAccountCredit=function(){var e=this.props.entitlements;return null==e||0===e.size?null:re("section",{className:Z.default.sectionAccountCredit},void 0,re(B.FormTitle,{tag:B.FormTitleTags.H5,className:Z.default.marginReset},void 0,J.default.Messages.BILLING_ACCOUNT_CREDIT),re(y.default,{className:Z.default.accountCredit,entitlements:e}))},a.render=function(){var e=this.props,t=e.hide,n=e.hasFetchedSubscriptions,r=e.premiumSubscription,a=e.busy,o=e.paymentSource,l=e.hideBackground,u=e.renderPerkListings;return t?de:n?re("div",{className:Z.default.container},void 0,!0===l||null!=r?null:re("div",{className:Z.default.background}),re("div",{className:Z.default.content},void 0,null!=r?re($.default,{subscription:r,paymentSource:o,busy:a,className:Z.default.subscriptionDetails}):null,this.renderAccountCredit(),this.renderTier2Subscription(),re(se,{premiumSubscription:this.props.premiumSubscription}),re(z.default,{renderPerkListings:u}),this.renderTier1Subscription(),null!=r?re(K.default,{subscription:r}):null)):re("div",{className:(0,i.default)(Z.default.container,Z.default.loading)},void 0,ce)},r}(l.PureComponent);fe.displayName="UserSettingsPremium";var pe=u.default.connectStores([P.default,C.default,M.default,A.default,N.default,T.default,O.default,R.default,L.default],function(){var e=P.default.getSubscription(),t=N.default.getCurrentUser();return{user:t,locale:O.default.locale,hide:T.default.enabled,isClaimed:null!=t.email&&""!==t.email,isVerified:t.verified,hasFetchedSubscriptions:P.default.hasFetchedSubscriptions(),busy:C.default.isBusy,premiumSubscription:e,paymentSource:null!=e&&null!=e.paymentSourceId?A.default.getPaymentSource(e.paymentSourceId):null,isUserEligibleForPremiumTrial:R.default.isUserEligible(q.PREMIUM_SUBSCRIPTION_TRIAL_ID),entitlements:L.default.getForApplication(q.PREMIUM_SUBSCRIPTION_APPLICATION)}})(fe);t.default=pe},6958:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,c){void 0===n&&(n=null);(0,l.registerExperimentLegacy)(e,t);var h=e.getExperimentId(),v=function(r){var a,i;function u(){for(var a,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return(a=r.call.apply(r,[this].concat(u))||this).getRenderFunction=function(){var e=a.props.experimentDescriptor;if(null==e)return t[o.ExperimentTypes.NONE_LEGACY]||p;var n=e.type,r=e.bucket,l=t[n];return null==l?t[o.ExperimentTypes.NONE_LEGACY]||p:null!=l[r]?l[r]:t[o.ExperimentTypes.NONE_LEGACY]||p},a.handleExperimentTriggered=function(){var t=a.props.experimentDescriptor;if(null!=t&&!t.override){if(null!=n&&!1===n(t,a.props))return;(0,l.triggerExperiment)(e.getExperimentId(),t)}},a}i=r,(a=u).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i;var s=u.prototype;return s.componentDidMount=function(){this.handleExperimentTriggered()},s.componentDidUpdate=function(e){var t=this.props.experimentDescriptor;d.default.experimentDescriptorEquals(t,e.experimentDescriptor)||this.handleExperimentTriggered()},s.render=function(){var e=this.getRenderFunction();if(null==e)return null;var t=this.props,n=t.experimentDescriptor;return e(function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["experimentDescriptor"]),n)},u}(r.Component);v.displayName="ExperimentContainer";var m=r.forwardRef(function(e,t){return r.createElement(v,f({},e,{forwardedRef:t}))});m.displayName="ForwardRef(ExperimentContainer)";var _=null!=c&&c.forwardRef?m:v;return a.default.connectStores([s.default,u.default,i.default,e],function(t){var n=t.guildId,r=t.channelId,a=null!=n?n:s.default.getGuildId(),o=null!=r?r:u.default.getChannelId(a);return{experimentDescriptor:i.default.getOverrideExperimentDescriptor(h)||e.getExperimentDescriptor(a,o)}},{forwardRef:!0})(_)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=c(n(3)),o=n(184),l=n(330),i=c(n(225)),u=c(n(39)),s=c(n(153)),d=c(n(6628));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(){return null}},6959:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(8)),l=u(n(42)),i=u(n(6058));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderFeature=function(e,n){return s("div",{className:i.default.feature},n,t.renderIcon(e),s("div",{},void 0,null!=e.title?s("div",{className:i.default.title},void 0,e.title):null,s("div",{className:null==e.title?i.default.descriptionStandalone:i.default.description},void 0,e.description)))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(i.default.icon);if(null!=e.iconName&&null!=e.iconClass)return s(l.default,{name:e.iconName,className:(0,o.default)(i.default.icon,e.iconClass)});throw new Error("Missing overrideIcon or iconName and iconClass")},a.render=function(){return s("div",{className:i.default.features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")}},void 0,this.props.features.map(this.renderFeature))},r}(a.Component);d.displayName="PremiumFeaturesList";var c=d;t.default=c},6961:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Ee(n(0)),o=ge(n(8)),l=n(6),i=ge(n(59)),u=ge(n(339)),s=ge(n(3)),d=n(29),c=ge(n(2)),f=ge(n(478)),p=n(7279),h=n(350),v=ge(n(30)),m=n(465),_=ge(n(260)),g=ge(n(6570)),E=ge(n(862)),y=ge(n(888)),S=ge(n(353)),I=ge(n(22)),T=ge(n(19)),O=ge(n(64)),N=ge(n(479)),C=ge(n(25)),A=ge(n(185)),M=ge(n(6808)),P=ge(n(6751)),R=ge(n(346)),b=ge(n(119)),L=ge(n(855)),D=ge(n(198)),w=ge(n(21)),U=ge(n(854)),G=ge(n(24)),k=ge(n(42)),F=ge(n(7280)),B=ge(n(152)),j=ge(n(182)),H=ge(n(65)),V=ge(n(15)),x=n(272),Y=n(156),W=ge(n(36)),z=n(154),K=n(6710),$=ge(n(331)),Q=ge(n(6530)),X=ge(n(6532)),q=ge(n(880)),J=ge(n(6809)),Z=ge(n(7281)),ee=ge(n(7283)),te=ge(n(7284)),ne=ge(n(7285)),re=ge(n(7286)),ae=ge(n(7288)),oe=ge(n(7289)),le=ge(n(7293)),ie=Ee(n(6813)),ue=ge(n(7294)),se=ge(n(7300)),de=ge(n(6803)),ce=ge(n(7304)),fe=Ee(n(7305)),pe=ge(n(7306)),he=n(1),ve=ge(n(4)),me=n(6552),_e=ge(n(6098));function ge(e){return e&&e.__esModule?e:{default:e}}function Ee(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ye(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Te=8e3,Oe=1500,Ne=50;function Ce(e){return location.protocol+"//"+location.host+e}var Ae=ye(j.default,{}),Me=ye(J.default,{}),Pe=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(t=e.call.apply(e,[this].concat(r))||this).showCopyLinkTextTimeout=new d.Timeout,t._purchaseRef=a.createRef(),t._trackedViewed=!1,t._analyticsSource=null,t._extraAnalyticsProperties=null,t.state={showHeaderPurchaseUnit:!1,showLinkCopied:!1},t.trackCarouselScroll=function(e,n,r){var a=t.props.sku;null!=a&&V.default.track(he.AnalyticEvents.STORE_LISTING_MEDIA_SCROLLED,Se({},(0,E.default)(a),{card_index:r,card_type:e.type===he.CarouselMediaTypes.IMG?"image":"video"}))},t.copyCurrentUrl=function(){var e=t.props.location;(0,x.copy)(Ce(e.pathname)),t.setState({showLinkCopied:!0},function(){t.showCopyLinkTextTimeout.start(Oe,function(){t.setState({showLinkCopied:!1})})})},t.handleCreateInstantInvite=function(){var e=t.props,n=e.channel,r=e.guild;null!=n&&null!=r&&v.default.push(X.default,{guild:r,channel:n,source:he.InstantInviteSources.GUILD_CHANNELS})},t.renderInviteLink=function(){var e=t.props,n=e.channel,r=e.guild;return null==n||null==r?null:O.default.can(he.Permissions.CREATE_INSTANT_INVITE,r)||null!=r.vanityURLCode?ye(w.default,{"aria-label":ve.default.Messages.CREATE_INSTANT_INVITE,look:w.default.Looks.BLANK,size:w.default.Sizes.NONE,onClick:t.handleCreateInstantInvite,className:_e.default.link},void 0,ye(k.default,{name:k.default.Names.LINK,className:_e.default.linkIcon})):null},t.renderCopyLink=function(){var e=t.state.showLinkCopied;return t.isChannelType?t.renderInviteLink():ye(H.default,{text:e?ve.default.Messages.APPLICATION_STORE_LINK_COPIED:null,position:H.default.Positions.LEFT,forceOpen:e},void 0,function(n){var r=n.onMouseEnter,a=n.onMouseLeave;return ye(w.default,{"aria-label":e?ve.default.Messages.APPLICATION_STORE_LINK_COPIED:ve.default.Messages.COPY_LINK,look:w.default.Looks.BLANK,size:w.default.Sizes.NONE,onClick:t.copyCurrentUrl,onMouseEnter:r,onMouseLeave:a,className:_e.default.link},void 0,ye(k.default,{name:k.default.Names.LINK,className:_e.default.linkIcon}))})},t.renderHeaderToolbar=function(e,n){var r,a=t.props,l=a.isInTestMode,i=a.slug,u=a.storeListing,s=a.channel,d=a.analyticsContext.location,c=t.state.showHeaderPurchaseUnit;return ye("div",{className:_e.default.headerBarListing},void 0,ye("div",{className:_e.default.headerSection},void 0,l&&null!=n?ye(fe.default,{size:fe.TestModeStoreListingButtonEnums.Sizes.MIN,dropdownSize:fe.TestModeStoreListingButtonEnums.DropdownSizes.MEDIUM,look:fe.TestModeStoreListingButtonEnums.Looks.OUTLINED,color:fe.TestModeStoreListingButtonEnums.Colors.YELLOW,skuId:n.id,className:_e.default.testModeSelectButton,currentStoreListingId:null!=u?u.id:null,onStoreListingSelect:function(e){null!=n&&(0,m.goToSKUStoreListing)(n.id,{slug:i,analyticsSource:{page:d.page,section:he.AnalyticsSections.NAVIGATION,object:null},storeListingId:e.id})}}):null),ye("div",{className:_e.default.headerSection},void 0,ye("div",{className:(0,o.default)(_e.default.headerPurchase,(r={},r[_e.default.active]=c,r))},void 0,null!=n?(0,y.default)(n):null,null!=e&&null!=n?ye(q.default,{wrapperClassName:_e.default.headerActionButton,applicationId:e.id,skuId:n.id,color:w.default.Colors.GREEN,size:w.default.Sizes.SMALL,tooltipPosition:H.default.Positions.BOTTOM,entitlementBranchId:null!=u?u.entitlementBranchId:null,channelId:null!=s?s.id:null,onStoreListing:!0}):null,ye(ie.default,{messageStyle:ie.MessageStyles.SHORT,className:_e.default.purchaseError}))),t.renderCopyLink())},t.renderCarousel=function(e,n){if(0===n.carouselItems.length)return null;var r=t.props,a=r.pageSize,o=r.isFocused;return ye($.default,{section:he.AnalyticsSections.HERO},void 0,ye(oe.default,{pageSize:a,items:n.carouselItems.map(function(r){return t.parseMediaItems(e,r,n.assets)}),autoplayInterval:Te,paused:!o,onChange:t.trackCarouselScroll,onIntentionalChange:t.trackCarouselScroll}))},t.handleScroll=(0,l.debounce)(function(){if(null!=t._purchaseRef.current){var e=i.default.findDOMNode(t._purchaseRef.current.getApplicationBuyButton());if(e instanceof HTMLElement){var n=e.getBoundingClientRect().top,r=n<0||n>window.innerHeight;t.state.showHeaderPurchaseUnit!==r&&t.setState({showHeaderPurchaseUnit:r})}}},Ne),t.renderListing=function(){var e=t.props,n=e.application,r=e.storeListing,a=e.sku,o=e.pageSize;return null==n||null==a||null==r||r.isSlimDirectoryVersion()?ye(G.default,{align:G.default.Align.CENTER,justify:G.default.Justify.CENTER},void 0,Ae):o===me.PageSizes.SMALL?t.renderSmall(n,r,a):t.renderLarge(n,r,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s,_,g,S=r.prototype;return S.componentDidMount=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isFetchingEntitlements,a=e.shouldFetchStatistics,o=e.hasFetchedActivities,l=e.didFetchEntitlements,i=e.isAuthenticated,u=e.location,s=e.fetchStoreListing;if(null!=u.state){var d=u.state,v=d.analyticsSource,m=d.analyticsProperties;this._analyticsSource=v,this._extraAnalyticsProperties=m}else this._analyticsSource=he.DIRECT_ANALYTICS_LOCATION;(null==n||n.isSlimDirectoryVersion())&&s(),null!=t&&(r||l||(0,h.fetchUserEntitlementsForApplication)(t.applicationId),a&&c.default.wait(function(){return(0,p.fetchStatisticsForApplication)(t.applicationId)})),i&&!o&&f.default.getActivities(),this.handleScroll(),this.trackViewed(),this.replaceUrlWithSlug()},S.componentDidUpdate=function(e){var t=this.props,n=t.locale,r=t.sku,a=t.shouldFetchStatistics,o=t.skuId,l=t.storeListingId,i=t.slug,u=t.storeListing,s=t.fetchStoreListing;if(u!==e.storeListing&&null!=u&&(0,K.deepLinkRouteIfLandedAndNotAuthed)(he.RPCDeepLinks.STORE_LISTING,{skuId:o,slug:i}),n===e.locale&&o===e.skuId||s(),a&&!e.shouldFetchStatistics){if(null==r)throw new Error("Unexpected missing sku");c.default.wait(function(){return(0,p.fetchStatisticsForApplication)(r.applicationId)})}o===e.skuId&&l===e.storeListingId||(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()},S.componentWillUnmount=function(){this.showCopyLinkTextTimeout.stop();var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;null!=n&&V.default.track(he.AnalyticEvents.STORE_LISTING_EXITED,{load_id:t,duration_ms:Date.now()-n})},S.replaceUrlWithSlug=function(){var e=this.props,t=e.sku,n=e.application,r=e.channel,a=e.skuId,o=e.applicationId,l=e.slug;null==r&&(null!=a&&null!=t&&l!==t.slug&&W.default.replaceWith({pathname:he.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),search:location.search}),null!=o&&null!=n&&null!=n.slug&&l!==n.slug&&W.default.replaceWith({pathname:he.Routes.APPLICATION_STORE_LISTING_APPLICATION(n.id,n.slug),search:location.search}))},S.trackViewed=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.hasFetchedNews,a=e.hasNews,o=e.analyticsContext;if(!this._trackedViewed&&null!=t&&null!=n&&null!=n.description&&(this.isChannelType||r)){var l=n.carouselItems.reduce(function(e,t){return null!=t.assetId?e.images++:e.videos++,e},{images:0,videos:0});V.default.track(he.AnalyticEvents.STORE_LISTING_VIEWED,Se({},this._extraAnalyticsProperties,{load_id:o.loadId,has_description:null!=n.description&&n.description.length>0,has_staff_review:null!=n.staffNotes,carousel_image_count:l.images,carousel_video_count:l.videos,has_news:this.isChannelType&&a,location:o.location.page,source:this._analyticsSource},(0,E.default)(t,!0))),this._trackedViewed=!0}},S.renderHeader=function(e,t){var n=this.props,r=n.channel,o=n.isAuthenticated;return ye(Q.default,{isAuthenticated:o,toolbar:this.renderHeaderToolbar(e,t)},void 0,null!=r?ye(a.Fragment,{},void 0,ye(Q.default.Icon,{name:k.default.Names.STORE_TAG}),ye(Q.default.Title,{},void 0,r.name)):null!=t&&t.premium?ye(a.Fragment,{},void 0,ye(Q.default.Icon,{name:k.default.Names.NITRO_WHEEL}),ye(de.default,{sku:t})):null!=t?ye(a.Fragment,{},void 0,ye(Q.default.Icon,{name:k.default.Names.STORE_TAG}),ye(Q.default.Title,{},void 0,t.name)):null)},S.parseMediaItems=function(e,t,n){var r=t.assetId,a=t.youtubeVideoId;if(null!=r){var o=n.find(function(e){return e.id===r});if(null!=o){var l=o.width,i=o.height;if(null==l||null==i)throw new Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return o.mimeType.startsWith("video/")?{type:he.CarouselMediaTypes.VIDEO,thumbnailSrc:(0,z.getAssetURL)(e.id,o,1024,"webp"),src:(0,z.getAssetURL)(e.id,o),height:i,width:l}:{type:he.CarouselMediaTypes.IMG,src:(0,z.getAssetURL)(e.id,o,1024),height:i,width:l}}}if(null!=a)return{type:he.CarouselMediaTypes.YOUTUBE_VIDEO,youtubeVideoId:a};throw new Error("Store carousel item must have one of assetId or youtubeVideoId")},S.renderHeaderAssets=function(e,t,n){var r=this.props.theme,a=t.headerBackground,o=r===he.ThemeTypes.LIGHT?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==a||null==o?ye("div",{className:_e.default.noHeaderSpacer}):ye("div",{className:_e.default.headerAssets},void 0,ye("div",{className:_e.default.headerBackground,style:{backgroundImage:"url("+(0,z.getAssetURL)(e.id,a,1024,"png")+")"}}),ye("img",{className:_e.default.headerLogo,src:(0,z.getAssetURL)(e.id,o,1024,"png"),alt:n.name}))},S.renderPurchaseSection=function(e,t,n){var r=this.props,o=r.channel,l=r.isFocused,i=r.fetchStoreListing;return ye($.default,{section:he.AnalyticsSections.STORE_LISTING_BUY_GAME},void 0,a.createElement(ue.default,{storeListing:e,fetchStoreListing:i,game:t,sku:n,guildId:null!=o?o.guild_id:null,channelId:null!=o?o.id:null,isFocused:l,className:_e.default.purchaseUnit,ref:this._purchaseRef}))},S.renderWhyYouMightLikeThis=function(e,t){return ye(se.default,{sku:e,storeListing:t,className:_e.default.whyYouMightLikeIt})},S.renderPremiumPerks=function(e,t){return ye(ae.default,{sku:e,storeListing:t,className:_e.default.premiumPerks})},S.renderVerifiedGuildInvite=function(e,t){if(null==e.guild)return null;var n=this.props,r=n.channel,a=n.pageSize;return ye(pe.default,{skuId:t.id,guild:e.guild,className:_e.default.guildInvite,inChannel:null!=r,pageSize:a})},S.renderFeatures=function(e){return ye(te.default,{sku:e})},S.renderSystemRequirements=function(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:ye(ce.default,{className:_e.default.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})},S.renderDescription=function(e,t,n){var r=t.description;if(null==r)throw new Error("Rendering ApplicationStoreListing without description");return ye(a.Fragment,{},void 0,ye(U.default,{tag:"h1"},void 0,ve.default.Messages.APPLICATION_STORE_ABOUT_HEADER.format({name:n.name})),Me,ye(ee.default,{applicationId:e.id,blurb:t.summary,description:r,className:_e.default.description,assets:t.assets}))},S.renderNews=function(e){return this.isChannelType?null:ye(re.default,{application:e,className:_e.default.news})},S.renderApplicationContentRating=function(e){return ye(Z.default,{sku:e,className:_e.default.contentRating})},S.renderApplicationLegalInfo=function(e){return ye(ne.default,{sku:e,className:_e.default.legalInfo})},S.renderJsonLD=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.application;if(null==t||null==n||null==r)return null;var a=[],o=r.getSplashURL(1024);null!=o&&a.push(o),null!=n.headerLogoLightTheme&&a.unshift((0,z.getAssetURL)(r.id,n.headerLogoLightTheme,1024,"jpg"));var l=F.default.Product({name:t.name,description:t.summary||n.tagline,image:F.default.Product.Image(a),sku:t.id}),i=t.getPrice();if(null!=i){var u=i.amount,s=i.currency;l.offers=F.default.Offer({priceCurrency:s.toUpperCase(),price:(0,Y.formatPrice)(u,s,{style:"decimal"})})}var d=F.default.ItemPage({mainEntity:l});return ye(F.default,{data:d})},S.renderSmall=function(e,t,n){return ye("div",{className:(0,o.default)(_e.default.listing,_e.default.listingSmall)},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderPurchaseSection(t,e,n),this.renderWhyYouMightLikeThis(n,t),this.renderPremiumPerks(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderNews(e),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n))},S.renderLarge=function(e,t,n){return ye("div",{className:_e.default.listing},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),ye("div",{className:_e.default.listingLarge},void 0,ye("div",{className:_e.default.body},void 0,ye("div",{className:_e.default.leftColumn},void 0,this.renderWhyYouMightLikeThis(n,t),this.renderPremiumPerks(n,t),this.renderDescription(e,t,n),this.renderNews(e),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)),ye("div",{className:_e.default.rightColumn},void 0,this.renderPurchaseSection(t,e,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n)))))},S.render=function(){var e=this.props,t=e.application,n=e.sku,r=e.storeListing,o=e.matureAgree,l=e.isAuthenticated;if(null==t||null==n||null==r||r.isSlimDirectoryVersion())return ye(a.Fragment,{},void 0,this.renderHeader(t,n),ye(G.default,{align:G.default.Align.CENTER,justify:G.default.Justify.CENTER},void 0,ye(j.default,{className:_e.default.spinner})));if(!o&&n.showAgeGate){var i=l?null:ye("div",{className:_e.default.gatedListing},void 0,this.renderListing());return ye(a.Fragment,{},void 0,ye(u.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),ye(le.default,{game:t}),i)}return l?ye("div",{className:_e.default.listingWrapper},void 0,ye(u.default,{title:t.name}),this.renderJsonLD(),ye($.default,{section:he.AnalyticsSections.NAVIGATION},void 0,this.renderHeader(t,n)),ye(B.default,{onScroll:this.handleScroll,outerClassName:_e.default.outerScroller,track:!0,momentum:!0,keyboardScroll:!0,gutterStyle:B.default.GutterStyles.STORE,className:_e.default.scroller},void 0,ye($.default,{section:he.AnalyticsSections.BODY},void 0,this.renderListing()))):ye("div",{},void 0,ye(u.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),this.renderListing())},s=r,(_=[{key:"isChannelType",get:function(){return null!=this.props.channel}}])&&Ie(s.prototype,_),g&&Ie(s,g),r}(a.PureComponent);Pe.displayName="ApplicationStoreListing";var Re=(0,_.default)((0,g.default)(s.default.connectStores([I.default,b.default,L.default,R.default,P.default,M.default,N.default,S.default,D.default,A.default,T.default],function(e){var t,n,r,a=e.inputSkuId,o=e.applicationId,l=e.storeListingId,i=e.isAuthenticated,u=e.channel;if(null==o){if(null==a)throw new Error("Needs applicationId or skuId");t=a,null!=(o=null!=(n=b.default.get(a))?n.applicationId:null)&&(r=I.default.getGame(o))}else if(null==a){if(null==o)throw new Error("Needs applicationId or skuId");null!=(r=I.default.getGame(o))&&(t=r.destinationSkuId),n=null!=t?b.default.get(t):null}var s=null!=o&&D.default.inTestModeForApplication(o);return{skuId:t,application:null!=o?I.default.getGame(o):null,isFetchingEntitlements:null!=o&&R.default.applicationIdsFetching.has(o),didFetchEntitlements:null!=o&&R.default.applicationIdsFetched.has(o),shouldFetchStatistics:i&&null!=o&&M.default.shouldFetchStatisticsForApplication(o),hasFetchedActivities:N.default.hasFetchedActivities,sku:n,isFocused:A.default.isFocused(),storeListing:L.default.getStoreListing({storeListingId:l,skuId:t,channelId:null!=u?u.id:null,isTestMode:s}),isInTestMode:null!=o&&s,matureAgree:P.default.didMatureAgree,hasFetchedNews:null!=o&&S.default.isFetched(o),hasNews:null!=o&&S.default.getByGameId(o).length>0,theme:C.default.theme,locale:C.default.locale,guild:null!=u?T.default.getGuild(u.getGuildId()):null}})(Pe)));t.default=Re},6962:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=f(n(82)),i=f(n(21)),u=f(n(58)),s=f(n(24)),d=f(n(42)),c=f(n(6096));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=(0,l.default)({SMALL:null,MEDIUM:null,LARGE:null}),v=((r={})[h.SMALL]=c.default.dropdownSmall,r[h.MEDIUM]=c.default.dropdownMedium,r[h.LARGE]=c.default.dropdownLarge,r),m=function(e){var t=e.onDropdownClick,n=e.children,r=e.contentClassName,a=e.dropdownSize,l=void 0===a?h.MEDIUM:a,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return o.createElement(i.default,f,p(s.default,{align:s.default.Align.CENTER},void 0,p(s.default.Child,{className:r},void 0,n),null!=t?p(u.default,{className:v[l],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,p("div",{className:c.default.arrowSeparator}),p(d.default,{name:d.default.Names.ARROW_DROP_DOWN,className:c.default.dropdownArrow})):null))};m.displayName="DropdownButton",m.DropdownSizes=h,m.Sizes=i.default.Sizes,m.Colors=i.default.Colors,m.Looks=i.default.Looks;var _=m;t.default=_},6963:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=i(n(8)),l=i(n(6104));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=Object.freeze({SMALL:1,MEDIUM:2,LARGE:4}),d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderCircle=function(){var e=this.props,t=e.strokeSize,n=e.percent,r=e.colorOverride,a=e.background,i=Math.min(Math.max(n,0),100),s=(20-t)/2,d=s*Math.PI*2;return u("svg",{viewBox:"0 0 20 20",className:l.default.circle},void 0,u("circle",{className:l.default.circleBackgroundAlt,cx:10,cy:10,r:10}),u("circle",{className:(0,o.default)(l.default.circleBackground,a),cx:10,cy:10,r:(20-2*t)/2}),u("circle",{className:l.default.circleProgress,cx:10,cy:10,r:s,strokeWidth:t+"px",strokeLinecap:"round",transform:"rotate(-90 10 10)",stroke:null!=r?r:"currentColor",style:{strokeDasharray:d,strokeDashoffset:(1-i/100)*d}}))},a.render=function(){var e=this.props,t=e.className,n=e.children;return u("div",{className:(0,o.default)(l.default.progressCircle,t)},void 0,this.renderCircle(),null!=n?u("div",{className:l.default.circleOverlay},void 0,n):null)},r}(a.Component);d.displayName="ProgressCircle",d.StrokeSizes=s,d.defaultProps={strokeSize:s.MEDIUM};var c=d;t.default=c},6964:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(137)),l=f(n(21)),i=f(n(71)),u=f(n(75)),s=f(n(66)),d=f(n(4)),c=f(n(6106));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){var t,n;function r(t){var n;return h(n=e.call(this,t)||this).close=n.close.bind(h(n)),h(n).handleSync=n.handleSync.bind(h(n)),h(n).handleCancel=n.handleCancel.bind(h(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){(0,this.props.onClose)()},a.handleSync=function(){(0,this.props.onSync)(),this.close()},a.handleCancel=function(){var e=this.props.onCancel;e&&e(),this.close()},a.renderHeader=function(){return p(u.default.Header,{},void 0,p(s.default,{tag:s.default.Tags.H4},void 0,d.default.Messages.CONFIRM_CHANNEL_DRAG_TITLE))},a.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return p(u.default.Content,{},void 0,p(i.default,{size:i.default.Sizes.MEDIUM,color:i.default.Colors.PRIMARY,className:c.default.message,selectable:!1},void 0,d.default.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:(0,o.default)(t,!0),categoryName:(0,o.default)(n)})))},a.renderFooter=function(){return p(u.default.Footer,{},void 0,p(l.default,{color:l.default.Colors.BRAND,onClick:this.handleSync,className:c.default.buttonSpacing},void 0,d.default.Messages.SYNC_PERMISSIONS),p(l.default,{color:l.default.Colors.BRAND,look:l.default.Looks.GHOST,onClick:this.handleCancel,className:c.default.buttonSpacing},void 0,d.default.Messages.KEEP_PERMISSIONS))},a.render=function(){return p(u.default,{},void 0,this.renderHeader(),this.renderContent(),this.renderFooter())},r}(a.PureComponent);v.displayName="ConfirmChannelDrag",v.key=function(){return"confirm-channel-drag-modal"};var m=v;t.default=m},6965:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.VoiceList=void 0;var r,a=v(n(0)),o=h(n(8)),l=h(n(6653)),i=h(n(58)),u=h(n(42)),s=v(n(65)),d=h(n(915)),c=n(1),f=h(n(4)),p=h(n(6111));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.children,n=e.collapsed,r=void 0!==n&&n,a=e.className;return _("div",{className:(0,o.default)(a,p.default.list,r?p.default.listCollapse:p.default.listDefault)},void 0,t)};t.VoiceList=g,g.displayName="VoiceList";var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.user;r&&r(e,a)},t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.user;r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.user;r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=r.prototype;return h.renderPrioritySpeaker=function(){var e=this.props,t=e.speaking,n=e.priority,r=e.collapsed;return n&&!r?_(s.default,{text:f.default.Messages.PRIORITY_SPEAKER},void 0,function(e){var n;return a.createElement("div",m({className:(0,o.default)(p.default.iconPriortySpeaker,(n={},n[p.default.iconPriortySpeakerSpeaking]=t,n))},e))}):null},h.renderAvatar=function(){var e,t=this.props,n=t.speaking,r=t.user,a=t.size,l=t.avatarContainerClass;return _("div",{className:(0,o.default)(l,p.default.avatar,(e={},e[p.default.avatarLarge]=a===c.OverlayAvatarSizes.LARGE,e[p.default.avatarSmall]=a===c.OverlayAvatarSizes.SMALL,e[p.default.avatarSpeaking]=n,e)),style:{backgroundImage:"url("+(r.avatarURL||r.getAvatarURL&&r.getAvatarURL("jpg")||"")+")"}})},h.renderName=function(){var e,t=this.props,n=t.nick,r=t.user,a=t.collapsed,l=t.speaking,i=t.userNameClassName;return a?null:_("div",{className:(0,o.default)(i,(e={},e[p.default.username]=!0,e[p.default.usernameSpeaking]=l,e))},void 0,n||r.username)},h.renderIcons=function(){var e=this.props,t=e.mute,n=e.serverMute,r=e.disabled,a=e.deaf,i=e.serverDeaf,c=e.collapsed,h=e.isStreaming,v=e.isWatching,m=e.iconClassName;if(c||r)return null;var g,E,y=[];(n||t)&&y.push(_("div",{className:p.default.iconSpacing},"mute",_(s.TooltipContainer,{text:n?f.default.Messages.SERVER_MUTED:f.default.Messages.VOICE_CHANNEL_MUTED},void 0,_(u.default,{name:u.default.Names.NOVA_MICROPHONE_MUTE,className:(0,o.default)(p.default.icon,m,(g={},g[p.default.iconServer]=n,g))}))));(i||a)&&y.push(_("div",{className:p.default.iconSpacing},"deaf",_(s.TooltipContainer,{text:i?f.default.Messages.SERVER_DEAFENED:f.default.Messages.VOICE_CHANNEL_DEAFENED},void 0,_(u.default,{name:u.default.Names.NOVA_HEADSET_DEAFEN,className:(0,o.default)(p.default.icon,m,(E={},E[p.default.iconServer]=i,E))}))));return h?y.push(_("div",{className:p.default.iconSpacing},"stream",_(l.default,{className:(0,o.default)(m),size:l.default.Sizes.SMALL}))):v&&y.push(_("div",{className:p.default.iconSpacing},"watch",_(s.TooltipContainer,{text:f.default.Messages.WATCH_STREAM_WATCHING},void 0,_(d.default,{className:(0,o.default)(p.default.icon,m)})))),0===y.length?null:_("div",{className:p.default.icons},void 0,y)},h.render=function(){var e,t,n=this.props,r=n.onClick,a=n.onMouseEnter,l=n.onMouseLeave,u=n.onDoubleClick,s=n.onContextMenu,d=n.flipped,f=n.size,h=n.className,v=n.selected,m=n.disabled,g=n["aria-label"];return _(i.default,{className:(0,o.default)(h,(e={},e[p.default.voiceUser]=!0,e[p.default.selected]=v,e[p.default.clickable]=null!=r,e[p.default.userSmall]=f===c.OverlayAvatarSizes.SMALL,e[p.default.userLarge]=f===c.OverlayAvatarSizes.LARGE,e[p.default.disabled]=!v&&m,e)),onClick:r&&this.handleClick,onDoubleClick:u&&this.handleDoubleClick,onContextMenu:s&&this.handleContextMenu,onMouseEnter:a,onMouseLeave:l,"aria-label":g},void 0,_("div",{className:(0,o.default)(p.default.content,(t={},t[p.default.flipped]=d,t))},void 0,this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons()))},r}(a.Component);E.displayName="VoiceUser",E.List=g,E.defaultProps={avatarContainerClass:p.default.avatarContainer,userNameClassName:p.default.usernameFont,size:c.OverlayAvatarSizes.SMALL,selected:!1,disabled:!1};var y=E;t.default=y},6966:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l={};var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){var t=e;null!=t&&Object.keys(t).forEach(function(e){"number"==typeof t[e]&&(l[e]=t[e])})},a.getState=function(){return l},a.hasViewed=function(e){return null!=l[e]},r}(r.default.PersistedStore);i.persistKey="ViewHistoryStore";var u=new i(a.default,{VIEW_HISTORY_MARK_VIEW:function(e){var t=e.key;l[t]=Date.now()}});t.default=u},6967:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(12)),a=u(n(2)),o=u(n(392)),l=n(1),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return a.default.dispatch({type:l.ActionTypes.MFA_SMS_TOGGLE}),r.default.post({url:e,body:{password:t}}).then(function(e){return a.default.dispatch({type:l.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e},function(e){throw a.default.dispatch({type:l.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e})}var d={enable:function(e){var t=e.code,n=e.secret;return r.default.post({url:l.Endpoints.MFA_TOTP_ENABLE,body:{code:t,secret:n}}).then(function(e){return a.default.dispatch({type:l.ActionTypes.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})})},disable:function(){(0,o.default)({title:i.default.Messages.TWO_FA_DISABLE,actionText:i.default.Messages.TWO_FA_REMOVE},function(e){return r.default.post({url:l.Endpoints.MFA_TOTP_DISABLE,body:e})},{checkEnabled:!0}).then(function(e){var t=e.body.token;return a.default.dispatch({type:l.ActionTypes.MFA_DISABLE_SUCCESS,token:t})})},enableSMS:function(e){return s(l.Endpoints.MFA_SMS_ENABLE,e)},disableSMS:function(e){return s(l.Endpoints.MFA_SMS_DISABLE,e)},viewBackupCodes:function(e,t){return void 0===t&&(t=!1),r.default.post({url:l.Endpoints.MFA_CODES,body:{password:e,regenerate:t}}).then(function(e){return a.default.dispatch({type:l.ActionTypes.MFA_VIEW_BACKUP_CODES,codes:e.body.backup_codes})})},clearBackupCodes:function(){a.default.dirtyDispatch({type:l.ActionTypes.MFA_CLEAR_BACKUP_CODES})}};t.default=d},6968:function(e,t,n){"use strict";t.__esModule=!0,t.default=te,t.SCREEN_ICON_COLORS=void 0;var r,a=Q(n(0)),o=$(n(8)),l=$(n(16)),i=$(n(6)),u=n(158),s=Q(n(3)),d=$(n(30)),c=$(n(260)),f=$(n(477)),p=n(184),h=$(n(6655)),v=$(n(6664)),m=Q(n(889)),_=$(n(6632)),g=$(n(6578)),E=$(n(511)),y=$(n(98)),S=$(n(10)),I=$(n(14)),T=$(n(22)),O=$(n(87)),N=$(n(859)),C=$(n(40)),A=$(n(463)),M=$(n(64)),P=$(n(68)),R=$(n(54)),b=$(n(39)),L=$(n(11)),D=$(n(469)),w=$(n(267)),U=$(n(42)),G=$(n(6662)),k=$(n(6618)),F=$(n(6663)),B=$(n(15)),j=$(n(13)),H=$(n(7340)),V=$(n(6824)),x=$(n(7342)),Y=$(n(6653)),W=n(1),z=$(n(4)),K=$(n(6141));function $(e){return e&&e.__esModule?e:{default:e}}function Q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var q=[1752220,3066993,3447003,10181046,15277667,15844367];t.SCREEN_ICON_COLORS=q;var J=/[!"#$%&'()*+,-.\/:;<=>?@[\]^_`{|}~]/g,Z=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleClickGoLiveButton=function(){var e=n.props,t=e.guildId,r=e.voiceChannel,a=null!=r?r.getGuildId():t;null!=a&&(n.modalKey=d.default.push(function(){return X(V.default,{guildId:a,onClose:n.handleCloseModal,analyticsLocation:W.AnalyticsLocations.ACTIVITY_PANEL})}))},n.handleClickStopStreamingButton=function(){var e=n.props.stream;(0,E.default)(e)},n.handleClickInviteButton=function(){var e=n.props,t=e.activity,r=e.analyticsContext;(0,l.default)(null!=t,"Received null activity"),B.default.track(W.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:t.application_id,location:r.location}),n.modalKey=d.default.push(function(){return X(x.default,{activity:t,onClose:n.handleCloseModal})})},n.handleCloseModal=function(){null!=n.modalKey?d.default.popWithKey(n.modalKey):d.default.pop()},n.state={backgroundColor:(0,u.int2hex)(i.default.sample(q))},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){if(this.props.isStreaming&&!e.isStreaming){var t=(0,u.int2hex)(i.default.sample(q));this.setState({backgroundColor:t})}},a.isJoinableActivity=function(){var e=this.props,t=e.application,n=e.activity;return null!=t&&null!=n&&n.application_id===t.id&&n.type===W.ActivityTypes.PLAYING&&(0,f.default)(n,W.ActivityFlags.JOIN)},a.renderGoLiveButton=function(){var e,t,n,r,a=this.props,o=a.canGoLive,l=a.guildId,i=a.isStreaming,u=a.voiceChannel,s=a.canStream,d=a.runningGame;return i||o?(i?(e=!1,t=this.handleClickStopStreamingButton,n=U.default.Names.STOP_STREAM,r=z.default.Messages.STOP_STREAMING):s?(e=!1,t=this.handleClickGoLiveButton,n=U.default.Names.STREAM,r=null!=d?z.default.Messages.ACTIVITY_PANEL_GO_LIVE_STREAM_GAME.format({game:d.name}):z.default.Messages.ACTIVITY_PANEL_GO_LIVE):(e=!0,t=null,n=U.default.Names.STREAM,r=null!=u?null==u.getGuildId()?z.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_CANT_STREAM_DURING_DM_CALL:z.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE:null!=l?z.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD:z.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD),X(G.default,{tooltipText:r,disabled:e,onClick:t,iconName:n,iconForeground:K.default.actionIcon})):null},a.renderInviteButton=function(){return this.isJoinableActivity()?X(G.default,{tooltipText:z.default.Messages.INVITE_EMBED_INVITE_TO_JOIN,onClick:this.handleClickInviteButton,iconName:U.default.Names.INVITE,iconForeground:K.default.actionIcon}):null},a.renderActions=function(){var e=this.renderGoLiveButton(),t=this.renderInviteButton();return null==e&&null==t?null:X("div",{className:K.default.actions},void 0,e,t)},a.getGameName=function(){var e=this.props,t=e.runningGame,n=e.application;return null!=n?n.name:null!=t?t.name:z.default.Messages.STATUS_UNKNOWN},a.renderGame=function(){var e,t=this.props,n=t.analyticsContext,r=t.isStreaming,a=t.application,l=t.hideSecondLine,i=this.getGameName();return X(H.default,{game:a,source:W.AnalyticsLocations.ACTIVITY_PANEL,analyticsContext:n},void 0,X("div",{className:(0,o.default)(K.default.gameWrapper,(e={},e[K.default.clickableGameWrapper]=null!=a,e))},void 0,X("div",{className:K.default.gameIconWrapper},void 0,X(w.default,{className:K.default.gameIcon,game:a}),r?X(U.default,{name:U.default.Names.VIDEO_CAMERA,className:K.default.liveBadge}):null),X("div",{className:K.default.info},void 0,null!=i?X(F.default,{},void 0,i):null,l?null:X(k.default,{},void 0,r?z.default.Messages.ACTIVITY_PANEL_GO_LIVE_LIVE:z.default.Messages.ACTIVITY_PANEL_GO_LIVE_READY))))},a.renderScreenshare=function(){var e=this.props,t=e.isStreaming,n=e.streamMetadata,r=e.hideSecondLine,a=this.state.backgroundColor,o=z.default.Messages.ACTIVITY_PANEL_GO_LIVE;null!=n&&null!=n.sourceName&&n.sourceName.length>0&&(o=n.sourceName);var l=o.replace(J,"");return X("div",{className:K.default.gameWrapper},void 0,t?X("div",{className:K.default.screenshareIcon,style:{backgroundColor:a}},void 0,l[0]||"?",X(U.default,{name:U.default.Names.VIDEO_CAMERA,className:K.default.liveBadge})):X(Y.default,{look:Y.default.Looks.GRAY,size:Y.default.Sizes.SMALL,className:K.default.liveIndicator}),X("div",{className:K.default.info},void 0,X(F.default,{},void 0,o),r?null:X(k.default,{},void 0,t?z.default.Messages.ACTIVITY_PANEL_GO_LIVE_LIVE:z.default.Messages.ACTIVITY_PANEL_GO_LIVE_START_STREAM)))},a.render=function(){var e=this.props,t=e.canGoLive,n=e.runningGame,r=e.isStreaming,a=e.voiceChannel,l=e.allowScreenshare,i=e.streamMetadata,u=e.className;if(!r){if(!this.isJoinableActivity()&&!t)return null;if(null==n&&null==a)return null;if(null==n&&null!=a&&!l)return null}return X("div",{className:(0,o.default)(K.default.panel,u)},void 0,X("div",{className:K.default.body},void 0,null==n||r&&(null==i||null==i.pid)?this.renderScreenshare():this.renderGame(),this.renderActions()))},r}(a.PureComponent);Z.displayName="ActivityPanelGameCard";var ee=(0,c.default)(s.default.connectStores([y.default,S.default,T.default,C.default,O.default,M.default,P.default,R.default,L.default,b.default,I.default,N.default,A.default],function(e){var t=e.guildId,n=S.default.getId(),r=(0,g.default)(R.default,D.default),a=I.default.getChannel(b.default.getVoiceChannelId()),o=y.default.getActiveStream(),l=y.default.getStreamerActiveStreamMetadata(),i=!1;if(null!=a)i=m.canStreamInChannel(n,a,!1);else if(null!=t){i=m.getStreamEligibleChannels(n,O.default.getChannels(t)).length>0}var u=null;return null!=l&&null!=l.id?u=T.default.getGame(l.id):null!=r&&(u=T.default.getGameBySettingGame(r)),{canGoLive:(0,_.default)(C.default,L.default),activity:null!=n?P.default.findActivity(n,function(e){return e.type===W.ActivityTypes.PLAYING}):null,runningGame:r,application:u,isStreaming:null!=o&&o.ownerId===n,voiceChannel:a,canStream:i,stream:o,streamMetadata:l}})(Z));function te(e){var t=e.guildId,n=(0,s.useStateFromStores)([L.default],function(){return L.default.getCurrentUser()}),r=null!=n&&n.isStaff(),a=(0,s.useStateFromStores)([b.default],function(){return b.default.getVoiceChannelId()}),o=(0,s.useStateFromStores)([I.default],function(){return I.default.getChannel(a)}),l=null!=o?o.getGuildId():t,i=(0,h.default)(v.default,null!=o?o.getGuildId():null,W.AnalyticsLocations.ACTIVITY_PANEL),u=j.default.isWindows()||r;return X(ee,{guildId:l,allowScreenshare:i===p.ExperimentBuckets.TREATMENT_1&&u,hideSecondLine:i===p.ExperimentBuckets.TREATMENT_2&&u})}te.displayName="ActivityPanelGameCardWithScreenshareExperiment"},6969:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(58)),i=d(n(24)),u=n(1),s=d(n(6138));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;return n&&n(t.props.option,e)},t}return f(t,e),t.prototype.render=function(){var e,t=this.props,n=t.selected,r=t.className,a=this.props.option.name;return c(l.default,{className:(0,o.default)(s.default.item,r,(e={},e[s.default.selected]=n,e)),onClick:this.handleClick},void 0,a)},t}(a.PureComponent);p.displayName="SegmentControlItem";var h=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.renderItem=function(e){var t=this.props,n=t.value,r=t.optionClassName,a=n===e.value;return c(p,{selected:a,option:e,onClick:this.props.onChange,className:r},e.value)},n.render=function(){var e=this.props.className;return c(i.default,{className:(0,o.default)(s.default.container,e),shrink:0},void 0,this.props.options.map(this.renderItem,this))},t}(a.PureComponent);h.displayName="SegmentControl",h.defaultProps={options:[],onChange:u.NOOP,value:null};var v=h;t.default=v},6970:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_OPEN,section:e}),(0,o.pushLayer)(l.Layers.RTC_DEBUG)},t.close=function(){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_CLOSE}),(0,o.popLayer)()},t.setSection=function(e){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_SET_SECTION,section:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(264),l=n(1)},6971:function(e,t,n){"use strict";t.__esModule=!0,t.keySection=h,t.parseSection=function(e){var t=e.split(":"),n=t[0],r=t[1];return{context:n,section:r}},t.default=void 0;var r=s(n(3)),a=n(45),o=n(29),l=s(n(2)),i=s(n(40)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var d=h(a.MediaEngineContextTypes.DEFAULT,u.RTCDebugSections.TRANSPORT),c=d,f={},p=new o.Interval;function h(e,t){return e+":"+t}function v(){Object.values(a.MediaEngineContextTypes).forEach(function(e){var t=e;i.default.getMediaEngine().eachConnection(function(e){e.getStats().then(function(e){l.default.dispatch({type:u.ActionTypes.RTC_DEBUG_MODAL_UPDATE,stats:e,context:t})})},t)})}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getSection=function(){return c},o.getStats=function(e){return void 0===e&&(e=a.MediaEngineContextTypes.DEFAULT),f[e]},r}(r.default.Store))(l.default,{RTC_DEBUG_MODAL_OPEN:function(e){c=e.section||d,f={},v(),p.start(1e3,v)},RTC_DEBUG_MODAL_CLOSE:function(e){return p.stop(),void(f={})},RTC_DEBUG_MODAL_SET_SECTION:function(e){c=e.section},RTC_DEBUG_MODAL_UPDATE:function(e){var t=e.context,n=e.stats;f[t]=n}});t.default=m},6972:function(e,t,n){"use strict";t.__esModule=!0,t.renderTwoColumns=c,t.renderStreams=function(e,t){return e.map(function(e){var n=a.default.map(e,function(e,n){return i.hidden[n]?null:d(i.Item,{section:t,label:n,value:e},n)}).filter(function(e){return null!=e});return d(l.default,{className:u.default.marginBottom40,title:e.type},e.type,c(n))})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=s(n(6)),o=s(n(24)),l=s(n(261)),i=n(7346),u=s(n(455));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=[],n=0;for(e.length%2!=0&&e.push(d(o.default,{basis:"50%",grow:0},n++));e.length>0;)t.push(d(o.default,{basis:"50%",grow:0},n++,e.splice(0,2)));return t}},6973:function(e,t,n){"use strict";t.__esModule=!0,t.getOverlayLayoutContent=function(){return[{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:N(T.KeybindActions.SERVER_PREV,T.KeybindActions.SERVER_NEXT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:N(T.KeybindActions.CHANNEL_PREV,T.KeybindActions.CHANNEL_NEXT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:N(T.KeybindActions.UNREAD_PREV,T.KeybindActions.UNREAD_NEXT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:N(T.KeybindActions.MENTION_CHANNEL_PREV,T.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:N(T.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:N(T.KeybindActions.MARK_SERVER_READ)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:N(T.KeybindActions.MARK_CHANNEL_READ)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:N(T.KeybindActions.SEARCH_EMOJIS),groupEnd:!0},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:N(T.KeybindActions.TOGGLE_MUTE)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:N(T.KeybindActions.TOGGLE_DEAFEN)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:N(T.KeybindActions.CALL_ACCEPT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:N(T.KeybindActions.MARK_CHANNEL_READ)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:N(T.KeybindActions.CALL_START),groupEnd:!0},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:N(T.KeybindActions.SCROLL_UP,T.KeybindActions.SCROLL_DOWN)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:N(T.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:N(T.KeybindActions.TEXTAREA_FOCUS)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:N(T.KeybindActions.QUICKSWITCHER_SHOW)}]},t.default=t.OVERLAY_LOCKED_LAYOUT=t.OVERLAY_LAYOUT=void 0;var r,a,o,l=n(7022),i=n(7023),u=n(6849),s=n(7024),d=n(7025),c=n(7026),f=n(7350),p=n(7027),h=n(7028),v=n(7029),m=n(7030),_=n(7031),g=n(7032),E=n(7034),y=n(7035),S=n(7036),I=n(7038),T=n(1),O=(r=n(4))&&r.__esModule?r:{default:r};function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=C[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var C=((a={})[T.KeybindActions.SERVER_NEXT]=m.SERVER_NEXT,a[T.KeybindActions.SERVER_PREV]=m.SERVER_PREV,a[T.KeybindActions.CHANNEL_NEXT]=i.CHANNEL_NEXT,a[T.KeybindActions.CHANNEL_PREV]=i.CHANNEL_PREV,a[T.KeybindActions.UNREAD_NEXT]=I.UNREAD_NEXT,a[T.KeybindActions.UNREAD_PREV]=I.UNREAD_PREV,a[T.KeybindActions.MENTION_CHANNEL_NEXT]=I.MENTION_NEXT,a[T.KeybindActions.MENTION_CHANNEL_PREV]=I.MENTION_PREV,a[T.KeybindActions.TOGGLE_PREVIOUS_GUILD]=i.TOGGLE_PREVIOUS_GUILD,a[T.KeybindActions.JUMP_TO_GUILD]=u.JUMP_TO_GUILD,a[T.KeybindActions.SUBMIT]=_.SUBMIT,a[T.KeybindActions.TEXTAREA_FOCUS]=g.TEXTAREA_FOCUS,a[T.KeybindActions.MARK_CHANNEL_READ]=s.MARK_CHANNEL_READ,a[T.KeybindActions.MARK_SERVER_READ]=d.MARK_SERVER_READ,a[T.KeybindActions.TOGGLE_MUTE]=E.TOGGLE_MUTE,a[T.KeybindActions.TOGGLE_DEAFEN]=E.TOGGLE_DEAFEN,a[T.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=y.TOGGLE_CATEGORY_COLLAPSED,a[T.KeybindActions.SCROLL_UP]=h.SCROLL_UP,a[T.KeybindActions.SCROLL_DOWN]=h.SCROLL_DOWN,a[T.KeybindActions.SEARCH_EMOJIS]=v.SEARCH_EMOJIS,a[T.KeybindActions.TOGGLE_HOTKEYS]=S.TOGGLE_HOTKEYS,a[T.KeybindActions.JUMP_TO_FIRST_UNREAD]=c.JUMP_TO_FIRST_UNREAD,a[T.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=p.RETURN_TO_AUDIO_CHANNEL,a[T.KeybindActions.CALL_ACCEPT]=l.CALL_ACCEPT,a[T.KeybindActions.CALL_START]=l.CALL_START,a[T.KeybindActions.QUICKSWITCHER_SHOW]=f.QUICKSWITCHER_SHOW,a);t.OVERLAY_LAYOUT=C;var A=((o={})[T.KeybindActions.QUICKSWITCHER_SHOW]=f.QUICKSWITCHER_SHOW,o);t.OVERLAY_LOCKED_LAYOUT=A;var M=C;t.default=M},6974:function(e,t,n){"use strict";t.__esModule=!0,t.AnimatedPage=t.PageWrapper=t.Text=t.Title=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(118)),i=s(n(24)),u=s(n(6150));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.children,n=e.className;return c("h1",{className:(0,o.default)(n,u.default.title)},void 0,t)};t.Title=f,f.displayName="Title";var p=function(e){var t=e.children,n=e.className;return c("div",{className:(0,o.default)(n,u.default.text)},void 0,t)};t.Text=p,p.displayName="Text";var h=function(e){var t=e.illustration,n=e.children,r=e.style,a=e.illustrationStyle;return c(l.default.div,{className:u.default.modalContent,style:r},void 0,c(i.default,{align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:u.default.illustrationWrapper,grow:0,shrink:0},void 0,c(l.default.div,{style:a},void 0,c("img",{alt:"",src:t}))),c(i.default,{align:i.default.Align.START},void 0,c("div",{className:u.default.padded},void 0,n)))};t.PageWrapper=h,h.displayName="PageWrapper";var v={friction:15,tension:200},m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).translateX=new l.default.Value(0),n.translateX.setValue(0),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){(0,this.props.setRef)(this)},a.componentWillEnter=function(e){var t=this.translateX;t.setValue(1),setTimeout(function(){l.default.spring(t,d({toValue:0},v)).start(e)},220)},a.componentWillLeave=function(e){var t=this.translateX;l.default.spring(t,{toValue:.14,friction:10,tension:100}).start(),setTimeout(function(){l.default.spring(t,d({toValue:-1},v)).start(e)},220)},a.submit=function(){return new Promise(function(e){return e()})},a.getAnimatedStyle=function(e){void 0===e&&(e="100%");var t=this.translateX;return l.default.accelerate({transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0%",e]})}]})},r}(a.Component);t.AnimatedPage=m},7018:function(e,t,n){"use strict";t.__esModule=!0,t.makeAuthenticated=function(e,t,n){var r=c(t,{});void 0===n&&(n={passProps:!0});return function(u){if(!i.default.isAuthenticated()&&!i.default.isGuest()){if(null!=t)return r;var s=location.pathname+location.search;return c(o.Redirect,{to:(0,l.getLoginPath)(s,!1)})}return a.createElement(e,n.passProps?u:null)}},t.getArtForPath=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(133),l=n(371),i=d(n(10)),u=d(n(7019)),s=d(n(7020));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(7021);var t=(new Date).getHours();return t>=6&&t<20?u.default:s.default}},7019:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},7020:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},7021:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},7080:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(3)),l=n(906),i=d(n(858)),u=d(n(143)),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.toggleCollapse=function(){var e=this.props,t=e.collapsed,n=e.channel.id;t?(0,l.categoryExpand)(n):(0,l.categoryCollapse)(n)},o.render=function(){var e=this,t=this.props.collapsed;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.COLLAPSE_CATEGORY,action:function(){return e.toggleCollapse()},active:t})},a}(a.PureComponent);c.displayName="CategoryToggleCollapse";var f=o.default.connectStores([i.default],function(e){var t=e.channel;return{collapsed:i.default.isCollapsed(t.id)}})(c);t.default=f},7081:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=n(272),i=s(n(38)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChannelTopicCopy=function(){(0,l.copy)(t.props.channel.topic),(0,o.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return l.SUPPORTS_COPY?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:u.default.Messages.COPY_CHANNEL_TOPIC,action:this.handleChannelTopicCopy}):null},a}(a.PureComponent);d.displayName="ChannelCopyTopicItem";var c=d;t.default=c},7082:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=_(n(6581)),l=n(35),i=_(n(30)),u=_(n(137)),s=n(67),d=_(n(64)),c=_(n(71)),f=_(n(187)),p=_(n(38)),h=_(n(155)),v=n(1),m=_(n(4));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t=e.channel,n=t.id,r=(0,a.useStateFromStores)([d.default],function(){return d.default.getChannelPermissions(n)},[n]);if((0,a.useStateFromStores)([d.default],function(){return!d.default.can(v.Permissions.MANAGE_CHANNELS,t)||(0,s.isGuildSelectableChannelType)(t.type)&&!d.default.can(v.Permissions.VIEW_CHANNEL,t)||t.type===v.ChannelTypes.GUILD_VOICE&&!d.default.can(v.Permissions.CONNECT,t)},[t]))return null;function _(){o.default.deleteChannel(n)}var E=t.type===v.ChannelTypes.GUILD_CATEGORY?m.default.Messages.DELETE_CATEGORY:m.default.Messages.DELETE_CHANNEL;return g(f.default,{},void 0,g(p.default,{label:E,action:function(){(0,l.closeContextMenu)();var e=t.type===v.ChannelTypes.GUILD_CATEGORY?m.default.Messages.DELETE_CATEGORY:m.default.Messages.DELETE_CHANNEL;i.default.push(function(){return g(h.default,{header:m.default.Messages.DELETE_SERVER_TITLE.format({name:(0,u.default)(t)}),confirmText:e,cancelText:m.default.Messages.CANCEL,onConfirm:_,channel:t,permissions:r},void 0,g(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,m.default.Messages.DELETE_SERVER_BODY.format({name:(0,u.default)(t,!0)})))})},danger:!0}))};E.displayName="ChannelDeleteGroup";var y=E;t.default=y},7083:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=p(n(121)),l=p(n(6581)),i=n(35),u=n(67),s=p(n(64)),d=p(n(38)),c=n(1),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.channel,n=t.id,p=(0,a.useStateFromStores)([s.default],function(){return{canManageChannels:s.default.can(c.Permissions.MANAGE_CHANNELS,t),canManageRoles:s.default.can(c.Permissions.MANAGE_ROLES,t),canManageWebhooks:s.default.can(c.Permissions.MANAGE_WEBHOOKS,t),canViewChannel:s.default.can(c.Permissions.VIEW_CHANNEL,t),canConnectChannel:s.default.can(c.Permissions.CONNECT,t)}},[t],o.default),h=p.canManageChannels,v=p.canManageRoles,m=p.canManageWebhooks,_=p.canViewChannel,g=p.canConnectChannel;if(__OVERLAY__)return null;if(!h&&!v&&!m)return null;if((0,u.isGuildSelectableChannelType)(t.type)&&!_||t.type===c.ChannelTypes.GUILD_VOICE&&!g)return null;var E=f.default.Messages.EDIT_CHANNEL;return t.type===c.ChannelTypes.GUILD_CATEGORY&&(E=f.default.Messages.EDIT_CATEGORY),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:E,action:function(){(0,i.closeContextMenu)(),l.default.open(n)}})};h.displayName="ChannelEditItem";var v=h;t.default=v},7084:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=m(n(121)),l=n(35),i=m(n(6595)),u=m(n(30)),s=m(n(64)),d=n(193),c=m(n(187)),f=m(n(38)),p=m(n(6532)),h=n(1),v=m(n(4));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n,r,m,g=e.channel,E=e.guild,y=e.type,S=g.id,I=(0,a.useStateFromStores)([s.default],function(){return{canManageChannels:s.default.can(h.Permissions.MANAGE_CHANNELS,g),canConnectChannel:s.default.can(h.Permissions.CONNECT,g)}},[g],o.default),T=I.canManageChannels;return I.canConnectChannel&&(0,d.canViewInviteModal)(E,g)&&(t=_(f.default,{label:v.default.Messages.INSTANT_INVITE,action:function(){(0,l.closeContextMenu)(),u.default.push(p.default,{guild:E,channel:g,source:h.InstantInviteSources.CONTEXT_MENU})}})),!__OVERLAY__&&T&&y!==h.ContextMenuTypes.CHANNEL_LIST_STORE&&(y!==h.ContextMenuTypes.CHANNEL_LIST_VOICE&&(n=_(f.default,{label:v.default.Messages.CREATE_TEXT_CHANNEL,action:function(){(0,l.closeContextMenu)(),i.default.open(h.ChannelTypes.GUILD_TEXT,g.guild_id,g.parent_id,null)}})),y!==h.ContextMenuTypes.CHANNEL_LIST_TEXT&&(r=_(f.default,{label:v.default.Messages.CREATE_VOICE_CHANNEL,action:function(){(0,l.closeContextMenu)(),i.default.open(h.ChannelTypes.GUILD_VOICE,g.guild_id,g.parent_id,null)}})),m=_(f.default,{label:v.default.Messages.CLONE_CHANNEL,action:function(){(0,l.closeContextMenu)(),i.default.open(g.type,E.id,g.parent_id,S)}})),_(c.default,{},void 0,t,m,n,r)};g.displayName="ChannelInviteCreateGroup";var E=g;t.default=E},7085:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=n(264),i=d(n(36)),u=d(n(38)),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){var t,n;function a(t){var n;return c(n=e.call(this,t)||this).handleJumpToChannel=n.handleJumpToChannel.bind(c(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.JUMP_TO_CHANNEL,action:this.handleJumpToChannel})},d.handleJumpToChannel=function(){var e=this.props,t=e.channel,n=e.guild;i.default.transitionToGuild(n.id,t.id),(0,o.closeContextMenu)(),(0,l.popLayer)()},a}(a.PureComponent);f.displayName="ChannelJumpToItem";var p=f;t.default=p},7086:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=n(883),i=d(n(38)),u=n(1),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleMarkAsRead=function(){var e=t.props,n=e.type,r=e.channelId;(0,o.closeContextMenu)(),n===u.ChannelTypes.GUILD_CATEGORY?(0,l.ackCategory)(r,!0,!0):(0,l.ack)(r,!0,!0)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:s.default.Messages.MARK_AS_READ,action:function(){return e.handleMarkAsRead()},disabled:!this.props.hasUnread})},a}(a.PureComponent);c.displayName="ChannelMarkReadItem";var f=c;t.default=f},7087:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(3),i=f(n(872)),u=f(n(188)),s=f(n(143)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}var p=((r={})[d.UserNotificationSettings.NULL]=function(){return c.default.Messages.FORM_LABEL_DEFAULT},r[d.UserNotificationSettings.ALL_MESSAGES]=function(){return c.default.Messages.FORM_LABEL_ALL_MESSAGES},r[d.UserNotificationSettings.ONLY_MENTIONS]=function(){return c.default.Messages.FORM_LABEL_ONLY_MENTIONS.format()},r[d.UserNotificationSettings.NO_MESSAGES]=function(){return c.default.Messages.FORM_LABEL_NOTHING},r),h=function(e){var t=e.channel,n=t.getGuildId(),r=t.id,c=(0,l.useStateFromStores)([u.default],function(){return u.default.getChannelOverrides(n)[r]},[n,r]);var f=null==c?d.UserNotificationSettings.NULL:c.message_notifications;return o.createElement(o.Fragment,null,[d.UserNotificationSettings.NULL,d.UserNotificationSettings.ALL_MESSAGES,d.UserNotificationSettings.ONLY_MENTIONS,d.UserNotificationSettings.NO_MESSAGES].map(function(e){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:p[e](),action:function(){return t=e,void(null!=n&&i.default.updateChannelOverrideSettings(n,r,{message_notifications:t}));var t},active:e===f},e)}))};t.default=h},7088:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=s(n(6695)),l=s(n(6755)),i=s(n(143)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.channelId,n=(0,a.useStateFromStores)([l.default],function(){return l.default.isCollapsed(t)},[t]);return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:u.default.Messages.VOICE_CHANNEL_HIDE_NAMES,action:function(){o.default.update(t)},active:n})};d.displayName="ChannelToggleVisibilityItem";var c=d;t.default=c},7089:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=c(n(6590)),i=c(n(187)),u=c(n(38)),s=n(1),d=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleGuildCreate=function(){(0,o.closeContextMenu)(),l.default.open(s.CreateGuildModalScreens.CreateGuild,"Guild List - ContextMenu")},t.handleGuildJoin=function(){(0,o.closeContextMenu)(),l.default.open(s.CreateGuildModalScreens.JoinGuild,"Guild List - ContextMenu")},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return f(i.default,{},void 0,f(u.default,{label:d.default.Messages.JOIN_SERVER_BUTTON_CTA,action:this.handleGuildJoin}),f(u.default,{label:d.default.Messages.CREATE_SERVER_BUTTON_CTA,action:this.handleGuildCreate}))},r}(a.PureComponent);p.displayName="GuildCreateJoinGroup";var h=p;t.default=h},7090:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(35),o=s(n(139)),l=s(n(340)),i=s(n(38)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.unread,n=e.folderId;if(null==n)return null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:u.default.Messages.SERVER_FOLDER_MARK_AS_READ,action:function(){(0,a.closeContextMenu)();var e=l.default.getGuildFolderById(n);if(null!=e){var t=e.guildIds;o.default.markGuildsAsRead(t)}},disabled:!t})};d.displayName="GuildFolderMarkReadItem";var c=d;t.default=c},7091:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=n(265),i=d(n(38)),u=d(n(7092)),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){if(null==e.folderId)return null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:s.default.Messages.SERVER_FOLDER_SETTINGS,action:function(){(0,o.closeContextMenu)(),(0,l.openModal)(function(t){return a.createElement(u.default,c({},t,e))})}})};f.displayName="GuildFolderSettingsItem";var p=f;t.default=p},7092:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(337)),l=v(n(340)),i=v(n(21)),u=v(n(138)),s=n(136),d=n(220),c=v(n(6756)),f=n(1),p=v(n(4)),h=v(n(455));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={name:t.props.folderName||"",color:t.props.folderColor},t.close=function(){t.props.onClose()},t.handleNameChange=function(e){t.setState({name:e})},t.handleColorChange=function(e){t.setState({color:e})},t.handleSubmit=function(e){e.preventDefault();var n=t.props.folderId,r=t.state,a=r.name,i=r.color,u=l.default.guildFolders.map(function(e){return e.folderId===n?_({},e,{folderName:a,folderColor:i}):e});o.default.updateRemoteSettings({guildFolders:u}),t.close()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.transitionState,t=this.state,n=t.name,r=t.color;return m(d.ModalRoot,{transitionState:e},void 0,m(d.ModalHeader,{separator:!1},void 0,m(s.FormTitle,{tag:s.FormTitle.Tags.H4},void 0,p.default.Messages.SERVER_FOLDER_SETTINGS),m(d.ModalCloseButton,{onClick:this.close})),m(d.ModalContent,{},void 0,m("form",{onSubmit:this.handleSubmit},void 0,m(s.FormItem,{title:p.default.Messages.GUILD_FOLDER_NAME,className:h.default.marginBottom20},void 0,m(u.default,{maxLength:f.MAX_GUILD_FOLDER_NAME_LENGTH,value:n,onChange:this.handleNameChange,placeholder:p.default.Messages.SERVER_FOLDER_PLACEHOLDER,autoFocus:!0})),m(s.FormItem,{title:p.default.Messages.GUILD_FOLDER_COLOR,className:h.default.marginBottom20},void 0,m(c.default,{defaultColor:f.DEFAULT_FOLDER_COLOR,colors:f.ROLE_COLORS,value:null!=r?r:f.DEFAULT_FOLDER_COLOR,onChange:this.handleColorChange})))),m(d.ModalFooter,{},void 0,m(i.default,{type:"submit",onClick:this.handleSubmit},void 0,p.default.Messages.DONE)))},r}(a.PureComponent);g.displayName="GuildFolderSettingsModal";var E=g;t.default=E},7093:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CustomColorPicker=t.CustomColorButton=t.DefaultColorButton=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(8)),l=n(158),i=v(n(7094)),u=v(n(24)),s=v(n(42)),d=v(n(138)),c=n(1),f=v(n(455)),p=v(n(5963)),h=v(n(967));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=function(e){function t(t){var n;return g(n=e.call(this,t)||this).handleClick=n.handleClick.bind(g(n)),n}E(t,e);var n=t.prototype;return n.renderCustomIcon=function(e){if(this.props.isCustom)return _(s.default,{className:p.default.colorPickerDropper,foreground:p.default.colorPickerDropperFg,name:s.default.Names.DROPPER,width:14,height:14,color:e?c.Colors.WHITE:c.Colors.BLACK})},n.renderSelected=function(e){var t=16,n=16;if((this.props.isCustom||this.props.isDefault)&&(t=32,n=24),this.props.isSelected)return _(s.default,{name:s.default.Names.CHECKMARK,width:t,height:n,color:e?c.Colors.WHITE:c.Colors.BLACK})},n.render=function(){var e,t=this.props,n=t.color,r=t.isDefault,a=t.isCustom,i=t.isSelected,u=t.disabled,s=t.style,d=null!=n?(0,l.int2hex)(n):s.backgroundColor,c=!1;return a&&!i?c=!0:(a||i)&&(c=(0,l.getDarkness)(n)>.1),_("button",{type:"button",className:(0,o.default)(p.default.colorPickerSwatch,((e={})[p.default.disabled]=u,e[p.default.default]=r,e[p.default.custom]=a,e[p.default.noColor]=null==n,e)),disabled:u,onClick:this.handleClick,style:m({},s,{backgroundColor:d})},void 0,this.renderCustomIcon(c),this.renderSelected(c))},n.handleClick=function(){var e=this.props,t=e.color,n=e.onClick;n&&n(t)},t}(a.PureComponent);y.displayName="Swatch",y.defaultProps={isDefault:!1,isCustom:!1,isSelected:!1,disabled:!1,style:{}};var S=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.onChange,r=e.value,a=e.disabled;return _(y,{isDefault:!0,color:t,isSelected:t===r||0===r,onClick:n,disabled:a,style:{marginLeft:0}})},t}(a.PureComponent);t.DefaultColorButton=S,S.displayName="DefaultColorButton";var I=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.customColor,n=e.value,r=e.disabled;return _(y,{isCustom:!0,color:t,isSelected:n===t,disabled:r,style:{marginLeft:10}})},t}(a.PureComponent);t.CustomColorButton=I,I.displayName="CustomColorButton";var T=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.value,a=(0,l.int2hex)(null!=r?r:0);return n.state={color:a,validColor:a},g(n).handleHexChange=n.handleHexChange.bind(g(n)),g(n).handleOnChange=n.handleOnChange.bind(g(n)),g(n).handleOnChangeComplete=n.handleOnChangeComplete.bind(g(n)),n}E(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},n.render=function(){var e=this.state,t=e.color,n=e.validColor;return _(u.default,{direction:u.default.Direction.VERTICAL,className:p.default.colorPickerCustom},void 0,_(i.default,{onChangeComplete:this.handleOnChangeComplete,onChange:this.handleOnChange,color:n}),_(d.default,{className:(0,o.default)(p.default.customColorPickerInput,f.default.marginTop8),value:t,onChange:this.handleHexChange,maxLength:7}))},n.callOnChange=function(e){(0,this.props.onChange)((0,l.hex2int)(e))},n.handleHexChange=function(e){var t="#"===e[0]?e:"#"+e,n=(0,l.isValidHex)(t);this.setState({color:t,validColor:n?t:this.state.validColor}),n&&this.callOnChange(t)},n.handleOnChange=function(e){this.setState({color:e.hex,validColor:e.hex})},n.handleOnChangeComplete=function(e){this.callOnChange(e.hex)},t}(a.PureComponent);t.CustomColorPicker=T,T.displayName="CustomColorPicker";var O=function(e){function t(t){var n;return g(n=e.call(this,t)||this).renderColor=n.renderColor.bind(g(n)),n}E(t,e);var n=t.prototype;return n.renderColor=function(e){var t=this.props,n=t.value,r=t.onChange,a=t.disabled;return _(y,{color:e,isSelected:e===n,onClick:r,disabled:a},e)},n.renderRow=function(e){var t=this;return _(u.default,{className:p.default.colorPickerRow,wrap:u.default.Wrap.WRAP},void 0,e.map(function(e){return t.renderColor(e)}))},n.render=function(){var e=this.props,t=e.defaultColor,n=e.customColor,r=e.colors,a=e.value,o=e.disabled,l=e.onChange,i=e.renderDefaultButton,s=e.renderCustomButton,d=r.slice(0,r.length/2),c=r.slice(r.length/2,r.length);return _(u.default,{},void 0,_(u.default.Child,{shrink:0,grow:0,className:f.default.marginReset,wrap:!0},void 0,i({value:a,color:t,onChange:l,disabled:o})),_(u.default.Child,{shrink:0,grow:0,className:f.default.marginReset,wrap:!0},void 0,s({value:a,customColor:n,disabled:o})),_(u.default,{direction:u.default.Direction.VERTICAL,className:h.default.flexMarginReset,grow:1},void 0,this.renderRow(d),this.renderRow(c)))},t}(a.PureComponent);O.displayName="ColorPicker";var N=O;t.default=N},7094:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(7708),i=n(6522),u=(r=n(5962))&&r.__esModule?r:{default:r};function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return d("div",{className:u.default.wrapper},void 0,d("div",{className:u.default.saturation},void 0,o.createElement(i.Saturation,this.props)),d("div",{className:u.default.hue},void 0,o.createElement(i.Hue,s({},this.props,{direction:"horizontal"}))))},r}(o.PureComponent);c.displayName="ColorPickerControl";var f=(0,l.CustomPicker)(c);t.default=f},7117:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(3)),l=n(35),i=h(n(30)),u=h(n(64)),s=n(193),d=h(n(38)),c=h(n(6532)),f=n(1),p=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function a(t){var n;return v(n=e.call(this,t)||this).handleClick=n.handleClick.bind(v(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){var e=this.props,t=e.channel,n=e.guild;(0,l.closeContextMenu)(),i.default.push(c.default,{guild:n,channel:t,source:f.InstantInviteSources.GUILD_CONTEXT_MENU})},o.render=function(){return this.props.canCreateInvite?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:p.default.Messages.INVITE_PEOPLE,action:this.handleClick,brand:!0}):null},a}(a.PureComponent);m.displayName="GuildInviteItem";var _=o.default.connectStores([u.default],function(e){var t=e.channel,n=e.guild;return{canCreateInvite:(0,s.canViewInviteModal)(n,t)}})(m);t.default=_},7118:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),l=n(35),i=v(n(334)),u=v(n(30)),s=v(n(11)),d=v(n(71)),c=v(n(187)),f=v(n(38)),p=v(n(155)),h=v(n(4));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guild,n=t.id;return(0,o.useStateFromStores)([s.default],function(){return t.isOwner(s.default.getCurrentUser())},[t])?null:_(c.default,{},void 0,_(f.default,{label:h.default.Messages.LEAVE_SERVER,action:function(){(0,l.closeContextMenu)(),u.default.push(function(e){return a.createElement(p.default,m({header:h.default.Messages.LEAVE_SERVER_TITLE.format({name:t.name}),confirmText:h.default.Messages.LEAVE_SERVER,cancelText:h.default.Messages.CANCEL,onConfirm:function(){i.default.leaveGuild(n)}},e),_(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY},void 0,h.default.Messages.LEAVE_SERVER_BODY.format({name:t.name})))})},danger:!0}))};g.displayName="GuildLeaveGroup";var E=g;t.default=E},7119:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=n(35),l=d(n(139)),i=d(n(6541)),u=d(n(38)),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.guildId,n=(0,a.useStateFromStores)([i.default],function(){return i.default.getUnreadGuildsIgnoreMuted(t)},[t]);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.MARK_AS_READ,action:function(){(0,o.closeContextMenu)(),l.default.markGuildAsRead(t)},disabled:!n})};c.displayName="GuildMarkReadItem";var f=c;t.default=f},7120:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=s(n(872)),l=s(n(188)),i=s(n(143)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.guildId,n=(0,a.useStateFromStores)([l.default],function(){return l.default.isMuted(t)},[t]);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:u.default.Messages.SERVER_MUTE,action:function(){o.default.updateNotificationSettings(t,{muted:!n})},active:n})};d.displayName="GuildMuteItem";var c=d;t.default=c},7121:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=s(n(872)),i=s(n(38)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleShowNotificationSettings=function(){(0,o.closeContextMenu)(),l.default.open(t.props.guildId)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:u.default.Messages.NOTIFICATION_SETTINGS,action:this.handleShowNotificationSettings})},a}(a.PureComponent);d.displayName="GuildNotificationsItem";var c=d;t.default=c},7122:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=s(n(6759)),i=s(n(38)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleOpenPrivacySettings=function(){(0,o.closeContextMenu)(),l.default.open(t.props.guildId)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:u.default.Messages.PRIVACY_SETTINGS,action:this.handleOpenPrivacySettings})},a}(a.PureComponent);d.displayName="GuildPrivacySettingsItem";var c=d;t.default=c},7123:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=v(n(121)),l=n(35),i=v(n(334)),u=v(n(87)),s=v(n(64)),d=v(n(38)),c=v(n(287)),f=n(6895),p=n(1),h=v(n(4));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=(0,a.useStateFromStores)([s.default,u.default],function(){return{canManageGuild:s.default.can(p.Permissions.MANAGE_GUILD,t),canManageRoles:s.default.can(p.Permissions.MANAGE_ROLES,t),canBanMembers:s.default.can(p.Permissions.BAN_MEMBERS,t),canManageNicknames:s.default.can(p.Permissions.MANAGE_NICKNAMES,t),canManageEmojis:s.default.can(p.Permissions.MANAGE_EMOJIS,t),canManageWebhooks:s.default.can(p.Permissions.MANAGE_WEBHOOKS,t),canViewAuditLog:s.default.can(p.Permissions.VIEW_AUDIT_LOG,t),channels:u.default.getChannels(t.id).SELECTABLE}},[t],o.default),r=n.canManageGuild,v=n.canManageRoles,_=n.canBanMembers,g=n.canManageNicknames,E=n.canManageEmojis,y=n.canManageWebhooks,S=n.canViewAuditLog,I=n.channels;function T(e){(0,l.closeContextMenu)(),i.default.open(t.id,e)}return __OVERLAY__?null:r||v||_||g||E||y||S?m(c.default,{label:h.default.Messages.SERVER_SETTINGS,action:function(){return T()},render:function(){return(0,f.getGuildSettingsSections)(t,I).map(function(e){var t=e.section,n=e.label;return t!==p.GuildSettingsSections.DELETE&&null!=n?m(d.default,{action:function(){return T(t)},label:n},t):null})}}):null};t.default=_},7124:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(8)),o=i(n(4)),l=i(n(5964));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(l.default.badge,t)},void 0,o.default.Messages.NEW)}u.displayName="BadgeNew"},7125:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(21)),l=h(n(457)),i=h(n(71)),u=h(n(138)),s=h(n(75)),d=h(n(262)),c=h(n(66)),f=h(n(4)),p=h(n(5965));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={textVal:"",error:null},m(n).handleTextChange=n.handleTextChange.bind(m(n)),m(n).handleSubmit=n.handleSubmit.bind(m(n)),m(n).handleCancel=n.handleCancel.bind(m(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=r.prototype;return h.render=function(){var e=this.props,t=e.header,n=e.className,r=e.cancelText,h=e.confirmText,m=e.instructionText,_=e.children,g=this.state,E=g.error,y=g.textVal,S=a.Children.count(_)?v(l.default,{type:l.default.Types.WARNING,className:p.default.card},void 0,v(i.default,{color:i.default.Colors.WHITE,size:i.default.Sizes.MEDIUM},void 0,_)):null;return v(s.default,{tag:"form",onSubmit:this.handleSubmit,className:n},void 0,v(s.default.Header,{},void 0,v(c.default,{tag:c.default.Tags.H4},void 0,t)),v(s.default.Content,{},void 0,S,v(d.default,{title:m,className:p.default.spacing},void 0,v(u.default,{id:"text-entry-confirm",type:"text",value:y,autoComplete:"off",onChange:this.handleTextChange,autoFocus:!0}),E?v(i.default,{color:i.default.Colors.RED,size:i.default.Sizes.SMALL,className:p.default.error},void 0,E):null)),v(s.default.Footer,{},void 0,v(o.default,{type:"submit",color:o.default.Colors.RED},void 0,h||f.default.Messages.CONFIRM),v(o.default,{onClick:this.handleCancel,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY},void 0,r||f.default.Messages.CANCEL)))},h.handleSubmit=function(e){e.preventDefault();var t=this.state.textVal,n=this.props,r=n.onConfirm,a=n.validationText,o=n.errorText;t.toLowerCase()===a.toLowerCase()?(r&&r(),this.handleCancel()):this.setState({error:o})},h.handleCancel=function(){var e=this.props.onClose;e&&e()},h.handleTextChange=function(e){this.setState({textVal:e})},r}(a.PureComponent);_.displayName="TextEntryConfirm",_.key=function(){return"text-entry-confirm-modal"};var g=_;t.default=g},7126:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(0)),o=M(n(74)),l=n(7759),i=n(3),u=M(n(12)),s=n(6535),d=n(6567),c=M(n(6515)),f=M(n(25)),p=M(n(21)),h=P(n(274)),v=n(42),m=M(n(182)),_=M(n(71)),g=M(n(332)),E=M(n(261)),y=P(n(258)),S=P(n(66)),I=M(n(15)),T=M(n(183)),O=M(n(7127)),N=n(1),C=M(n(4)),A=M(n(5967));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var L=function(e,t,n){if(null==e)return{};if(null==t)return{localizedNumber:(0,l.truncateAndLocalizeNumber)(e,n)};if(e===t)return{localizedNumber:0,subtext:C.default.Messages.PERCENTAGE_SINCE_LAST_WEEK.format({percentage:0})};var r=Math.abs(e-t)/t*100;return{localizedNumber:(0,l.truncateAndLocalizeNumber)(e,n),subtext:C.default.Messages.PERCENTAGE_SINCE_LAST_WEEK.format({percentage:(0,l.truncateAndLocalizeNumber)(r,n)}),isTrendingUp:e>t,isTrendingDown:e<t}},D=function(e){return null==e?null:null!=e.body&&e.body.code===N.AbortCodes.NOT_ENOUGH_GUILD_MEMBERS?b(h.default,{iconName:v.IconNames.NOVA_INFO,className:A.default.notEnoughMembersError,backgroundColor:h.Colors.BACKGROUND_TERTIARY},void 0,C.default.Messages.NOT_ENOUGH_GUILD_MEMBERS.format()):b(h.default,{},void 0,C.default.Messages.SERVER_INSIGHTS_ERROR_MESSAGE)};D.displayName="getErrorBlock";var w=function(){var e=a.useState(!1),t=e[0],n=e[1],r=(0,i.useStateFromStores)([c.default],function(){return c.default.getGuildId()});return b(p.default,{className:A.default.developerPortalCta,onClick:function(){n(!0),I.default.track(N.AnalyticEvents.GUILD_INSIGHTS_SETTINGS_CTA_CLICKED,{guild_id:r});var e=null==r?N.RelativeMarketingURLs.DEVELOPER_PORTAL:N.RelativeMarketingURLs.DEVELOPER_PORTAL_GUILD_ANALYTICS(r),t=o.default.v4();u.default.post({url:N.Endpoints.HANDOFF,body:{key:t}}).then(function(n){var r=n.body.handoff_token;window.open(N.MarketingURLs.DEVELOPER_PORTAL_LOGIN_HANDOFF(t,r,e))},function(){window.open(e)}).then(function(){n(!1)})},submitting:t},void 0,C.default.Messages.GO_TO_DEVELOPER_PORTAL)};w.displayName="DevPortalButton";var U=b(m.default,{}),G=b(w,{}),k=function(){var e=a.useState(!0),t=e[0],n=e[1],r=a.useState({}),o=r[0],l=r[1],p=a.useState(null),h=p[0],m=p[1],I=(0,i.useStateFromStores)([c.default],function(){return c.default.getGuildId()}),M=(0,i.useStateFromStores)([f.default],function(){return f.default.locale}),P=null!=o.communicators_l7d&&null!==o.participators_l7d?Intl.NumberFormat(M,{maximumFractionDigits:2}).format(o.participators_l7d/o.communicators_l7d):null;return a.useEffect(function(){null!=I&&u.default.get({url:N.Endpoints.GUILD_ANALYTICS_OVERVIEW(I)}).then(function(e){l(e.body),n(!1)}).catch(function(e){n(!1),m(e)})},[I]),a.useEffect(function(){(0,d.hideHotspot)(s.HotspotLocations.GUILD_ANALYTICS_GUILD_SETTINGS_MENU)},[]),b(E.default,{},void 0,b(S.default,{tag:S.Tags.H2},void 0,C.default.Messages.SERVER_INSIGHTS),b(y.default,{type:y.Types.DESCRIPTION},void 0,C.default.Messages.SERVER_ANALYTICS_DESCRIPTION.format({helpdeskArticleUrl:T.default.getArticleURL(N.HelpdeskArticles.GUILD_ANALYTICS)})),b(g.default,{className:A.default.guildAnalyticsDivider}),D(h),b("div",{className:A.default.guildAnalyticsOverviewWrapper},void 0,t?U:b("div",{className:A.default.overviewData},void 0,a.createElement(O.default,R({title:C.default.Messages.TOTAL_MEMBERS,cornerIcon:v.IconNames.PERSON},L(o.members_current,o.members_prior_week,M))),b(O.default,{title:C.default.Messages.ENGAGEMENT_RATIO,subtext:C.default.Messages.PARTICIPATORS_COMPARED_TO_COMMUNICATORS,cornerIcon:v.IconNames.SCALE,localizedNumber:null!=P?"1 : "+P:null,tooltipText:C.default.Messages.SERVER_RATIO_HEALTHY_HOOK.format({healthyHook:function(e,t){return b(_.default,{tag:"span",color:_.default.Colors.GREEN},t,e)}})}),a.createElement(O.default,R({title:C.default.Messages.PARTICIPATORS,cornerIcon:v.IconNames.LURKER,tooltipText:C.default.Messages.LURKERS_DESCRIPTION},L(o.participators_l7d,o.participators_prior_week,M))),a.createElement(O.default,R({title:C.default.Messages.COMMUNICATORS,cornerIcon:v.IconNames.CHATTER,tooltipText:C.default.Messages.CHATTERS_DESCRIPTION},L(o.communicators_l7d,o.communicators_prior_week,M))))),b("div",{className:A.default.developerPortalCtaWrapper},void 0,b("div",{className:A.default.placeholderImage}),b(_.default,{className:A.default.developerPortalCtaText,color:_.default.Colors.PRIMARY},void 0,C.default.Messages.DEVELOPER_PORTAL_CTA.format()),G))};k.displayName="GuildSettingsAnalytics";var F=k;t.default=F},7127:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(0)),o=p(n(42)),l=f(n(71)),i=f(n(65)),u=f(n(66)),s=n(1),d=f(n(4)),c=f(n(5966));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t=e.title,n=e.subtext,r=void 0===n?d.default.Messages.NOT_AVAILABLE:n,f=e.localizedNumber,p=e.isTrendingUp,m=e.isTrendingDown,_=e.cornerIcon,g=e.tooltipText,E="string"==typeof g?g:t,y=null!=g?h(i.default,{text:g,position:i.default.Positions.TOP,"aria-label":E},void 0,function(e){return a.createElement(o.default,v({},e,{className:c.default.infoIcon,height:16,width:16,name:o.IconNames.NOVA_INFO}))}):null;return h("div",{className:c.default.analyticsCard},void 0,h(u.default,{className:c.default.analyticsCardTitle},void 0,t,y),h("div",{className:c.default.analyticsCardContent},void 0,h(l.default,{className:null!=f?c.default.analyticsCardNumber:c.default.analyticsCardNumberNotAvailable,size:l.default.Sizes.LARGE,weight:l.default.Weights.BOLD},void 0,null!=f?f:d.default.Messages.NOT_AVAILABLE)),h("div",{className:c.default.analyticsCardArrowSubText},void 0,p?h(o.default,{className:c.default.trendingArrow,color:s.Colors.STATUS_GREEN,"aria-label":d.default.Messages.TRENDING_ARROW_UP,name:o.IconNames.TRENDING_ARROW,width:14,height:12}):null,m?h(o.default,{className:c.default.trendingArrowIconDown,color:s.Colors.STATUS_RED,"aria-label":d.default.Messages.TRENDING_ARROW_DOWN,name:o.IconNames.TRENDING_ARROW,width:14,height:12}):null,h(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY},void 0,r)),h(o.default,{className:c.default.analyticsCardCornerIcon,name:_,width:40,height:40}))};m.displayName="AnalyticsCard";var _=m;t.default=_},7128:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=W(n(0)),o=Y(n(8)),l=Y(n(471)),i=Y(n(6)),u=Y(n(59)),s=Y(n(3)),d=n(7129),c=n(35),f=Y(n(192)),p=n(6649),h=Y(n(122)),v=Y(n(14)),m=Y(n(196)),_=Y(n(6648)),g=Y(n(6515)),E=Y(n(19)),y=Y(n(97)),S=Y(n(25)),I=Y(n(11)),T=W(n(7130)),O=Y(n(21)),N=W(n(6524)),C=Y(n(24)),A=Y(n(42)),M=Y(n(152)),P=Y(n(6767)),R=Y(n(182)),b=n(136),L=Y(n(328)),D=W(n(6766)),w=Y(n(6536)),U=Y(n(6768)),G=Y(n(6543)),k=Y(n(7131)),F=Y(n(459)),B=n(1),j=Y(n(4)),H=Y(n(5927)),V=Y(n(5932)),x=Y(n(5973));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var X="guild-settings-audit-logs-user-filter",q="guild-settings-audit-logs-action-filter",J=function(e){function t(t){var n;return $(n=e.call(this,t)||this).handleHeaderClick=n.handleHeaderClick.bind($(n)),$(n).handleUserContextMenu=n.handleUserContextMenu.bind($(n)),$(n).handleChannelContextMenu=n.handleChannelContextMenu.bind($(n)),$(n).handleTargetContextMenu=n.handleTargetContextMenu.bind($(n)),n}Q(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.onHeaderClick,e.guildId,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onHeaderClick","guildId"]));return a.createElement(T.default,K({},t,{onHeaderClick:this.handleHeaderClick,onUserContextMenu:this.handleUserContextMenu,onChannelContextMenu:this.handleChannelContextMenu,onTargetContextMenu:this.handleTargetContextMenu}))},n.handleHeaderClick=function(){var e=this.props,t=e.onHeaderClick,n=e.log;t&&t(n)},n.handleUserContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,c.openContextMenu)(e,function(e){return a.createElement(F.default,K({},e,{type:B.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:n.user}))})},n.handleChannelContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId,o=E.default.getGuild(r);null!=n.options.channel&&null!=o&&(0,c.openContextMenu)(e,function(e){return a.createElement(G.default,K({},e,{type:B.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:n.options.channel}))})},n.handleTargetContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,c.openContextMenu)(e,function(e){switch(n.targetType){case B.AuditLogTargetTypes.CHANNEL:case B.AuditLogTargetTypes.CHANNEL_OVERWRITE:var t=v.default.getChannel(n.targetId),o=E.default.getGuild(r);return null!=t&&null!=o?a.createElement(G.default,K({},e,{type:B.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:t})):a.createElement(k.default,K({},e,{id:n.targetId}));case B.AuditLogTargetTypes.USER:var l=I.default.getUser(n.targetId);if(null!=l)return a.createElement(F.default,K({},e,{type:B.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:l}))}return null})},t}(a.PureComponent);J.displayName="AuditLogClickWrap";var Z=z(w.default,{}),ee=function(e){function t(t){var n;return(n=e.call(this,t)||this)._clickedInside=!1,n.state={expandedId:null,lastExpandedId:null,userFilterQuery:"",actionFilterQuery:""},i.default.bindAll($(n),["renderActionQuickSelectItem","renderUserQuickSelectItem","renderHeaderDropdowns","handleFilterActionChange","handleFilterUserChange","handleHeaderClick","handleOutsideClick","handleContentClick","handleOnScroll","handleSetScrollerRef","handleUserFilterQueryChange","handleUserFilterQueryClear","handleActionFilterQueryChange","handleActionFilterQueryClear","handleSetExpandedRef","handleSetLastExpandedRef","handleFetchNextPage"]),n}Q(t,e);var r=t.prototype;return r.componentDidMount=function(){(0,d.fetchLogs)(this.props.guildId),document.addEventListener("click",this.handleOutsideClick)},r.componentWillUnmount=function(){document.removeEventListener("click",this.handleOutsideClick)},r.componentDidUpdate=function(e,t){this.state.expandedId!==t.expandedId&&this.fixScroll(),!this.props.showLoadMore&&this.props.logs.length!==e.logs.length&&null!=this._scrollerRef&&this.isScrollerAtBottom(this._scrollerRef)&&(0,d.fetchNextLogPage)(this.props.guildId,!0)},r.isScrollerAtBottom=function(e){var t=e.getScrollData(),n=t.offsetHeight,r=t.scrollHeight;return t.scrollTop+n>=r},r.fixScroll=function(){var e=this._scrollerRef;if(null!=e){var t=this.getRects(),n=this._prevRects;if(null!=t.expanded&&null!=t.lastExpanded&&null!=n.expanded&&!(t.expanded.top<t.lastExpanded.top)){var r=n.expanded.height-t.lastExpanded.height,a=e.getScrollData().scrollTop-r;e.scrollTo(a)}}},r.getRects=function(){var e={lastExpanded:null,expanded:null};if(null!=this._lastExpandedRef){var t=u.default.findDOMNode(this._lastExpandedRef);null!=t&&t instanceof Element&&(e.lastExpanded=t.getBoundingClientRect())}if(null!=this._expandedRef){var n=u.default.findDOMNode(this._expandedRef);null!=n&&n instanceof Element&&(e.expanded=n.getBoundingClientRect())}return e},r.renderActionQuickSelectItem=function(e,t){var n=this,r=(0,p.getActionType)(e.value),a=(0,p.getTargetType)(e.value);return z(P.default,{className:x.default.actionItem,selected:e.selected,onClick:function(){return n.handleFilterActionChange(e)}},t,z(T.AuditLogIcon,{themeOverride:e.selected?B.ThemeTypes.DARK:null,actionType:r,targetType:a,action:e.value}),z(C.default.Child,{},void 0,e.label))},r.renderUserQuickSelectItem=function(e,t){var n=this,r=null;if(e.label instanceof h.default){var a=e.label;r=[z(C.default.Child,{grow:0},"avatar",z(L.default,{size:L.default.Sizes.SIZE_32,src:a.getAvatarURL(),"aria-label":a.username,className:x.default.avatar})),z(C.default.Child,{className:x.default.userText},"user-text",z("span",{className:x.default.username},void 0,a.username),z("span",{className:x.default.discriminator},void 0,"#",a.discriminator))]}else r=[z(C.default.Child,{grow:0,shrink:0},"avatar",z(A.default,{name:A.default.Names.MEMBERS,width:30,height:30,foreground:"audit-log-members-icon-fg"})),z(C.default.Child,{},"user-text",e.label)];return z(P.default,{selected:e.selected,onClick:function(){return n.handleFilterUserChange(e)},style:{height:"auto"}},t,r)},r.renderUserQuickSelectValue=function(e){return e instanceof h.default?e.username:e.valueLabel||e.label},r.renderActionQuickSelectValue=function(e){return e.valueLabel||e.label},r.renderHeaderDropdowns=function(){var e=this.props,t=e.actionFilter,n=e.hide,r=e.userIdFilter,a=e.moderators,i=this.state,u=i.userFilterQuery,s=i.actionFilterQuery;if(n)return null;var d=D.ACTION_FILTER_ITEMS().map(function(e){return K({},e,{selected:e.value===t})}),c=d.filter(function(e){return(0,l.default)(s.toLowerCase(),e.label.toLowerCase())}),f=d.find(function(e){var n=e.value;return t===n}),p={query:s,onChange:this.handleActionFilterQueryChange,onClear:this.handleActionFilterQueryClear,placeholder:j.default.Messages.SEARCH_ACTIONS},v={label:j.default.Messages.GUILD_SETTINGS_FILTER_ALL_USERS,valueLabel:j.default.Messages.GUILD_SETTINGS_FILTER_ALL,value:null,selected:null==r},m=[v].concat(a),_=m.filter(function(e){var t=u.toLowerCase();return e instanceof h.default?(0,l.default)(t,e.username.toLowerCase()):(0,l.default)(t,e.label)}).map(function(e){return e instanceof h.default?{label:e,value:e.id,selected:e.id===r}:e}),g=m.find(function(e){return e instanceof h.default?e.id===r:e.value===r})||v,E={query:u,onChange:this.handleUserFilterQueryChange,onClear:this.handleUserFilterQueryClear,placeholder:j.default.Messages.SEARCH_MEMBERS};return[z(C.default.Child,{},"user-filter",z(U.default,{popoutId:X,popoutClassName:(0,o.default)(x.default.guildSettingsAuditLogsUserFilterPopout,H.default.elevationBorderHigh),items:_,renderItem:this.renderUserQuickSelectItem,renderValue:this.renderUserQuickSelectValue,value:g,onChange:this.handleFilterUserChange,label:j.default.Messages.GUILD_SETTINGS_FILTER_USER,searchProps:E,popoutProps:{preventInvert:!0,position:"bottom"}})),z(C.default.Child,{},"action-filter",z(U.default,{popoutId:q,popoutClassName:(0,o.default)(x.default.guildSettingsAuditLogsUserFilterPopout,H.default.elevationBorderLow),items:c,renderItem:this.renderActionQuickSelectItem,renderValue:this.renderActionQuickSelectValue,value:f,onChange:this.handleFilterActionChange,label:j.default.Messages.GUILD_SETTINGS_FILTER_ACTION,searchProps:p,popoutProps:{preventInvert:!0,position:"bottom"}}))]},r.renderHeader=function(){return z(C.default,{direction:C.default.Direction.VERTICAL,className:x.default.customHeader},void 0,z(C.default,{align:C.default.Align.CENTER},void 0,z(b.FormTitle,{tag:b.FormTitleTags.H2,className:x.default.marginReset},void 0,j.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG),this.renderHeaderDropdowns()),z(b.FormDivider,{className:(0,o.default)(x.default.marginBottom20,x.default.marginTop20)}))},r.renderSpinner=function(){return z(R.default,{type:R.default.Type.SPINNING_CIRCLE})},r.renderContent=function(){var e=this,t=this.state,r=t.expandedId,o=t.lastExpandedId,l=this.props,i=l.logs,u=l.theme,s=l.hide,d=l.isInitialLoading,c=l.isLoading,f=l.hasError,p=l.guildId;if(s)return Z;if(c||d)return this.renderSpinner();if(0===i.length){var h=f?j.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_BODY:j.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_BODY,v=f?j.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_TITLE:j.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_TITLE;return z(N.default,{theme:u,className:x.default.marginTop40},void 0,z(N.EmptyStateImage,{darkSrc:n(7132),lightSrc:n(7133),width:272,height:130}),z(N.EmptyStateText,{note:h,style:{maxWidth:300}},void 0,v))}return i.map(function(t){var n=r===t.id,l=o===t.id,i=n?e.handleSetExpandedRef:l?e.handleSetLastExpandedRef:null;return a.createElement(J,{guildId:p,ref:i,className:x.default.marginBottom8,onHeaderClick:e.handleHeaderClick,onContentClick:e.handleContentClick,log:t,key:t.id,expanded:n})})},r.renderLoadMore=function(){var e=this.props,t=e.showLoadMore,n=e.hasOlderLogs,r=e.hide;if(t&&n&&!r)return z(O.default,{color:O.default.Colors.PRIMARY,className:x.default.marginTop20,onClick:this.handleFetchNextPage},void 0,j.default.Messages.GUILD_SETTINGS_AUDIT_LOG_LOAD_MORE)},r.render=function(){var e=this.props,t=e.isLoadingNextPage,n=e.hide,r=e.isLoading,o=e.theme===B.ThemeTypes.DARK?B.Colors.PRIMARY_DARK_600:B.Colors.WHITE;return z("div",{className:V.default.customColumn},void 0,z("div",{className:V.default.customContainer},void 0,a.createElement(M.default,{backgroundColor:o,track:!0,theme:M.default.Themes.GHOST,className:V.default.customScroller,onScroll:this.handleOnScroll,ref:this.handleSetScrollerRef},z(C.default,{direction:C.default.Direction.VERTICAL,style:{paddingBottom:60}},void 0,this.renderHeader(),this.renderContent(),this.renderLoadMore(),!t||n||r?null:this.renderSpinner()))))},r.handleFilterActionChange=function(e){var t=e.value;f.default.close(q),(0,d.filterByAction)(t,this.props.guildId)},r.handleFilterUserChange=function(e){var t=e.value;f.default.close(X),(0,d.filterByUserId)(t,this.props.guildId)},r.handleHeaderClick=function(e){var t=this.state.expandedId;t!==e.id?(this._clickedInside=!0,this.setState({expandedId:e.id,lastExpandedId:t}),this._prevRects=this.getRects()):(this._expandedRef=null,this._lastExpandedRef=null,null!=t&&(this._prevRects=this.getRects()),this.setState({expandedId:null,lastExpandedId:null}))},r.handleOutsideClick=function(){null==this.state.expandedId||this._clickedInside?null!=this.state.expandedId&&(this._clickedInside=!1):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}),this._prevRects=this.getRects())},r.handleContentClick=function(e){this._clickedInside=!0,e.stopPropagation()},r.handleSetScrollerRef=function(e){this._scrollerRef=e},r.handleOnScroll=function(e){this.isScrollerAtBottom(e)&&this.handleFetchNextPage()},r.handleFetchNextPage=function(){(0,d.fetchNextLogPage)(this.props.guildId)},r.handleUserFilterQueryChange=function(e){this.setState({userFilterQuery:e}),f.default.rerender(X)},r.handleUserFilterQueryClear=function(){this.setState({userFilterQuery:""}),f.default.rerender(X)},r.handleActionFilterQueryChange=function(e){this.setState({actionFilterQuery:e}),f.default.rerender(q)},r.handleActionFilterQueryClear=function(){this.setState({actionFilterQuery:""}),f.default.rerender(q)},r.handleSetExpandedRef=function(e){this._expandedRef=e},r.handleSetLastExpandedRef=function(e){this._lastExpandedRef=e},t}(a.PureComponent);ee.displayName="GuildSettingsAuditLog";var te=s.default.connectStores([g.default,_.default,E.default,v.default,I.default,m.default,S.default,y.default],function(){var e=g.default.getGuildId(),t=E.default.getGuild(e),n=_.default.logs;return{guildId:e,moderators:_.default.userIds.map(function(e){return I.default.getUser(e)}),isInitialLoading:_.default.isInitialLoading,isLoading:_.default.isLoading,isLoadingNextPage:_.default.isLoadingNextPage,showLoadMore:_.default.groupedFetchCount>2,hasError:_.default.hasError,hasOlderLogs:_.default.hasOlderLogs,logs:null!=n&&null!=t?D.transformLogs(n,t):[],actionFilter:_.default.actionFilter,userIdFilter:_.default.userIdFilter,theme:S.default.theme,hide:y.default.enabled}})(ee);t.default=te},7129:function(e,t,n){"use strict";t.__esModule=!0,t.fetchLogs=d,t.fetchNextLogPage=function(e,t){void 0===t&&(t=!1);if(!o.default.hasOlderLogs||u())return;var n=o.default.logs,r=n[n.length-1],i=null;null!=r&&(i=r.id);return a.default.dirtyDispatch({type:l.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_START,before:i,isGroupedFetch:t}),s(e,{before:i}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.integrations,o=t.users,i=t.webhooks;a.default.dispatch({type:l.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS,logs:n,integrations:r,users:o,webhooks:i})},function(){return a.default.dispatch({type:l.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_FAIL})})},t.filterByAction=function(e,t){if(u())return;return a.default.dispatch({type:l.ActionTypes.AUDIT_LOG_FILTER_BY_ACTION,action:e}),d(t,null,e)},t.filterByUserId=function(e,t){if(u())return;return a.default.dispatch({type:l.ActionTypes.AUDIT_LOG_FILTER_BY_USER,userId:e}),d(t,e)};var r=i(n(12)),a=i(n(2)),o=i(n(6648)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(){return o.default.isLoading||o.default.isLoadingNextPage}function s(e,t){var n=function(e){var t=e.before,n=e.userId,r=e.action;n=n||o.default.userIdFilter,r=r||o.default.actionFilter;var a={limit:l.AUDIT_LOG_PAGE_LIMIT};return null!=t&&(a.before=t),null!=n&&(a.user_id=n),null!=r&&(a.action_type=r),a}(t);return r.default.get({url:l.Endpoints.GUILD_AUDIT_LOG(e),query:n})}function d(e,t,n){if(!u())return a.default.dispatch({type:l.ActionTypes.AUDIT_LOG_FETCH_START}),s(e,{userId:t,action:n}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.integrations,o=t.users,i=t.webhooks;a.default.dispatch({type:l.ActionTypes.AUDIT_LOG_FETCH_SUCCESS,logs:n,integrations:r,users:o,webhooks:i})},function(){return a.default.dispatch({type:l.ActionTypes.AUDIT_LOG_FETCH_FAIL})})}},7130:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.AuditLogIcon=void 0;var r,a,o=_(n(0)),l=m(n(8)),i=m(n(137)),u=_(n(6766)),s=n(226),d=n(190),c=m(n(24)),f=m(n(42)),p=m(n(328)),h=n(1),v=m(n(5968));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(e,t){var n=u.NotRenderedChanges[e.targetType];return null!=n&&!0===n[t.key]}var S=((r={})[h.AuditLogActionTypes.CREATE]=v.default.typeCreate,r[h.AuditLogActionTypes.UPDATE]=v.default.typeUpdate,r[h.AuditLogActionTypes.DELETE]=v.default.typeDelete,r),I=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.actionType,n=e.targetType,r=e.action,a=e.themeOverride,o=null!=a?v.default["themeOverride"+(0,d.upperCaseFirstChar)(a)]:null;return g("div",{className:(0,l.default)(v.default.icon,S[t],function(e,t){var n;return t===h.AuditLogActions.MESSAGE_DELETE?v.default.targetMessage:(n={},n[h.AuditLogTargetTypes.ALL]=v.default.targetAll,n[h.AuditLogTargetTypes.GUILD]=v.default.targetGuild,n[h.AuditLogTargetTypes.CHANNEL]=v.default.targetChannel,n[h.AuditLogTargetTypes.CHANNEL_OVERWRITE]=v.default.targetChannel,n[h.AuditLogTargetTypes.USER]=v.default.targetMember,n[h.AuditLogTargetTypes.ROLE]=v.default.targetRole,n[h.AuditLogTargetTypes.INTEGRATION]=v.default.targetIntegration,n[h.AuditLogTargetTypes.INVITE]=v.default.targetInvite,n[h.AuditLogTargetTypes.WEBHOOK]=v.default.targetWebhook,n[h.AuditLogTargetTypes.EMOJI]=v.default.targetEmoji,n)[e]}(n,r),o)})},t}(o.PureComponent);t.AuditLogIcon=I,I.displayName="AuditLogIcon";var T=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.user;return g("span",{onContextMenu:e.onContextMenu,className:v.default.userHook},void 0,g("span",{},void 0,t.username),g("span",{className:v.default.discrim},void 0,"#",t.discriminator))},t}(o.PureComponent);T.displayName="UserHook";var O=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.hasChangesToRender=function(){var e=this.props.log,t=e.changes;return(e.actionType!==h.AuditLogActionTypes.DELETE||e.action===h.AuditLogActions.MEMBER_BAN_ADD||e.action===h.AuditLogActions.MEMBER_KICK||e.action===h.AuditLogActions.MEMBER_PRUNE)&&(null!=t&&t.some(function(t){return!y(e,t)}))},n.renderTitle=function(){var e=this.props,t=e.log,n=e.onUserContextMenu,r=e.onTargetContextMenu,a=e.onChannelContextMenu,o=t.user,l=t.target,s=t.options,d=u.getChangeTitle(t);return null!=d?g("div",{className:v.default.overflowEllipsis},void 0,d.format({user:o,target:l,userHook:function(e,r){return g(T,{user:t.user,onContextMenu:n},r)},targetHook:function(e,n){return t.targetType===h.AuditLogTargetTypes.USER?g(T,{user:t.target,onContextMenu:r},n):g("span",{onContextMenu:r},n,e)},count:s.count,channel:s.channel?"string"==typeof s.channel?s.channel:(0,i.default)(s.channel,!0):null,channelHook:function(e,t){return g("span",{onContextMenu:a},t,e)}})):null},n.renderRoleUpdate=function(e){var t=e.newValue;return Array.isArray(t)?t.map(function(e){return g("div",{className:v.default.subListItem},e.id,e.name)}):null},n.renderPermissionUpdate=function(e){var t=this,n=e.newValue;return Array.isArray(n)?n.map(function(e){return g("div",{className:v.default.subListItem},e,u.getStringForPermission(e,t.props.log))}):null},n.renderChangeDetails=function(e){var t=this,n=this.props,r=n.log,a=n.onContentClick;if(null==r.changes)return null;var o=0,i=r.changes.map(function(n,a){var i=n.oldValue,d=n.newValue,f=null;r.action===h.AuditLogActions.MEMBER_ROLE_UPDATE?f=t.renderRoleUpdate(n):r.targetType!==h.AuditLogTargetTypes.ROLE&&r.action!==h.AuditLogActions.CHANNEL_OVERWRITE_CREATE&&r.action!==h.AuditLogActions.CHANNEL_OVERWRITE_UPDATE||(f=t.renderPermissionUpdate(n)),r.action!==h.AuditLogActions.CHANNEL_UPDATE&&!h.AuditLogActions.CHANNEL_CREATE||n.key!==h.AuditLogChangeKeys.TYPE||(null!=i&&(i=(0,s.channelTypeString)({type:i})),null!=d&&(d=(0,s.channelTypeString)({type:d})));var p=e[n.key];if(y(r,n))return null;if("function"==typeof p&&(p=p(n)),null!=p&&"object"==typeof p){if(null==p.format){var m=p[n.newValue];null==m&&null!=p[u.DEFAULT_FOR_STRINGS_KEY]?p=p[u.DEFAULT_FOR_STRINGS_KEY]:null!=m&&(p=m)}null!=p&&null!=p.format&&(p=p.format({user:r.user,target:r.target,oldValue:i,newValue:d,count:Array.isArray(d)?d.length:null,subtarget:r.options.subtarget?r.options.subtarget:null,newColorHook:function(e,t){return g("div",{className:v.default.colorHook,style:{backgroundColor:n.newValue}},t)},oldColorHook:function(e,t){return g("div",{className:v.default.colorHook,style:{backgroundColor:n.oldValue}},t)}}))}if(!p)return console.warn("No change string for",n),null;var _=(0,l.default)(v.default.prefix,S[r.actionType]);return o++,g(c.default,{className:v.default.detail,style:{position:"relative",top:1}},a,g(c.default,{className:_,grow:0},void 0,g("div",{className:v.default.number},void 0,o<10?"0":null,o),g("div",{className:v.default.dash},void 0,"—")),g(c.default,{className:v.default.change,direction:c.default.Direction.VERTICAL},void 0,g("div",{className:v.default.changeStr},void 0,p),null!=f?g("div",{},void 0,f):null))});return g(c.default,{onClick:a,className:v.default.changeDetails,direction:c.default.Direction.VERTICAL},void 0,i)},n.renderChangeSummary=function(){var e=this.props,t=e.expanded,n=e.log;if(t)switch(n.targetType){case h.AuditLogTargetTypes.GUILD:return this.renderChangeDetails(u.GuildChangeStrings());case h.AuditLogTargetTypes.CHANNEL:case h.AuditLogTargetTypes.CHANNEL_OVERWRITE:return this.renderChangeDetails(u.ChannelChangeStrings());case h.AuditLogTargetTypes.USER:return this.renderChangeDetails(u.UserChangeStrings());case h.AuditLogTargetTypes.ROLE:return this.renderChangeDetails(u.RoleChangeStrings());case h.AuditLogTargetTypes.INVITE:return this.renderChangeDetails(u.InviteChangeStrings());case h.AuditLogTargetTypes.WEBHOOK:return this.renderChangeDetails(u.WebhookChangeStrings());case h.AuditLogTargetTypes.EMOJI:return this.renderChangeDetails(u.EmojiChangeStrings());case h.AuditLogTargetTypes.INTEGRATION:return this.renderChangeDetails(u.IntegrationChangeStrings())}return null},n.render=function(){var e=this.props,t=e.log,n=e.className,r=e.expanded,a=e.onHeaderClick,o=this.hasChangesToRender(),i=v.default.headerDefault;r?i=v.default.headerExpanded:o&&(i=v.default.headerClickable);var u,s=t.timestampStart.calendar(),d=t.timestampEnd.calendar();u=s===d?g("div",{className:v.default.timestamp},void 0,s):g("div",{className:v.default.timestamp},void 0,s,"—",d);var m=o?a:h.NOOP;return g(c.default,{direction:c.default.Direction.VERTICAL,className:(0,l.default)(v.default.auditLog,n)},void 0,g(c.default,{className:i,direction:c.default.Direction.HORIZONTAL,align:c.default.Align.CENTER,onClick:m},void 0,g(I,{action:t.action,actionType:t.actionType,targetType:t.targetType}),g(p.default,{className:v.default.avatar,src:t.user.getAvatarURL(),"aria-label":t.user.username,size:p.default.Sizes.SIZE_40}),g(c.default,{className:v.default.timeWrap,direction:c.default.Direction.VERTICAL},void 0,g(c.default.Child,{grow:1},void 0,this.renderTitle()),u),o?g(f.default,{name:f.default.Names.CARET,className:v.default.expand,foreground:v.default.expandForeground,expanded:r}):null),r?g("div",{className:v.default.divider}):null,this.renderChangeSummary())},t}(o.PureComponent);O.displayName="AuditLog";var N=O;t.default=N},7131:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=(r=n(349))&&r.__esModule?r:{default:r};function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.id;return i("div",{className:t},void 0,i(l.default,{id:n}))},r}(o.PureComponent);u.displayName="DeveloperContextMenu";var s=u;t.default=s},7132:function(e,t,n){e.exports=n.p+"99253cefda98913b1e9f7d155ad81ed3.svg"},7133:function(e,t,n){e.exports=n.p+"0049cd2d5d8dad87fac3811fa651988e.svg"},7134:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=k(n(0)),o=G(n(8)),l=G(n(6)),i=G(n(3)),u=n(35),s=G(n(139)),d=G(n(334)),c=G(n(30)),f=G(n(6515)),p=G(n(97)),h=G(n(25)),v=G(n(11)),m=G(n(21)),_=k(n(6524)),g=G(n(24)),E=G(n(6593)),y=G(n(182)),S=G(n(71)),I=G(n(75)),T=G(n(332)),O=G(n(261)),N=k(n(258)),C=n(66),A=G(n(328)),M=G(n(166)),P=n(6546),R=G(n(459)),b=n(1),L=G(n(4)),D=G(n(5925)),w=G(n(455)),U=G(n(5974));function G(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var H=function(e){function t(){return e.apply(this,arguments)||this}return j(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.ban,r=e.theme,a=e.onRevoke,l=e.onClose;return B(I.default,{className:U.default.bannedUserModal,theme:r},void 0,B(I.default.Content,{className:U.default.content},void 0,B("div",{},void 0,B(g.default,{justify:g.default.Justify.CENTER},void 0,B(S.default,{color:S.default.Colors.PRIMARY,className:U.default.userUsername},void 0,t.toString()),B(S.default,{className:U.default.userDiscrim},void 0,"#",t.discriminator)),B(S.default,{className:(0,o.default)(U.default.reasonHeader,w.default.marginTop40),size:S.default.Sizes.SMALL},void 0,L.default.Messages.BAN_REASON),B(S.default,{className:U.default.reason},void 0,n.reason||L.default.Messages.NO_BAN_REASON))),B(I.default.Footer,{className:U.default.footer},void 0,B(g.default,{justify:g.default.Justify.BETWEEN},void 0,B(m.default,{onClick:a,look:m.default.Looks.LINK,color:m.default.Colors.RED},void 0,L.default.Messages.REVOKE_BAN),B(m.default,{onClick:l},void 0,L.default.Messages.DONE))))},t}(a.PureComponent);H.displayName="BannedUserModal";var V=i.default.connectStores([h.default],function(){return{theme:h.default.theme}})(H),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleShowModal=function(){var e=t.props,n=e.user,r=e.hideDiscriminator,o=e.ban;c.default.push(function(e){return a.createElement(V,F({},e,{ban:o,user:n,hideDiscriminator:r,onRevoke:t.handleRevokeBan,onClose:t.handleCloseModal}))})},t.handleRevokeBan=function(){var e=t.props,n=e.guild,r=e.user;s.default.unbanUser(n.id,r.id).then(c.default.pop)},t.handleContextMenu=function(e){(0,u.openContextMenu)(e,function(e){return a.createElement(R.default,F({},e,{type:b.ContextMenuTypes.USER_BANS,user:t.props.user}))})},t}j(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.user,n=e.hideDiscriminator;return B(g.default,{className:(0,o.default)(U.default.bannedUser,D.default.card),align:g.default.Align.CENTER,onClick:this.handleShowModal,onContextMenu:this.handleContextMenu},void 0,B(A.default,{src:t.getAvatarURL(),"aria-label":t.username,size:A.default.Sizes.SIZE_40,className:U.default.bannedUserAvatar}),B(g.default.Child,{basis:100,className:w.default.marginReset},void 0,B("div",{className:U.default.username},void 0,t.toString(),!n&&B("span",{className:U.default.discrim},void 0,"#",t.discriminator))))},n.handleCloseModal=function(){c.default.pop()},t}(a.PureComponent);x.displayName="BannedUser";var Y=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.makeFilter=function(){var e=this.props.searchQuery;if(null==e||0===e.length)return function(){return!0};var t=new RegExp("^"+M.default.escape(e),"i");return function(e){return null!=e&&t.test(e.username)}},r.renderHeader=function(){var e,t=this.props,r=t.bans,a=t.theme,o=t.searchQuery;null==r?e=null:l.default.isEmpty(r)&&(e=B(_.default,{theme:a,className:w.default.marginTop40},void 0,B(_.EmptyStateImage,{darkSrc:n(7135),lightSrc:n(7136),width:256,height:212}),B(_.EmptyStateText,{note:L.default.Messages.BANS_NO_USERS_BANNED,style:{maxWidth:300}},void 0,L.default.Messages.NO_BANS)));var i=(0,l.default)(r||{}).keys().value().length;return B(O.default,{tag:C.Tags.H2,title:L.default.Messages.BANS_HEADER.format({bans:i})},void 0,B(g.default,{justify:g.default.Justify.BETWEEN,align:g.default.Align.START},void 0,B(N.default,{type:N.Types.DESCRIPTION,className:w.default.marginBottom20},void 0,L.default.Messages.BANS_HINT.format({onModerationClick:this.handleModerationClick})),null==e&&B(E.default,{className:U.default.searchBar,query:o,placeholder:L.default.Messages.BANS_SEARCH_PLACEHOLDER,onChange:this.handleQueryChange,onClear:this.handleQueryClear})),B(T.default,{style:{marginBottom:-1}}),e)},r.render=function(){var e,t=this.props,n=t.bans,r=t.guild,a=t.streamerMode,o=t.theme;return null==r?null:(e=null==n?[B(y.default,{className:w.default.marginTop20,type:y.default.Type.SPINNING_CIRCLE},"spinner")]:(0,l.default)(n).keys().map(v.default.getUser).filter(this.makeFilter()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return B(x,{user:e,ban:n[e.id],hideDiscriminator:a,guild:r},e.id)}).value(),B(P.LazyContentScroller,{theme:o,header:this.renderHeader(),elementHeight:56},void 0,e))},r.handleModerationClick=function(){d.default.setSection(b.GuildSettingsSections.MODERATION)},r.handleQueryChange=function(e){d.default.setSearchQuery(e)},r.handleQueryClear=function(){d.default.setSearchQuery("")},t}(a.PureComponent);Y.displayName="GuildSettingsBans";var W=i.default.connectStores([f.default,h.default],function(){var e=f.default.getProps(),t=e.bans,n=e.guild;return{searchQuery:e.searchQuery||"",bans:t,guild:n,theme:h.default.theme,streamerMode:p.default.enabled}})(Y);t.default=W},7135:function(e,t,n){e.exports=n.p+"789de85a973b1d974a21aa03c1e14323.svg"},7136:function(e,t,n){e.exports=n.p+"e3fb8fe698a871db1d0e34ededf8a954.svg"},7137:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsDiscoveryNotice=void 0;var r,a=G(n(0)),o=U(n(3)),l=U(n(6763)),i=U(n(137)),u=n(7138),s=U(n(6598)),d=U(n(7139)),c=U(n(6774)),f=G(n(87)),p=U(n(6760)),h=U(n(64)),v=U(n(11)),m=U(n(21)),_=U(n(460)),g=U(n(487)),E=n(65),y=n(136),S=U(n(261)),I=G(n(258)),T=G(n(66)),O=n(265),N=U(n(88)),C=n(229),A=U(n(6585)),M=U(n(6550)),P=U(n(6568)),R=U(n(7140)),b=U(n(7141)),L=n(1),D=U(n(4)),w=U(n(5983));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=D.default.getAvailableLocales().map(function(e){var t,r=e.value,a=e.name;try{t=n(6704)("./"+e.value+".png")}catch(e){t=n(6930)}return{value:r,label:a,image:t}}),B=o.default.connectStores([p.default],function(){var e=p.default.getProps(),t=e.guild,n=e.submitting;return{guild:t,submitting:n,onReset:function(){null!=t&&l.default.init(t.id)},onSave:function(){null!=t&&l.default.saveGuild(t.id,{features:t.features,discoverySplash:t.discoverySplash,description:t.description,rulesChannelId:t.rulesChannelId,preferredLocale:t.preferredLocale})}}})(P.default);t.GuildSettingsDiscoveryNotice=B;var j=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleDiscovery=function(){var e=t.props.guild,n=new Set(e.features);e.hasFeature(L.GuildFeatures.DISCOVERABLE)?n.delete(L.GuildFeatures.DISCOVERABLE):n.add(L.GuildFeatures.DISCOVERABLE),l.default.updateGuild({features:n})},t.handleEnableDiscovery=function(){var e=t.props.guild,n=new Set(e.features);e.hasFeature(L.GuildFeatures.DISCOVERABLE)||(n.add(L.GuildFeatures.DISCOVERABLE),l.default.updateGuild({features:n}),(0,O.openModal)(function(e){return a.createElement(d.default,e)}))},t.handleSplashChange=function(e){l.default.updateGuild({discoverySplash:e})},t.handleDescriptionChange=function(e){l.default.updateGuild({description:e})},t.handleRuleChannelChange=function(e){var t=e.value;l.default.updateGuild({rulesChannelId:t})},t.handleLocaleChange=function(e){var t=e.value;l.default.updateGuild({preferredLocale:t})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentWillUnmount=function(){l.default.close()},o.componentDidMount=function(){var e=this.props.guild;null!=e&&(0,u.fetchDiscoveryChecklist)(e.id)},o.renderDiscoverableSection=function(){var e=this.props,t=e.guild,n=e.isOwner,r=t.hasFeature(L.GuildFeatures.DISCOVERABLE);return k(S.default,{className:w.default.twoColumnFormSection},void 0,k("div",{},void 0,k(T.default,{className:w.default.formTitle},void 0,D.default.Messages.GUILD_SETTINGS_ENABLE_DISCOVERABLE),k(I.default,{type:I.Types.DESCRIPTION,className:w.default.formDescription},void 0,D.default.Messages.FORM_HELP_ENABLE_DISCOVERABLE),k(E.TooltipContainer,{className:w.default.ownerOnlyTooltip,text:n?null:D.default.Messages.GUILD_SETTINGS_DISCOVERY_OWNER_ONLY},void 0,k(m.default,{size:m.default.Sizes.SMALL,onClick:this.handleToggleDiscovery,color:r?m.default.Colors.PRIMARY:m.default.Colors.GREEN,hover:r?m.default.Colors.PRIMARY:m.default.Colors.GREEN,disabled:!n},void 0,r?D.default.Messages.GUILD_SETTINGS_DISABLE_DISCOVERABLE:D.default.Messages.GUILD_SETTINGS_ENABLE_DISCOVERABLE))),k(c.default,{className:w.default.guildCard,loading:null==t,guild:t}))},o.renderCoverImageSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild;return k(S.default,{className:w.default.twoColumnFormSection},void 0,k("div",{},void 0,k(T.default,{className:w.default.formTitle},void 0,D.default.Messages.FORM_LABEL_DISCOVERY_COVER_IMAGE),k(I.default,{type:I.Types.DESCRIPTION,className:w.default.formDescription},void 0,D.default.Messages.FORM_HELP_DISCOVERY_COVER_IMAGE),k(m.default,{size:m.default.Sizes.SMALL,color:m.default.Colors.PRIMARY,hover:m.default.Colors.PRIMARY},void 0,D.default.Messages.UPLOAD_BACKGROUND,k(M.default,{disabled:!n,onChange:this.handleSplashChange}))),k(A.default,{avatar:t.discoverySplash,size:null,makeURL:function(e){return e&&N.default.getGuildDiscoverySplashURL({id:t.id,splash:e,size:512*(0,C.getDevicePixelRatio)()})},disabled:!n,onChange:this.handleSplashChange,hint:D.default.Messages.CHANGE_SPLASH,className:w.default.avatarUploader,avatarClassName:w.default.avatarUploaderInnerSquare,hideSize:!0}))},o.renderDescriptionSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild;return k(S.default,{},void 0,k(T.default,{className:w.default.formTitle},void 0,D.default.Messages.FORM_LABEL_SERVER_DESCRIPTION),k(g.default,{className:w.default.textArea,value:t.description||"",placeholder:D.default.Messages.SERVER_DESCIPTION_EMPTY,onChange:this.handleDescriptionChange,maxLength:120,disabled:!n}),k(I.default,{type:I.Types.DESCRIPTION},void 0,D.default.Messages.FORM_HELP_SERVER_DESCRIPTION))},o.renderRulesChannelSection=function(){var e=this.props,t=e.canManageGuild,n=e.selectableChannels,r=e.guild;return k(S.default,{className:w.default.twoColumnFormSection},void 0,k("div",{},void 0,k(T.default,{className:w.default.formTitle},void 0,D.default.Messages.FORM_LABEL_DISCOVERY_RULES_CHANNEL),k(I.default,{type:I.Types.DESCRIPTION,className:w.default.formDescription},void 0,D.default.Messages.FORM_HELP_RULES_CHANNEL)),k(_.default,{className:w.default.formSelect,value:r.rulesChannelId,clearable:!1,searchable:!1,options:n,onChange:this.handleRuleChannelChange,disabled:!t}))},o.renderLocaleSelector=function(){var e=this.props,t=e.guild,n=e.canManageGuild;return k(S.default,{className:w.default.twoColumnFormSection},void 0,k("div",{},void 0,k(T.default,{className:w.default.formTitle},void 0,D.default.Messages.FORM_LABEL_SERVER_LANGUAGE),k(I.default,{type:I.Types.DESCRIPTION,className:w.default.formDescription},void 0,D.default.Messages.FORM_HELP_SERVER_LANGUAGE)),k(_.default,{className:w.default.formSelect,value:t.preferredLocale,clearable:!1,searchable:!1,options:F,onChange:this.handleLocaleChange,disabled:!n}))},o.render=function(){var e=this.props,t=e.guild,n=e.passesChecklist,r=e.isOwner;if(null==t)return null;var a=t.hasFeature(L.GuildFeatures.VERIFIED);return t.hasFeature(L.GuildFeatures.DISCOVERABLE)||a?n||a?k(S.default,{className:w.default.discoverySettings,title:D.default.Messages.DISCOVERY,tag:T.Tags.H2},void 0,this.renderDiscoverableSection(),k(y.FormDivider,{className:w.default.divider}),this.renderCoverImageSection(),k(y.FormDivider,{className:w.default.divider}),this.renderDescriptionSection(),k(y.FormDivider,{className:w.default.divider}),this.renderRulesChannelSection(),k(y.FormDivider,{className:w.default.divider}),a&&this.renderLocaleSelector()):k(R.default,{guild:t}):k(b.default,{guild:t,onEnableDiscovery:this.handleEnableDiscovery,isOwner:r})},r}(a.PureComponent);j.displayName="GuildSettingsDiscovery";var H=o.default.connectStores([f.default,p.default,s.default,v.default,h.default],function(){var e=p.default.getProps(),t=e.guild,n=e.error,r=e.submitting,a=t.isOwner(v.default.getCurrentUser()),o=((null!=t&&h.default.getGuildPermissions(t.id)||0)&L.Permissions.MANAGE_GUILD)===L.Permissions.MANAGE_GUILD,l=s.default.passesChecklist(t.id),u=f.default.getChannels(t.id),d=[];return u[f.GUILD_SELECTABLE_CHANNELS_KEY].forEach(function(e){var t=e.channel;t.type===L.ChannelTypes.GUILD_TEXT&&d.push({value:t.id,label:(0,i.default)(t,!0)})}),{guild:t,error:n,submitting:r,passesChecklist:l,selectableChannels:d,isOwner:a,canManageGuild:o}})(j);t.default=H},7138:function(e,t,n){"use strict";t.__esModule=!0,t.fetchDiscoveryChecklist=function(e){return u.apply(this,arguments)};var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function u(){var e;return e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:o.ActionTypes.DISCOVER_CHECKLIST_FETCH_START,guildId:t}),e.prev=1,e.next=4,r.default.get({url:o.Endpoints.GUILD_DISCOVERY_CHECKLIST(t)});case 4:n=e.sent,a.default.dispatch({type:o.ActionTypes.DISCOVER_CHECKLIST_FETCH_SUCCESS,guildId:t,checklist:n.body}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.default.dispatch({type:o.ActionTypes.DISCOVER_CHECKLIST_FETCH_FAILURE,guildId:t});case 11:case"end":return e.stop()}},e,null,[[1,8]])}),(u=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){i(o,r,a,l,u,"next",e)}function u(e){i(o,r,a,l,u,"throw",e)}l(void 0)})}).apply(this,arguments)}},7139:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a,o=S(n(6)),l=n(230),i=S(n(6584)),u=S(n(21)),s=n(220),d=S(n(456)),c=S(n(257)),f=n(1),p=S(n(4)),h=S(n(5975)),v=S(n(6702)),m=S(n(6770)),_=S(n(6771)),g=S(n(6703)),E=S(n(6772)),y=S(n(6773));function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=((r={})[f.ThemeTypes.LIGHT]=[g.default,E.default,y.default],r[f.ThemeTypes.DARK]=[v.default,m.default,_.default],r),O=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.default)(),a=(0,l.useStableMemo)(function(){return o.default.sample(T[r])},[r]);return I(s.ModalRoot,{transitionState:t},void 0,I(s.ModalContent,{className:h.default.modal},void 0,I("img",{alt:"",src:a,className:h.default.image}),I(d.default,{size:d.default.Sizes.SIZE_24,className:h.default.followSuccessHeader},void 0,p.default.Messages.GUILD_SETTINGS_DISCOVERY_ENABLED_MODAL_HEADER),I(c.default,{color:c.default.Colors.MUTED,size:c.default.Sizes.SIZE_16,className:h.default.body},void 0,p.default.Messages.GUILD_SETTINGS_DISCOVERY_ENABLED_MODAL_BODY),I(u.default,{onClick:n},void 0,p.default.Messages.GUILD_SETTINGS_DISCOVERY_ENABLED_MODAL_DISMISS)))};O.displayName="FollowSuccessModal";var N=O;t.default=N},7140:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),l=v(n(6598)),i=v(n(261)),u=v(n(456)),s=v(n(257)),d=v(n(183)),c=n(6775),f=n(1),p=v(n(4)),h=v(n(5980));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=(0,o.useStateFromStores)([l.default],function(){return l.default.getDiscoveryChecklist(t.id)},[t.id]),r=[{name:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SAFE,description:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SAFE_FAILING,checked:null==n?void 0:n.safeEnvironment},{name:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_HEALTHY,description:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_HEALTHY_FAILING,checked:null==n?void 0:n.healthy},{name:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SIZE.format({minMembers:c.MINIMUM_GUILD_SIZE}),description:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_SIZE_DESCRIPTION.format({minMembers:c.MINIMUM_GUILD_SIZE}),checked:null==n?void 0:n.size},{name:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_NSFW,description:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_NSFW_FAILING,checked:null==n?void 0:n.nsfwSafe},{name:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_2FA,description:p.default.Messages.GUILD_SETTINGS_DISCOVERY_CHECKLIST_2FA_FAILING.format({articleURL:d.default.getArticleURL(f.HelpdeskArticles.WEBHOOKS_INTRODUCTION)}),checked:null==n?void 0:n.protected}];return m(i.default,{title:p.default.Messages.DISCOVERY,tag:u.default.Tags.H2},void 0,m("div",{className:h.default.background}),m("div",{className:h.default.discoverySettings},void 0,m("div",{className:h.default.image}),m(u.default,{className:h.default.header,size:u.default.Sizes.SIZE_24},void 0,p.default.Messages.GUILD_SETTINGS_DISCOVERY_DISQUALIFIED),m(s.default,{className:h.default.description,size:s.default.Sizes.SIZE_16},void 0,p.default.Messages.GUILD_SETTINGS_DISCOVERY_DISQUALIFIED_DESCRIPTION),m("div",{className:h.default.checklist},void 0,r.map(function(e,t){return e.checked?null:m(a.Fragment,{},e.name,a.createElement(c.ChecklistItem,e),t<r.length-1&&m("div",{className:h.default.divider}))}))))};_.displayName="GuildSettingsDiscoveryDisqualified";var g=_;t.default=g},7141:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(0)),o=S(n(6)),l=n(230),i=n(3),u=S(n(6598)),s=I(n(6776)),d=S(n(6900)),c=S(n(6774)),f=S(n(275)),p=S(n(21)),h=S(n(65)),v=S(n(456)),m=S(n(257)),_=S(n(6775)),g=S(n(7143)),E=S(n(4)),y=S(n(5982));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=["541484311354933258","152517096104919042"],C=["116173324647661575","417739215355510784"],A=function(e){var t=e.guild,n=e.onEnableDiscovery,r=e.isOwner,S=(0,l.useStableMemo)(function(){return[o.default.sample(N),o.default.sample(C)]},[]),I=S[0],A=S[1];a.useEffect(function(){s.fetchDiscoverableGuilds([I,A])},[I,A]);var M=(0,i.useStateFromStoresArray)([d.default],function(){return[d.default.getGuild(I),d.default.getGuild(A)]},[I,A]),P=M[0],R=M[1],b=(0,i.useStateFromStoresObject)([u.default],function(){return{canEnableDiscovery:u.default.passesChecklist(t.id),isPendingSuccess:u.default.isPendingSuccess(t.id)}},[t.id]),L=b.canEnableDiscovery,D=b.isPendingSuccess,w=(0,i.useStateFromStoresArray)([f.default],function(){return[null,f.default.getMemberCount(t.id)]},[t.id]),U=w[0],G=w[1],k=a.useCallback(function(){null!=n&&n()},[n]),F=null;return r?D?F=E.default.Messages.GUILD_SETTINGS_DISCOVERY_PENDING_HEALTHY:L||(F=E.default.Messages.GUILD_SETTINGS_DISCOVERY_REQUIREMENTS_NOT_MET):F=E.default.Messages.GUILD_SETTINGS_DISCOVERY_OWNER_ONLY,O(a.Fragment,{},void 0,O("div",{className:y.default.background}),O("div",{className:y.default.leadin},void 0,O(v.default,{className:y.default.header,size:v.default.Sizes.SIZE_32},void 0,E.default.Messages.GUILD_SETTINGS_DISCOVERY_HEADER),O(m.default,{size:m.default.Sizes.SIZE_16},void 0,E.default.Messages.GUILD_SETTINGS_DISCOVERY_BYLINE)),O("div",{className:y.default.discoverPreview},void 0,O(c.default,{className:y.default.placeholderCard,disabled:!0,small:!0,loading:null==P,guild:P}),O(c.default,{className:y.default.previewCard,guild:t,description:E.default.Messages.GUILD_SETTINGS_DISCOVERY_PREVIEW_DESCRIPTION,presenceCount:U,memberCount:G}),O(c.default,{className:y.default.placeholderCard,disabled:!0,small:!0,loading:null==R,guild:R})),O(g.default,{className:y.default.perks}),O("hr",{className:y.default.divider}),O("div",{className:y.default.readyToGo},void 0,O(v.default,{className:y.default.readyHeader,size:v.default.Sizes.SIZE_24},void 0,E.default.Messages.GUILD_SETTINGS_DISCOVERY_READY_TO_GO),O(m.default,{className:y.default.readyDescription,size:m.default.Sizes.SIZE_16},void 0,E.default.Messages.GUILD_SETTINGS_DISCOVERY_READY_TO_GO_BYLINE),O(h.default,{text:F},void 0,function(e){return a.createElement(p.default,T({},e,{className:y.default.enableButton,color:p.default.Colors.GREEN,size:p.default.Sizes.LARGE,disabled:!L||!r,onClick:k}),E.default.Messages.GUILD_SETTINGS_ENABLE_DISCOVERABLE)})),O(_.default,{className:y.default.checklist,guildId:t.id}))};A.displayName="GuildSettingsDiscoveryIntro";var M=A;t.default=M},7142:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{id:e.id,name:e.name,description:e.description,splash:e.splash,banner:e.banner,icon:e.icon,features:new Set(e.features),presenceCount:e.approximate_presence_count,memberCount:e.approximate_member_count,premiumSubscriptionCount:e.premium_subscription_count,preferredLocale:e.preferred_locale,discoverySplash:e.discovery_splash}}},7143:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=d(n(8)),o=d(n(42)),l=d(n(456)),i=n(1),u=d(n(4)),s=d(n(5981));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.className;return c("div",{className:(0,a.default)(s.default.container,t)},void 0,c("div",{className:s.default.perk},void 0,c(o.default,{className:s.default.perkArt,name:o.default.Names.SEARCH,width:48,height:48,color:i.Colors.BRAND}),c(l.default,{size:l.default.Sizes.SIZE_16,className:s.default.perkText},void 0,u.default.Messages.GUILD_SETTINGS_DISCOVERY_PERK_FIND)),c("div",{className:s.default.perk},void 0,c(o.default,{className:s.default.perkArt,name:o.default.Names.EYE,width:48,height:48,color:i.Colors.STATUS_GREEN}),c(l.default,{size:l.default.Sizes.SIZE_16,className:s.default.perkText},void 0,u.default.Messages.GUILD_SETTINGS_DISCOVERY_PERK_CUSTOMIZE)),c("div",{className:s.default.perk},void 0,c(o.default,{className:s.default.perkArt,name:o.default.Names.STAR,width:48,height:48,color:i.Colors.STATUS_YELLOW}),c(l.default,{size:l.default.Sizes.SIZE_16,className:s.default.perkText},void 0,u.default.Messages.GUILD_SETTINGS_DISCOVERY_PERK_FEATURED)))};f.displayName="GuildSettingsDiscoveryPerks";var p=f;t.default=p},7144:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(0)),o=L(n(8)),l=L(n(6)),i=L(n(3)),u=L(n(142)),s=L(n(7063)),d=L(n(7145)),c=L(n(6515)),f=L(n(25)),p=L(n(21)),h=D(n(6524)),v=L(n(24)),m=L(n(182)),_=L(n(138)),g=L(n(65)),E=L(n(261)),y=D(n(258)),S=D(n(66)),I=L(n(328)),T=L(n(88)),O=L(n(199)),N=L(n(6551)),C=L(n(6550)),A=n(1),M=L(n(4)),P=L(n(5925)),R=L(n(455)),b=L(n(5985));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var F=l.default.throttle(s.default.fetchEmoji,1e3),B=function(e){function t(t){var n;return G(n=e.call(this,t)||this).handleNameKeyPress=n.handleNameKeyPress.bind(G(n)),G(n).handleNameChange=n.handleNameChange.bind(G(n)),G(n).handleNameBlur=n.handleNameBlur.bind(G(n)),G(n).handleDeleteEmoji=n.handleDeleteEmoji.bind(G(n)),n.state={name:t.emoji.name},n}k(t,e);var n=t.prototype;return n.handleDeleteEmoji=function(){var e=this.props,t=e.guildId,n=e.emoji;s.default.deleteEmoji(t,n.id)},n.handleNameKeyPress=function(e){var t=e.currentTarget;13===e.which&&t.blur()},n.handleNameChange=function(e){this.setState({name:e})},n.handleNameBlur=function(){var e=this.props.emoji,t=this.state.name;if(t!==e.name){var n=this.props.guildId;s.default.updateEmoji(n,e.id,O.default.sanitizeEmojiName(t))}},n.renderEmoji=function(){var e=this.props.emoji,t=T.default.getEmojiURL({id:e.id,animated:e.animated});return w(v.default.Child,{basis:"40px",grow:0},void 0,w(g.default,{text:e.available?null:M.default.Messages.EMOJI_DISABLED_PREMIUM_TIER_LOST},void 0,function(n){var r;return a.createElement("div",U({},n,{className:(0,o.default)(b.default.emojiImage,(r={},r[b.default.emojiDisabled]=!e.available,r)),style:{backgroundImage:"url("+t+")"}}))}))},n.renderEmojiName=function(){var e=this.state.name;return w(v.default.Child,{basis:"50%"},void 0,w("div",{className:b.default.positionRelative},void 0,w(_.default,{className:b.default.emojiAliasInput,inputClassName:b.default.emojiInput,placeholder:M.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER,onKeyPress:this.handleNameKeyPress,onChange:this.handleNameChange,onBlur:this.handleNameBlur,size:_.default.Sizes.MINI,value:e,maxLength:A.EMOJI_MAX_LENGTH,style:{maxWidth:200}}),w("div",{className:b.default.emojiAliasPlaceholder},void 0,e.length>0?e:M.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER)))},n.renderUser=function(){var e=this.props.emoji;return w(v.default.Child,{basis:"50%",className:b.default.emojiUploader},void 0,w(I.default,{src:e.user.getAvatarURL(),"aria-label":e.user.username,size:I.default.Sizes.SIZE_24,className:b.default.avatar}),w(y.default,{className:(0,o.default)(b.default.emojiRowText)},void 0,e.user.username))},n.renderDeleteButton=function(){return w(N.default,{className:b.default.emojiRemove,onClick:this.handleDeleteEmoji})},n.render=function(){return w(v.default,{className:(0,o.default)(b.default.emojiRow,P.default.card),align:v.default.Align.CENTER},void 0,this.renderEmoji(),this.renderEmojiName(),this.renderUser(),this.renderDeleteButton())},t}(a.PureComponent);B.displayName="EmojiRow";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleFileChange=function(e,n){var r=t.props.guild;if(null!=r){var a=O.default.sanitizeEmojiName(n.split(".")[0]);s.default.uploadEmoji(r.id,e,a).catch(function(e){var t,n=e.body;null!=n&&(n.code===A.AbortCodes.TOO_MANY_EMOJI?t=M.default.Messages.TOO_MANY_EMOJI:n.code===A.AbortCodes.TOO_MANY_ANIMATED_EMOJI?t=M.default.Messages.TOO_MANY_ANIMATED_EMOJI:null!=n.image&&(t=M.default.Messages.EMOJI_TOO_BIG.format({maxSize:A.EMOJI_MAX_FILESIZE_KB}))),null!=t&&u.default.show({body:t})})}},t}k(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.guild;null!=e&&F(e.id)},r.componentDidUpdate=function(e){var t=this.props,n=t.revision,r=t.guild;null!=r&&e.revision<n&&F(r.id)},r.getMaxSlots=function(){var e=this.props.guild;return null!=e?e.getMaxEmojiSlots():A.EMOJI_MAX_SLOTS},r.renderUploader=function(){var e=this.props,t=e.emojis,n=e.isUploading,r=t?t.filter(function(e){return!e.animated}).length:0,a=t?t.filter(function(e){return e.animated}).length:0,o=this.getMaxSlots(),l=o-r,i=Math.max(l,o-a),u=M.default.Messages.GUILD_SETTINGS_EMOJI_UPLOAD_TO_SERVER_MESSAGE;return w(E.default,{className:R.default.marginBottom40},void 0,w(v.default,{align:v.default.Align.START,className:R.default.marginBottom20},void 0,w(v.default.Child,{},void 0,w(y.default,{type:y.Types.DESCRIPTION},void 0,u.format({count:o,maxSize:A.EMOJI_MAX_FILESIZE_KB}))),w(v.default.Child,{wrap:!0,grow:0},void 0,w(p.default,{disabled:n||0===i,submitting:n},void 0,M.default.Messages.UPLOAD_EMOJI,i>0?w(C.default,{onChange:this.handleFileChange,multiple:!0}):null))))},r.renderTitle=function(e,t){var n=t.length,r=this.getMaxSlots()-n;return w(S.default,{tag:S.Tags.H5,className:R.default.marginBottom20},void 0,e,w("span",{},void 0," — ",M.default.Messages.EMOJI_SLOTS_AVAILABLE.format({count:r})))},r.renderEmojiTable=function(e,t){return 0===t.length?w(y.default,{type:y.Types.DESCRIPTION,className:R.default.marginBottom40},void 0,M.default.Messages.NO_EMOJI_BODY):w(E.default,{className:R.default.marginBottom40},void 0,w(v.default,{className:R.default.marginBottom4},void 0,w(v.default.Child,{basis:"40px",grow:0,wrap:!0},void 0,w(y.default,{type:y.default.Types.DESCRIPTION},void 0,M.default.Messages.EMOJI)),w(v.default.Child,{basis:"50%",wrap:!0},void 0,w(y.default,{type:y.default.Types.DESCRIPTION,className:b.default.emojiAliasOffset},void 0,M.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS)),w(v.default.Child,{basis:"50%",wrap:!0},void 0,w(y.default,{type:y.default.Types.DESCRIPTION},void 0,M.default.Messages.UPLOADED_BY))),t.reverse().map(function(t){return w(B,{guildId:e.id,emoji:t},t.id)}))},r.renderEmojis=function(){var e=this.props,t=e.emojis,r=e.theme,a=e.guild;if(null==t||null==a)return w(m.default,{className:R.default.marginTop40,type:m.default.Type.SPINNING_CIRCLE});if(0===t.length)return w(h.default,{theme:r,className:R.default.marginTop20},void 0,w(h.EmptyStateImage,{darkSrc:n(7147),lightSrc:n(7148),width:272,height:212}),w(h.EmptyStateText,{note:M.default.Messages.NO_EMOJI},void 0,M.default.Messages.NO_EMOJI_TITLE));var o=l.default.partition(t,function(e){return!e.animated}),i=o[0],u=o[1];return w("div",{},void 0,this.renderTitle(M.default.Messages.EMOJI,i),this.renderEmojiTable(a,i),this.renderTitle(M.default.Messages.ANIMATED_EMOJI,u),this.renderEmojiTable(a,u))},r.render=function(){return w(E.default,{},void 0,w(S.default,{tag:S.Tags.H2},void 0,M.default.Messages.SERVER_EMOJI),this.renderUploader(),this.renderEmojis())},t}(a.PureComponent);j.displayName="GuildSettingsEmoji";var H=i.default.connectStores([f.default,d.default,c.default],function(){var e=c.default.getProps().guild;return{guild:e,emojis:null!=e?d.default.getEmojis(e.id):[],revision:null!=e?d.default.getEmojiRevision(e.id):null,isUploading:d.default.isUploadingEmoji(),theme:f.default.theme}})(j);t.default=H},7145:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(2)),o=i(n(7146)),l=i(n(153));n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u={},s={},d=0;var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default)},a.isUploadingEmoji=function(){return d>0},a.getEmojiRevision=function(e){return u[e]||0},a.getEmojis=function(e){return s[e]},r}(r.default.Store))(a.default,{EMOJI_DELETE:function(e){var t=e.guildId,n=e.emojiId;s[t]=s[t].filter(function(e){return e.id!==n})},EMOJI_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.emojis;s[t]=n.map(function(e){return new o.default(e)})},EMOJI_FETCH_FAILURE:function(e){var t=e.guildId;s[t]=[]},EMOJI_UPLOAD_START:function(e){d++},EMOJI_UPLOAD_STOP:function(e){d--},GUILD_EMOJIS_UPDATE:function(e){var t=e.guildId;u[t]=(u[t]||0)+1}});t.default=c},7146:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(52)),a=o(n(122));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,n;function r(t){var n;return(n=e.call(this)||this).id=t.id,n.name=t.name,n.managed=t.managed,n.roles=t.roles,n.requiredColons=t.requiredColons,n.user=new a.default(t.user),n.animated=t.animated,n.available=t.available,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(r.default);t.default=l},7147:function(e,t,n){e.exports=n.p+"a7371de3223292c6f31f8aeed62f17c1.svg"},7148:function(e,t,n){e.exports=n.p+"3236694e0c095adfbbd5334fc8dc7aa0.svg"},7149:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=G(n(0)),o=U(n(375)),l=U(n(8)),i=G(n(3)),u=U(n(6615)),s=n(264),d=U(n(137)),c=n(6535),f=n(6567),p=U(n(6865)),h=G(n(7150)),v=U(n(14)),m=U(n(87)),_=U(n(6515)),g=U(n(58)),E=U(n(42)),y=U(n(460)),S=U(n(182)),I=U(n(6777)),T=U(n(65)),O=n(136),N=U(n(6617)),C=U(n(456)),A=U(n(257)),M=n(6533),P=U(n(183)),R=U(n(36)),b=n(1),L=U(n(4)),D=U(n(455)),w=U(n(5988));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e){var t=e.label,n=e.channel,r=e.category,a=(0,M.getIconNameForChannel)(n),o=null!=r?(0,d.default)(r):null;return F(N.default,{title:t,iconType:a,subtitle:o})}B.displayName="renderChannelOption";var j=function(e){return a.createElement("div",k({key:e.item.messageId},e))};j.displayName="Row";var H=function(e){var t=e.messageId,n=e.channelId,r=e.guildId,o=(0,i.useStateFromStores)([h.default],function(){return h.default.getMessage(n,t)},[t,n]),l=a.useMemo(function(){return null==o?null:(0,p.default)(o).content},[o]);return F(g.default,{onClick:function(e){e.preventDefault(),R.default.transitionTo(b.Routes.CHANNEL(r,n,t)),(0,s.popLayer)()}},void 0,F(A.default,{className:w.default.postText},void 0,null!=o?l:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_MESSAGE_DELETED))};H.displayName="Message";var V=function(e){var t=e.value;if(0===t)return null;var n=t>0;return F(E.default,{name:n?E.default.Names.ARROW_DROP_UP:E.default.Names.ARROW_DROP_DOWN,color:n?b.Colors.STATUS_GREEN:b.Colors.STATUS_RED,width:20,height:20})};V.displayName="NetIcon";var x=[{key:L.default.Messages.DATE,renderHeader:function(){return F(O.FormTitle,{tag:O.FormTitleTags.H5},void 0,L.default.Messages.DATE)},sort:!1,cellClassName:w.default.date,render:function(e){var t=e.messageTimestamp;return F(A.default,{},void 0,t)}},{key:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_POST,renderHeader:function(){return F(O.FormTitle,{tag:O.FormTitleTags.H5},void 0,L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_POST)},sort:!1,cellClassName:w.default.post,render:function(e){var t=e.messageId,n=e.channelId,r=e.guildId;return F(H,{messageId:t,channelId:n,guildId:r})}},{key:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_REACH,renderHeader:function(){return F(T.default,{text:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_REACH_TOOLTIP},void 0,function(e){return a.createElement(O.FormTitle,k({tag:O.FormTitleTags.H5,className:w.default.numericHeader},e),L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_REACH)})},sort:!1,cellClassName:w.default.reach,render:function(e){var t=e.totalSubscribersAsOfPost;return F(A.default,{},void 0,t.toLocaleString())}},{key:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_NET_GAIN,renderHeader:function(){return F(T.default,{text:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_NET_GAIN_TOOLTIP},void 0,function(e){return a.createElement(O.FormTitle,k({tag:O.FormTitleTags.H5},e),L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_NET_GAIN)})},sort:!1,cellClassName:w.default.netGain,render:function(e){var t=e.netNewSubscribers,n=e.subscribersGained,r=e.subscribersLost,o=F(V,{value:t});return F(T.default,{text:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_TOOLTIP.format({subscribersGained:n.toLocaleString()||"0",subscribersLost:r.toLocaleString()||"0"})},void 0,function(e){return a.createElement("span",k({},e,{className:(0,l.default)(w.default.inlineIcon,w.default.netGainValue)}),o,F(A.default,{},void 0,t.toLocaleString()))})}}],Y=F(S.default,{}),W=function(e){var t,n;function r(t){var n,r=t.announcementChannels;return(n=e.call(this,t)||this).handleChannelSelect=function(e){var t=e.value;n.setState({selectedChannelId:t})},n.state={selectedChannelId:r.length>0?r[0].id:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){(0,f.hideHotspot)(c.HotspotLocations.FOLLOWER_ANALYTICS_GUILD_SETTINGS),this.componentDidUpdate()},i.componentDidUpdate=function(e,t){var n=this.state.selectedChannelId,r=this.props.channelIdToFollowerStats,a=null!=n?r[n]:null;if(null!=t&&n===t.selectedChannelId||(null==a||Date.now()-a.lastFetched>36e5)&&u.default.fetchChannelFollowerMessageStats(n),null!=a){var l=a.messageStats;if(null!=l&&l.length>0){var i=l[l.length-1],s=i.channelId,d=i.messageId;if(null==h.default.getMessage(s,d)){var c=(0,o.default)(d).prev().toString();u.default.fetchMessagePreviews({channelId:s,after:c,limit:b.MAX_MESSAGES_PER_CHANNEL})}}}},i.renderMessageStats=function(){var e=this.state.selectedChannelId,t=this.props.channelIdToFollowerStats,n=null!=e?t[e].messageStats:null;return null==n?this.renderEmptyState():F(I.default,{columns:x,data:n,sortData:!1,rowComponent:j,rowClassName:w.default.row,headerClassName:w.default.tableHeader})},i.renderOverviewStats=function(){var e=this.state.selectedChannelId,t=this.props.channelIdToFollowerStats,n=null!=e?t[e].messageStats:null;if(null!=n){var r=n[0],o=r.totalSubscribersAsOfPost,i=n.reduce(function(e,t){return e+t.netNewSubscribers},0);return a.createElement(a.Fragment,null,F("div",{className:w.default.overviewStats},void 0,F("div",{},void 0,F(O.FormTitle,{tag:O.FormTitleTags.H5},void 0,L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_SERVERS_FOLLOWING),F(A.default,{className:w.default.overviewStat},void 0,o.toLocaleString())),F("div",{},void 0,F(O.FormTitle,{tag:O.FormTitleTags.H5},void 0,L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_NET_SERVERS),F(A.default,{className:(0,l.default)(w.default.overviewStat,w.default.inlineIcon)},void 0,F(V,{value:i}),i.toLocaleString())),F(A.default,{className:w.default.lastUpdated},void 0,L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_LAST_UPDATED.format({lastUpdated:r.lastUpdated}))),F(O.FormDivider,{className:w.default.divider}))}},i.renderEmptyState=function(){var e=this.state.selectedChannelId,t=this.props.channelIdToFollowerStats,n=null!=e?t[e]:null;return null!=n&&n.status===h.ChannelFollowerStatsFetchStates.SUCCESS&&null!=n.messageStats&&0===n.messageStats.length?F("div",{className:w.default.emptyState},void 0,F("div",{className:w.default.emptyImage}),F(C.default,{tag:C.default.Tags.H2,size:C.default.Sizes.SIZE_20,className:w.default.emptyHeader},void 0,L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_EMPTY_HEADER),F(A.default,{},void 0,L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_EMPTY_BODY)):null==e||null!=n&&n.status===h.ChannelFollowerStatsFetchStates.FAILURE?F("div",{className:w.default.emptyState},void 0,F("div",{className:w.default.emptyImage}),F(C.default,{tag:C.default.Tags.H2,size:C.default.Sizes.SIZE_20},void 0,L.default.Messages.PUBLISH_FOLLOWED_NEWS_GENERIC_BODY)):Y},i.render=function(){var e=this.state.selectedChannelId,t=this.props,n=t.announcementChannels,r=t.channelIdToFollowerStats,o=null!=e?r[e]:null,l=n.map(function(e){return function(e){return{value:e.id,label:(0,d.default)(e),channel:e,category:v.default.getChannel(e.parent_id)}}(e)}),i=null==o||o.status===h.ChannelFollowerStatsFetchStates.FAILURE||o.status===h.ChannelFollowerStatsFetchStates.SUCCESS&&null!=o.messageStats&&0===o.messageStats.length;return F(O.FormSection,{tag:O.FormTitleTags.H2,title:L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS},void 0,F(O.FormText,{type:O.FormTextTypes.DESCRIPTION},void 0,L.default.Messages.GUILD_SETTINGS_FOLLOWER_ANALYTICS_DESCRIPTION.format({supportURL:P.default.getArticleURL(b.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)})),F(y.default,{value:e,clearable:!1,searchable:!1,options:l,disabled:!1,optionRenderer:B,valueRenderer:B,onChange:this.handleChannelSelect,className:D.default.marginTop20}),F(O.FormDivider,{className:w.default.divider}),i?this.renderEmptyState():a.createElement(a.Fragment,null,this.renderOverviewStats(),this.renderMessageStats()))},r}(a.Component);W.displayName="GuildSettingsFollowerAnalytics";var z=i.default.connectStores([_.default,m.default,h.default],function(){var e=_.default.getGuildId(),t=m.default.getChannels(e).SELECTABLE;return{announcementChannels:null!=t?t.filter(function(e){return e.channel.type===b.ChannelTypes.GUILD_ANNOUNCEMENT}).map(function(e){return e.channel}):[],channelIdToFollowerStats:h.default.getFollowerMessageStats()}})(W);t.default=z},7150:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ChannelFollowerStatsFetchStates=void 0;var r=u(n(82)),a=u(n(3)),o=u(n(2)),l=u(n(971)),i=u(n(194));n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)({SUCCESS:null,FAILURE:null});t.ChannelFollowerStatsFetchStates=s;var d={},c={};var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(i.default),this.syncWith([i.default],function(){return!0})},a.getFollowerMessageStats=function(){return d},a.getMessage=function(e,t){return c[t]||i.default.getMessage(e,t)},r}(a.default.Store))(o.default,{CHANNEL_FOLLOWER_MESSAGE_STATS_FETCH_SUCCESS:function(e){var t=e.channelId,n=(e.stats||[]).map(function(e){return{lastUpdated:null!=e.last_updated?new Date(e.last_updated).toLocaleDateString(void 0,{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}):null,guildId:e.guild_id,channelId:e.webhook_source_channel_id,messageId:e.reference_message_id,messageTimestamp:null!=e.reference_message_timestamp?new Date(e.reference_message_timestamp).toLocaleDateString(void 0,{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}):null,subscribersGained:e.subscribers_gained,subscribersLost:e.subscribers_lost,netNewSubscribers:e.net_new_subscribers,totalSubscribersAsOfPost:e.total_subscribers_as_of_post,key:e.reference_message_id}});d[t]={status:s.SUCCESS,lastFetched:Date.now(),messageStats:n}},CHANNEL_FOLLOWER_MESSAGE_STATS_FETCH_FAILURE:function(e){var t=e.channelId;d[t]={status:s.FAILURE,lastFetched:Date.now(),messageStats:null}},CHANNEL_FOLLOWING_FETCH_MESSAGE_PREVIEWS_SUCCESS:function(e){var t=e.channelId,n=e.messages,r=l.default.getOrCreate(t);(r=r.load({newMessages:n,hasMoreBefore:!1,hasMoreAfter:!1,jump:null})).forEach(function(e){c[e.id]=e})}});t.default=f},7151:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(0)),o=R(n(8)),l=R(n(5)),i=R(n(3)),u=R(n(334)),s=R(n(30)),d=R(n(329)),c=R(n(76)),f=R(n(196)),p=R(n(6515)),h=R(n(25)),v=R(n(106)),m=b(n(6524)),_=R(n(24)),g=R(n(7152)),E=R(n(347)),y=R(n(182)),S=R(n(891)),I=R(n(65)),T=n(136),O=R(n(88)),N=R(n(342)),C=n(1),A=R(n(4)),M=R(n(455)),P=R(n(5990));function R(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleEnabled=function(){var e=t.props,n=e.guild,r=e.integration;r.syncing||(r.enabled?s.default.push(function(e){var t=0===r.expire_behavior?A.default.Messages.REMOVE_SYNCED_ROLE:A.default.Messages.KICK_FROM_SERVER;return a.createElement(N.default,D({title:A.default.Messages.DISABLE_INTEGRATION_TITLE,body:"youtube"===r.type?A.default.Messages.DISABLE_INTEGRATION_YOUTUBE_BODY:A.default.Messages.DISABLE_INTEGRATION_TWITCH_BODY,confirmText:t,cancelText:A.default.Messages.CANCEL,onConfirm:function(){return u.default.disableIntegration(n.id,r.id)}},e))}):u.default.enableIntegration(n.id,r.type,r.id))},t.handleExpireBehaviorChange=function(e){var n=t.props,r=n.guild,a=n.integration;u.default.updateIntegration(r.id,a.id,parseInt(e.value),a.expire_grace_period,a.enable_emoticons)},t.handleExpireGracePeriodChange=function(e){var n=t.props,r=n.guild,a=n.integration;u.default.updateIntegration(r.id,a.id,a.expire_behavior,parseInt(e.value),a.enable_emoticons)},t.handleSync=function(){var e=t.props,n=e.guild,r=e.integration;u.default.syncIntegration(n.id,r.id)},t.handleShowRole=function(){var e=t.props.integration;u.default.setSection(C.GuildSettingsSections.ROLES),u.default.selectRole(e.role_id)},t.handleToggleEmotes=function(e){var n=t.props,r=n.guild,a=n.integration;u.default.updateIntegration(r.id,a.id,a.expire_behavior,a.expire_grace_period,e.currentTarget.checked)},t}w(t,e);var n=t.prototype;return n.renderTwitchEmoticons=function(e){var t=this.props,n=t.guild,r=t.integration,l=null,i=f.default.getGuildEmoji(n.id);if(r.enable_emoticons&&i){var u=Object.values(i).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(function(e){return e.roles&&e.roles.includes(r.role_id)}).map(function(e,t){return L(I.default,{text:e.name},t,function(t){return a.createElement("img",D({alt:A.default.Messages.IMG_ALT_EMOJI.format({name:e.name}),key:e.name,draggable:!1,className:"emoji jumboable",src:O.default.getEmojiURL({id:e.id,animated:e.animated})},t))})});u.length>0&&(l=L("div",{className:(0,o.default)(P.default.twitchEmojis,M.default.marginTop8)},void 0,u))}return L("div",{},void 0,L(T.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),L(_.default,{className:(0,o.default)(P.default.emojiSync,M.default.marginBottom8)},void 0,L(_.default,{align:_.default.Align.CENTER},void 0,L(T.FormText,{},void 0,A.default.Messages.ENABLE_TWITCH_EMOJI_SYNC)),L(_.default.Child,{grow:0,shrink:0},void 0,L(S.default,{id:"enable_emoticons",value:r.enable_emoticons,onChange:this.handleToggleEmotes,disabled:r.syncing,fill:e.color}))),l)},n.renderSyncDetails=function(e,t){var n,r,a=this,i=this.props,u=i.guild,s=i.integration,d=u.getRole(s.role_id);return n=null!=d?L(v.default,{className:P.default.syncedRoleLink,onClick:this.handleShowRole},void 0,d.name):A.default.Messages.NONE,r=s.revoked?A.default.Messages.SYNC_REVOKED.format({user:s.user,platformName:c.default.get(s.type).name}):A.default.Messages.LAST_SYNC.format({datetime:(0,l.default)(s.synced_at).calendar()}),L(_.default,{},void 0,L(_.default.Child,{basis:"50%"},void 0,L(T.FormTitle,{className:M.default.marginBottom8},void 0,A.default.Messages.FORM_LABEL_SYNCED_ROLE),L(T.FormText,{},void 0,n)),L(_.default.Child,{basis:"50%"},void 0,L("div",{className:P.default.syncWrapper},void 0,L(T.FormTitle,{className:M.default.marginBottom8},void 0,e),L(I.default,{text:A.default.Messages.FORCE_SYNC},void 0,function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return L("button",{className:(0,o.default)(P.default.forceSync,s.syncing?P.default.forceSyncSyncing:null),disabled:s.syncing||s.revoked,onClick:a.handleSync,onMouseEnter:t,onMouseLeave:n})}),")}"),L(T.FormText,{},void 0,t.format({subscribers:s.subscriber_count})),L(T.FormText,{type:T.FormTextTypes.DESCRIPTION},void 0,r)))},n.renderExpireToggles=function(e){var t=this.props.integration;return L(_.default,{},void 0,L(_.default.Child,{basis:"50%"},void 0,L(T.FormTitle,{className:M.default.marginBottom8},void 0,e),L(E.default,{value:""+t.expire_behavior,clearable:!1,searchable:!1,options:[{value:"0",label:A.default.Messages.REMOVE_SYNCED_ROLE},{value:"1",label:A.default.Messages.KICK_FROM_SERVER}],disabled:t.syncing,onChange:this.handleExpireBehaviorChange})),L(_.default.Child,{basis:"50%"},void 0,L(T.FormTitle,{className:M.default.marginBottom8},void 0,A.default.Messages.FORM_LABEL_EXPIRE_GRACE_PERIOD),L(E.default,{maxVisibleItems:5,value:""+t.expire_grace_period,clearable:!1,searchable:!1,options:[1,3,7,14,30].map(function(e){return{value:""+e,label:A.default.Messages.N_DAYS.format({days:e})}}),disabled:t.syncing,onChange:this.handleExpireGracePeriodChange})))},n.render=function(){var e,t,n,r,a,l,i,u=this.props,s=u.integration,d=u.theme,f=s.enabled,p=s.syncing,h=c.default.get(s.type);switch(s.type){case"youtube":e=s.account.name,t="youtube.com/channel/"+s.account.id,n=A.default.Messages.FORM_LABEL_MEMBERSHIP_EXPIRE_BEHAVIOR,r=A.default.Messages.FORM_LABEL_SYNCED_MEMBERS,a=A.default.Messages.NUM_MEMBERS,l=null;break;case"twitch":default:e=s.account.name,t="twitch.tv/"+s.account.name,n=A.default.Messages.FORM_LABEL_SUB_EXPIRE_BEHAVIOR,r=A.default.Messages.FORM_LABEL_SYNCED_SUBS,a=A.default.Messages.NUM_SUBSCRIBERS,l=this.renderTwitchEmoticons(h)}return f&&(i=L("div",{className:P.default.integrationBody},void 0,this.renderSyncDetails(r,a),L(T.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),this.renderExpireToggles(n),l)),L(g.default,{name:s.user.toString(),label:e,labelUrl:"//"+t,color:h.color,icon:h.icon.white,enabled:f,syncing:p,theme:d,handleSyncToggle:this.handleToggleEnabled},void 0,i)},t}(a.PureComponent);U.displayName="IntegrationItem";var G=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var r=t.prototype;return r.render=function(){var e,t=this.props,r=t.guild,a=t.integrations,l=t.theme;return null==r?null:(e=null==a?L(y.default,{className:M.default.marginTop40,type:y.default.Type.SPINNING_CIRCLE}):0===a.length?L(m.default,{theme:l,className:M.default.marginTop20},void 0,L(m.EmptyStateImage,{darkSrc:n(6931),lightSrc:n(6932),width:294,height:192}),L(m.EmptyStateText,{note:A.default.Messages.NO_INTEGRATIONS.format({onConnect:this.handleConnect})},void 0,A.default.Messages.NO_INTEGRATIONS_LABEL)):a.map(function(e,t){return L(U,{integration:e,guild:r,theme:l},t)}),L(T.FormSection,{tag:T.FormTitleTags.H2,title:A.default.Messages.INTEGRATIONS},void 0,L(T.FormText,{type:T.FormTextTypes.DESCRIPTION},void 0,A.default.Messages.INTEGRATIONS_PRO_TIP.format({streamkitURL:"https://discordapp.com/streamkit"})),L(T.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),e))},r.handleConnect=function(){d.default.open(C.UserSettingsSections.CONNECTIONS)},t}(a.PureComponent);G.displayName="GuildSettingsIntegrations";var k=i.default.connectStores([p.default,h.default],function(){var e=p.default.getProps();return{guild:e.guild,integrations:e.integrations,theme:h.default.theme}})(G);t.default=k},7152:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(0)),o=h(n(8)),l=h(n(106)),i=v(n(457)),u=h(n(461)),s=h(n(24)),d=h(n(258)),c=n(1),f=h(n(4)),p=h(n(5989));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderHeader=function(){var e,t=this.props,n=t.color,r=t.name,a=t.label,i=t.labelUrl,c=t.icon,h=t.enabled,v=t.syncing,_=t.handleSyncToggle,g=t.children,E=i&&a?m(l.default,{href:"//"+i,className:"url"},void 0,m(d.default,{className:p.default.headerText,type:d.default.Types.DESCRIPTION},void 0,a)):null;return m(s.default,{className:(0,o.default)(p.default.header,(e={},e[p.default.headerSimple]=null==g,e)),justify:s.default.Justify.BETWEEN,style:{backgroundColor:n}},void 0,m(s.default,{},void 0,m("img",{alt:"",className:p.default.headerIcon,src:c}),m("div",{},void 0,m(d.default,{className:p.default.headerText,type:d.default.Types.DEFAULT},void 0,r),E)),m(s.default,{align:s.default.Align.CENTER,grow:0},void 0,m(u.default,{color:n,value:h,disabled:v,onChange:_},void 0,m("span",{className:p.default.headerSync},void 0,f.default.Messages.SYNC))))},a.render=function(){var e=this.props,t=e.children,n=e.theme;return m(i.default,{className:p.default.integration,type:i.Types.CUSTOM,style:{backgroundColor:n===c.ThemeTypes.DARK?c.Colors.PRIMARY_DARK_700:c.Colors.PRIMARY_DARK_100}},void 0,this.renderHeader(),m("div",{},void 0,t))},r}(a.PureComponent);_.displayName="Integration",_.defaultProps={name:"Twitch",color:c.Colors.TWITCH,icon:null};var g=_;t.default=g},7153:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(6515)),o=u(n(97)),l=u(n(25)),i=u(n(6933));function u(e){return e&&e.__esModule?e:{default:e}}var s=r.default.connectStores([a.default,l.default,o.default],function(){var e=a.default.getProps(),t=e.invites;return{guild:e.guild,invites:t,showChannel:!0,hide:o.default.hideInstantInvites,theme:l.default.theme}})(i.default);t.default=s},7154:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=j(n(0)),o=B(n(8)),l=B(n(471)),i=B(n(6)),u=B(n(3)),s=n(35),d=B(n(334)),c=B(n(192)),f=B(n(6934)),p=j(n(6556)),h=B(n(275)),v=B(n(53)),m=B(n(6515)),_=B(n(64)),g=B(n(97)),E=B(n(25)),y=B(n(11)),S=B(n(106)),I=B(n(932)),T=B(n(24)),O=B(n(42)),N=B(n(6593)),C=B(n(65)),A=n(136),M=B(n(328)),P=B(n(981)),R=B(n(6768)),b=n(6546),L=B(n(459)),D=n(1),w=B(n(4)),U=B(n(5927)),G=B(n(5925)),k=B(n(455)),F=B(n(5992));function B(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Y="quick-roles--select",W=[],z=H(I.default,{}),K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._isMounted=!1,t.state={overflowShown:!1},t.showOverflow=function(e){var n=t.props,r=n.guild,o=n.user;t.setState({overflowShown:!0}),(0,s.openContextMenu)(e,function(e){return a.createElement(L.default,V({type:D.ContextMenuTypes.USER_GUILD_MEMBERS,user:o,guildId:r.id,channelId:r.id},e))},{onClose:t.handleOverflowClose})},t.handleOverflowClose=function(){t._isMounted&&t.setState({overflowShown:!1})},t}x(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0},n.componentWillUnmount=function(){this._isMounted=!1},n.renderOwnerHelpIcon=function(){var e=this.props,t=e.user,n=e.guild;return t.id!==n.ownerId?null:H(C.default,{text:w.default.Messages.MEMBER_LIST_SERVER_OWNER_HELP},void 0,function(e){return a.createElement(O.default,V({name:O.default.Names.CROWN,className:F.default.ownerHelpIcon},e))})},n.render=function(){var e=this.props,t=e.user,n=e.member,r=e.streamerMode,a=e.guild,l=this.state.overflowShown,i={color:n.colorString};return H(T.default,{className:(0,o.default)(F.default.member,G.default.card,{active:l}),align:T.default.Align.CENTER,onContextMenu:this.showOverflow},void 0,H(M.default,{className:F.default.avatar,src:t.getAvatarURL(),"aria-label":t.username,size:M.default.Sizes.SIZE_40}),H(T.default,{className:F.default.nameTag,direction:T.default.Direction.VERTICAL,grow:0},void 0,H(T.default,{align:T.default.Align.CENTER},void 0,H(A.FormText,{className:F.default.name,style:i},void 0,n.nick||t.toString()),t.bot?z:null,this.renderOwnerHelpIcon()),r?null:H(A.FormText,{className:F.default.tag},void 0,"@",t.tag)),H(T.default.Child,{className:F.default.roleWrapper},void 0,H("div",{},void 0,H(P.default,{user:t,guild:a,userRoles:n.roles,wrap:!1}))),H(T.default,{className:F.default.overflowButton,align:T.default.Align.CENTER,grow:0,onClick:this.showOverflow},void 0,H(O.default,{name:O.default.Names.OVERFLOW_MENU,className:F.default.overflowIcon,foreground:F.default.overflowIconFg})))},t}(a.PureComponent);K.displayName="Member";var $=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(t=e.call.apply(e,[this].concat(a))||this).state=(n=t.props.guild,{roleFilterQuery:"",searchQuery:"",autocompleter:new p.default(function(){return t.forceUpdate()},[p.AutocompleterResultTypes.USER],100,{userFilters:{guild:n.id,strict:!0}})}),t.handlePruneClick=function(){f.default.open(t.props.guild.id)},t.renderHeader=function(e){var n=t.state,r=n.roleFilterQuery,a=n.searchQuery,u=t.props,s=u.guild,d=u.selectedRoleId,c=u.memberCount,f={},p=(0,i.default)(s.roles).sortBy(function(e){return-e.position}).filter(function(e){return e.id===d&&(f.label=e.name),(0,l.default)(r.toLowerCase(),e.name.toLowerCase())}).map(function(e){return{value:e.id,color:e.colorString,children:e.name,selected:e.id===d}}).value(),h={query:r,onChange:t.handleRoleFilterQueryChange,onClear:t.handleRoleFilterQueryClear,placeholder:w.default.Messages.SEARCH_ROLES},v=new Intl.NumberFormat(w.default.getLocale()).format(0===a.length?c:e.length);return H(A.FormSection,{},void 0,H(A.FormTitle,{tag:A.FormTitleTags.H2},void 0,w.default.Messages.GUILD_SETTINGS_MEMBERS_SERVER_MEMBERS),H(T.default,{className:F.default.membersHeader,align:T.default.Align.CENTER,style:{height:20}},void 0,H(T.default.Child,{},void 0,H(A.FormText,{type:A.FormTextTypes.DESCRIPTION,className:F.default.membersCount},void 0,w.default.Messages.MEMBERS_HEADER.format({members:v}),t.renderPruneAction())),H(T.default,{align:T.default.Align.CENTER,grow:0},void 0,H(R.default,{popoutClassName:(0,o.default)(F.default.membersFilterPopout,U.default.elevationBorderLow),popoutId:Y,items:p,label:w.default.Messages.GUILD_SETTINGS_MEMBERS_DISPLAY_ROLE,value:f,onChange:t.handleRoleChange,searchProps:h,popoutProps:{preventInvert:!0,position:"bottom"}}),H(N.default,{className:F.default.searchBar,query:a,onChange:t.handleQueryChange,onClear:t.handleQueryClear}))),H(A.FormDivider,{className:k.default.marginTop20,style:{marginBottom:-1}}))},t.handleQueryChange=function(e){var n=t.props.guild;t.setState({searchQuery:e}),t.state.autocompleter.search(e,n.id)},t.handleQueryClear=function(){t.setState({searchQuery:""}),t.state.autocompleter.clear()},t.handleRoleFilterQueryChange=function(e){t.setState({roleFilterQuery:e})},t.handleRoleFilterQueryClear=function(){t.setState({roleFilterQuery:""})},t}x(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.roleFilterQuery!==t.roleFilterQuery&&c.default.rerender(Y)},n.componentWillUnmount=function(){this.state.autocompleter.destroy()},n.renderPruneAction=function(){return this.props.canPrune?H("span",{},void 0," — ",H(S.default,{onClick:this.handlePruneClick,className:F.default.pruneLink},void 0,w.default.Messages.PRUNE)):null},n.makeRoleFilter=function(){var e=this.props,t=e.guild,n=e.selectedRoleId;return function(e){var r=e.member;return n===t.id||-1!==r.roles.indexOf(n)}},n.render=function(){var e=this.props,t=e.guild,n=e.members,r=e.currentUser,a=e.streamerMode,o=e.selectedRoleId,l=this.state,u=l.autocompleter,s=l.searchQuery,d=[];return""===s?(0,i.default)(n).sortBy(function(e){var t=y.default.getUser(e.userId);return(null!=t?e.nick||t.username:"").toLocaleLowerCase()}).forEach(function(e){var n=y.default.getUser(e.userId);null==n||o!==t.id&&-1===e.roles.indexOf(o)||d.push(H(K,{currentUser:r,member:e,user:n,guild:t,streamerMode:a},e.userId))}):(0,i.default)(u.results).forEach(function(e){if(e.type===p.AutocompleterResultTypes.USER){var n=e.record,l=v.default.getMember(t.id,n.id);null!=l&&(o!==t.id&&-1===l.roles.indexOf(o)||d.push(H(K,{currentUser:r,member:l,user:n,guild:t,streamerMode:a},l.userId)))}}),H(b.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(d),elementHeight:72},void 0,d)},n.handleRoleChange=function(e){var t=e.value;d.default.selectRole(t)},t}(a.PureComponent);$.displayName="GuildSettingsMembers";var Q=u.default.connectStores([m.default,E.default,v.default,g.default,h.default],function(){var e=m.default.getProps(),t=e.guild,n=e.selectedRoleId;return{memberCount:null!=t&&h.default.getMemberCount(t.id)||0,guild:t,selectedRoleId:n,members:null!=t?v.default.getMembers(t.id):W,theme:E.default.theme,currentUser:y.default.getCurrentUser(),canPrune:null!=t&&_.default.can(D.Permissions.KICK_MEMBERS,t),streamerMode:g.default.enabled}})($);t.default=Q},7155:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(0)),o=O(n(8)),l=O(n(3)),i=O(n(334)),u=O(n(10)),s=O(n(6515)),d=O(n(19)),c=O(n(64)),f=O(n(97)),p=O(n(6525)),h=O(n(332)),v=O(n(261)),m=N(n(258)),_=n(66),g=n(6935),E=O(n(6536)),y=O(n(7156)),S=n(1),I=O(n(4)),T=O(n(455));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var M=C(E.default,{}),P=C(y.default,{}),R=function(e){var t,n;function r(t){var n;return A(n=e.call(this,t)||this).handleVerificationLevelChange=n.handleVerificationLevelChange.bind(A(n)),A(n).handleExplicitContentFilterChange=n.handleExplicitContentFilterChange.bind(A(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderVerificationLevelSection=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return C(v.default,{title:I.default.Messages.FORM_LABEL_VERIFICATION_LEVEL},void 0,C(m.default,{type:m.Types.DESCRIPTION,className:T.default.marginBottom20},void 0,I.default.Messages.FORM_HELP_VERIFICATION_LEVEL.format()),C(p.default,{value:n.verificationLevel,options:(0,g.generateVerificationLevelOptions)(),disabled:!t,onChange:this.handleVerificationLevelChange}))},a.renderExplicitContentFilter=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return C(v.default,{title:I.default.Messages.FORM_LABEL_EXPLICIT_CONTENT_FILTER},void 0,C(m.default,{type:m.Types.DESCRIPTION,className:T.default.marginBottom20},void 0,I.default.Messages.FORM_HELP_EXPLICIT_CONTENT_FILTER.format()),C(p.default,{value:n.explicitContentFilter,options:(0,g.generateContentFilterOptions)(),disabled:!t,onChange:this.handleExplicitContentFilterChange}))},a.render=function(){var e=this.props,t=e.hide,n=e.guild,r=e.currentUserId;if(t)return M;var a=!1;return r===n.ownerId&&(a=!0),C(v.default,{title:I.default.Messages.MODERATION,tag:_.Tags.H2},void 0,this.renderVerificationLevelSection(),C(h.default,{className:(0,o.default)(T.default.marginTop40,T.default.marginBottom40)}),this.renderExplicitContentFilter(),a&&C(h.default,{className:(0,o.default)(T.default.marginTop40,T.default.marginBottom40)}),a&&P)},a.handleVerificationLevelChange=function(e){var t=e.value;i.default.updateGuild({verificationLevel:t})},a.handleExplicitContentFilterChange=function(e){var t=e.value;i.default.updateGuild({explicitContentFilter:t})},r}(a.PureComponent);R.displayName="GuildSettingsModeration";var b=l.default.connectStores([s.default,d.default,u.default,c.default,f.default],function(){var e=s.default.getProps().guild,t=!1;return null!=e&&(t=c.default.can(S.Permissions.MANAGE_GUILD,e)),{currentUserId:u.default.getId(),canManageGuild:t,guild:e,hide:f.default.enabled}})(R);t.default=b},7156:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=m(n(3)),l=m(n(334)),i=m(n(329)),u=m(n(6515)),s=m(n(11)),d=_(n(21)),c=m(n(261)),f=_(n(258)),p=n(1),h=m(n(4)),v=m(n(455));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){var t,n;function r(t){var n;return E(n=e.call(this,t)||this).setMFAEnabled=n.setMFAEnabled.bind(E(n)),E(n).handleEnableMFA=n.handleEnableMFA.bind(E(n)),E(n).handleDisableMFA=n.handleDisableMFA.bind(E(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderEnableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return g(d.default,{disabled:!r,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.PRIMARY,onClick:this.handleEnableMFA},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_ENABLE)},a.renderDisableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return g(d.default,{disabled:!r,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.RED,onClick:this.handleDisableMFA},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_DISABLE)},a.render=function(){var e=this.props,t=e.currentUser,n=e.mfaLevel;return g(c.default,{title:h.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL},void 0,g(f.default,{type:f.Types.DESCRIPTION,className:v.default.marginBottom20},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_BODY.format()," ",t.mfaEnabled?null:h.default.Messages.GUILD_SECURITY_REQ_MFA_ENABLE.format({onClick:this.openUserAccountModal})),n===p.MFALevels.ELEVATED?this.renderDisableButton():this.renderEnableButton())},a.setMFAEnabled=function(e){var t=this.props.guild;l.default.updateMFALevel({guildId:t.id,level:e?p.MFALevels.ELEVATED:p.MFALevels.NONE,isEnabled:!e})},a.handleEnableMFA=function(){this.setMFAEnabled(!0)},a.handleDisableMFA=function(){this.setMFAEnabled(!1)},a.openUserAccountModal=function(){i.default.open(p.UserSettingsSections.ACCOUNT)},r}(a.PureComponent);y.displayName="MFASettings";var S=o.default.connectStores([s.default,u.default],function(){var e=u.default.getProps(),t=e.mfaLevel,n=e.guild;return{currentUser:s.default.getCurrentUser(),mfaLevel:t,guild:n}})(y);t.default=S},7157:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsOverviewNotice=void 0;var r,a=ee(n(0)),o=Z(n(8)),l=Z(n(6)),i=Z(n(3)),u=Z(n(334)),s=Z(n(30)),d=Z(n(6651)),c=Z(n(162)),f=Z(n(137)),p=n(184),h=n(330),v=Z(n(333)),m=Z(n(6544)),_=Z(n(7158)),g=Z(n(7159)),E=Z(n(14)),y=Z(n(6515)),S=Z(n(64)),I=Z(n(6608)),T=Z(n(11)),O=ee(n(21)),N=Z(n(24)),C=Z(n(6525)),A=Z(n(7160)),M=Z(n(460)),P=Z(n(852)),R=Z(n(487)),b=Z(n(138)),L=Z(n(65)),D=Z(n(262)),w=Z(n(261)),U=ee(n(258)),G=ee(n(66)),k=Z(n(6617)),F=n(265),B=n(6533),j=ee(n(88)),H=n(90),V=Z(n(183)),x=Z(n(6585)),Y=Z(n(6782)),W=Z(n(6550)),z=n(6705),K=Z(n(6568)),$=Z(n(6783)),Q=n(1),X=Z(n(4)),q=Z(n(455)),J=Z(n(5998));function Z(e){return e&&e.__esModule?e:{default:e}}function ee(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e){var t=e.label,n=e.channel,r=e.category,a=(0,B.getIconNameForChannel)(n),o=null!=r?(0,f.default)(r):null;return ne(k.default,{title:t,iconType:a,subtitle:o})}function ae(e){return{value:e.id,label:(0,f.default)(e),channel:e,category:E.default.getChannel(e.parent_id)}}re.displayName="renderChannelOption";var oe=i.default.connectStores([y.default],function(){var e=y.default.getProps(),t=e.guild,n=e.submitting,r=y.default.showPublicSuccessModal();return{guild:t,submitting:n,onReset:function(){null!=t&&u.default.init(t.id)},onSave:function(){null!=t&&(u.default.saveGuild(t.id,{name:t.name,region:t.region,icon:t.icon,splash:t.splash,afkChannelId:t.afkChannelId,afkTimeout:t.afkTimeout,systemChannelId:t.systemChannelId,verificationLevel:t.verificationLevel,defaultMessageNotifications:t.defaultMessageNotifications,explicitContentFilter:t.explicitContentFilter,description:t.description,banner:t.banner,systemChannelFlags:t.systemChannelFlags,features:t.features}),r&&(0,F.openModal)(function(e){return a.createElement(g.default,e)}))}}})(K.default);t.GuildSettingsOverviewNotice=oe;var le=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleGuildPrivacyTypeChange=function(e){var n=e.value,r=t.props.guild,o=new Set(r.features);n!==Q.GuildPrivacyTypes.PUBLIC||r.hasFeature(Q.GuildFeatures.PUBLIC)?n===Q.GuildPrivacyTypes.PRIVATE&&r.hasFeature(Q.GuildFeatures.PUBLIC)&&(o.delete(Q.GuildFeatures.PUBLIC),u.default.updateGuild({features:o})):(0,F.openModal)(function(e){return a.createElement(_.default,e)})},t.handleShowJoinsChange=function(e){var n=e.currentTarget;return t.handleSystemChannelFlagsChange(Q.SystemChannelFlags.SUPPRESS_JOIN_NOTIFICATIONS,!n.checked)},t.handleShowSubscriptionsChange=function(e){var n=e.currentTarget;return t.handleSystemChannelFlagsChange(Q.SystemChannelFlags.SUPPRESS_PREMIUM_SUBSCRIPTIONS,!n.checked)},t.handleRegionSelectorClick=function(){var e=t.props.regions;if(null!=e){var n=e.filter(function(e){return!e.deprecated});s.default.push(function(e){return a.createElement(z.RegionSelectModal,te({regions:n,onChange:t.handleRegionChange},e))})}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){null==this.props.regions&&d.default.fetchRegions(this.props.guild.id)},i.componentDidUpdate=function(e){var t=this.props.guild;t.id!==e.guild.id&&(null==I.default.getRegions(t.id)&&d.default.fetchRegions(t.id))},i.handleNameChange=function(e){u.default.updateGuild({name:e})},i.handleIconChange=function(e){u.default.updateGuild({icon:e})},i.handleAFKChannelChange=function(e){var t=e.value;"NO_AFK_CHANNEL"===t&&(t=null),u.default.updateGuild({afkChannelId:t})},i.handleAFKTimeoutChange=function(e){var t=e.value;u.default.updateGuild({afkTimeout:parseInt(t,10)})},i.handleSystemChannelChange=function(e){var t=e.value;"NO_SYSTEM_CHANNEL"===t&&(t=null),u.default.updateGuild({systemChannelId:t})},i.handleDefaultMessageNotificationsChange=function(e){var t=e.value;u.default.updateGuild({defaultMessageNotifications:t})},i.handleSplashChange=function(e){u.default.updateGuild({splash:e})},i.handleRegionChange=function(e){var t=e.id;u.default.updateGuild({region:t})},i.handleSystemChannelFlagsChange=function(e,t){var n=this.props.guild,r=(0,H.setFlag)(n.systemChannelFlags,e,t);u.default.updateGuild({systemChannelFlags:r})},i.handleChangeDescription=function(e){u.default.updateGuild({description:e})},i.handleBannerChange=function(e){u.default.updateGuild({banner:e})},i.renderBaseSettings=function(){var e,t=this.props,n=t.guild,r=t.region,a=t.regions,l=t.errors,i=t.canManageGuild,u=null==a||0===a.length;return ne(N.default,{className:(0,o.default)(J.default.baseSection,q.default.marginBottom40)},void 0,ne(N.default,{basis:"50%",justify:N.default.Justify.BETWEEN},void 0,ne(N.default.Child,{wrap:!0},void 0,ne(Y.default,{showIcon:!0,name:n.name,icon:n.icon,onChange:this.handleIconChange,disabled:!i,makeURL:function(e){return null!=e&&j.default.getGuildIconURL({id:n.id,icon:e,format:(0,j.hasAnimatedGuildIcon)(n)?"gif":"jpg"})},className:(0,o.default)((e={},e[J.default.avatarUploader]=i,e[J.default.avatarUploaderDisabled]=!i,e)),avatarClassName:J.default.avatarUploaderInner}),null!=l.icon?ne("div",{className:J.default.iconError},void 0,l.icon):null),ne(N.default,{direction:N.default.Direction.VERTICAL,align:N.default.Align.START,style:{maxWidth:180}},void 0,ne(U.default,{type:U.Types.DESCRIPTION,className:q.default.marginBottom8},void 0,X.default.Messages.GUILD_SETTINGS_ICON_RECOMMEND),ne(O.default,{look:O.ButtonLooks.OUTLINED,color:O.ButtonColors.WHITE,disabled:!i,className:q.default.marginTop8},void 0,X.default.Messages.UPLOAD_IMAGE,ne(W.default,{onChange:this.handleIconChange,disabled:!i})))),ne(N.default.Child,{basis:"50%"},void 0,ne(D.default,{title:X.default.Messages.FORM_LABEL_SERVER_NAME,className:q.default.marginBottom20},void 0,ne(b.default,{type:"text",disabled:!i,value:n.name,maxLength:100,onChange:this.handleNameChange,error:l.name})),ne(D.default,{title:X.default.Messages.FORM_LABEL_SERVER_REGION},void 0,ne(A.default,{disabled:!i||u,region:r,onClick:this.handleRegionSelectorClick,error:null!=l.region}))))},i.renderGuildPrivacyTypeSection=function(){var e=this,t=this.props,n=t.currentUser,r=t.guild,l=t.publicDisabled,i=!n.isClaimed(),u=[{name:X.default.Messages.PRIVATE_STRING,value:Q.GuildPrivacyTypes.PRIVATE,desc:X.default.Messages.GUILD_PRIVACY_TYPE_PRIVATE_DESCRIPTION},{name:X.default.Messages.PUBLIC_STRING,value:Q.GuildPrivacyTypes.PUBLIC,desc:X.default.Messages.GUILD_PRIVACY_TYPE_PUBLIC_DESCRIPTION,disabled:i||l,tooltipText:i&&!l?X.default.Messages.TOOLTIP_GUILD_PRIVACY_TYPE_VERIFY:null}],s=r.hasFeature(Q.GuildFeatures.PUBLIC)?Q.GuildPrivacyTypes.PUBLIC:Q.GuildPrivacyTypes.PRIVATE,d=r.isOwner(n);return n.isStaff()?ne(w.default,{className:J.default.divider},void 0,ne(G.default,{},void 0,X.default.Messages.FORM_LABEL_GUILD_PRIVACY_TYPE_SETTINGS),ne(L.default,{text:d?null:X.default.Messages.TOOLTIP_GUILD_PRIVACY_TYPE_OWNER},void 0,function(t){return a.createElement("div",t,ne(C.default,{options:u,value:s,disabled:!d,onChange:e.handleGuildPrivacyTypeChange}))}),l?ne(U.default,{className:(0,o.default)(q.default.marginTop8,J.default.error),type:U.Types.DESCRIPTION},void 0,X.default.Messages.FORM_HELP_PUBLIC_DISABLED):null):null},i.renderAFKSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,a=null!=t.afkTimeout?""+t.afkTimeout:null,o=t.afkChannelId||"NO_AFK_CHANNEL",i=[{value:"60",label:X.default.Messages.DURATION_MINUTES.format({minutes:1})},{value:"300",label:X.default.Messages.DURATION_MINUTES.format({minutes:5})},{value:"900",label:X.default.Messages.DURATION_MINUTES.format({minutes:15})},{value:"1800",label:X.default.Messages.DURATION_MINUTES.format({minutes:30})},{value:"3600",label:X.default.Messages.DURATION_HOURS.format({hours:1})}],u=(0,l.default)(r).filter(function(e){return e.guild_id===t.id}).filter(function(e){return e.type===Q.ChannelTypes.GUILD_VOICE}).map(function(e){return ae(e)}).value();return u.unshift({value:"NO_AFK_CHANNEL",label:X.default.Messages.NO_AFK_CHANNEL}),ne(w.default,{className:J.default.divider},void 0,ne(N.default,{},void 0,ne(N.default.Child,{},void 0,ne(D.default,{title:X.default.Messages.FORM_LABEL_AFK_CHANNEL},void 0,ne(M.default,{value:o,clearable:!1,searchable:!1,options:u,disabled:!n,optionRenderer:re,valueRenderer:re,onChange:this.handleAFKChannelChange}))),ne(N.default.Child,{},void 0,ne(D.default,{title:X.default.Messages.FORM_LABEL_AFK_TIMEOUT},void 0,ne(M.default,{value:a,clearable:!1,searchable:!1,options:i,disabled:"NO_AFK_CHANNEL"===o||!n,onChange:this.handleAFKTimeoutChange})))),ne(U.default,{className:q.default.marginTop8,type:U.Types.DESCRIPTION},void 0,X.default.Messages.FORM_HELP_AFK_CHANNEL))},i.renderJoinNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,a=t.systemChannelId||"NO_SYSTEM_CHANNEL",i=(0,l.default)(r).filter(function(e){return e.getGuildId()===t.id}).filter(function(e){return e.type===Q.ChannelTypes.GUILD_TEXT}).map(function(e){return ae(e)}).value();return i.unshift({value:"NO_SYSTEM_CHANNEL",label:X.default.Messages.NO_SYSTEM_CHANNEL}),ne(w.default,{className:J.default.divider},void 0,ne(G.default,{},void 0,X.default.Messages.FORM_LABEL_SYSTEM_CHANNEL),ne(M.default,{value:a,clearable:!1,searchable:!1,options:i,disabled:!n,optionRenderer:re,valueRenderer:re,onChange:this.handleSystemChannelChange}),ne(U.default,{className:q.default.marginTop8,type:U.Types.DESCRIPTION},void 0,X.default.Messages.FORM_HELP_SYSTEM_CHANNEL),ne(P.default,{className:q.default.marginTop20,onChange:this.handleShowJoinsChange,value:!(0,H.hasFlag)(t.systemChannelFlags,Q.SystemChannelFlags.SUPPRESS_JOIN_NOTIFICATIONS),hideBorder:!0,disabled:!n||"NO_SYSTEM_CHANNEL"===a},void 0,X.default.Messages.FORM_HELP_SYSTEM_CHANNEL_JOIN_MESSAGES),ne(P.default,{className:(0,o.default)(q.default.marginReset,q.default.marginTop20),onChange:this.handleShowSubscriptionsChange,value:!(0,H.hasFlag)(t.systemChannelFlags,Q.SystemChannelFlags.SUPPRESS_PREMIUM_SUBSCRIPTIONS),hideBorder:!0,disabled:!n||"NO_SYSTEM_CHANNEL"===a},void 0,X.default.Messages.FORM_HELP_SYSTEM_CHANNEL_PREMIUM_SUBSCRIPTION_MESSAGES))},i.renderNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=[{name:X.default.Messages.FORM_LABEL_ALL_MESSAGES,value:Q.UserNotificationSettings.ALL_MESSAGES},{name:X.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:Q.UserNotificationSettings.ONLY_MENTIONS}];return ne(w.default,{className:J.default.divider},void 0,ne(G.default,{},void 0,X.default.Messages.FORM_LABEL_DEFAULT_NOTIFICATION_SETTINGS),ne(U.default,{type:U.Types.DESCRIPTION,className:q.default.marginBottom20},void 0,X.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_INTRO),ne(U.default,{type:U.Types.DESCRIPTION,className:q.default.marginBottom20},void 0,X.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_PROTIP.format({videoURL:"https://www.youtube.com/watch?v=zGl796352RI"})),ne(C.default,{options:r,value:t.defaultMessageNotifications,disabled:!n,onChange:this.handleDefaultMessageNotificationsChange}))},i.renderServerInviteBGSection=function(e){var t,n=this.props,r=n.guild,a=n.canManageGuild,l=!a||!e;return ne(w.default,{title:X.default.Messages.GUILD_SETTINGS_SERVER_INVITE_BACKGROUND,className:J.default.divider},void 0,ne(N.default,{},void 0,ne(N.default,{basis:"50%",direction:N.default.Direction.VERTICAL,align:N.default.Align.START},void 0,ne(U.default,{type:U.Types.DESCRIPTION,className:q.default.marginBottom8},void 0,X.default.Messages.GUILD_SETTINGS_SPLASH_RECOMMEND.format({articleURL:V.default.getArticleURL(Q.HelpdeskArticles.GUILD_BANNER_SPLASH)})),e?null:ne($.default,{guildId:r.id,className:q.default.marginBottom8,tier:1,locationSection:Q.AnalyticsSections.GUILD_SETTINGS_OVERVIEW}),ne(O.default,{disabled:l,look:O.ButtonLooks.OUTLINED,color:O.ButtonColors.PRIMARY,className:q.default.marginTop8},void 0,X.default.Messages.UPLOAD_BACKGROUND,ne(W.default,{disabled:l,onChange:this.handleSplashChange}))),ne(N.default.Child,{wrap:!0,basis:"50%"},void 0,ne(x.default,{avatar:r.splash,size:null,makeURL:function(e){return e&&j.default.getGuildSplashURL({id:r.id,splash:e})},disabled:l,onChange:this.handleSplashChange,hint:X.default.Messages.CHANGE_SPLASH,className:(0,o.default)((t={},t[J.default.avatarUploader]=a,t[J.default.avatarUploaderDisabled]=!a,t)),avatarClassName:J.default.avatarUploaderInnerSquare,hideSize:!0}))))},i.renderDescription=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.errors;return ne(D.default,{title:X.default.Messages.FORM_LABEL_SERVER_DESCRIPTION,className:J.default.divider},void 0,ne(U.default,{type:U.Types.DESCRIPTION,className:q.default.marginBottom8},void 0,X.default.Messages.FORM_HELP_SERVER_DESCRIPTION),ne(R.default,{disabled:!n,placeholder:X.default.Messages.SERVER_DESCIPTION_EMPTY,value:c.default.translateSurrogatesToInlineEmoji(t.description||""),onChange:this.handleChangeDescription,error:r.name,maxLength:120,className:q.default.marginTop8}))},i.renderBanner=function(e){var t,n=this.props,r=n.guild,a=n.canManageGuild,l=!a||!e;return ne(w.default,{title:X.default.Messages.FORM_LABEL_SERVER_BANNER,className:J.default.divider},void 0,ne(N.default,{},void 0,ne(N.default,{basis:"50%",direction:N.default.Direction.VERTICAL,align:N.default.Align.START},void 0,ne(U.default,{type:U.Types.DESCRIPTION,className:q.default.marginBottom8},void 0,X.default.Messages.FORM_HELP_SERVER_BANNER),ne(U.default,{type:U.Types.DESCRIPTION,className:q.default.marginBottom8},void 0,X.default.Messages.GUILD_SETTINGS_BANNER_RECOMMEND.format({articleURL:V.default.getArticleURL(Q.HelpdeskArticles.GUILD_BANNER_SPLASH)})),e?null:ne($.default,{guildId:r.id,className:q.default.marginBottom8,tier:2,locationSection:Q.AnalyticsSections.GUILD_SETTINGS_OVERVIEW}),ne(O.default,{disabled:l,look:O.default.Looks.OUTLINED,color:O.default.Colors.PRIMARY,className:q.default.marginTop8},void 0,X.default.Messages.UPLOAD_BACKGROUND,ne(W.default,{disabled:l,onChange:this.handleBannerChange}))),ne(N.default.Child,{wrap:!0,basis:"50%"},void 0,ne(x.default,{avatar:r.banner,size:null,makeURL:function(e){return e&&j.default.getGuildBannerURL({id:r.id,banner:e})},disabled:l,onChange:this.handleBannerChange,hint:X.default.Messages.CHANGE_BANNER,className:(0,o.default)((t={},t[J.default.avatarUploader]=a,t[J.default.avatarUploaderDisabled]=!a,t)),avatarClassName:J.default.avatarUploaderInnerSquare,hideSize:!0}))))},i.render=function(){var e=this.props,t=e.guild,n=e.showUpsells,r=t.hasFeature(Q.GuildFeatures.VERIFIED),a=t.hasFeature(Q.GuildFeatures.INVITE_SPLASH),o=r||t.hasFeature(Q.GuildFeatures.BANNER),l=[Q.GuildFeatures.VERIFIED,Q.GuildFeatures.DISCOVERABLE].some(function(e){return t.hasFeature(e)});return ne(w.default,{title:X.default.Messages.SERVER_OVERVIEW,tag:G.Tags.H2},void 0,this.renderBaseSettings(),this.renderGuildPrivacyTypeSection(),this.renderAFKSection(),this.renderJoinNotificationSection(),this.renderNotificationSection(),a||n?this.renderServerInviteBGSection(a):null,l&&this.renderDescription(),o||n?this.renderBanner(o):null)},r}(a.PureComponent);le.displayName="GuildSettingsOverview";var ie=(0,h.registerUserExperiment)({id:v.default.GUILD_PREMIUM_OVERVIEW_UPSELLS,title:"Guild Premium Overview Upsells",description:["Show upsell for banner and splash","Control: No upsells.","Treatment 1: Show upsell for banner and splash."],buckets:[p.ExperimentBuckets.CONTROL,p.ExperimentBuckets.TREATMENT_1]});function ue(e){var t=(0,m.default)(ie);return a.createElement(le,te({},e,{showUpsells:t===p.ExperimentBuckets.TREATMENT_1}))}ue.displayName="GuildSettingsOverviewWithUpsells";var se=i.default.connectStores([E.default,y.default,S.default,I.default,T.default],function(){var e=y.default.getProps(),t=e.guild,n=e.errors,r=e.submitting,a=e.publicDisabled,o=null!=t?I.default.getRegions(t.id):null,l={id:"unknown",name:X.default.Messages.UNKNOWN_REGION,vip:!1};null!=o&&null!=t&&(l=o.find(function(e){return e.id===t.region})||l);var i=((null!=t&&S.default.getGuildPermissions(t.id)||0)&Q.Permissions.MANAGE_GUILD)===Q.Permissions.MANAGE_GUILD;return{channels:E.default.getChannels(),canManageGuild:i,regions:o,region:l,guild:t,errors:n,submitting:r,publicDisabled:a,currentUser:T.default.getCurrentUser()}})(ue);t.default=se},7158:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=N(n(0)),l=n(3),i=O(n(334)),u=N(n(87)),s=O(n(6515)),d=O(n(19)),c=O(n(21)),f=O(n(6525)),p=O(n(460)),h=N(n(258)),v=O(n(66)),m=n(220),_=O(n(456)),g=O(n(257)),E=O(n(137)),y=n(6646),S=n(1),I=O(n(4)),T=O(n(5993));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e[e.STEP_1=0]="STEP_1",e[e.STEP_2=1]="STEP_2"}(a||(a={}));var A=[{name:I.default.Messages.ENABLE_PUBLIC_MODAL_VERIFICATION_LEVEL_DESCRIPTION,value:S.VerificationLevels.LOW}],M=[{name:I.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH,value:S.GuildExplicitContentFilterTypes.ALL_MEMBERS}],P=[{name:I.default.Messages.PUBLIC_GUILD_POLICY_ACCEPT,value:y.POLICY_ACCEPTED_STATES.ACCEPTED}],R=function(e){var t=e.guild,r=e.handleAcceptVerificationLevel,a=e.handleAcceptContentFilter,i=(0,l.useStateFromStores)([d.default],function(){return d.default.getGuild(t.id)},[t.id]),u=null!=i&&i.verificationLevel>S.VerificationLevels.NONE,s=(null==i?void 0:i.explicitContentFilter)===S.GuildExplicitContentFilterTypes.ALL_MEMBERS;return o.createElement(o.Fragment,null,C("div",{className:T.default.content},void 0,C("img",{alt:"",src:n(6780),width:60}),C(_.default,{size:_.default.Sizes.SIZE_24,className:T.default.header},void 0,I.default.Messages.ENABLE_PUBLIC_MODAL_HEADER_STEP_1),C(g.default,{color:g.default.Colors.CUSTOM,size:g.default.Sizes.SIZE_16,className:T.default.headerCaption},void 0,I.default.Messages.ENABLE_PUBLIC_MODAL_BODY_STEP_1)),C("div",{className:T.default.form},void 0,C(v.default,{},void 0,I.default.Messages.FORM_LABEL_VERIFICATION_LEVEL),C(h.default,{type:h.Types.DESCRIPTION,className:T.default.description},void 0,u?I.default.Messages.ENABLE_PUBLIC_MODAL_VERIFICATION_LEVEL_MET:I.default.Messages.ENABLE_PUBLIC_MODAL_VERIFICATION_LEVEL_HELP),C(f.default,{value:t.verificationLevel>S.VerificationLevels.NONE?S.VerificationLevels.LOW:S.VerificationLevels.NONE,options:A,onChange:r})),C("div",{className:T.default.form},void 0,C(v.default,{},void 0,I.default.Messages.FORM_LABEL_EXPLICIT_CONTENT_FILTER),C(h.default,{type:h.Types.DESCRIPTION,className:T.default.description},void 0,s?I.default.Messages.ENABLE_PUBLIC_MODAL_CONTENT_FILTER_MET:I.default.Messages.ENABLE_PUBLIC_MODAL_CONTENT_FILTER_HELP),C(f.default,{value:t.explicitContentFilter,options:M,onChange:a})))},b=function(e){var t=e.policyAccepted,r=e.handleAcceptPolicy,a=e.selectableChannels,l=e.handleRuleChannelChange,i=e.ruleChannel;return o.createElement(o.Fragment,null,C("div",{className:T.default.content},void 0,C("img",{alt:"",src:n(6780),width:60}),C(_.default,{size:_.default.Sizes.SIZE_24,className:T.default.header},void 0,I.default.Messages.ENABLE_PUBLIC_MODAL_HEADER_STEP_2),C(g.default,{color:g.default.Colors.CUSTOM,size:g.default.Sizes.SIZE_16,className:T.default.headerCaption},void 0,I.default.Messages.ENABLE_PUBLIC_MODAL_BODY_STEP_2)),C("div",{className:T.default.form},void 0,C(v.default,{},void 0,I.default.Messages.ENABLE_PUBLIC_MODAL_RULES_CHANNEL_TITLE),C(h.default,{type:h.Types.DESCRIPTION,className:T.default.description},void 0,I.default.Messages.ENABLE_PUBLIC_MODAL_RULES_CHANEL_HELP),C(p.default,{clearable:!1,searchable:!1,options:a,onChange:l,value:i})),C("div",{className:T.default.form},void 0,C(v.default,{},void 0,I.default.Messages.PUBLIC_GUILD_POLICY_TITLE),C(h.default,{type:h.Types.DESCRIPTION,className:T.default.description},void 0,I.default.Messages.PUBLIC_GUILD_POLICY_HELP),C(f.default,{value:t,options:P,onChange:r})))},L=function(e){var t=e.transitionState,n=e.onClose,r=o.useState(y.POLICY_ACCEPTED_STATES.UNACCEPTED),d=r[0],f=r[1],p=o.useState(a.STEP_1),h=p[0],v=p[1],_=o.useState(),g=_[0],O=_[1],N=(0,l.useStateFromStoresObject)([s.default],function(){return s.default.getProps()}).guild,A=(0,l.useStateFromStores)([u.default],function(){return null!=N?u.default.getChannels(N.id):null},[N]);if(null==N)return null;var M=[];A[u.GUILD_SELECTABLE_CHANNELS_KEY].forEach(function(e){var t=e.channel;t.type===S.ChannelTypes.GUILD_TEXT&&M.push({value:t.id,label:(0,E.default)(t,!0)})});var P=C(R,{guild:N,handleAcceptVerificationLevel:function(e){var t=e.value;N.verificationLevel<S.VerificationLevels.LOW&&i.default.updateGuild({verificationLevel:t})},handleAcceptContentFilter:function(e){var t=e.value;i.default.updateGuild({explicitContentFilter:t})}}),L=C(b,{policyAccepted:d,handleAcceptPolicy:function(e){var t=e.value;f(t)},selectableChannels:M,handleRuleChannelChange:function(e){var t=e.value;O(t)},ruleChannel:g}),D=h===a.STEP_1,w=!1;return w=D?N.explicitContentFilter===S.GuildExplicitContentFilterTypes.ALL_MEMBERS&&N.verificationLevel>S.VerificationLevels.NONE:d===y.POLICY_ACCEPTED_STATES.ACCEPTED&&null!=g,C(m.ModalRoot,{transitionState:t},void 0,C(m.ModalContent,{},void 0,D?P:L),C(m.ModalCloseButton,{onClick:n,className:T.default.closeButton}),C(m.ModalFooter,{},void 0,C(c.default,{type:"submit",onClick:function(){if(h!==a.STEP_1){var e=new Set(N.features);e.add(S.GuildFeatures.PUBLIC),i.default.updateGuild({features:e}),n()}else v(a.STEP_2)},color:c.default.Colors.GREEN,disabled:!w},void 0,D?I.default.Messages.NEXT:I.default.Messages.ACCEPT_PUBLIC_BUTTON),D?null:C(c.default,{look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY,onClick:function(){return v(a.STEP_1)}},void 0,I.default.Messages.BACK)))};L.displayName="EnablePublicModal";var D=L;t.default=D},7159:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(27)),l=v(n(42)),i=n(220),u=v(n(456)),s=v(n(257)),d=v(n(183)),c=n(6646),f=n(1),p=v(n(4)),h=v(n(5994));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.transitionState,r=e.onClose;return a.useEffect(function(){o.default.set(c.PUBLIC_SUCCESS_MODAL_SEEN_KEY,!0)},[]),m(i.ModalRoot,{transitionState:t},void 0,m(i.ModalContent,{className:h.default.background},void 0,m("div",{className:h.default.header},void 0,m("img",{alt:"",src:n(6936),width:200}),m(u.default,{size:u.default.Sizes.SIZE_24,className:h.default.title},void 0,p.default.Messages.PUBLIC_SUCCESS_MODAL_HEADER),m(s.default,{color:s.default.Colors.MUTED,size:s.default.Sizes.SIZE_16},void 0,p.default.Messages.PUBLIC_SUCCESS_MODAL_BODY),m(i.ModalCloseButton,{onClick:r,className:h.default.close})),m("div",{className:h.default.content},void 0,m("div",{className:h.default.item},void 0,m(l.default,{width:20,height:20,name:l.default.Names.MEGAPHONE,color:f.Colors.STATUS_GREEN,className:h.default.icon}),m(s.default,{size:s.default.Sizes.SIZE_16},void 0,p.default.Messages.PUBLIC_SUCCESS_MODAL_ANNOUNCEMENT_CHANNELS.format({helpdeskArticle:d.default.getArticleURL(f.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)}))),m("hr",{className:h.default.separator}),m("div",{className:h.default.item},void 0,m(l.default,{width:20,height:20,name:l.default.Names.LINK,color:f.Colors.BRAND,className:h.default.icon}),m(s.default,{size:s.default.Sizes.SIZE_16},void 0,p.default.Messages.PUBLIC_SUCCESS_MODAL_INVITE_LINKS)),m("hr",{className:h.default.separator}),m("div",{className:h.default.item},void 0,m(l.default,{width:20,height:20,name:l.default.Names.REPORT_FLAG,color:f.Colors.STATUS_YELLOW,className:h.default.icon}),m(s.default,{size:s.default.Sizes.SIZE_16},void 0,p.default.Messages.PUBLIC_SUCCESS_MODAL_MODERATOR_ROLE))),m("div",{className:h.default.content},void 0,m("div",{className:h.default.item},void 0,m(l.default,{width:20,height:20,name:l.default.Names.SEARCH,color:f.Colors.HYPESQUAD_HOUSE_2,className:h.default.icon}),m(s.default,{size:s.default.Sizes.SIZE_16},void 0,p.default.Messages.PUBLIC_SUCCESS_MODAL_DISCOVERY_ELIGIBILITY))),m(s.default,{className:h.default.footer,size:s.default.Sizes.SIZE_14},void 0,p.default.Messages.DISCOVERY_LEARN_MORE.format({helpdeskArticle:d.default.getArticleURL(f.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)}))))};_.displayName="PublicSuccessModal";var g=_;t.default=g},7160:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(0)),o=c(n(8)),l=f(n(21)),i=c(n(58)),u=c(n(24)),s=c(n(4)),d=c(n(5995));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,r,a=e.region;if("unknown"===a.id)r=n(6569);else{var l=a.id.replace(/^vip-/,"");try{r=n(6781)("./"+l+".png")}catch(e){r=n(6569)}}var i={backgroundImage:'url("'+r+'")'};return p("div",{className:(0,o.default)(d.default.flag,(t={},t[d.default.vip]=a.vip,t)),style:i})};h.displayName="RegionFlag";var v=function(e){var t=e.region.name.replace(/ \(VIP\)$/,"");return p("div",{className:d.default.name},void 0,t)};v.displayName="RegionName";var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleClick=function(){var e=n.props,t=e.onClick;e.disabled||t()},n.handleMouseLeave=function(){n.setState({hover:!1})},n.handleMouseEnter=function(){n.setState({hover:!0})},n.state={hover:!1},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.region,r=t.error,a=t.disabled,c=this.state.hover,f=l.ButtonColors.GREY;return a||(c?f=l.ButtonColors.BRAND:!0===r&&(f=l.ButtonColors.RED)),p(i.default,{className:(0,o.default)(d.default.container,(e={},e[d.default.hover]=c,e[d.default.disabled]=a,e[d.default.error]=r,e)),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,p(u.default,{className:d.default.layout},void 0,p(u.default,{className:d.default.input,align:u.default.Align.CENTER},void 0,p(u.default.Child,{grow:0,shrink:0},void 0,p(h,{region:n})),p(u.default.Child,{},void 0,p(v,{region:n}))),p(u.default,{shrink:1,grow:0,style:{margin:0}},void 0,p(l.default,{className:d.default.button,onClick:function(){},size:l.ButtonSizes.MIN,color:f,disabled:a,look:l.ButtonLooks.GHOST},void 0,s.default.Messages.CHANGE))))},r}(a.PureComponent);m.displayName="RegionSelector",m.defaultProps={disabled:!1};var _=m;t.default=_},7161:function(e,t,n){e.exports=n.p+"c9f51873ae719a6b4b8c6724362e999e.png"},7162:function(e,t,n){e.exports=n.p+"7beab7b17eaa9ff7ceed3e5b1af274c2.png"},7163:function(e,t,n){e.exports=n.p+"0113e92896135807e30f5de869074733.png"},7164:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},7165:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},7166:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},7167:function(e,t,n){e.exports=n.p+"7fa2adf98f26db34178bb30a63dabe8c.png"},7168:function(e,t,n){e.exports=n.p+"a92f116201fa7ff2b4acbb39f144ec60.png"},7169:function(e,t,n){e.exports=n.p+"716d569d0bca379a84578572c6efc7ac.png"},7170:function(e,t,n){e.exports=n.p+"f23c5c28c4429691f7c54af93876d661.png"},7171:function(e,t,n){e.exports=n.p+"3a79cdd1d4af225247f2ba574b97ae78.png"},7172:function(e,t,n){e.exports=n.p+"64f37efd5319b9b581557604864f042a.png"},7173:function(e,t,n){e.exports=n.p+"92cd1f9eabd48ec32dc2ecef617f706b.png"},7174:function(e,t,n){e.exports=n.p+"3a3ec02f3c9193e85bda10f5d2a42574.png"},7175:function(e,t,n){e.exports=n.p+"1d8d4e2b3fd0e542b6d37cbfa156d55e.png"},7176:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7177:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7178:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7179:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7180:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=k(n(8)),l=k(n(6)),i=n(157),u=k(n(3)),s=n(6563),d=k(n(6871)),c=k(n(6872)),f=k(n(53)),p=k(n(6515)),h=k(n(6875)),v=k(n(11)),m=k(n(58)),_=k(n(7181)),g=k(n(42)),E=k(n(7182)),y=k(n(458)),S=k(n(7183)),I=k(n(152)),T=k(n(182)),O=k(n(65)),N=k(n(6613)),C=n(136),A=k(n(900)),M=k(n(328)),P=k(n(183)),R=n(6534),b=n(190),L=k(n(865)),D=n(7077),w=n(1),U=k(n(4)),G=k(n(6002));function k(e){return e&&e.__esModule?e:{default:e}}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var H=(0,b.cssValueToNumber)(G.default.progressWithSubscriptionsMarginTop),V={tension:200,friction:20},x=j({},V,{clamp:!0}),Y=Object.freeze({OPEN:0,CLOSING:1,CLOSED:2}),W=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={closingState:Y.OPEN},t.handleCloseClick=function(){t.setState({closingState:Y.CLOSING})},t.handleFlyingAnimationComplete=function(){t.setState({closingState:Y.CLOSED})},t}B(t,e);var n=t.prototype;return n.shouldShow=function(e){void 0===e&&(e=this.props);var t=e,n=t.numUnlocked,r=t.numRequired;return!(n>=r)&&n/r>=.8},n.render=function(){var e=this,t=this.props,n=t.numUnlocked,r=t.numRequired,a=this.state.closingState===Y.CLOSED,l=this.state.closingState===Y.CLOSING;if(!this.shouldShow()||a)return null;var u=l||a?G.default.hidden:null,s=l?E.default.Stages.FLYING:E.default.Stages.HOVERING;return F(i.Spring,{native:!0,from:{opacity:0},to:{opacity:1},config:x},void 0,function(t){return F(i.animated.div,{className:G.default.tierClose,style:t},void 0,F(E.default,{className:G.default.tierCloseMechaWumpus,stage:s,onFlyingComplete:e.handleFlyingAnimationComplete}),F("div",{className:(0,o.default)(G.default.tierCloseHint,u)},void 0,U.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_CLOSE_HINT.format({numLeft:r-n})),F(m.default,{onClick:e.handleCloseClick,className:(0,o.default)(G.default.tierCloseClose,u)},void 0,F(g.default,{name:g.default.Names.CLOSE_CIRCLE,className:G.default.tierCloseCloseIcon})))})},t}(a.Component);W.displayName="TierCloseHint";var z=Object.freeze({HEADER_FILL:0,UNLOCKED_SLIDE:1}),K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={animationStage:z.HEADER_FILL},t.getAnimationConfig=function(e){switch(e){case"headerFill":return x;case"unlockedTranslateY":default:return V}},t.handleAnimationRest=function(){t.props.isAnimatedTo&&t.state.animationStage===z.HEADER_FILL&&t.setState({animationStage:z.UNLOCKED_SLIDE})},t.setRef=function(e){var n=t.props,r=n.onSetRef,a=n.tier;null!=r&&r(e,a)},t}B(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.isAnimatedTo||this.props.isAnimatedTo===e.isAnimatedTo||this.setState({animationStage:z.HEADER_FILL})},n.renderPerk=function(e,t){var n=(0,D.getPerkIcon)(e.icon,t),r=n.name,a=n.className;return F("div",{className:G.default.perk},e.title,F(_.default,{name:r,className:G.default.perkIcon,iconClassName:a,config:V}),F("div",{className:G.default.perkText},void 0,F("div",{className:G.default.perkTitle},void 0,e.title),F("div",{className:G.default.perkDescription},void 0,e.description)))},n.render=function(){var e=this,t=this.props,n=t.subscriptionCount,r=t.tier,l=t.isAnimatedTo,u=t.hasBottomMargin,s=w.PremiumGuildSubscriptionsRequired[r.tier],d=l&&n>=s,c=r.tier!==w.PremiumGuildTiers.NONE&&r.tier!==w.PremiumGuildTiers.TIER_1,f=F(W,{numUnlocked:n,numRequired:s});return F(i.Spring,{native:!0,from:{headerFill:0,unlockedTranslateY:50},to:{headerFill:d?100:0,unlockedTranslateY:this.state.animationStage===z.UNLOCKED_SLIDE?0:50},config:this.getAnimationConfig,onRest:this.handleAnimationRest},void 0,function(t){var n;return F("div",{className:(0,o.default)(G.default.tier,(n={},n[G.default.tierBottomMargin]=u,n))},r.tier,a.createElement("div",{className:d?G.default.tierHeaderUnlocked:G.default.tierHeaderLocked,ref:e.setRef},F(i.animated.div,{className:G.default.tierHeaderUnlockedBackground,style:{width:t.headerFill.interpolate(function(e){return e+"%"})}}),F("div",{className:G.default.tierHeaderContent},void 0,F(A.default,{tier:r.tier,className:G.default.tierIcon}),F("div",{className:G.default.tierTitle},void 0,r.title),d?F(i.animated.div,{style:{transform:t.unlockedTranslateY.interpolate(function(e){return"translate3d(0, "+e+"px, 0)"})},className:G.default.tierUnlocked},void 0,U.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_UNLOCKED):F(a.Fragment,{},void 0,F("div",{className:G.default.tierRequirement},void 0,U.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_TIER_REQUIREMENT.format({required:s})),F(g.default,{name:g.default.Names.LOCK_CLOSED,className:G.default.tierLock})),f)),F("div",{className:G.default.tierBody},void 0,c?F("div",{className:G.default.previousPerks},void 0,U.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_PREVIOUS_PERKS):null,F("div",{className:G.default.perks},void 0,r.perks.map(function(t){return e.renderPerk(t,d)}))))})},t}(a.Component);K.displayName="GuildPremiumTierPerksCard";var $=F(c.default,{}),Q=F(d.default,{}),X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).tierRefs={},t.defaultTierRef=a.createRef(),t.state={tierPositions:null,animatedTier:w.PremiumGuildTiers.NONE},t.setTierRef=function(e,n){t.tierRefs[n.tier]=e},t.handleAnimatedTier=function(e){t.setState({animatedTier:e.key})},t.renderSubscribersPopout=function(){return F(I.default,{className:G.default.subscribersPopout,track:!0},void 0,t.props.subscribers.map(function(e){return F("div",{className:G.default.subscribersPopoutUser},e.user.id,F(M.default,{src:e.user.getAvatarURL(),"aria-label":e.user.username,size:M.default.Sizes.SIZE_32,className:G.default.avatar}),F("div",{className:G.default.subscribersPopoutUsername},void 0,F(L.default,{user:e.user,nick:e.nick})))}))},t.renderMoreSubscribers=function(e,n,r){return F(y.default,{renderPopout:t.renderSubscribersPopout,position:y.default.Positions.BOTTOM,autoInvert:!1},r,function(t){return a.createElement("div",j({className:G.default.moreSubscribers},t),e)})},t.renderTier=function(e,n,r){return F(K,{subscriptionCount:t.getSubscriptionCount(),tier:e,onSetRef:t.setTierRef,isAnimatedTo:w.PremiumGuildSubscriptionsRequired[t.state.animatedTier]>=w.PremiumGuildSubscriptionsRequired[e.tier],hasBottomMargin:n!==r.length-1},e.tier)},t}B(t,e);var n=t.prototype;return n.componentDidMount=function(){this.measure(),(0,s.fetchPremiumSubscriptions)(this.props.guildId)},n.componentDidUpdate=function(){var e=this;null==this.state.tierPositions&&(Object.keys(this.tierRefs).some(function(t){return null==e.tierRefs[t]})||this.measure())},n.getSubscriptionCount=function(){var e=this.props.subscriptions;return null!=e?e.length:0},n.measure=function(){var e=this.props.subscriberCount,t=this.defaultTierRef.current;if(null!=t){var n=t.getBoundingClientRect().top,r={};for(var a in this.tierRefs){var o=this.tierRefs[a];if(null==o)return;var l=o.getBoundingClientRect().top-n+32-(e>0?H:0);r[a]=l}this.setState({tierPositions:r})}},n.renderHeader=function(){return F(a.Fragment,{},void 0,F(C.FormTitle,{tag:C.FormTitleTags.H2},void 0,U.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_TITLE),F(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:G.default.titleBlurb},void 0,U.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_BLURB.format({helpdeskArticle:P.default.getArticleURL(w.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})))},n.renderProgressBar=function(e){var t=this.state.tierPositions,n=this.getSubscriptionCount();if(null==t)return null;var r={numRequired:0,y:0,key:w.PremiumGuildTiers.NONE},a=e.map(function(e){return{numRequired:w.PremiumGuildSubscriptionsRequired[e.tier],name:(0,R.getTierName)(e.tier),y:t[e.tier],key:e.tier}});return F(S.default,{className:n>0?G.default.progressWithSubscriptions:G.default.progress,progress:n,tiers:[r].concat(a),initialAnimationDelay:500,onAnimatedTierMaker:this.handleAnimatedTier})},n.renderTierNone=function(){return a.createElement("div",{className:G.default.tierDefaultUnlocked,ref:this.defaultTierRef},F(C.FormText,{type:C.FormText.Types.LABEL_BOLD},void 0,U.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_TITLE_NONE),F(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:G.default.tierDefaultUnlockedDescription},void 0,U.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_DESCRIPTION_NONE))},n.renderSubscriber=function(e,t,n){return null==e?null:F(O.default,{text:F(L.default,{user:e.user,nick:e.nick}),"aria-label":e.nick||e.user.tag},n,function(n){return a.createElement(M.default,j({},n,{src:null!=e?e.user.getAvatarURL():null,className:(0,o.default)(G.default.avatar,t,null!=t?G.default.subscriberMask:null),size:M.default.Sizes.SIZE_32}))})},n.renderSubscribers=function(){var e=this.props,t=e.subscribers,n=e.subscriberCount;return a.createElement("div",{ref:this.defaultTierRef,className:G.default.subscribers},F(N.default,{users:t,renderUser:this.renderSubscriber,renderMoreUsers:this.renderMoreSubscribers,max:5}),F("div",{className:G.default.subscriberCount},void 0,U.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_COUNT_SUBSCRIBERS.format({count:n})))},n.renderContent=function(){var e=this.props,t=e.subscriptions,n=e.subscriberCount,r=(0,R.getTiers)();return null==t?F(T.default,{type:T.default.Type.SPINNING_CIRCLE}):a.createElement(a.Fragment,null,F("div",{className:G.default.content},void 0,this.renderProgressBar(r),F("div",{className:G.default.tiers},void 0,0===n?this.renderTierNone():this.renderSubscribers(),r.map(this.renderTier))),F("div",{className:G.default.divider}),$,Q)},n.render=function(){return F("div",{},void 0,this.renderHeader(),this.renderContent())},t}(a.Component);X.displayName="GuildSettingsPremiumStatus";var q=u.default.connectStores([p.default,v.default,h.default,f.default],function(){var e=p.default.getGuildId(),t=null!=e?h.default.getSubscriptionsForGuild(e):null,n=(0,l.default)(null!=t?t:[]).uniqBy(function(e){return e.userId}),r=n.map(function(t){return{user:v.default.getUser(t.userId),nick:f.default.getNick(e,t.userId)}}).filter(function(e){return null!=e.user}).value();return{guildId:e,subscriptions:t,subscribers:r,subscriberCount:n.size()}})(X);t.default=q},7181:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=n(157),i=s(n(42)),u=s(n(5999));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=(0,l.animated)(i.default),f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.name,r=e.iconClassName;return d("div",{className:(0,o.default)(u.default.crossfade,t)},void 0,d(l.Transition,{items:{name:n,iconClassName:r},keys:function(e){return e.name},initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},void 0,function(e){var t=e.name,n=e.iconClassName;return function(e){return d(c,{name:t,className:(0,o.default)(u.default.icon,n),style:e})}}))},r}(a.Component);f.displayName="CrossfadeIcon",f.Names=i.default.Names;var p=f;t.default=p},7182:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(6)),i=s(n(7765)),u=s(n(6e3));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){f(o,r,a,l,i,"next",e)}function i(e){f(o,r,a,l,i,"throw",e)}l(void 0)})}}var h=Object.freeze({HOVERING:0,FLYING:1}),v=Object.freeze({HOVERING:{Y_DURATION:1500,Y_VALUE:-5,Y_VALUE_MODIFIER:-1,FIRE_COUNT:10,FIRE_MIN_INTENSITY_FALLING:.8,FIRE_MAX_INTENSITY_FALLING:1,FIRE_MIN_INTENSITY_RISING:1,FIRE_MAX_INTENSITY_RISING:1.2},FALLING:{Y_VALUE:10,FIRE_COUNT:10,FIRE_VALUE:.2},STAGING:{DURATION:500,Y_VALUE:22,SHAKE_COUNT:10,SHAKE_INTENSITY:2,FIRE_COUNT:4,FIRE_MIN_INTENSITY:.6,FIRE_MAX_INTENSITY:1},FLYING:{DURATION:500,Y_VALUE:-1e3,Y_EASING:i.default.Easing.bezier(.46,.01,1,-.3),X_VALUE:200,X_EASING:i.default.Easing.bezier(.65,.05,1,.25),FIRE_COUNT:10,FIRE_MIN_INTENSITY:1.2,FIRE_MAX_INTENSITY:1.4,OPACITY_VALUE:0,OPACITY_DURATION_DIVIDEND:2}});function m(e,t,n,r){return i.default.sequence(l.default.times(t,function(a){return i.default.timing(e,{toValue:r(a),duration:n/t})}))}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).x=new i.default.Value(0),t.y=new i.default.Value(0),t.opacity=new i.default.Value(1),t.fireScale=new i.default.Value(1),t.currentAnimation=null,t.isUnmounted=!1,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.startAnimation()},a.componentWillUnmount=function(){this.isUnmounted=!0},a.componentDidUpdate=function(e){this.props.stage!==e.stage&&this.startAnimation()},a.startAnimation=function(){switch(null!=this.currentAnimation&&this.currentAnimation.stop(),this.props.stage){case h.HOVERING:return this.startHoverAnimate();case h.FLYING:return this.flyAnimate()}},a.resetAnimation=function(){this.y.setValue(0),this.x.setValue(0),this.opacity.setValue(1),this.fireScale.setValue(1)},a.startHoverAnimate=function(){this.resetAnimation(),this.hoverAnimate(v.HOVERING.Y_VALUE)},a.createFireAnimation=function(e,t,n,r){return m(this.fireScale,e,t,function(){return l.default.random(n,r)})},a.hoverAnimate=function(){var e=p(regeneratorRuntime.mark(function e(t){var n,r,a,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.stage===h.HOVERING&&!this.isUnmounted){e.next=2;break}return e.abrupt("return");case 2:return r=(n=t>1)?v.HOVERING.FIRE_MIN_INTENSITY_FALLING:v.HOVERING.FIRE_MIN_INTENSITY_RISING,a=n?v.HOVERING.FIRE_MAX_INTENSITY_FALLING:v.HOVERING.FIRE_MAX_INTENSITY_RISING,o=this.createFireAnimation(v.HOVERING.FIRE_COUNT,v.HOVERING.Y_DURATION,r,a),l=i.default.timing(this.y,{toValue:t,duration:v.HOVERING.Y_DURATION,easing:i.default.Easing.inOut(i.default.Easing.ease)}),this.currentAnimation=i.default.parallel([l,o]),e.next=10,this.currentAnimation.start();case 10:this.hoverAnimate(t*v.HOVERING.Y_VALUE_MODIFIER);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.createShakeAnimation=function(e,t,n){return m(this.x,e,t,function(e){return l.default.random(1,n)*(e%2==0?1:-1)})},a.flyAnimate=function(){var e=p(regeneratorRuntime.mark(function e(){var t,n,r,a,o,l,u,s,d,c,f,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.default.spring(this.y,{toValue:v.FALLING.Y_VALUE,overshootClamping:!0}),n=i.default.spring(this.fireScale,{toValue:v.FALLING.FIRE_VALUE,overshootClamping:!0}),r=i.default.parallel([t,n]),a=i.default.timing(this.y,{toValue:v.STAGING.Y_VALUE,duration:v.STAGING.DURATION}),o=this.createShakeAnimation(v.STAGING.SHAKE_COUNT,v.STAGING.DURATION,v.STAGING.SHAKE_INTENSITY),l=this.createFireAnimation(v.STAGING.FIRE_COUNT,v.STAGING.DURATION,v.STAGING.FIRE_MIN_INTENSITY,v.STAGING.FIRE_MAX_INTENSITY),u=i.default.parallel([a,o,l]),s=i.default.timing(this.y,{toValue:v.FLYING.Y_VALUE,duration:v.FLYING.DURATION,easing:v.FLYING.Y_EASING}),d=i.default.timing(this.x,{toValue:v.FLYING.X_VALUE,duration:v.FLYING.DURATION,easing:v.FLYING.X_EASING}),c=i.default.timing(this.opacity,{toValue:v.FLYING.OPACITY_VALUE,duration:v.FLYING.DURATION/v.FLYING.OPACITY_DURATION_DIVIDEND,delay:v.FLYING.DURATION/v.FLYING.OPACITY_DURATION_DIVIDEND}),f=this.createFireAnimation(v.FLYING.FIRE_COUNT,v.FLYING.DURATION,v.FLYING.FIRE_MIN_INTENSITY,v.FLYING.FIRE_MAX_INTENSITY),p=i.default.parallel([s,d,c,f]),this.currentAnimation=i.default.sequence([r,u,p]),e.next=15,this.currentAnimation.start();case 15:this.isUnmounted||null!=(h=this.props.onFlyingComplete)&&h();case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),a.getWumpusStyle=function(){return{transform:[{translateY:this.y.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})},{translateX:this.x.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:this.opacity}},a.getFireStyle=function(){return{transform:[{scale:this.fireScale}]}},a.render=function(){var e=this.props,t=e.className,n=e.style;return d(i.default.div,{className:(0,o.default)(u.default.animation,t),style:c({},n,this.getWumpusStyle())},void 0,d("div",{className:u.default.fireTopWrapper},void 0,d(i.default.div,{className:u.default.fire,style:this.getFireStyle()})),d("div",{className:u.default.fireBottomWrapper},void 0,d(i.default.div,{className:u.default.fire,style:this.getFireStyle()})),d("div",{className:u.default.wumpus}))},r}(a.Component);_.displayName="MechaWumpusFlying",_.Stages=h;var g=_;t.default=g},7183:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(0)),o=p(n(8)),l=n(157),i=p(n(74)),u=n(190),s=p(n(42)),d=h(n(65)),c=p(n(4)),f=p(n(6001));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=(0,u.cssValueToNumber)(f.default.progressBarWidth),g=(0,u.cssValueToNumber)(f.default.tierMarkerSize),E=20,y={tension:140,friction:30},S={tension:800,friction:20},I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={showForegroundTooltip:!1,foregroundTooltipY:0,tierMarkerActive:0,finishedInitialAnimation:!1},t.foregroundTooltipElementRef=a.createRef(),t.tierMarkerMaskId=i.default.v4(),t.handleForegroundMouseEnter=function(e){t.setState({showForegroundTooltip:!0}),t.handleForegroundMouseMove(e)},t.handleForegroundMouseMove=function(e){if(e.target instanceof Element){var n=e.target.getBoundingClientRect(),r=e.clientY-n.top;r!==t.state.foregroundTooltipY&&t.setState({foregroundTooltipY:r})}},t.handleForegroundMouseLeave=function(){t.setState({showForegroundTooltip:!1})},t.handleForegroundFrame=function(e){for(var n=e.height,r=t.props,a=r.tiers,o=r.progress,l=r.onAnimatedTierMaker,i=t.state.tierMarkerActive,u=a.length-1;u>0;u--){var s=a[u],d=i===u;if(n+E>=s.y&&o>=s.numRequired)return void(d||(t.setState({tierMarkerActive:u}),null!=l&&l(s)))}},t.handleFinishedInitialAnimation=function(){t.setState({finishedInitialAnimation:!0})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.getTotalHeight=function(){var e=this.props.tiers;return e[e.length-1].y+g/2},u.getProgressHeight=function(e){var t=this.props,n=t.tiers,r=t.progress,a=n[e],o=n[e+1];if(null==o||r===a.numRequired)return a.y;var l=o.y-a.y,i=o.numRequired-a.numRequired,u=(r-a.numRequired)/i*l;return a.y+u},u.getCurrentTierIndex=function(){for(var e=this.props,t=e.tiers,n=e.progress,r=t.length-1;r>0;r--)if(n>=t[r].numRequired)return r;return 0},u.renderForegroundTooltip=function(){var e=this.props,t=e.progress,n=e.tiers,r=this.state,a=r.showForegroundTooltip,o=r.foregroundTooltipY;if(!a||null==this.foregroundTooltipElementRef.current)return null;var l=n[this.getCurrentTierIndex()+1],i=null!=l?l.numRequired:null,u=null!=i?i-t:null;return m(d.TooltipLayer,{targetElementRef:this.foregroundTooltipElementRef,position:d.default.Positions.RIGHT,color:d.default.Colors.BLACK,tooltipClassName:f.default.foregroundTooltip},o,m("div",{},void 0,c.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NUM_SUBSCRIPTIONS.format({numSubscriptions:t})),null!=u&&null!=l?m("div",{className:f.default.tooltipMuted},void 0,c.default.Messages.PREMIUM_GUILD_SETTINGS_MEMBERS_SUBSCRIBED_NEEDED.format({number:u,tier:l.name})):null)},u.renderTierMarkerTooltip=function(e){var t=this.props.progress;if(null==e.name)return null;var n=Math.min(t,e.numRequired);return m("div",{className:f.default.tierTooltip},void 0,m("div",{},void 0,e.name),m("div",{},void 0,c.default.Messages.PREMIUM_GUILD_SETTINGS_X_OF_Y_SUBSCRIPTIONS.format({subscribers:n,numRequired:e.numRequired})))},u.renderTierMarker=function(e,t,n){var r,o=this.props,i=o.progress,u=o.tiers[n],c=i>=e.numRequired,p=null!=u&&e.numRequired===u.numRequired,h=0===e.numRequired;r=h?f.default.tierDefault:p?f.default.tierCurrent:c?f.default.tierAccomplished:f.default.tierInProgress;var _=h?0:g/2,E=e.y-_,y=this.state.tierMarkerActive===t,I=!h&&p&&y;return m(d.default,{text:this.renderTierMarkerTooltip(e),position:d.default.Positions.RIGHT,"aria-label":e.name||""},e.key,function(e){return m(l.Spring,{native:!0,from:{scale:1},to:{scale:I?1.625:1},config:S},void 0,function(t){return a.createElement(l.animated.div,v({},e,{className:r,style:{top:E,transform:t.scale.interpolate(function(e){return"scale("+e+")"})}}),I&&m(s.default,{className:f.default.currentTierIcon,name:s.default.Names.CHECKMARK}))})})},u.renderProgressMask=function(e){var t=this.props.tiers;return m("mask",{id:""+this.tierMarkerMaskId},void 0,m("rect",{x:"0",y:"0",width:_,height:e,fill:"white"}),t.map(function(e){return m("circle",{cx:_/2,cy:e.y,r:_/2,fill:"black"},e.key)}))},u.renderProgressBar=function(e,t){var n=this,r=this.getProgressHeight(t),a=this.state,o=a.finishedInitialAnimation,i=a.showForegroundTooltip;return m("g",{mask:"url(#"+this.tierMarkerMaskId+")"},void 0,m("rect",{className:f.default.background,height:e,fill:"currentColor"}),m(l.Spring,{native:!0,from:{height:0},to:{height:r},config:y,delay:o?0:this.props.initialAnimationDelay,onFrame:this.handleForegroundFrame,onRest:o?null:this.handleFinishedInitialAnimation},void 0,function(e){return m(l.animated.rect,{className:f.default.foreground,height:e.height.interpolate(function(e){return Math.max(0,e)}),onMouseEnter:n.handleForegroundMouseEnter,onMouseLeave:n.handleForegroundMouseLeave,onMouseMove:i?n.handleForegroundMouseMove:null,fill:"currentColor"})}))},u.render=function(){var e=this,t=this.props,n=t.className,r=t.tiers,l=this.getCurrentTierIndex(),i=this.getTotalHeight();return m("div",{className:(0,o.default)(n,f.default.progressBar),style:{height:i}},void 0,m("svg",{viewBox:"0 0 "+_+" "+i,width:_,height:i},void 0,this.renderProgressMask(i),this.renderProgressBar(i,l)),a.createElement("div",{ref:this.foregroundTooltipElementRef,style:{top:this.state.foregroundTooltipY},className:f.default.foregroundTooltipPosition}),r.map(function(t,n){return e.renderTierMarker(t,n,l)}),this.renderForegroundTooltip())},r}(a.Component);I.displayName="PremiumGuildProgressBar",I.defaultProps={initialAnimationDelay:0};var T=I;t.default=T},7184:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsRolesNotice=void 0;var r,a=x(n(0)),o=V(n(8)),l=n(7766),i=V(n(3)),u=V(n(142)),s=V(n(139)),d=V(n(334)),c=n(7185),f=V(n(6761)),p=V(n(6515)),h=V(n(64)),v=V(n(25)),m=V(n(11)),_=V(n(6647)),g=V(n(106)),E=V(n(21)),y=x(n(457)),S=V(n(24)),I=V(n(42)),T=V(n(6937)),O=V(n(852)),N=V(n(6549)),C=V(n(138)),A=V(n(65)),M=V(n(332)),P=V(n(262)),R=V(n(261)),b=x(n(258)),L=x(n(66)),D=V(n(183)),w=V(n(73)),U=V(n(6756)),G=V(n(6938)),k=V(n(6939)),F=V(n(6568)),B=n(1),j=V(n(4)),H=V(n(6009));function V(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var K={paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"};function $(e,t){return W(A.default,{color:A.default.Colors.RED,delay:500,position:A.default.Positions.TOP,text:t},void 0,function(t){return a.createElement("div",z({className:H.default.notAllowedCursor},t),e)})}$.displayName="wrapTooltip";var Q=i.default.connectStores([p.default,f.default],function(){var e=p.default.getProps().guild,t=f.default.formState;return{guild:e,submitting:t===B.FormStates.SUBMITTING,onReset:function(){(0,c.init)()},onSave:function(){if(null!=e){var t=e.id,n=f.default.editedRoleIds.map(function(e){return f.default.getRole(e)}).filter(Boolean),r=f.default.getSortDeltas();(0,c.saveRoleSettings)(t,n,r)}}}})(F.default);t.GuildSettingsRolesNotice=Q;var X=(0,l.makeDragItem)("ITEM")(G.default),q=(0,l.makeDragList)("ITEM")(N.default),J=function(e){function t(t){var r;(r=e.call(this,t)||this).handleNameChange=function(e){var t=r.props.role.id;(0,c.updateRoleName)(t,e)},r.handleColorChange=function(e){var t=r.props.role,n=t.id;t.color===e||e===B.DEFAULT_ROLE_COLOR&&0===t.color||(e===B.DEFAULT_ROLE_COLOR&&(e=0),(0,c.updateRoleColor)(n,e))},r.handlePermissionChange=function(e,t){var n=r.props.role.id;(0,c.updateRolePermissions)(n,e,t)},r.handleClearRolePermissions=function(){(0,c.clearRolePermissions)(r.props.role.id)},r.handleDeleteRole=function(){var e=r.props,t=e.guild.id,a=e.role,o=a.id,l=a.name;u.default.show({title:j.default.Messages.SETTINGS_ROLES_DELETE_TITLE,body:j.default.Messages.SETTINGS_ROLES_DELETE_BODY.format({name:l}),cancelText:j.default.Messages.CANCEL,onConfirm:function(){return s.default.deleteRole(t,o)},iconUrl:n(6785)})},r.handlePermissionRender=function(e){var t,n=r.props,a=n.locked,o=n.guild,l=n.currentUser,i=n.everyone,u=n.role,s=w.default.getHighestRole(o,l.id);return a&&u===s?j.default.Messages.HELP_ROLE_LOCKED_MINE:a?j.default.Messages.HELP_ROLE_LOCKED:null==e&&i?j.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE:null==e||w.default.can(e,l,o)?null!=e&&!w.default.can(e,l,o,null,(t={},t[u.id]=z({},u,{permissions:u.permissions^u.permissions&e}),t))&&j.default.Messages.HELP_SINGULAR_PERMISSION:j.default.Messages.HELP_MISSING_PERMISSION};var a=h.default.can(B.Permissions.VIEW_GUILD_ANALYTICS,t.guild)&&_.default.hasGuildAnalytics(t.guild.id),o=w.default.generateGuildGeneralPermissionSpec();return a||(o=z({},o,{permissions:o.permissions.filter(function(e){return e.flag!==B.Permissions.VIEW_GUILD_ANALYTICS})})),r.generalSpec=o,r.textSpec=w.default.generateGuildTextPermissionSpec(),r.voiceSpec=w.default.generateGuildVoicePermissionSpec(t.guild.id),r}Y(t,e);var r=t.prototype;return r.handleSettingChange=function(e,t){var n=t.currentTarget.checked,r=this.props.role,a=r.hoist,o=r.mentionable,l=r.id;"hoist"===e?a=n:o=n,(0,c.toggleRoleSettings)(l,a,o)},r.renderName=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone;return W(P.default,{title:j.default.Messages.FORM_LABEL_ROLE_NAME,className:H.default.marginBottom20},void 0,W(C.default,{disabled:n||r,style:{color:t.colorString},value:t.name,onChange:this.handleNameChange}))},r.renderColorPicker=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone,a=W(U.default,{defaultColor:B.DEFAULT_ROLE_COLOR,colors:B.ROLE_COLORS,value:t.color,disabled:n||r,onChange:this.handleColorChange},t.id);return(n||r)&&(a=$(a,j.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE)),W(P.default,{title:j.default.Messages.FORM_LABEL_ROLE_COLOR,className:H.default.marginBottom40},void 0,a)},r.renderDisabledIndicator=function(e){return W(A.default,{text:e,position:A.default.Positions.TOP,color:A.default.Colors.RED},void 0,function(e){return a.createElement("span",e,W(I.default,{name:I.default.Names.NOT_ALLOWED,className:H.default.notAllowedIcon,width:18,height:18}))})},r.renderRoleSettings=function(){var e=this.props,t=e.role,n=e.locked,r=this.handlePermissionRender(),a=!(!n&&!r),l="string"==typeof r?this.renderDisabledIndicator(r):null,i=null!=l?H.default.rolePermissionTitleDisabled:null;return W(R.default,{className:H.default.marginBottom40},void 0,W(L.default,{tag:L.Tags.H5,className:H.default.marginBottom20},void 0,j.default.Messages.FORM_LABEL_ROLE_SETTINGS),W(O.default,{className:(0,o.default)(H.default.marginBottom20,{disabled:a}),disabled:a,onChange:this.handleSettingChange.bind(this,"hoist"),value:t.hoist},void 0,l,W("span",{className:i},void 0,j.default.Messages.FORM_LABEL_HOIST_DESCRIPTION)),W(O.default,{disabled:a,onChange:this.handleSettingChange.bind(this,"mentionable"),value:t.mentionable},void 0,l,W("span",{className:i},void 0,j.default.Messages.FORM_LABEL_MENTIONABLE.format())))},r.renderDeleteButton=function(){var e=this.props,t=e.locked,n=e.role,r=e.everyone;return t||n.managed||r?null:W(E.default,{className:H.default.button,look:E.default.Looks.OUTLINED,color:E.default.Colors.RED,onClick:this.handleDeleteRole},void 0,j.default.Messages.DELETE_ROLE.format({name:n.name}))},r.renderClearButton=function(){var e,t=this,n=this.props,r=n.locked,a=n.role,o=n.currentUser,l=n.guild;if(r)return null;var i=((e={})[a.id]=z({},a,{permissions:0}),e),u=w.default.computePermissions(o,l)!==w.default.computePermissions(o,l,null,i);return W(A.default,{text:u?j.default.Messages.HELP_CLEAR_PERMISSIONS:null,position:A.default.Positions.TOP,color:A.default.Colors.RED},void 0,function(e){var n=e.onMouseEnter,r=e.onMouseLeave;return W(E.default,{className:H.default.button,look:E.default.Looks.OUTLINED,color:E.default.Colors.PRIMARY,onClick:t.handleClearRolePermissions,onMouseEnter:n,onMouseLeave:r,disabled:0===a.permissions||u},void 0,j.default.Messages.CLEAR_ROLE_PERMISSIONS)})},r.renderManagedNote=function(){if(this.props.role.managed)return W(y.default,{type:y.Types.WARNING,className:H.default.managedNote},void 0,j.default.Messages.MANAGED_ROLE_EXPLAINATION)},r.render=function(){var e=this.props,t=e.locked,n=e.role.permissions;return W(R.default,{},void 0,this.renderManagedNote(),this.renderName(),this.renderColorPicker(),W(M.default,{className:H.default.marginBottom40}),this.renderRoleSettings(),W(k.default,{spec:this.generalSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:H.default.marginBottom40,permissionRender:this.handlePermissionRender}),W(k.default,{spec:this.textSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:H.default.marginBottom40,permissionRender:this.handlePermissionRender}),W(k.default,{spec:this.voiceSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,permissionRender:this.handlePermissionRender}),W("div",{className:H.default.buttonWrapper},void 0,this.renderClearButton(),this.renderDeleteButton()))},t}(a.PureComponent);J.displayName="GuildRoleSettings";var Z=function(){return W("div",{},void 0,W(N.default.Separator,{style:{marginTop:20,marginBottom:14}}),W(b.default,{type:b.Types.DESCRIPTION,className:H.default.marginBottom20},void 0,j.default.Messages.FORM_LABEL_ROLES_PRO_TIP_DESCRIPTION),W(b.default,{type:b.Types.DESCRIPTION},void 0,W(g.default,{href:D.default.getArticleURL(B.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,j.default.Messages.PERMISSION_HELPDESK)))};Z.displayName="GuildRoleInfo";var ee=W(Z,{}),te=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={dragging:null,roles:null},t.handleCreateRole=function(){s.default.createRole(t.props.guild.id)},t.handleSelectRole=function(e){d.default.selectRole(e)},t.handleDragStart=function(e){var n=t.props.roles;t.setState({dragging:e,roles:[].concat(n)})},t.handleDragLeave=function(){var e=t.props.roles;t.setState({roles:[].concat(e)})},t.handleDrop=function(){null!=t.state.roles&&((0,c.updateRoleSort)(t.state.roles.map(function(e){return e.id})),t.setState({dragging:null,roles:null}))},t.handleHover=function(e,n){if(null!=t.state.roles){var r=[].concat(t.state.roles),a=r.find(function(e){var t=e.id;return n===t}),o=r.find(function(t){var n=t.id;return e===n});if(null!=a&&null!=o){var l=r.indexOf(a),i=r.indexOf(o),u=i-l>0?1:0;r.splice(l,1),i=r.indexOf(o),r.splice(i+u,0,a),t.setState({roles:r})}}},t.handleCancel=function(){t.setState({dragging:null,roles:null})},t}Y(t,e);var r=t.prototype;return r.getSelectedRole=function(){return f.default.getRole(this.props.selectedRoleId)},r.renderRoleList=function(){var e=this.props,t=e.currentUser,n=e.guild,r=e.selectedRoleId,a=e.theme,o=this.props.roles,l=w.default.getHighestRole(n,t.id);return this.state.roles&&(o=this.state.roles),o.map(function(e){var o,i=!w.default.isRoleHigher(n,t.id,l,e),u=i&&e===l,s=e.id,d=e.colorString,c=e.name;return u?o=j.default.Messages.HELP_ROLE_LOCKED_MINE:i&&(o=j.default.Messages.HELP_ROLE_LOCKED),i||u||s===n.id?W(G.default,{theme:a,id:s,locked:i,lockTooltip:o,color:d},r+"-"+s,c):W(X,{theme:a,dragId:s,id:s,locked:i,lockTooltip:o,color:d},r+"-"+s,c)})},r.renderRoles=function(){var e=this.props,t=e.selectedRoleId,r=e.theme,a=this.state.dragging,o=this.props.theme===B.ThemeTypes.DARK?n(6940):n(6941);return W(T.default.Sidebar,{style:z({},K,{overflow:"hidden"}),scrollable:!0,theme:r},void 0,W(q,{onItemSelect:this.handleSelectRole,selectedItem:a||t,onDragStart:this.handleDragStart,onHover:this.handleHover,onDrop:this.handleDrop,onCancel:this.handleCancel,onDragLeave:this.handleDragLeave},void 0,W(N.default.Header,{},void 0,W(S.default,{className:H.default.sidebarHeader,onClick:this.handleCreateRole,justify:S.default.Justify.BETWEEN},void 0,j.default.Messages.ROLES,W("img",{alt:"",className:H.default.addRoleIcon,src:o}))),this.renderRoleList(),ee))},r.renderRoleSettings=function(){var e=this.props,t=e.guild,n=e.currentUser,r=this.getSelectedRole();if(null==r)return null;var a=w.default.getHighestRole(t,n.id),o=!w.default.isRoleHigher(t,n.id,a,r),l=null!=r&&r.id===t.id;return W(T.default.Content,{style:z({},K,{paddingRight:0}),grow:0},void 0,W(J,{guild:t,role:r,locked:o,everyone:l,currentUser:n}))},r.render=function(){return W(T.default,{},void 0,this.renderRoles(),this.renderRoleSettings())},t}(a.PureComponent);te.displayName="GuildSettingsRoles";var ne=i.default.connectStores([p.default,m.default,v.default,f.default],function(){var e=p.default.getProps(),t=e.guild,n=e.selectedRoleId;return{currentUser:m.default.getCurrentUser(),guild:t,selectedRoleId:n,roles:f.default.roles,theme:v.default.theme}})(te);t.default=ne},7185:function(e,t,n){"use strict";t.__esModule=!0,t.updateRoleSort=function(e){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SORT_UPDATE,roles:e})},t.init=function(){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_INIT})},t.updateRolePermissions=function(e,t,n){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS,id:e,flag:t,allow:n})},t.clearRolePermissions=function(e){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_CLEAR_PERMISSIONS,id:e})},t.updateRoleName=function(e,t){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_NAME,id:e,name:t})},t.updateRoleColor=function(e,t){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_COLOR,id:e,color:t})},t.toggleRoleSettings=function(e,t,n){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_SETTINGS,id:e,hoist:t,mentionable:n})},t.saveRoleSettings=function(e,t,n){return r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SUBMITTING}),new Promise(function(r){var o=function n(){if(null==t||0===t.length)return r();var o=t.pop();if(null==o||""===o.name)return n();a.default.updateRole(e,o.id,o.name,o.permissions,o.color,o.hoist,o.mentionable).then(n,n)};null!=n&&n.length>0?a.default.batchRoleUpdate(e,n).then(o,o):o()}).then(function(){return r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SAVE_SUCCESS})})};var r=l(n(2)),a=l(n(139)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},7186:function(e,t,n){e.exports=n.p+"959a1978f7be567071a1354a98b46ecd.svg"},7187:function(e,t,n){e.exports=n.p+"89c5bd0afd63d925ba6a8fcd18eeb530.svg"},7188:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PermissionOverrideTypes=void 0;var r,a=f(n(0)),o=c(n(24)),l=c(n(7189)),i=c(n(332)),u=f(n(258)),s=f(n(66)),d=c(n(455));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=l.default.Types;t.PermissionOverrideTypes=h;var v=p(i.default,{}),m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.value,n=e.onChange,r=e.disabled,a=e.hideBorder,i=e.children,c=e.className,f=e.note,h=e.style;return p(o.default,{style:h,className:c,direction:o.default.Direction.VERTICAL},void 0,p(o.default,{},void 0,p(o.default.Child,{},void 0,p(s.default,{className:d.default.marginReset,tag:s.Tags.H3,disabled:r},void 0,i)),p(o.default.Child,{grow:0,shrink:0},void 0,p(l.default,{value:t,onChange:n,disabled:r}))),f&&p(o.default.Child,{className:d.default.marginTop4},void 0,p(u.default,{type:u.Types.DESCRIPTION},void 0,f)),!a&&p(o.default.Child,{className:d.default.marginTop20},void 0,v))},r}(a.PureComponent);m.displayName="PermissionOverrideItem",m.defaultProps={disabled:!1,hideBorder:!1,className:d.default.marginBottom20},m.Types=l.default.Types;var _=m;t.default=_},7189:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PermissionOverrideTypes=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(99),l=s(n(6706)),i=s(n(4)),u=s(n(6007));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c={DENY:"DENY",PASSTHROUGH:"PASSTHROUGH",ALLOW:"ALLOW"};t.PermissionOverrideTypes=c;var f=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).keys=Object.keys(c),t.handleToggle=function(e){var n=t.props,r=n.value,a=n.onChange;r!==e&&a(e)},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this,t=this.props,r=t.value,a=t.disabled,s=this.keys.map(function(t){var a,l,s,f=r===t;switch(t){case c.DENY:s=i.default.Messages.PERMISSION_OVERRIDE_DENY,a=n(f?7190:7191),l=c.DENY;break;case c.ALLOW:s=i.default.Messages.PERMISSION_OVERRIDE_ALLOW,a=n(f?7192:7193),l=c.ALLOW;break;case c.PASSTHROUGH:default:s=i.default.Messages.PERMISSION_OVERRIDE_PASSTHROUGH,a=n(f?7194:7195),l=c.PASSTHROUGH}return{content:d("img",{alt:s,src:a,className:u.default.overrideItem}),className:(0,o.getClass)(u.default,l.toLowerCase(),f?"selected":""),onClick:e.handleToggle.bind(e,t)}});return d(l.default,{buttons:s,disabled:a})},a}(a.PureComponent);f.displayName="PermissionOverride",f.Types=c,f.defaultProps={value:c.PASSTHROUGH,disabled:!1};var p=f;t.default=p},7190:function(e,t,n){e.exports=n.p+"46eac82bb5b3ccd5049e8b3a96910327.svg"},7191:function(e,t,n){e.exports=n.p+"132b1ce1c085ff84256f3b16943bc782.svg"},7192:function(e,t,n){e.exports=n.p+"7b5b950896ff4214b058f76ba0e84a7b.svg"},7193:function(e,t,n){e.exports=n.p+"ffeba954d48c1ac993679084cee38746.svg"},7194:function(e,t,n){e.exports=n.p+"f081fef9b7d9610309e65b5282bd0ca9.svg"},7195:function(e,t,n){e.exports=n.p+"bbc9e257da833d4b7d22c82a1de8a0a0.svg"},7196:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsVanityURLNotice=void 0;var r,a=M(n(0)),o=A(n(3)),l=n(7197),i=A(n(6515)),u=A(n(6764)),s=A(n(19)),d=A(n(97)),c=A(n(21)),f=A(n(457)),p=A(n(24)),h=A(n(7198)),v=A(n(182)),m=A(n(71)),_=A(n(261)),g=M(n(258)),E=M(n(66)),y=n(193),S=A(n(6536)),I=A(n(6568)),T=A(n(6783)),O=n(1),N=A(n(4)),C=A(n(6011));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=o.default.connectStores([i.default,u.default],function(){var e=u.default.vanityURLCode,t=i.default.getGuildId();return{vanityURLCode:e,guildId:t,onReset:function(){(0,l.resetCode)()},onSave:function(){null!=t&&(0,l.saveCode)(t,e)}}})(I.default);t.GuildSettingsVanityURLNotice=R;var b=P(v.default,{}),L=P(S.default,{}),D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isRemoving:!1},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){(0,l.close)()},a.renderEditCard=function(e){var t=this.state.isRemoving,n=this.props,r=n.hasError,a=n.originalVanityURLCode,o=n.vanityURLCode,l=n.vanityURLUses;return null==o?b:P(f.default,{editable:!0,className:C.default.editVanityUrlCard},void 0,P(E.default,{},void 0,P(p.default,{},void 0,P("div",{className:C.default.formTitleField},void 0,N.default.Messages.INVITE_URL),o.length>0?P("div",{},void 0,N.default.Messages.VANITY_URL_USES.format({uses:l})):null)),P(h.default,{prefix:O.INVITE_ENDPOINT+"/",value:o,onChange:this.handleInviteCodeChange,maxLength:25,autoFocus:!0,error:r,disabled:e}),null!=a&&a.length>0?P(c.default,{className:C.default.removeVanityUrlButton,onClick:this.handleRemoveVanityURL,submitting:t,look:c.default.Looks.LINK,size:c.default.Sizes.MIN,color:c.default.Colors.RED},void 0,N.default.Messages.REMOVE_VANITY_URL):null)},a.renderInfo=function(){var e=this.props,t=e.hasError,n=e.originalVanityURLCode;if(t)return P(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.RED,className:C.default.marginTop20},void 0,N.default.Messages.CHANGE_VANITY_URL_ERROR);if(null!=n&&n.length>0){var r=(0,y.getInviteURL)(n);return P(g.default,{className:C.default.marginTop20,type:g.Types.LABEL_DESCRIPTOR},void 0,N.default.Messages.VANITY_URL_HELP_EXTENDED_LINK.format({urlText:r,urlValue:r}))}},a.handleRemoveVanityURL=function(){(0,l.setCode)("")},a.handleInviteCodeChange=function(e){(0,l.setCode)(e.replace(/ /g,"-"))},a.render=function(){var e=this.props,t=e.guild;if(e.hide)return L;var n=t.hasFeature(O.GuildFeatures.VANITY_URL);return P(_.default,{tag:E.Tags.H2,title:N.default.Messages.VANITY_URL},void 0,P(g.default,{type:g.Types.DESCRIPTION,className:C.default.marginBottom8},void 0,N.default.Messages.VANITY_URL_HELP),P(g.default,{type:g.Types.DESCRIPTION,className:C.default.marginBottom20},void 0,N.default.Messages.VANITY_URL_HELP_CONFLICT),n?null:P(T.default,{guildId:t.id,className:C.default.marginBottom20,tier:3,locationSection:O.AnalyticsSections.GUILD_SETTINGS_VANITY_URL}),this.renderEditCard(!n),this.renderInfo())},r}(a.PureComponent);D.displayName="GuildSettingsVanityURL";var w=o.default.connectStores([s.default,i.default,u.default,d.default],function(){return{vanityURLCode:u.default.vanityURLCode,vanityURLUses:u.default.vanityURLUses,originalVanityURLCode:u.default.originalVanityURLCode,guild:s.default.getGuild(i.default.getGuildId()),hasError:u.default.hasError(),hide:d.default.hideInstantInvites}})(D);t.default=w},7197:function(e,t,n){"use strict";t.__esModule=!0,t.close=function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_CLOSE})},t.resetCode=function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_RESET})},t.setCode=function(e){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_SET,code:e})},t.saveCode=function(e,t){return r.default.patch({url:o.Endpoints.GUILD_VANITY_URL(e),body:{code:t}}).then(function(e){var t=e.body,n=t.code,r=t.uses;a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:n,uses:r})},function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_ERROR})})};var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},7198:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(24)),i=s(n(455)),u=s(n(6010));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).setInputRef=function(e){n._inputRef=e},n.handleChange=function(e){(0,n.props.onChange)(e.currentTarget.value)},n.handleFocus=function(){n.setState({focused:!0})},n.handleBlur=function(){n.setState({focused:!1})},n.handleFocusInput=function(){null!=n._inputRef&&n._inputRef.focus()};var r=n.props,a=r.autoFocus,o=r.disabled;return n.state={focused:!o&&null!=a&&a},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.state.focused,n=this.props,r=n.value,s=n.placeholder,c=n.error,f=n.className,p=n.maxLength,h=n.autoFocus,v=n.prefix,m=n.disabled;return d(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.START,className:(0,o.default)(u.default.prefixInput,f,(e={},e[u.default.focused]=t,e[u.default.error]=c,e)),onClick:this.handleFocusInput},void 0,d(l.default.Child,{grow:0,className:u.default.prefixInputPrefix},void 0,v),d(l.default.Child,{className:i.default.marginReset},void 0,a.createElement("input",{ref:this.setInputRef,className:u.default.prefixInputInput,value:r,placeholder:s,maxLength:p,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:!m&&h,disabled:m})))},r}(a.PureComponent);c.displayName="PrefixInput",c.defaultProps={disabled:!1};var f=c;t.default=f},7199:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(6515)),o=l(n(6942));function l(e){return e&&e.__esModule?e:{default:e}}var i=r.default.connectStores([a.default],function(){return{guild:a.default.getProps().guild}})(o.default);t.default=i},7200:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(6)),a=i(n(3)),o=i(n(2)),l=i(n(6599));n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s,d={},c={};function f(e,t){return null==t&&(t="guild"),e+":"+t}function p(e){return null!=d[e]?d[e]:(d[e]={},d[e])}function h(e){var t=e.guildId,n=e.webhook;p(t)[n.id]=n}var v=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,i,d=a.prototype;return d.isFetching=function(e,t){return null!=c[f(e,t)]},d.getWebhooksForGuild=function(e){return r.default.values(p(e))},d.getWebhooksForChannel=function(e,t){return(0,r.default)(p(e)).values().filter(function(e){return e.channel_id===t}).value()},o=a,(l=[{key:"error",get:function(){return s}}])&&u(o.prototype,l),i&&u(o,i),a}(a.default.Store))(o.default,{WEBHOOKS_UPDATE:function(e){var t=e.guildId,n=e.channelId,a=e.webhooks,o=e.error;if(a){s=null;var i=[];n&&(i=(0,r.default)(p(t)).values().filter(function(e){return e.channel_id!==n}).value());var u=d[t]={};i.concat(a).forEach(function(e){return u[e.id]=e}),delete c[f(t,n)]}else null!=o?(s=o,delete c[f(t,n)]):null!=n&&null!=d[t]&&(s=null,l.default.fetchForChannel(t,n))},WEBHOOKS_FETCHING:function(e){var t=e.guildId,n=e.channelId;c[f(t,n)]=!0},WEBHOOK_CREATE:h,WEBHOOK_UPDATE:h,WEBHOOK_DELETE:function(e){var t=e.guildId,n=e.webhookId;delete p(t)[n]}});t.default=v},7201:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(0)),o=N(n(8)),l=N(n(142)),i=N(n(30)),u=N(n(6599)),s=N(n(21)),d=N(n(457)),c=N(n(24)),f=N(n(71)),p=C(n(258)),h=C(n(66)),v=N(n(328)),m=n(88),_=N(n(144)),g=N(n(6551)),E=N(n(155)),y=N(n(6786)),S=n(1),I=N(n(4)),T=N(n(455)),O=N(n(6014));function N(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var R=function(e){var t,n;function r(t){var n;return P(n=e.call(this,t)||this).handleShowModal=n.handleShowModal.bind(P(n)),P(n).handleRemoveWebhook=n.handleRemoveWebhook.bind(P(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var N=r.prototype;return N.handleRemoveWebhook=function(){var e=this.props.webhook,t=e.name;i.default.push(function(n){return a.createElement(E.default,A({},n,{header:I.default.Messages.WEBHOOK_DELETE_TITLE.format({name:t}),confirmText:I.default.Messages.WEBHOOK_DELETE,cancelText:I.default.Messages.WEBHOOK_CANCEL,onConfirm:function(){u.default.delete(e.guild_id,e.id).catch(function(){l.default.show({title:I.default.Messages.WEBHOOK_ERROR_DELETING_WEBHOOK,body:I.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}}),M(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,I.default.Messages.WEBHOOK_DELETE_BODY.format({name:t})))})},N.handleShowModal=function(){var e=this.props.webhook;i.default.push(function(t){return a.createElement(y.default,A({webhook:e},t))})},N.renderAvatar=function(){var e,t,n,r=this.props.webhook;return M(c.default.Child,{wrap:!0,grow:0},void 0,M(v.default,{src:(e=r,t=e.avatar,n=e.id,(0,m.getUserAvatarURL)({id:n,avatar:t,discriminator:S.NON_USER_BOT_DISCRIMINATOR})),"aria-hidden":!0,size:v.default.Sizes.SIZE_40}))},N.renderInfo=function(){var e=this.props.webhook,t=e.id,n=e.name,r=e.user;return M(c.default,{direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,M(h.default,{tag:h.Tags.H3,className:T.default.marginReset},void 0,n),M(p.default,{type:p.Types.DESCRIPTION},void 0,I.default.Messages.WEBHOOK_CREATED_ON.format({timestamp:_.default.extractTimestamp(t),username:r?r.username:""})))},N.renderEdit=function(){var e=this.props.theme;return M(c.default,{grow:0,align:c.default.Align.CENTER,justify:c.default.Justify.CENTER},void 0,M(s.default,{size:s.default.Sizes.SMALL,look:s.default.Looks.OUTLINED,color:e===S.ThemeTypes.DARK?s.default.Colors.WHITE:s.default.Colors.GREY,onClick:this.handleShowModal},void 0,I.default.Messages.EDIT))},N.render=function(){var e=this.props.className;return M(d.default,{editable:!0,className:(0,o.default)(O.default.webhookRow,e)},void 0,M(c.default,{},void 0,this.renderAvatar(),this.renderInfo(),this.renderEdit()),M(g.default,{className:O.default.removeWebhook,onClick:this.handleRemoveWebhook}))},r}(a.PureComponent);R.displayName="Webhook";var b=R;t.default=b},7202:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;c(n(0));var r,a=d(n(21)),o=d(n(24)),l=c(n(258)),i=d(n(183)),u=n(1),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.onCreate,n=e.disabled;return f(o.default,{},void 0,f(o.default.Child,{},void 0,f(l.default,{type:l.Types.DESCRIPTION},void 0,s.default.Messages.SETTINGS_WEBHOOKS_INTRO.format({articleURL:i.default.getArticleURL(u.HelpdeskArticles.WEBHOOKS_INTRODUCTION)}))),f(o.default.Child,{wrap:!0,grow:0},void 0,f(a.default,{disabled:n,onClick:t},void 0,s.default.Messages.WEBHOOK_CREATE)))};p.displayName="WebhooksIntro";var h=p;t.default=h},7203:function(e,t,n){e.exports=n.p+"97b178f31f0ec28b41387b78891d5b7a.svg"},7204:function(e,t,n){e.exports=n.p+"6fad2f9f24cb4f38202a81064da6f859.svg"},7205:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(0)),o=N(n(8)),l=N(n(6)),i=N(n(3)),u=N(n(334)),s=N(n(137)),d=N(n(14)),c=N(n(6515)),f=N(n(97)),p=N(n(24)),h=N(n(460)),v=N(n(852)),m=N(n(332)),_=N(n(262)),g=N(n(261)),E=C(n(258)),y=C(n(66)),S=N(n(6536)),I=N(n(6652)),T=N(n(4)),O=N(n(455));function N(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M="NO_INSTANT_INVITE",P=A(S.default,{}),R=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={internalEnabled:t.props.widgetEnabled,widgetEnabledProp:t.props.widgetEnabled},t.renderToggle=function(){return A(v.default,{className:O.default.marginBottom40,value:t.state.internalEnabled,onChange:t.handleToggleWidget},void 0,T.default.Messages.GUILD_SETTINGS_WIDGET_ENABLE_WIDGET)},t.handleToggleWidget=function(e){var n=t.props,r=n.guild,a=n.widgetChannelId;if(null!=r){var o=e.currentTarget.checked;t.setState({internalEnabled:o}),u.default.updateEmbed(r.id,o,a)}},t.handleChannelSelect=function(e){var n=e.value,r=t.props,a=r.guild,o=r.widgetEnabled;null!=a&&u.default.updateEmbed(a.id,o,n!==M?n:null)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.getDerivedStateFromProps=function(e,t){var n=e.widgetEnabled;return n!==t.widgetEnabledProp?{internalEnabled:n,widgetEnabledProp:n}:null};var i=a.prototype;return i.renderChannelSelect=function(e){var t=this.props,n=t.channels,r=t.widgetChannelId,a=(0,l.default)(n).filter(function(t){return t.guild_id===e.id}).map(function(e){return{value:e.id,label:(0,s.default)(e,!0)}}).value(),o={value:M,label:T.default.Messages.NO_INSTANT_INVITE};a.unshift(o);var i=r||o;return A(_.default,{title:T.default.Messages.FORM_LABEL_INSTANT_INVITE_CHANNEL},void 0,A(h.default,{className:O.default.marginBottom20,options:a,value:i,onChange:this.handleChannelSelect,searchable:!1,clearable:!1}),A(E.default,{type:E.Types.DESCRIPTION},void 0,T.default.Messages.FORM_HELP_INSTANT_INVITE_CHANNEL))},i.renderAPIInfo=function(e){var t=""+location.protocol+window.GLOBAL_ENV.API_ENDPOINT+"/guilds/"+e.id+"/widget.json";return A(p.default,{},void 0,A(p.default.Child,{},void 0,A(_.default,{title:T.default.Messages.FORM_LABEL_SERVER_ID},void 0,A(I.default,{value:e.id}))),A(p.default.Child,{},void 0,A(_.default,{title:T.default.Messages.FORM_LABEL_JSON_API},void 0,A(I.default,{value:t}))))},i.renderWidget=function(e){var t='<iframe src="'+(""+location.protocol+window.GLOBAL_ENV.WIDGET_ENDPOINT+"?id="+e.id+"&theme=dark")+'" width="350" height="500" allowtransparency="true" frameborder="0"></iframe>';return A(p.default,{direction:p.default.Direction.VERTICAL},void 0,A(y.default,{},void 0,T.default.Messages.FORM_LABEL_PREMADE_WIDGET),A(p.default,{},void 0,A(p.default.Child,{basis:"50%"},void 0,A(_.default,{},void 0,A(I.default,{value:t}),A(E.default,{type:E.Types.DESCRIPTION},void 0,T.default.Messages.GUILD_SETTINGS_WIDGET_EMBED_HELP.format()))),A(p.default.Child,{basis:"50%"},void 0,A("img",{alt:"",src:n(7206)}))))},i.render=function(){var e=this.props.guild;return null==e?null:this.props.hide?P:A(g.default,{tag:y.Tags.H2,title:T.default.Messages.GUILD_SETTINGS_TITLE_SERVER_WIDGET},void 0,this.renderToggle(),this.renderChannelSelect(e),A(m.default,{className:(0,o.default)(O.default.marginTop40,O.default.marginBottom40)}),this.renderAPIInfo(e),A(m.default,{className:(0,o.default)(O.default.marginTop40,O.default.marginBottom40)}),this.renderWidget(e))},a}(a.PureComponent);R.displayName="GuildSettingsWidget";var b=i.default.connectStores([c.default,f.default],function(){var e=c.default.getProps();return{guild:e.guild,widgetChannelId:e.embedChannelId,widgetEnabled:e.embedEnabled,channels:d.default.getChannels(),hide:f.default.enabled}})(R);t.default=b},7206:function(e,t,n){e.exports=n.p+"5fb477ca84edd15d9a2888ac28365acd.svg"},7207:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(3)),l=d(n(6695)),i=d(n(188)),u=d(n(143)),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.toggleMuted=function(){l.default.toggleCollapseGuild(this.props.guildId)},o.render=function(){var e=this,t=this.props.collapseMuted;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.HIDE_MUTED_CHANNELS,action:function(){return e.toggleMuted()},active:t})},a}(a.PureComponent);c.displayName="GuildToggleMutedChannels";var f=o.default.connectStores([i.default],function(e){var t=e.guildId;return{collapseMuted:i.default.isGuildCollapsed(t)}})(c);t.default=f},7208:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(8)),l=v(n(260)),i=v(n(24)),u=v(n(458)),s=v(n(328)),d=v(n(257)),c=v(n(865)),f=v(n(343)),p=n(1),h=v(n(6300));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={popoutOpen:!1},t.handleClickUser=function(){var e=t.props.onPopoutOpen;t.setState({popoutOpen:!t.state.popoutOpen}),e&&e()},t.handleUserPopoutClose=function(){var e=t.props.onPopoutClose;t.setState({popoutOpen:!1}),e&&e()},t.renderUserPopout=function(){var e,n=t.props,r=n.className,a=n.disablePopout,l=n.onContextMenu,u=n.user,f=n.status,p=n.textClassName,v=n.nick;return _(i.default,{align:i.default.Align.CENTER,className:(0,o.default)(h.default.memberListItem,r,(e={},e[h.default.popoutDisabled]=a,e)),onContextMenu:l,onClick:t.handleClickUser},void 0,_(s.default,{src:u.getAvatarURL(),"aria-label":u.username,size:s.default.Sizes.SIZE_24,status:f}),_(d.default,{className:(0,o.default)(h.default.memberListItemTag,p)},void 0,_(c.default,{user:u,nick:v,usernameClass:h.default.username,hideDiscriminator:!0})))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.state.popoutOpen,t=this.props,n=t.user,r=t.analyticsContext,o=t.disablePopout,l={location:m({},r.location,{object:p.AnalyticsObjects.LIST_ITEM})};return _(u.default,{renderPopout:function(e){return a.createElement(f.default,m({},e,{userId:n.id,analyticsParams:l}))},position:u.default.Positions.LEFT,onRequestClose:this.handleUserPopoutClose,shouldShow:!o&&e},void 0,this.renderUserPopout)},r}(a.Component);g.displayName="UserListItem",g.defaultProps={disablePopout:!1};var E=(0,l.default)(g);t.default=E},7209:function(e,t,n){"use strict";t.__esModule=!0,t.getDataFromRecentlyPlayed=k,t.getSortedApplicationIds=F,t.getSortedItemsFromData=B,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=L(n(8)),l=L(n(3)),i=n(29),u=L(n(6560)),s=L(n(22)),d=L(n(506)),c=L(n(479)),f=L(n(125)),p=L(n(11)),h=L(n(886)),v=L(n(58)),m=L(n(458)),_=L(n(6639)),g=L(n(66)),E=L(n(456)),y=L(n(257)),S=L(n(15)),I=L(n(331)),T=L(n(6753)),O=L(n(6943)),N=L(n(7768)),C=L(n(8819)),A=n(6870),M=n(1),P=L(n(4)),R=L(n(6018)),b=L(n(6307));function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var G=500;function k(e){var t={};for(var n in e)if(f.default.isOnFeed(n)&&p.default.getUser(n))for(var r in e[n]){if(null!=s.default.getGame(r)){var a=d.default.getUserGame(n);if(null==a||a.gameId!==r){var o=c.default.gamesByUser[n][r].date;null==t[r]?t[r]={players:[{userId:n,stoppedPlaying:o}],mostRecentStoppedPlaying:o}:(t[r].players.push({userId:n,stoppedPlaying:o}),t[r].mostRecentStoppedPlaying<o&&(t[r].mostRecentStoppedPlaying=o))}}}return t}function F(e){return Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).sort(function(t,n){return e[n].players.length-e[t].players.length})}function B(e,t){return e.reduce(function(e,n){var r=s.default.getGame(n);if(null==r)return e;var a={applicationId:n,application:r,players:t[n].players.reduce(function(e,t){var n=t.userId,r=t.stoppedPlaying,a=p.default.getUser(n);return a&&e.push({user:a,stoppedPlaying:r}),e},[]).sort(function(e,t){return t.stoppedPlaying-e.stoppedPlaying})};return a.players.length>0&&e.push(a),e},[])}var j=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={popoutStaysOpen:!1,isPopoutHovered:!1},n.trackHover=function(){var e=n.props,t=e.loadId,r=e.analyticsContext,a=n.props.applicationInfo.players;S.default.track(M.AnalyticEvents.HOVER_MENU_OPENED,{location:w({},r.location,{object:M.AnalyticsObjects.HOVER_MENU}),load_id:t,num_users:a.length})},n.handleMouseEnter=function(){n.hoverTimeout.start(G,n.trackHover),n.startPopoutHover()},n.handleMouseLeave=function(){n.hoverTimeout.stop(),n.endPopoutHover()},n.startPopoutHover=function(){n.context.isDiscover&&n.setState({isPopoutHovered:!0})},n.endPopoutHover=function(){n.context.isDiscover&&n.setState({isPopoutHovered:!1})},n.keepPopoutOpen=function(){n.setState({popoutStaysOpen:!0})},n.closePopout=function(){n.setState({popoutStaysOpen:!1})},n.renderPopout=function(){var e,t=n.props.applicationInfo.players,r=n.context.isDiscover,a=t.map(function(e){return e.user}),l=n.state,i=l.popoutStaysOpen,u=l.isPopoutHovered;return D(I.default,{section:M.AnalyticsSections.ACTIVITY_FEED_RECENTLY_PLAYED_HOVER_POPOUT},void 0,D(C.default,{title:P.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:a.length}),className:(0,o.default)(R.default.popout,(e={},e[b.default.popout]=r,e)),members:a,closeOnLeave:n.closePopout,visibleOnMouseLeave:i||u,keepOpen:n.keepPopoutOpen,onMouseEnter:n.startPopoutHover,onMouseLeave:n.endPopoutHover}))},n.hoverTimeout=new i.Timeout,n}U(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.hoverTimeout.stop()},n.renderPlayerCountText=function(){var e=this.props.applicationInfo.players;switch(e.length){case 1:return e[0].user.username;default:return P.default.Messages.ACTIVITY_FEED_RECENTLY_PLAYED_HEADER_MULTIPLE.format({user1:e[0].user.username,extra:e.length-1})}},n.renderRecentlyPlayedItem=function(){var e,t=this.props.onApplicationContextMenu,n=this.context.isDiscover,r=this.props.analyticsContext.location,a=this.props.applicationInfo,l=a.application,i=a.players,u={knownSize:i.length,totalSize:i.length,unknownSize:0},s=i.map(function(e){return e.user});return D("div",{className:(0,o.default)(b.default.itemContainer,R.default.popoutContainer,(e={},e[b.default.homepage]=n,e[R.default.homepage]=n,e)),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,D(v.default,{className:b.default.applicationIconContainer,onClick:function(e){return(0,A.toggleGamePopout)(e,l,r)},onContextMenu:function(e){return t(e,l)}},void 0,D("img",{src:l.getIconURL(64),className:b.default.applicationIcon,alt:l.name})),D("div",{className:b.default.infoSection},void 0,D(E.default,{className:b.default.applicationName,size:E.default.Sizes.SIZE_16},void 0,l.name),D(y.default,{className:b.default.applicationPlayers},void 0,this.renderPlayerCountText())),D(N.default,{partySize:u,members:s}),n?null:this.renderPopout())},n.render=function(){var e=this,t=this.context.isDiscover,n=this.state,r=n.popoutStaysOpen,a=n.isPopoutHovered;return t?D(m.default,{position:m.default.Positions.LEFT,renderPopout:this.renderPopout,spacing:32,shouldShow:a||r},void 0,function(){return e.renderRecentlyPlayedItem()}):this.renderRecentlyPlayedItem()},t}(a.PureComponent);j.displayName="RecentlyPlayedItem",j.contextType={isDiscover:!1},j.contextType=u.default;var H=(0,T.default)(j),V=function(e){function t(){return e.apply(this,arguments)||this}return U(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.items,l=n.className,i=n.loadId,u=n.isWrapped,s=this.context.isDiscover,d=r.slice(0,6),c=d.map(function(e,t){var n;return D(a.Fragment,{},e.application.id,D(H,{applicationInfo:e,loadId:i}),t!==d.length-1?D(O.default.Separator,{className:(0,o.default)(b.default.separator,(n={},n[b.default.homepageSeparator]=s,n))}):null)});return 0===c.length?null:u&&!s?D(_.default,{padded:!1},void 0,D("div",{className:(0,o.default)(l,b.default.recentlyPlayedContainer)},void 0,D(E.default,{size:E.default.Sizes.SIZE_16,className:b.default.formTitleInCard},void 0,P.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),c)):D(a.Fragment,{},void 0,s?D(E.default,{size:E.default.Sizes.SIZE_20,className:(0,o.default)(b.default.header,(e={},e[b.default.homepagePadding]=s,e))},void 0,P.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED):D(g.default,{className:b.default.header},void 0,P.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),D("div",{className:(0,o.default)(l,b.default.recentlyPlayedContainer,(t={},t[b.default.homepage]=s,t))},void 0,c))},t}(a.PureComponent);V.displayName="RecentlyPlayed",V.contextType={isDiscover:!1},V.contextType=u.default;var x=l.default.connectStores([c.default,d.default,s.default,f.default,h.default],function(){var e=k(c.default.gamesByUser),t=F(e);return{loadId:h.default.loadId,items:B(t,e)}})(V);t.default=x},7210:function(e,t,n){"use strict";t.__esModule=!0,t.fetchConsents=function(){return r.default.get({url:o.Endpoints.SETTINGS_CONSENT}).then(s,function(e){return Promise.reject(new Error(e.body.message))})},t.setConsents=function(e,t){return r.default.post({url:o.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t}}).then(s,d)};var r=i(n(12)),a=i(n(2)),o=n(1),l=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return null!=e&&null!=e.body&&a.default.dispatch({type:o.ActionTypes.UPDATE_CONSENTS,consents:u({},e.body)}),e.body}function d(e){var t;throw t=e.status>=500&&e.status<=599?l.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:l.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED,new Error(t)}},7211:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)).createContext({activeGuildId:null,setActiveGuildId:function(){return null},seenGuildIds:new Set,addSeenGuildId:function(){return null}});t.default=r},7212:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=Object.freeze({"voice-conversations":{},"writing-messages":{prerequisites:["voice-conversations"]},"direct-messages":{},"create-first-server":{},"organize-by-topic":{},"instant-invite":{prerequisites:["organize-by-topic"]},"whos-online":{prerequisites:["instant-invite"]},"server-settings":{prerequisites:["instant-invite"]},"friends-list":{prerequisites:["instant-invite"]},"create-more-servers":{prerequisites:["server-settings"]}});t.default=r},7213:function(e,t,n){"use strict";t.__esModule=!0,t.default=p;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(3),o=f(n(285)),l=n(386),i=f(n(51)),u=f(n(25)),s=f(n(6790)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=e.channel,f=e.children,p=(0,a.useStateFromStores)([i.default],function(){return i.default.isBlocked(t.getRecipientId())}),h=(0,a.useStateFromStores)([u.default],function(){return u.default.theme}),v=t.isSystemDM(),m=p&&!v&&!t.isMultiUserDM(),_={};return v?(_.message=c.default.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION,_.subtitle=c.default.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION_SUBTEXT,_.buttonText=c.default.Messages.SYSTEM_DM_HELP_CENTER,_.onButtonClick=function(){return open(l.HELP_CENTER_URL)},_.imageSrc=h===d.ThemeTypes.DARK?n(7214):n(7215)):m&&(_.message=c.default.Messages.DM_VERIFICATION_TEXT_BLOCKED,_.buttonText=c.default.Messages.UNBLOCK,_.onButtonClick=function(){o.default.removeRelationship(t.getRecipientId())}),r.createElement(s.default,_,f)}p.displayName="DMVerification"},7214:function(e,t,n){e.exports=n.p+"1daa678a2786bb2908d40bcc9eb3b2b1.svg"},7215:function(e,t,n){e.exports=n.p+"cbf55b1d3f3480e9aefbba9491e5f5b1.svg"},7216:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(0)),o=P(n(3)),l=P(n(853)),i=P(n(6615)),u=R(n(480)),s=P(n(139)),d=P(n(30)),c=P(n(10)),f=P(n(14)),p=P(n(19)),h=P(n(6708)),v=P(n(276)),m=P(n(64)),_=P(n(25)),g=P(n(11)),E=P(n(71)),y=n(265),S=P(n(36)),I=P(n(6790)),T=P(n(155)),O=P(n(6948)),N=P(n(6709)),C=n(1),A=P(n(4)),M=P(n(5947));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=function(e){var t,r;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={submitting:!1},t.handleClaimAccount=function(){u.open()},t.handleVerifyPhone=function(){d.default.push(function(e){return a.createElement(N.default,e)})},t.handleResendVerification=function(){l.default.verifyResend(),d.default.push(function(e){return a.createElement(T.default,b({header:A.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:A.default.Messages.OKAY,red:!1},e),L(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,A.default.Messages.VERIFICATION_EMAIL_BODY.format({email:g.default.getCurrentUser().email})))})},t.handleJoinServer=function(){t.setState({submitting:!0}),s.default.joinGuild(t.props.channel.getGuildId(),!1,C.JoinGuildSources.CHAT_INPUT_BLOCKER)},t.handleGoBack=function(){t.setState({submitting:!0}),S.default.getHistory().goBack()},t.handleFollowAnnouncement=function(){var e=t.props.channel;(0,y.openModal)(function(t){return a.createElement(O.default,b({channel:e},t))})},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=o.prototype;return c.componentDidMount=function(){var e=this.props,t=e.isFollowable,n=e.channelFollowingUsersSeen,r=e.channel;t&&null==n&&i.default.fetchChannelFollowerStats(r.id)},c.render=function(){var e={},t=this.props,r=t.isGuest,o=t.isFollowable,l=t.isLurking,i=t.notClaimed,u=t.notPhoneVerified,s=t.notEmailVerified,d=t.newMember,c=t.memberDeadline,f=t.newAccount,p=t.accountDeadline,h=t.theme,v=t.children,m=t.canSendMessages,_=t.channelFollowingUsersSeen,g=this.state.submitting;if(r)return L("div",{style:{height:M.default.barHeight}});if(o&&!m){if(e.message=A.default.Messages.FOLLOW_NEWS_CHAT_INPUT_MESSAGE,_>=1e3){var E=1e3*Math.floor(_/1e3);e.subtitle=A.default.Messages.FOLLOW_NEWS_CHAT_INPUT_SUBTITLE.format({count:E.toLocaleString()})}e.buttonText=A.default.Messages.FOLLOW,e.onButtonClick=this.handleFollowAnnouncement,e.imageSrc=n(7223),l&&(e.onSecondaryButtonClick=this.handleJoinServer,e.secondaryButtonText=A.default.Messages.LURKER_MODE_CHAT_INPUT_BUTTON)}else l?(e.message=A.default.Messages.LURKER_MODE_CHAT_INPUT_MESSAGE,e.buttonText=A.default.Messages.LURKER_MODE_CHAT_INPUT_BUTTON,e.buttonSubmitting=g,e.onButtonClick=this.handleJoinServer,e.secondaryButtonText=A.default.Messages.BACK,e.onSecondaryButtonClick=this.handleGoBack,e.imageSrc=n(7224)):i?(e.message=A.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED,e.buttonText=A.default.Messages.CLAIM_ACCOUNT,e.onButtonClick=this.handleClaimAccount,e.imageSrc=n(6792)):u?(e.message=A.default.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED,e.buttonText=A.default.Messages.VERIFY_PHONE,e.onButtonClick=this.handleVerifyPhone,e.imageSrc=n(7225)):s?(e.message=A.default.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED,e.buttonText=A.default.Messages.RESEND_VERIFICATION_EMAIL,e.onButtonClick=this.handleResendVerification,e.imageSrc=n(6792)):d?(e.message=A.default.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:C.VerificationCriteria.MEMBER_AGE}),e.countdown=c):f&&(e.message=A.default.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:C.VerificationCriteria.ACCOUNT_AGE}),e.countdown=p);return a.createElement(I.default,b({theme:h},e),v)},o}(a.PureComponent);D.displayName="GuildVerification";var w=o.default.connectStores([f.default,h.default,v.default,c.default,m.default,p.default],function(e){var t=e.channel,n=t.getGuildId(),r=p.default.getGuild(n),a=h.default.getCheck(n),o=t.type===C.ChannelTypes.GUILD_ANNOUNCEMENT&&null!=r&&r.hasFeature(C.GuildFeatures.NEWS),l=o?f.default.getFollowerStatsForChannel(t.id):null;return b({},a,{isLurking:v.default.isLurking(n),isGuest:c.default.isGuest(),isFollowable:o,theme:_.default.theme,canSendMessages:m.default.can(C.Permissions.SEND_MESSAGES,t),channelFollowingUsersSeen:null!=l?l.usersSeenEver:null})})(D);t.default=w},7217:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a,o=S(n(6)),l=n(230),i=S(n(6584)),u=S(n(21)),s=n(220),d=S(n(456)),c=S(n(257)),f=n(1),p=S(n(4)),h=S(n(6025)),v=S(n(6702)),m=S(n(6770)),_=S(n(6771)),g=S(n(6703)),E=S(n(6772)),y=S(n(6773));function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=((r={})[f.ThemeTypes.LIGHT]=[g.default,E.default,y.default],r[f.ThemeTypes.DARK]=[v.default,m.default,_.default],r),O=[p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_01,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_02,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_03,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_04,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_05,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_06,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_07,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_08,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_09,p.default.Messages.FOLLOW_SUCCESS_MODAL_HEADER_10],N=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.default)(),a=(0,l.useStableMemo)(function(){return o.default.sample(T[r])},[r]),f=(0,l.useStableMemo)(function(){return o.default.sample(O)},[]);return I(s.ModalRoot,{transitionState:t},void 0,I(s.ModalContent,{className:h.default.modal},void 0,I("img",{alt:"",src:a,className:h.default.image}),I(d.default,{size:d.default.Sizes.SIZE_24,className:h.default.followSuccessHeader},void 0,f),I(c.default,{color:c.default.Colors.MUTED,size:c.default.Sizes.SIZE_16,className:h.default.body},void 0,p.default.Messages.FOLLOW_SUCCESS_MODAL_BODY),I(u.default,{onClick:n},void 0,p.default.Messages.TUTORIAL_CLOSE)))};N.displayName="FollowSuccessModal";var C=N;t.default=C},7218:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l=!1,i=!1,u=null,s=224,d=!1;function c(){l=!0}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getProps=function(){return{working:l,valid:i,error:u}},a.getCountryId=function(){return s},a.getCountrySelectorOpened=function(){return d},r}(r.default.Store))(a.default,{VERIFICATION_ADDING_PHONE:function(e){return c()},VERIFICATION_VERIFYING_PHONE:function(e){return c()},VERIFICATION_ADD_PHONE_SUCCESS:function(e){return u=null,l=!1,void(i=!0)},VERIFICATION_ADD_PHONE_FAILURE:function(e){var t=e.error;u=t,l=!1,i=!1},VERIFICATION_VERIFY_PHONE_SUCCESS:function(e){return u=null,void(l=!1)},VERIFICATION_ADD_PHONE_RESET:function(e){return u=null,l=!1,void(i=!1)},VERIFICATION_VERIFY_PHONE_FAILURE:function(e){var t=e.error;u=t,l=!1},VERIFICATION_SELECT_COUNTRY:function(e){var t=e.id;s!==t&&(s=t)},VERIFICATION_OPEN_COUNTRY_SELECTOR:function(e){d=!0},VERIFICATION_CLOSE_COUNTRY_SELECTOR:function(e){d=!1}});t.default=f},7219:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=m(n(8)),l=m(n(504)),i=_(n(21)),u=m(n(7220)),s=m(n(24)),d=m(n(7221)),c=m(n(75)),f=m(n(4)),p=m(n(464)),h=m(n(455)),v=m(n(6029));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,r;function m(t){var n;return(n=e.call(this,t)||this)._animItem=null,n.setLottieRef=function(e){n._lottieRef=e},n.handleAddPhone=function(e){n.state.animated||null==n._animItem||(n._animItem.play(),n.setState({animated:!0})),n._phone=e;var t=n.props.onAddPhone;t&&t(e)},n.handleVerifyPhone=function(e){var t=n.props.onVerifyPhone;t&&t(e)},n.handleResendCode=function(){var e=n.props.onAddPhone;e&&e(n._phone)},n.state={animated:!1},n}r=e,(t=m).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var _=m.prototype;return _.componentDidMount=function(){var e=this;n.e(333).then(function(t){var r=n(7871);e._animItem=l.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!1,animationData:r})}.bind(null,n)).catch(n.oe)},_.componentWillUnmount=function(){null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},_.render=function(){var e,t,n=this.props,r=n.error,l=n.working,m=n.validPhone;return e=r?g("div",{className:(0,o.default)(v.default.description,v.default.error,h.default.marginBottom20)},void 0,r):g("div",{className:(0,o.default)(v.default.description,h.default.marginBottom20)},void 0,m?f.default.Messages.VERIFICATION_PHONE_DESCRIPTION:f.default.Messages.ENTER_PHONE_DESCRIPTION),t=m?g(s.default,{className:v.default.field,direction:s.default.Direction.VERTICAL,align:s.default.Align.CENTER},void 0,g(u.default,{onSubmit:this.handleVerifyPhone}),g(i.default,{className:h.default.marginTop8,size:i.ButtonSizes.SMALL,look:i.ButtonLooks.LINK,color:i.ButtonColors.PRIMARY,onClick:this.handleResendCode},void 0,f.default.Messages.RESEND_CODE)):g(d.default,{className:v.default.field,onSubmit:this.handleAddPhone,submitting:l}),g(c.default,{className:(0,o.default)(v.default.phoneVerificationModal,p.default.vertical,p.default.alignCenter,p.default.justifyCenter,h.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),g("div",{className:(0,o.default)(v.default.title,h.default.marginBottom8)},void 0,m?f.default.Messages.VERIFICATION_PHONE_TITLE:f.default.Messages.ENTER_PHONE_TITLE),e,t)},m}(a.PureComponent);E.displayName="PhoneVerificationModal";var y=E;t.default=y},7220:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=i(n(24)),l=i(n(6027));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(t){var n;return s(n=e.call(this,t)||this).handleKeyDown=n.handleKeyDown.bind(s(n)),s(n).handleChange=n.handleChange.bind(s(n)),s(n).setCodeBlockRef=n.setCodeBlockRef.bind(s(n)),n}d(t,e);var n=t.prototype;return n.render=function(){return a.createElement("input",{ref:this.setCodeBlockRef,className:l.default.input,maxLength:1,value:this.props.code,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})},n.setCodeBlockRef=function(e){this._codeBlockRef=e},n.focus=function(){this._codeBlockRef&&this._codeBlockRef.focus()},n.blur=function(){this._codeBlockRef&&this._codeBlockRef.blur()},n.handleKeyDown=function(e){var t=8===e.which||37===e.which||39===e.which,n=e.which>=48&&e.which<=57||e.keyCode>=96&&e.keyCode<=105;t||n||e.preventDefault();var r=this.props.onKeyDown;r&&r(e)},n.handleChange=function(e){var t=this.props.onChange;t&&t(e.currentTarget.value)},t}(a.PureComponent);c.displayName="CodeBlock",c.defaultProps={autoFocus:!1};var f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._codeBlockRefs=new Array(n.props.count),n.state={codes:new Array(t.count)},n}d(t,e);var n=t.prototype;return n.render=function(){for(var e=this,t=this.state.codes,n=[],r=function(r){r===t.length/2&&n.push(u("div",{className:l.default.spacer},"spacer")),n.push(a.createElement(c,{ref:function(t){return e.setCodeBlockRef(r,t)},key:r,code:t[r],autoFocus:0===r,onChange:function(t){return e.handleChange(r,t)},onKeyDown:function(t){return e.handleKeyDown(r,t)}}))},i=0;i<t.length;i++)r(i);return u(o.default,{align:o.default.Align.CENTER,justify:o.default.Justify.CENTER},void 0,n)},n.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t},n.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];r&&r.focus()}},n.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var a=this._codeBlockRefs[r];a&&a.focus()}},n.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t},n.submit=function(e){var t=this.props.onSubmit;t&&t(e)},t}(a.PureComponent);f.displayName="CodeField",f.defaultProps={count:6};var p=f;t.default=p},7221:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(0)),o=g(n(8)),l=g(n(471)),i=g(n(6)),u=g(n(7222)),s=E(n(21)),d=g(n(24)),c=g(n(42)),f=g(n(6769)),p=g(n(152)),h=g(n(4)),v=g(n(5927)),m=g(n(455)),_=g(n(6028));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var T=S(f.default.Divider,{}),O=function(e){function t(t){var n;return(n=e.call(this,t)||this).onChangeQuery=function(e){n.setState({query:e})},n.onClearQuery=function(){n.setState({query:""})},n.onClick=function(e){var t=e.id;(0,n.props.onClick)(t)},n.state={query:""},n}I(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.state.query,n=u.default.map(function(e,t){var n=e.code,r=e.name,a=n.split(" ")[0];return{id:t,value:r,children:S(d.default,{className:_.default.countryItem,justify:d.default.Justify.CENTER,align:d.default.Align.CENTER},void 0,S(d.default.Child,{className:_.default.countryName},void 0,r),S(d.default.Child,{className:_.default.countryCode,grow:0,shrink:0},void 0,a))}}),r=(0,i.default)(n).filter(function(e){return 0===t.length||(0,l.default)(t.toLowerCase(),e.value.toLowerCase())}).map(function(t){return a.createElement(f.default.Item,y({key:t.id},t,{onClick:e.onClick}))}).value();return 0===r.length?S(f.default.Empty,{},void 0,h.default.Messages.NONE):S(p.default,{outerClassName:_.default.scrollerWrap,className:_.default.phoneFieldScroller},void 0,r)},n.render=function(){return S(f.default,{className:(0,o.default)(_.default.phoneFieldPopout,v.default.elevationBorderLow)},void 0,S(f.default.SearchBar,{query:this.state.query,placeholder:h.default.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery}),T,this.renderItems())},t}(a.PureComponent);O.displayName="CountryPopoutList";var N=function(e){function t(t){var n;(n=e.call(this,t)||this).handleChange=function(e){n.closePopout(),n.setState({phone:e.currentTarget.value})},n.handleKeyPress=function(e){n.closePopout(),13===e.which&&(e.preventDefault(),n.handleSubmit())},n.handleSubmit=function(){var e=n.props,t=e.onSubmit,r=e.submitting,a=n.state,o=a.countryCode,l=a.phone;r||t&&t(""+o+l)},n.handleTogglePopout=function(){n.setState({open:!n.state.open})},n.handleClick=function(e){var t=u.default[e].code.split(" "),r=t[0],a=t[1];n.setState({open:!1,countryCode:r,phone:a||""})};var r=u.default.find(function(e){return"United States"===e.name}).code.split(" "),a=r[0],o=r[1];return n.state={countryCode:a,phone:o||"",open:!1},n}I(t,e);var n=t.prototype;return n.render=function(){var e=this.state,t=e.countryCode,n=e.phone,r=e.open,a=this.props,l=a.className,i=a.submitting,u=t.split("+")[1];return S(d.default,{className:(0,o.default)(_.default.phoneField,v.default.elevationLow,l),align:d.default.Align.CENTER,grow:0},void 0,S(d.default,{className:_.default.countryButton,grow:0,align:d.default.Align.CENTER,onClick:this.handleTogglePopout},void 0,S(d.default,{className:(0,o.default)(_.default.countryCodeContainer,m.default.marginReset),justify:d.default.Justify.CENTER},void 0,S("div",{className:_.default.plusSign},void 0,"+"),S("div",{className:_.default.countryCode},void 0,u)),S(c.default,{name:c.default.Names.CARET,foreground:_.default.phoneFieldExpand,expanded:r,width:16,height:16})),S("input",{className:_.default.inputField,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,autoFocus:!0}),S(s.default,{className:_.default.sendButton,size:s.ButtonSizes.SMALL,submitting:i,onClick:this.handleSubmit},void 0,h.default.Messages.SEND),r?S(O,{onClick:this.handleClick}):null)},n.closePopout=function(){this.state.open&&this.setState({open:!1})},t}(a.PureComponent);N.displayName="PhoneField";var C=N;t.default=C},7222:function(e){e.exports=JSON.parse('[{"code":"+7 840","name":"Abkhazia"},{"code":"+93","name":"Afghanistan"},{"code":"+355","name":"Albania"},{"code":"+213","name":"Algeria"},{"code":"+1 684","name":"American Samoa"},{"code":"+376","name":"Andorra"},{"code":"+244","name":"Angola"},{"code":"+1 264","name":"Anguilla"},{"code":"+1 268","name":"Antigua and Barbuda"},{"code":"+54","name":"Argentina"},{"code":"+374","name":"Armenia"},{"code":"+297","name":"Aruba"},{"code":"+247","name":"Ascension"},{"code":"+61","name":"Australia"},{"code":"+672","name":"Australian External Territories"},{"code":"+43","name":"Austria"},{"code":"+994","name":"Azerbaijan"},{"code":"+1 242","name":"Bahamas"},{"code":"+973","name":"Bahrain"},{"code":"+880","name":"Bangladesh"},{"code":"+1 246","name":"Barbados"},{"code":"+1 268","name":"Barbuda"},{"code":"+375","name":"Belarus"},{"code":"+32","name":"Belgium"},{"code":"+501","name":"Belize"},{"code":"+229","name":"Benin"},{"code":"+1 441","name":"Bermuda"},{"code":"+975","name":"Bhutan"},{"code":"+591","name":"Bolivia"},{"code":"+387","name":"Bosnia and Herzegovina"},{"code":"+267","name":"Botswana"},{"code":"+55","name":"Brazil"},{"code":"+246","name":"British Indian Ocean Territory"},{"code":"+1 284","name":"British Virgin Islands"},{"code":"+673","name":"Brunei"},{"code":"+359","name":"Bulgaria"},{"code":"+226","name":"Burkina Faso"},{"code":"+257","name":"Burundi"},{"code":"+855","name":"Cambodia"},{"code":"+237","name":"Cameroon"},{"code":"+1","name":"Canada"},{"code":"+238","name":"Cape Verde"},{"code":"+1 345","name":"Cayman Islands"},{"code":"+236","name":"Central African Republic"},{"code":"+235","name":"Chad"},{"code":"+56","name":"Chile"},{"code":"+86","name":"China"},{"code":"+61","name":"Christmas Island"},{"code":"+61","name":"Cocos-Keeling Islands"},{"code":"+57","name":"Colombia"},{"code":"+269","name":"Comoros"},{"code":"+242","name":"Congo"},{"code":"+243","name":"Congo, Dem. Rep. of (Zaire)"},{"code":"+682","name":"Cook Islands"},{"code":"+506","name":"Costa Rica"},{"code":"+385","name":"Croatia"},{"code":"+53","name":"Cuba"},{"code":"+599","name":"Curacao"},{"code":"+357","name":"Cyprus"},{"code":"+420","name":"Czech Republic"},{"code":"+45","name":"Denmark"},{"code":"+246","name":"Diego Garcia"},{"code":"+253","name":"Djibouti"},{"code":"+1 767","name":"Dominica"},{"code":"+1 809","name":"Dominican Republic"},{"code":"+670","name":"East Timor"},{"code":"+56","name":"Easter Island"},{"code":"+593","name":"Ecuador"},{"code":"+20","name":"Egypt"},{"code":"+503","name":"El Salvador"},{"code":"+240","name":"Equatorial Guinea"},{"code":"+291","name":"Eritrea"},{"code":"+372","name":"Estonia"},{"code":"+251","name":"Ethiopia"},{"code":"+500","name":"Falkland Islands"},{"code":"+298","name":"Faroe Islands"},{"code":"+679","name":"Fiji"},{"code":"+358","name":"Finland"},{"code":"+33","name":"France"},{"code":"+596","name":"French Antilles"},{"code":"+594","name":"French Guiana"},{"code":"+689","name":"French Polynesia"},{"code":"+241","name":"Gabon"},{"code":"+220","name":"Gambia"},{"code":"+995","name":"Georgia"},{"code":"+49","name":"Germany"},{"code":"+233","name":"Ghana"},{"code":"+350","name":"Gibraltar"},{"code":"+30","name":"Greece"},{"code":"+299","name":"Greenland"},{"code":"+1 473","name":"Grenada"},{"code":"+590","name":"Guadeloupe"},{"code":"+1 671","name":"Guam"},{"code":"+502","name":"Guatemala"},{"code":"+224","name":"Guinea"},{"code":"+245","name":"Guinea-Bissau"},{"code":"+592","name":"Guyana"},{"code":"+509","name":"Haiti"},{"code":"+504","name":"Honduras"},{"code":"+852","name":"Hong Kong SAR China"},{"code":"+36","name":"Hungary"},{"code":"+354","name":"Iceland"},{"code":"+91","name":"India"},{"code":"+62","name":"Indonesia"},{"code":"+98","name":"Iran"},{"code":"+964","name":"Iraq"},{"code":"+353","name":"Ireland"},{"code":"+972","name":"Israel"},{"code":"+39","name":"Italy"},{"code":"+225","name":"Ivory Coast"},{"code":"+1 876","name":"Jamaica"},{"code":"+81","name":"Japan"},{"code":"+962","name":"Jordan"},{"code":"+7","name":"Kazakhstan"},{"code":"+254","name":"Kenya"},{"code":"+686","name":"Kiribati"},{"code":"+383","name":"Kosovo"},{"code":"+965","name":"Kuwait"},{"code":"+996","name":"Kyrgyzstan"},{"code":"+856","name":"Laos"},{"code":"+371","name":"Latvia"},{"code":"+961","name":"Lebanon"},{"code":"+266","name":"Lesotho"},{"code":"+231","name":"Liberia"},{"code":"+218","name":"Libya"},{"code":"+423","name":"Liechtenstein"},{"code":"+370","name":"Lithuania"},{"code":"+352","name":"Luxembourg"},{"code":"+853","name":"Macau SAR China"},{"code":"+389","name":"Macedonia"},{"code":"+261","name":"Madagascar"},{"code":"+265","name":"Malawi"},{"code":"+60","name":"Malaysia"},{"code":"+960","name":"Maldives"},{"code":"+223","name":"Mali"},{"code":"+356","name":"Malta"},{"code":"+692","name":"Marshall Islands"},{"code":"+596","name":"Martinique"},{"code":"+222","name":"Mauritania"},{"code":"+230","name":"Mauritius"},{"code":"+262","name":"Mayotte"},{"code":"+52","name":"Mexico"},{"code":"+691","name":"Micronesia"},{"code":"+1 808","name":"Midway Island"},{"code":"+373","name":"Moldova"},{"code":"+377","name":"Monaco"},{"code":"+976","name":"Mongolia"},{"code":"+382","name":"Montenegro"},{"code":"+1664","name":"Montserrat"},{"code":"+212","name":"Morocco"},{"code":"+258","name":"Mozambique"},{"code":"+95","name":"Myanmar"},{"code":"+264","name":"Namibia"},{"code":"+674","name":"Nauru"},{"code":"+977","name":"Nepal"},{"code":"+31","name":"Netherlands"},{"code":"+599","name":"Netherlands Antilles"},{"code":"+1 869","name":"Nevis"},{"code":"+687","name":"New Caledonia"},{"code":"+64","name":"New Zealand"},{"code":"+505","name":"Nicaragua"},{"code":"+227","name":"Niger"},{"code":"+234","name":"Nigeria"},{"code":"+683","name":"Niue"},{"code":"+672","name":"Norfolk Island"},{"code":"+850","name":"North Korea"},{"code":"+1 670","name":"Northern Mariana Islands"},{"code":"+47","name":"Norway"},{"code":"+968","name":"Oman"},{"code":"+92","name":"Pakistan"},{"code":"+680","name":"Palau"},{"code":"+970","name":"Palestinian Territory"},{"code":"+507","name":"Panama"},{"code":"+675","name":"Papua New Guinea"},{"code":"+595","name":"Paraguay"},{"code":"+51","name":"Peru"},{"code":"+63","name":"Philippines"},{"code":"+48","name":"Poland"},{"code":"+351","name":"Portugal"},{"code":"+1 787","name":"Puerto Rico"},{"code":"+974","name":"Qatar"},{"code":"+262","name":"Reunion"},{"code":"+40","name":"Romania"},{"code":"+7","name":"Russia"},{"code":"+250","name":"Rwanda"},{"code":"+685","name":"Samoa"},{"code":"+378","name":"San Marino"},{"code":"+966","name":"Saudi Arabia"},{"code":"+221","name":"Senegal"},{"code":"+381","name":"Serbia"},{"code":"+248","name":"Seychelles"},{"code":"+232","name":"Sierra Leone"},{"code":"+65","name":"Singapore"},{"code":"+1721","name":"Sint Maarten"},{"code":"+421","name":"Slovakia"},{"code":"+386","name":"Slovenia"},{"code":"+677","name":"Solomon Islands"},{"code":"+252","name":"Somalia"},{"code":"+27","name":"South Africa"},{"code":"+500","name":"South Georgia and the South Sandwich Islands"},{"code":"+82","name":"South Korea"},{"code":"+34","name":"Spain"},{"code":"+94","name":"Sri Lanka"},{"code":"+249","name":"Sudan"},{"code":"+597","name":"Suriname"},{"code":"+268","name":"Swaziland"},{"code":"+46","name":"Sweden"},{"code":"+41","name":"Switzerland"},{"code":"+963","name":"Syria"},{"code":"+886","name":"Taiwan"},{"code":"+992","name":"Tajikistan"},{"code":"+255","name":"Tanzania"},{"code":"+66","name":"Thailand"},{"code":"+670","name":"Timor Leste"},{"code":"+228","name":"Togo"},{"code":"+690","name":"Tokelau"},{"code":"+676","name":"Tonga"},{"code":"+1 868","name":"Trinidad and Tobago"},{"code":"+216","name":"Tunisia"},{"code":"+90","name":"Turkey"},{"code":"+993","name":"Turkmenistan"},{"code":"+1 649","name":"Turks and Caicos Islands"},{"code":"+688","name":"Tuvalu"},{"code":"+1 340","name":"U.S. Virgin Islands"},{"code":"+256","name":"Uganda"},{"code":"+380","name":"Ukraine"},{"code":"+971","name":"United Arab Emirates"},{"code":"+44","name":"United Kingdom"},{"code":"+1","name":"United States"},{"code":"+598","name":"Uruguay"},{"code":"+998","name":"Uzbekistan"},{"code":"+678","name":"Vanuatu"},{"code":"+58","name":"Venezuela"},{"code":"+84","name":"Vietnam"},{"code":"+1 808","name":"Wake Island"},{"code":"+681","name":"Wallis and Futuna"},{"code":"+967","name":"Yemen"},{"code":"+260","name":"Zambia"},{"code":"+255","name":"Zanzibar"},{"code":"+263","name":"Zimbabwe"}]')},7223:function(e,t,n){e.exports=n.p+"dc7e9e55b3a6d39d24acdd650ecc2ef3.svg"},7224:function(e,t,n){e.exports=n.p+"fb84df7ca00ad961d64407e4dfc8665f.svg"},7225:function(e,t,n){e.exports=n.p+"7f2d0c8f7a9d0da6660691769d3f3f44.svg"},7226:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=H(n(8)),l=H(n(6)),i=H(n(5)),u=H(n(3)),s=H(n(6540)),d=H(n(141)),c=n(883),f=H(n(6750)),p=H(n(137)),h=H(n(358)),v=H(n(856)),m=H(n(475)),_=H(n(87)),g=H(n(6708)),E=H(n(194)),y=H(n(64)),S=H(n(222)),I=H(n(7227)),T=H(n(25)),O=H(n(11)),N=n(7066),C=H(n(152)),A=n(914),M=n(80),P=n(462),R=H(n(36)),b=n(472),L=H(n(6793)),D=H(n(6691)),w=H(n(7228)),U=H(n(7229)),G=n(7230),k=n(1),F=H(n(4)),B=H(n(5934)),j=H(n(6033));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n(7231);var z=20,K=20,$=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.onReveal,r=e.revealed,a=e.messageGroups;n(r?null:a[0].content[0].id)},t}return W(t,e),t.prototype.render=function(){var e=this,t=this.props.revealed,n=[],r=0;return this.props.messageGroups.forEach(function(t){var o=t.content;r+=o.length,n.push(a.createElement(D.default,Y({key:o[0].id,messages:o,hasDivider:!1},e.props)))}),x(G.BlockedMessageGroup,{className:j.default.messageGroupBlocked,revealed:t,count:r,onClick:this.handleClick},void 0,n)},t}(a.Component);$.displayName="BlockedMessageGroups",$.defaultProps={canManageMessages:!1,compact:!1};var Q=function(e){function t(){return e.apply(this,arguments)||this}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.channel,r=e.user;return x(D.default,{messageOption:!1,canEdit:!1,channel:n,messages:[new h.default({id:t.id,key:"pending-upload-"+t.id,type:k.MessageTypes.DEFAULT,author:r,channel_id:n.id,customRenderedContent:x(N.AttachmentUpload,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.size,onCancelUpload:function(){f.default.cancel(t)}})})]})},t}(a.Component);Q.displayName="PendingUpload";var X=x(G.LoadingMore,{},"loading-more"),q=x(G.LoadingMore,{},"loading-more-after"),J=x(G.JumpToPresentBar,{}),Z=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this)._mounted=!1,n._jumpTargetIndex=null,n._loadMoreScrollToNewMessages=!1,n._newMessagesBar=null,n._jumpTarget=null,n._subscriptions=((t={})[k.ComponentActions.CHAT_RESIZE]=function(){return n.handleResize()},t[k.ComponentActions.SCROLLTO_PRESENT]=function(){return n.scrollToBottom()},t[k.ComponentActions.SCROLL_PAGE_UP]=function(){return n.scrollPageUp(!0)},t[k.ComponentActions.SCROLL_PAGE_DOWN]=function(){return n.scrollPageDown(!0)},t),n.state={scrollingToJump:!1},n.registerMessageDOMNode=function(e,t){n.props.messages.jumpTargetId===e&&(n._jumpTarget=t)},n.jumpToPresent=function(){if(!n.props.messages.loadingMore){var e=n.props.channel;d.default.jumpToPresent(e.id,k.MAX_MESSAGES_PER_CHANNEL),R.default.transitionToGuild(e.getGuildId()||k.ME,e.id)}},n.handleFullscreenChange=function(){var e=V(n),t=e._scroller,r=e.props.dimensions;null!=t&&(t.invalidateScrollerState(),(0,b.isFullScreen)()||(null!=r?n.scrollTo(r.scrollTop):n.scrollToBottom()))},n.handleLoadMore=function(){var e=V(n),t=e._scroller,r=e.props.dimensions;n.isAtBottom()||null==r||null==t||(n.scrollTo(t.getScrollData().scrollHeight-r.scrollHeight),n._loadMoreScrollToNewMessages&&n.scrollToNewMessages(!0))},n.handleMessageUpdate=function(e){var t=V(n),r=t._scroller,a=t.props.dimensions;if(null!=r){r.invalidateScrollerState();var o=r.getScrollData();e.offsetTop<o.scrollTop+o.offsetHeight&&(n.isAtCachedBottom()?n.scrollToBottom():null!=a&&n.scrollBy(o.scrollHeight-a.scrollHeight))}},n.handleMessageEdit=function(e){var t=V(n)._scroller;if(null!=t){t.invalidateScrollerState();var r=t.getScrollData();e.offsetTop<r.scrollTop+K&&n.scrollTo(e.offsetTop-K),r=t.getScrollData();var a=e.offsetTop+e.offsetHeight-r.scrollTop-r.offsetHeight+K;a>0&&n.scrollBy(a)}},n.handleResize=function(){var e=V(n)._scroller;null!=e&&n.isAtCachedBottom()&&(e.invalidateScrollerState(),n.scrollToBottom())},n.handleScroll=l.default.debounce(function(){var e=V(n),t=e._scroller,r=e.props,a=r.messages,o=r.channel,l=r.keyboardModeEnabled;if(n._mounted&&null!=t&&!(0===a.length&&a.loadingMore||(0,b.isFullScreen)())){t.invalidateScrollerState();var i=t.getScrollData();0===i.scrollTop&&i.scrollHeight>i.offsetHeight&&a.hasMoreBefore&&!a.loadingMore&&(l||n.loadMore()),i.scrollHeight<=i.scrollTop+i.offsetHeight+z?a.hasMoreAfter&&!a.loadingMore?n.loadMore(!0):a.hasMoreAfter||s.default.clearChannelDimensions(o.id):s.default.updateChannelDimensions(o.id,i.scrollTop,i.scrollHeight,i.offsetHeight)}},100),n.handleScrollToNewMessages=function(){var e=n.props.channel,t=S.default.ackMessageId(e.id);null!=t&&d.default.jumpToMessage(e.id,t,!1,"Mark As Read")},n.handleAck=function(){(0,c.ack)(n.props.channel.id)},n.handleReveal=function(e){d.default.revealMessage(n.props.channel.id,e)},n.setScrollerRef=function(e){n._scroller=e},n}W(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._mounted=!0,this.restoreScroll(),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange),Object.keys(this._subscriptions).forEach(function(t){return M.ComponentDispatch.subscribe(t,e._subscriptions[t])})},n.componentWillUnmount=function(){var e=this;Object.keys(this._subscriptions).forEach(function(t){return M.ComponentDispatch.unsubscribe(t,e._subscriptions[t])}),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange),this._mounted=!1,this._jumpTarget=null},n.shouldComponentUpdate=function(e){return!!e.isVisible&&(this.props.isVisible!==e.isVisible||(this.props.className!==e.className||this.props.messages!==e.messages||this.props.uploads!==e.uploads||this.props.unreadCount!==e.unreadCount||this.props.oldestUnreadMessageId!==e.oldestUnreadMessageId||this.props.channel!==e.channel||this.props.inlineAttachmentMedia!==e.inlineAttachmentMedia||this.props.inlineEmbedMedia!==e.inlineEmbedMedia||this.props.gifAutoPlay!==e.gifAutoPlay||this.props.renderEmbeds!==e.renderEmbeds||this.props.renderReactions!==e.renderReactions||this.props.developerMode!==e.developerMode||this.props.messageDisplayCompact!==e.messageDisplayCompact||this.props.canChat!==e.canChat||this.props.permissionVersion!==e.permissionVersion||this.props.isScaled!==e.isScaled||this.props.backgroundOpacity!==e.backgroundOpacity||this.props.showNewMessagesBar!==e.showNewMessagesBar||this.props.renderSpoilers!==e.renderSpoilers))},n.scrollToJumpTarget=function(e,t){var n=this,r=this._newMessagesBar,a=this._jumpTarget,o=this._scroller;if(null!=o){if(!a)return null!=r?void this.scrollToNewMessages(!0):void console.warn("Got a jump target request but the ref was not found in the channel");if(null!=a&&a instanceof HTMLElement){o.invalidateScrollerState();var l=o.getScrollData(),i=a.offsetTop-.5*l.offsetHeight+.5*a.offsetHeight,u=t.jumpTargetId;if(t.last()!==e.last()&&t.first()!==e.first()&&null!=u){var s=t.get(u),d=e.first();null!=d&&null!=s&&s.timestamp.isBefore(d.timestamp)?o.scrollTo(l.scrollHeight-l.offsetHeight-100):o.scrollTo(100)}var c=t.jumpTargetId;this.setState({scrollingToJump:!0},function(){o.scrollTo(i,!0,function(){n.props.messages.jumpTargetId===c&&n.setState({scrollingToJump:!1})})})}}},n.componentDidUpdate=function(e){var t=e.messages,n=this._scroller,r=this.props,a=r.channel,o=r.messages,l=r.inlineAttachmentMedia,i=r.inlineEmbedMedia,u=r.renderEmbeds,c=r.messageDisplayCompact,f=r.uploads,p=r.isVisible,h=o.last();if(null!==o.jumpTargetId&&t.jumpSequenceId!==o.jumpSequenceId)this.scrollToJumpTarget(t,o);else if(o.jumpedToPresent&&t.jumpSequenceId!==o.jumpSequenceId)this.scrollTo(100),this.scrollToBottom(!0);else if(l!==e.inlineAttachmentMedia||i!==e.inlineEmbedMedia||u!==e.renderEmbeds)this.scrollToBottom();else if(f.length>e.uploads.length)this.scrollToBottom();else if(c!==e.messageDisplayCompact&&this.isAtCachedBottom())this.scrollToBottom();else if(!e.isVisible&&p&&h!==this.lastVisibleMessage)this.restoreScroll();else if(h!==e.messages.last()){if(e.messages.loadingMore)if(0===e.messages.length)this.restoreScroll();else{if(null!=n){var v=n.getScrollData();s.default.updateChannelDimensions(a.id,v.scrollTop,v.scrollHeight,v.offsetHeight)}d.default.truncateMessages(this.props.channel.id,!1,!0)}else if(!this.props.messages.hasMoreAfter){var m=this.props.messages.last();(m&&m.state===k.MessageStates.SENDING||this.isAtCachedBottom())&&this.scrollToBottom()}}else if(this.props.messages.first()!==e.messages.first())if(e.messages.loadingMore){if(this.handleLoadMore(),null!=n){var _=n.getScrollData();s.default.updateChannelDimensions(this.props.channel.id,_.scrollTop,_.scrollHeight,_.offsetHeight)}d.default.truncateMessages(this.props.channel.id,!0,!1)}else e.dimensions&&null!=n&&this.scrollTo(e.dimensions.scrollTop-(e.dimensions.scrollHeight-n.getScrollData().scrollHeight));p&&(this.lastVisibleMessage=h)},n.computeGlobalSpoilerDisplay=function(e){switch(this.props.renderSpoilers){case k.SpoilerRenderSetting.ALWAYS:return!0;case k.SpoilerRenderSetting.IF_MODERATOR:return e;case k.SpoilerRenderSetting.ON_CLICK:default:return!1}},n.render=function(){var e,t,n,r=this,l=this.props,u=l.messages,s=l.canChat,d=l.channel,c=l.isDefaultChannel,f=l.backgroundOpacity,h=l.className,v=l.scrollerClassName,m=l.scrollerOuterClassName,_=O.default.getCurrentUser(),g=y.default.can(k.Permissions.MANAGE_MESSAGES,this.props.channel),E=s&&y.default.can(k.Permissions.ADD_REACTIONS,this.props.channel),I=this.createChannelStream(u,d),T=I.map(function(e,t){if(e.type===k.ChannelStreamTypes.DIVIDER_TIME_STAMP)return x(G.Divider,{className:j.default.divider,backgroundOpacity:f},t,e.content);if(e.type===k.ChannelStreamTypes.DIVIDER_NEW_MESSAGES)return x(G.Divider,{className:j.default.divider,setElementRef:function(e){return r._newMessagesBar=e},red:!0,backgroundOpacity:f},t,e.content);var n={compact:r.props.messageDisplayCompact,channel:d,canManageMessages:g,canAddNewReactions:E,canChat:s,inlineAttachmentMedia:r.props.inlineAttachmentMedia,inlineEmbedMedia:r.props.inlineEmbedMedia,gifAutoPlay:r.props.gifAutoPlay,renderEmbeds:r.props.renderEmbeds,renderReactions:r.props.renderReactions,developerMode:r.props.developerMode,onEdit:r.handleMessageEdit,onUpdate:r.handleMessageUpdate};if(e.type===k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED)return a.createElement($,Y({key:t,revealed:e.content[0].content[0].id===u.revealedMessageId,messageGroups:e.content,onReveal:r.handleReveal},n));var o=t!==I.length-1&&(I[t+1].type===k.ChannelStreamTypes.DIVIDER_TIME_STAMP||I[t+1].type===k.ChannelStreamTypes.DIVIDER_NEW_MESSAGES||I[t+1].type===k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED),l=e.type===k.ChannelStreamTypes.JUMP_TARGET&&u.jumpTargetId?{registerMessageDOMNode:r.registerMessageDOMNode,jumpSequenceId:u.jumpSequenceId,jumpMessageId:u.jumpTargetId,canFlash:u.jumpFlash}:null;return x(A.SpoilerDisplayContext.Provider,{value:r.computeGlobalSpoilerDisplay(g)},e.content[0].id,a.createElement(D.default,Y({messages:e.content,hasDivider:o},n,l)))});if(this.props.uploads.forEach(function(e){T.push(x(Q,{file:e,channel:d,user:_},"upload-"+e.id))}),u.loadingMore?(u.hasMoreBefore&&T.unshift(X),u.hasMoreAfter&&T.push(q)):u.hasMoreBefore&&T.unshift(x(G.HasMore,{onClick:function(){return r.loadMore(!1)}},"has-more")),!u.hasMoreBefore){var N=this.props.channel;N.isSystemDM()?T.unshift(x(w.default,{channel:N},"empty-message",F.default.Messages.SYSTEM_DM_EMPTY_MESSAGE)):N.type===k.ChannelTypes.DM?T.unshift(x(w.default,{channel:N},"empty-message",F.default.Messages.BEGINNING_DM.format({username:(0,p.default)(N)}))):N.isMultiUserDM()?N.isManaged()?T.unshift(x(L.default,{},"empty-message",x("h1",{},void 0,F.default.Messages.BEGINNING_GROUP_DM_MANAGED))):T.unshift(x(w.default,{channel:N},"empty-message",F.default.Messages.BEGINNING_GROUP_DM.format({name:(0,p.default)(N)}))):y.default.can(k.Permissions.READ_MESSAGE_HISTORY,N)?c?T.unshift(x(U.default,{channel:N},"welcome-message")):T.unshift(x(L.default,{},"empty-message",x("h1",{},void 0,F.default.Messages.BEGINNING_CHANNEL.format({channelName:(0,p.default)(N)})))):T.unshift(x("div",{className:(0,o.default)(B.default.base,B.default.default)},"empty-message",x("h1",{},void 0,F.default.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:(0,p.default)(N)}))))}if(!u.loadingMore&&u.hasMoreAfter&&T.push(x(G.HasMore,{onClick:function(){return r.loadMore(!0)}},"has-more-after")),this.props.unreadCount>0&&this.props.showNewMessagesBar){var M,R=S.default.getOldestUnreadTimestamp(this.props.channel.id),b=(0,P.isSameDay)((0,i.default)(),(0,i.default)(new Date(R)));M=S.default.isEstimated(this.props.channel.id)?b?F.default.Messages.NEW_MESSAGES_ESTIMATED:F.default.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE:b?F.default.Messages.NEW_MESSAGES:F.default.Messages.NEW_MESSAGES_WITH_DATE,t=x(G.NewMessagesBar,{content:M.format({count:this.props.unreadCount,timestamp:R}),onScrollTo:this.handleScrollToNewMessages,onAck:this.handleAck})}return this.props.messages.hasMoreAfter&&(n=this.props.messages.loadingMore&&this.props.messages.jumpedToPresent?J:x(G.JumpToPresentBar,{onClick:this.jumpToPresent})),x("div",{className:(0,o.default)(j.default.messagesWrapper,h)},void 0,t,a.createElement(C.default,{ref:this.setScrollerRef,className:(0,o.default)(v,(e={},e[j.default.privateChannelMessages]=d.isPrivate(),e)),outerClassName:m,onScroll:this.handleScroll,onResize:this.handleResize,theme:C.default.Themes.MESSAGES_THEMED_WITH_TRACK},d.isPrivate()&&!u.loadingMore&&x("div",{className:j.default.privateChannelPlaceholder}),T),n)},n.createChannelStream=function(e,t){var n,r=this,a=[];e.forEach(function(e){var t=a[a.length-1];null==t||e.id===r.props.oldestUnreadMessageId||e.type>k.MessageTypes.DEFAULT||t[0].type!==e.type||t[0].author.id!==e.author.id||t[0].nick!==e.nick||e.webhookId&&t[0].author.username!==e.author.username||!(0,P.isWithinInterval)(t[t.length-1].timestamp,e.timestamp,k.MESSAGE_GROUP_INTERVAL)?a.push([e]):null!=e&&t.push(e)});var o=[];return a.forEach(function(a){a[0].id===r.props.oldestUnreadMessageId&&o.push({type:k.ChannelStreamTypes.DIVIDER_NEW_MESSAGES,content:F.default.Messages.NEW_MESSAGES_DIVIDER});var i=(0,P.dateFormat)(a[0].timestamp,"LL");if(i!==n&&((t.isPrivate()||null!=n)&&o.push({type:k.ChannelStreamTypes.DIVIDER_TIME_STAMP,content:i}),n=i),a[0].blocked){var u=o[o.length-1];null!=u&&u.type===k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED||(u={type:k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED,content:[]},o.push(u)),u.content.push({type:k.ChannelStreamTypes.MESSAGE_GROUP,content:a})}else{var s=k.ChannelStreamTypes.MESSAGE_GROUP;if(r.props.messages.jumpTargetId)l.default.findIndex(a,function(t){return t.id===e.jumpTargetId})>=0&&(s=k.ChannelStreamTypes.JUMP_TARGET);s===k.ChannelStreamTypes.JUMP_TARGET?o.push({type:k.ChannelStreamTypes.JUMP_TARGET,content:a}):o.push({type:k.ChannelStreamTypes.MESSAGE_GROUP,content:a})}}),o},n.loadMore=function(e){void 0===e&&(e=!1);var t=this._scroller,n=this.props,r=n.messages,a=n.channel;if(!this.state.scrollingToJump){if(null!=t){var o=t.getScrollData();s.default.updateChannelDimensions(a.id,o.scrollTop,o.scrollHeight,o.offsetHeight)}var l,i;if(e){var u=r.last();null!=u&&(i=u.id)}else{var c=r.first();null!=c&&(l=c.id)}d.default.fetchMessages(this.props.channel.id,l,i,k.MAX_MESSAGES_PER_CHANNEL)}},n.scrollTo=function(e,t){void 0===t&&(t=!1);var n=this._scroller;if(null!=n){var r=n.getScrollData();r.scrollHeight===r.offsetHeight?this.handleScroll():n.scrollTo(e,t)}},n.scrollBy=function(e){var t=this._scroller;null!=t&&this.scrollTo(t.getScrollData().scrollTop+e)},n.scrollToNewMessages=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._loadMoreScrollToNewMessages=!1;var n=this._newMessagesBar;if(null!=n)this.scrollTo(Math.max(0,n.offsetTop-35),e),t&&S.default.isEstimated(this.props.channel.id)&&(this._loadMoreScrollToNewMessages=!0,this.loadMore());else if(null!=this.props.oldestUnreadMessageId)return this.scrollTo(35,e),!0;return null!=n},n.scrollToBottom=function(e){var t=this;void 0===e&&(e=!1);var n=this._scroller,r=this.props.messages;null!=n&&(r.hasMoreAfter?this.jumpToPresent():Promise.resolve().then(function(){if(t._mounted){var r=n.getScrollData();t.scrollTo(r.scrollHeight-r.offsetHeight+1,e)}}))},n.scrollPageUp=function(e){void 0===e&&(e=!1);var t=this._scroller;t&&t.scrollPageUp(e)},n.scrollPageDown=function(e){void 0===e&&(e=!1);var t=this._scroller;t&&t.scrollPageDown(e)},n.restoreScroll=function(){var e=this;Promise.resolve().then(function(){var t=e.props.dimensions;e.scrollToNewMessages()||(null!=t?e.scrollTo(t.scrollTop):e.scrollToBottom())})},n.isAtCachedBottom=function(){return null==this.props.dimensions},n.isAtBottom=function(){var e=this._scroller;return null!=e&&e.isScrolledToBottom(z)},t}(a.Component);Z.displayName="Messages",Z.defaultProps={isVisible:!0,showNewMessagesBar:!0,scrollerClassName:j.default.messages,scrollerOuterClassName:j.default.scrollerWrap};var ee=u.default.connectStores([O.default,E.default,I.default,m.default,S.default,T.default,g.default,v.default,_.default,y.default],function(e){var t=e.channel,n=e.forceCompact,r=t.getGuildId(),a=T.default.inlineAttachmentMedia,o=T.default.inlineEmbedMedia,l=T.default.gifAutoPlay,i=T.default.renderEmbeds,u=T.default.renderReactions,s=T.default.developerMode,d=T.default.messageDisplayCompact,c=T.default.renderSpoilers;return{messages:E.default.getMessages(t.id),permissionVersion:null!=r?y.default.getGuildVersion(r):null,uploads:I.default.getFiles(t.id),dimensions:m.default.getChannelDimensions(t.id),unreadCount:S.default.getUnreadCount(t.id),oldestUnreadMessageId:S.default.getOldestUnreadMessageId(t.id),canChat:null==r||g.default.canChatInGuild(r),isScaled:v.default.fontSize!==k.Accessibility.FONT_SIZE_DEFAULT,keyboardModeEnabled:v.default.keyboardModeEnabled,isDefaultChannel:null!=r&&t===_.default.getDefaultChannel(r),inlineAttachmentMedia:a,inlineEmbedMedia:o,gifAutoPlay:l,renderEmbeds:i,renderReactions:u,messageDisplayCompact:n||d,developerMode:s,renderSpoilers:c}})(Z);t.default=ee},7227:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=Object.freeze([]),u={},s={},d={};function c(e,t){var n=u[e];return null!=n&&(u[e]=n.filter(function(e){return e.id!==t}),delete s[t],delete d[t],n.length!==u[e].length)}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getFiles=function(e){return u[e]||i},a.getMessageForFile=function(e){return d[e]},r}(r.default.Store))(a.default,{UPLOAD_START:function(e){var t=e.channelId,n=e.file,r=e.uploader,a=e.message,o=u[t]||i;s[n.id]=r,u[t]=[].concat(o,[n]),d[n.id]=a},UPLOAD_PROGRESS:function(e){var t=e.channelId,n=e.file,r=u[t];if(null==r)return!1;u[t]=r.map(function(e){return e.id===n.id?l({},e,n):e})},UPLOAD_COMPLETE:function(e){return c(e.channelId,e.file.id)},UPLOAD_FAIL:function(e){return c(e.channelId,e.file.id)},UPLOAD_CANCEL_REQUEST:function(t){var n=t.file,r=s[n.id];if(null==r)return!1;e(function(){return r.cancel()})}});t.default=f}).call(this,n(43).setImmediate)},7228:function(e,t,n){"use strict";t.__esModule=!0,t.default=f;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(6529),l=d(n(137)),i=d(n(328)),u=d(n(257)),s=d(n(6030));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.channel,n=e.children,r=a.useState(!1),d=r[0],f=r[1],p=(0,l.default)(t);return c("div",{className:s.default.container},void 0,c(i.default,{"aria-label":p,size:i.default.Sizes.SIZE_80,src:(0,o.getChannelIconURL)(t,d),onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)}}),c("h1",{className:s.default.header},void 0,p),c(u.default,{size:u.default.Sizes.SIZE_16,color:u.default.Colors.CUSTOM,className:s.default.description},void 0,n))}f.displayName="PrivateChannelEmptyMessage"},7229:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=y(n(8)),o=y(n(873)),l=y(n(3)),i=y(n(30)),u=y(n(19)),s=y(n(64)),d=y(n(11)),c=y(n(183)),f=n(193),p=y(n(13)),h=y(n(345)),v=y(n(6793)),m=y(n(6532)),_=n(1),g=y(n(4)),E=y(n(6031));function y(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=(0,o.default)({displayName:"WelcomeMessage",mixins:[l.default.StoreListenerMixin(d.default,u.default,s.default)],getDefaultProps:function(){return{channel:null}},getStateFromStores:function(){var e=this.props.channel,t=u.default.getGuild(e.getGuildId());return{currentUser:d.default.getCurrentUser(),guild:t,canCreateInvite:(0,f.canViewInviteModal)(t,e)}},handleDownloadApps:function(e){i.default.push(h.default,{source:e})},handleOpenInvitePopout:function(){var e=this.props.channel,t=this.state.guild;i.default.push(m.default,{guild:t,channel:e,source:_.InstantInviteSources.WELCOME_MESSAGE})},render:function(){var e,t,n=this.state.guild&&this.state.guild.isOwner(this.state.currentUser)?S("h1",{className:E.default.h1},void 0,g.default.Messages.WELCOME_MESSAGE_OWNER_TITLE.format({username:this.state.currentUser.username})):S("h1",{className:E.default.h1},void 0,g.default.Messages.WELCOME_MESSAGE_TITLE.format({username:this.state.currentUser.username}));return this.state.canCreateInvite&&(e=S("div",{className:E.default.itemContainer},void 0,S("div",{className:(0,a.default)(E.default.icon,E.default.share)}),S("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_INSTANT_INVITE.format({onShareClick:this.handleOpenInvitePopout})))),p.default.embedded||(t=S("div",{className:E.default.itemContainer},void 0,S("div",{className:(0,a.default)(E.default.icon,E.default.apps)}),S("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_DESKTOP_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Desktop Apps")})))),S("div",{className:E.default.welcomeMessage},void 0,n,S("div",{className:E.default.itemContainer},void 0,S("div",{className:(0,a.default)(E.default.icon,E.default.exclamation)}),S("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_TUTORIAL.format())),e,t,S("div",{className:E.default.itemContainer},void 0,S("div",{className:(0,a.default)(E.default.icon,E.default.mobile)}),S("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_MOBILE_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Mobile Apps")}))),S("div",{className:E.default.itemContainer},void 0,S("div",{className:(0,a.default)(E.default.icon,E.default.twitter)}),S("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_SUPPORT.format({supportURL:c.default.getCommunityURL(),twitterURL:c.default.getTwitterURL()}))),S(v.default,{className:E.default.emptyMessage}))}});t.default=I},7230:function(e,t,n){"use strict";t.__esModule=!0,t.BlockedMessageGroup=t.HasMore=t.LoadingMore=t.Divider=t.NewMessagesBar=t.JumpToPresentBar=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(8)),l=h(n(58)),i=h(n(42)),u=h(n(182)),s=n(874),d=n(857),c=n(496),f=h(n(4)),p=h(n(6032));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.onClick;return m(c.MessagesInteractionContext.Consumer,{},void 0,function(e){return e.disableInteractions?null:m("div",{className:p.default.jumpToPresentBar},void 0,m("button",{type:"button",onClick:t,className:p.default.barButtonMain},void 0,f.default.Messages.YOURE_VIEWING_OLDER_MESSAGES),null!=t?m("button",{type:"button",onClick:t,className:p.default.barButtonAlt},void 0,f.default.Messages.JUMP_TO_PRESENT,m(i.default,{name:i.default.Names.CARET,className:p.default.barButtonIcon})):m(u.default,{type:u.default.Type.PULSING_ELLIPSIS,className:p.default.spinner,itemClassName:p.default.spinnerItem}))})};t.JumpToPresentBar=_,_.displayName="JumpToPresentBar";var g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).id=(0,s.uid)("NewMessagesBarJumpToNewMessages_"),t}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.onScrollTo,r=e.onAck,a=this.id;return m(c.MessagesInteractionContext.Consumer,{},void 0,function(e){var l;return e.disableInteractions?null:m("div",{className:(0,o.default)(p.default.newMessagesBar,(l={},l[p.default.disableInteractions]=e.disableInteractions,l))},void 0,m("button",{type:"button",className:p.default.barButtonMain,onClick:n,"aria-label":f.default.Messages.JUMP_TO_LAST_UNREAD_MESSAGE,"aria-describedby":a},void 0,m("span",{id:a,className:p.default.span},void 0,t)),m("button",{type:"button",onClick:r,className:p.default.barButtonAlt},void 0,f.default.Messages.MARK_AS_READ,m(i.default,{name:i.default.Names.NOVA_CHAT_CHECK,className:p.default.barButtonIcon})))})},t}(a.PureComponent);t.NewMessagesBar=g,g.displayName="NewMessagesBar";var E=function(e){var t=e.children,n=e.red,r=e.setElementRef,l=e.className,i=e.backgroundOpacity;return a.createElement("div",{className:(0,o.default)(p.default.divider,n?p.default.dividerRed:null,p.default[(i||"")+"BackgroundOpacity"],l),ref:r},m("span",{className:p.default.dividerContent},void 0,t))};t.Divider=E,E.displayName="Divider";var y=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){return m("div",{className:p.default.loadingMore},void 0,m(u.default,{className:p.default.spinner}))},t}(a.Component);t.LoadingMore=y,y.displayName="LoadingMore";var S=function(e){var t=e.onClick;return m(c.MessagesInteractionContext.Consumer,{},void 0,function(e){var n;return m(l.default,{onClick:t,className:(0,o.default)(p.default.hasMore,(n={},n[p.default.disableInteractions]=e.disableInteractions,n))},void 0,f.default.Messages.LOAD_MORE_MESSAGES)})};t.HasMore=S,S.displayName="HasMore";var I=function(e){var t=e.onClick,n=e.count,r=e.revealed,a=e.children,i=e.className;return m(d.BackgroundOpacityContext.Consumer,{},void 0,function(e){var u,s=e.backgroundOpacity;return m("div",{className:(0,o.default)(p.default.messageGroupBlocked,i,p.default[s+"BackgroundOpacity"],(u={},u[p.default.revealed]=r,u))},void 0,m(l.default,{className:p.default.messageGroupBlockedBtn,onClick:t},void 0,f.default.Messages.BLOCKED_MESSAGES.format({count:n})),r?a:null)})};t.BlockedMessageGroup=I,I.displayName="BlockedMessageGroup"},7231:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=y(n(3)),a=y(n(2)),o=y(n(917)),l=y(n(137)),i=y(n(10)),u=y(n(14)),s=y(n(53)),d=y(n(19)),c=y(n(40)),f=y(n(864)),p=y(n(51)),h=y(n(39)),v=y(n(188)),m=y(n(25)),_=y(n(11)),g=n(1),E=y(n(4));function y(e){return e&&e.__esModule?e:{default:e}}var S=10,I=[],T=null,O=null;function N(){if(!o.default.supported)return!1;var e=m.default.locale;O||(O=window.speechSynthesis&&window.speechSynthesis.getVoices()),T=(T=O.filter(function(t){return t.lang===e||t.lang.slice(0,e.length)===e})).length>0?T[0]:null}var C=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(i.default,h.default,f.default,c.default,_.default,m.default,d.default)},r}(r.default.Store))(a.default,__OVERLAY__?{}:{MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message;if(e.optimistic||c.default.isSelfDeaf())return!1;var r=u.default.getChannel(t);if(null==r)return!1;var a=t===h.default.getChannelId(),y=m.default.enableTTSCommand&&n.tts&&a,O=f.default.getTTSType(),C=n.author.id!==i.default.getId()&&(O===g.TTSNotificationTypes.ALL_CHANNELS||O===g.TTSNotificationTypes.SELECTED_CHANNEL&&a);if((y||C)&&!p.default.isBlocked(n.author.id)){if(I.indexOf(n.id)>=0)return!1;I.unshift(n.id)>S&&I.pop();var A=r.getGuildId();if(A&&v.default.getMutedChannels(A).has(t))return!1;var M=d.default.getGuild(A),P=s.default.getNick(A,n.author.id)||n.author.username,R=n.content.replace(function(){return E.default.Messages.SPOILER}).replace(/<@!?(\d+)>/g,function(e,t){var n=_.default.getUser(t);return null==n?e:s.default.getNick(A,n.id)||n.username}).replace(/<@&?(\d+)>/g,function(e,t){var n=null!=M?M.roles[t]:null;return null!=n&&null!=n.name?n.name:E.default.Messages.MESSAGE_TTS_DELETED_ROLE}).replace(/<#(\d+)>/g,function(e,t){var n=u.default.getChannel(t);return null==n?e:(0,l.default)(n)}).replace(/<a?:(\w+):(\d+)>/g,function(e,t){return E.default.Messages.EMOJI+" "+t});T||N(),o.default.speak(E.default.Messages.MESSAGE_TTS.format({username:P,body:R}),T)}return!1},AUDIO_TOGGLE_SELF_DEAF:function(e){c.default.isSelfDeaf()&&o.default.cancelAll()},USER_SETTINGS_UPDATE:function(e){return N()},I18N_LOAD_SUCCESS:function(e){return N()}});t.default=C},7232:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=D(n(8)),l=D(n(6)),i=D(n(5)),u=D(n(118)),s=n(158),d=D(n(3)),c=D(n(7233)),f=D(n(7234)),p=D(n(7235)),h=D(n(22)),v=D(n(64)),m=D(n(51)),_=D(n(153)),g=D(n(160)),E=D(n(933)),y=D(n(6656)),S=D(n(25)),I=D(n(11)),T=D(n(185)),O=D(n(42)),N=D(n(65)),C=D(n(980)),A=D(n(15)),M=n(80),P=D(n(281)),R=n(1),b=D(n(4)),L=D(n(6034));function D(e){return e&&e.__esModule?e:{default:e}}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=[],F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={fadeIn:!1},t.timeout=null,t.handleDismissInviteEducation=function(){var e=t.props.activity;null!=e&&null!=e.application_id&&c.default.dismissForApplicationId(e.application_id)},t}G(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.timeout=setTimeout(function(){e.setState({fadeIn:!0}),e.timeout=null,e.logShownEventIfNeeded()},100)},n.componentDidUpdate=function(){this.logShownEventIfNeeded()},n.logShownEventIfNeeded=function(){var e=this.props.activity.application_id;null!=e&&-1===k.indexOf(e)&&(A.default.track(R.AnalyticEvents.SHOW_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e}),k.push(e))},n.componentWillUnmount=function(){null!==this.timeout&&clearTimeout(this.timeout)},n.render=function(){var e,t=this.props.activity;return U("div",{className:(0,o.default)(L.default.activityInviteEducation,(e={},e[L.default.activityInviteEducationFadeIn]=this.state.fadeIn,e))},void 0,U("div",{className:L.default.activityInviteEducationArrow}),U("span",{},void 0,b.default.Messages.USER_ACTIVITY_CHAT_INVITE_EDUCATION.format({game:t.name,dismissOnClick:this.handleDismissInviteEducation})))},t}(a.PureComponent);F.displayName="ActivityInviteEducation";var B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={color:new u.default.Value(0)},t.emphasizeSlowmodeCooldown=function(){var e=t.state.color;u.default.sequence([u.default.timing(e,{toValue:1,duration:100,easing:u.default.Easing.quad}),u.default.timing(e,{delay:250,toValue:0,duration:100,easing:u.default.Easing.quad})]).start()},t}G(t,e);var n=t.prototype;return n.componentDidMount=function(){M.ComponentDispatch.subscribe(R.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},n.componentWillUnmount=function(){M.ComponentDispatch.unsubscribe(R.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},n.getCooldownTextStyle=function(){var e=this.props.theme,t=this.state.color,n=R.Colors.WHITE;return e===R.ThemeTypes.LIGHT&&(n=R.Colors.PRIMARY_DARK_500),{color:t.interpolate({inputRange:[0,1],outputRange:[n,(0,s.hex2rgb)(R.Colors.STATUS_RED_500,.9)]})}},n.render=function(){var e=this,t=this.props,n=t.guildId,r=t.activity,s=t.showInviteEducation,d=t.isFocused,c=t.typingUsers,f=t.className,p=t.slowmodeCooldownGuess,h=t.channel.rateLimitPerUser,_=I.default.getCurrentUser(),g=h>0,E=(0,l.default)(c).keys().filter(function(e){return e!==_.id}).reject(m.default.isBlocked).map(function(e){return I.default.getUser(e)}).filter(function(e){return null!=e}).map(function(t){return P.default.getName(n,e.props.channel.id,t)}).value();if(0===E.length&&!g)return s&&null!=r?U(F,{activity:r,isFocused:d}):null;var y="",S=null,T="";if(g){S=U(O.default,{name:O.default.Names.TIMER,className:L.default.slowModeIcon});var A=v.default.can(R.Permissions.MANAGE_CHANNELS,this.props.channel)||v.default.can(R.Permissions.MANAGE_MESSAGES,this.props.channel);if(h>=R.Durations.HOUR){var M=Math.floor(h/R.Durations.HOUR),D=Math.floor((h-M*R.Durations.HOUR)/R.Durations.MINUTE),G=h-M*R.Durations.HOUR-D*R.Durations.MINUTE;T=b.default.Messages.CHANNEL_SLOWMODE_DESC_HOURS.format({hours:M,minutes:D,seconds:G})}else if(h>=60){var k=Math.floor(h/60),B=h-60*k;T=b.default.Messages.CHANNEL_SLOWMODE_DESC_MINUTES.format({minutes:k,seconds:B})}else T=b.default.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:h});if(!A&&p>0){var j=i.default.duration(p);if(p>1e3*R.Durations.HOUR){var H=(""+j.minutes()).padStart(2,"0"),V=(""+j.seconds()).padStart(2,"0");y=j.hours()+":"+H+":"+V}else{var x=(""+j.seconds()).padStart(2,"0");y=j.minutes()+":"+x}}else 0===E.length&&(y=A?b.default.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:b.default.Messages.CHANNEL_SLOWMODE_DESC_SHORT)}var Y,W=E[0],z=E[1],K=E[2];return Y=0===E.length?"":1===E.length?b.default.Messages.ONE_USER_TYPING.format({a:W}):2===E.length?b.default.Messages.TWO_USERS_TYPING.format({a:W,b:z}):3===E.length?b.default.Messages.THREE_USERS_TYPING.format({a:W,b:z,c:K}):b.default.Messages.SEVERAL_USERS_TYPING,U("div",{className:(0,o.default)(L.default.typing,{"stop-animation":!d},f)},void 0,E.length>0&&U(C.default,{className:L.default.ellipsis,dotRadius:3.5,themed:!0}),U("span",{className:L.default.text},void 0,Y),g&&U(N.default,{text:T},void 0,function(t){return a.createElement(u.default.div,w({style:e.getCooldownTextStyle(),className:L.default.cooldownWrapper},t),y,S)}))},t}(a.PureComponent);B.displayName="TypingUsers";var j=d.default.connectStores([E.default,y.default,T.default,_.default,g.default,v.default,h.default,p.default,S.default],function(e){var t=e.channel,n=g.default.findActivity(function(e){return null!=e.application_id});return{showInviteEducation:(0,f.default)(t,n,p.default,v.default,h.default),activity:n,typingUsers:y.default.getTypingUsers(t.id),isFocused:T.default.isFocused(),guildId:_.default.getGuildId(),slowmodeCooldownGuess:E.default.getSlowmodeCooldownGuess(t.id),theme:S.default.theme}})(B);t.default=j},7233:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(2)),a=l(n(15)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i={dismissForApplicationId:function(e){r.default.dispatch({type:o.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,key:e,value:!0}),a.default.track(o.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e,acknowledged:!0})}};t.default=i},7234:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r,l){if(null==e)return!1;if(!e.isPrivate()&&!r.can(o.Permissions.EMBED_LINKS,e))return!1;if(null==t||!(0,a.default)(t))return!1;var i=t.application_id;if(null==i)return!1;if(null==l.getGame(i))return!1;return n.shouldShowEducation(i)};var r,a=(r=n(7059))&&r.__esModule?r:{default:r},o=n(1)},7235:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldShowEducation=function(e){return!0!==this.get(e)},r}(r.default.CachedStore))(a.default,"ActivityInviteEducationExperimentStore",o.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,{});t.default=i},7236:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(42)),l=n(1),i=s(n(4)),u=s(n(6328));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.isCondensed;return d("div",{className:u.default.container},void 0,d("div",{className:u.default.backgroundBlur}),d("div",{className:u.default.containerInner},void 0,d(o.default,{name:o.default.Names.CAMERA_OFF,className:u.default.icon,color:l.Colors.WHITE,width:32,height:32}),d("div",{className:u.default.title},void 0,i.default.Messages.VIDEO_POOR_CONNECTION_TITLE),!e&&d("div",{className:u.default.body},void 0,i.default.Messages.VIDEO_POOR_CONNECTION_BODY)))},r}(a.PureComponent);c.displayName="PoorConnection",c.defaultProps={isCondensed:!1};var f=c;t.default=f},7237:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(24)),i=d(n(328)),u=d(n(5927)),s=d(n(6330));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.avatarSize,n=e.user,r=e.style,a=n.getAvatarURL();return null==a?null:c(l.default,{style:r,className:s.default.background,justify:l.default.Justify.CENTER,align:l.default.Align.CENTER},void 0,c("div",{className:s.default.backgroundBlur,style:{backgroundImage:"url('"+a+"')"}}),c("div",{className:s.default.backgroundBlurOverlay}),c(i.default,{className:(0,o.default)(u.default.elevationHigh,s.default.avatarWrapper),size:t,src:a,"aria-label":n.username}))},r}(a.PureComponent);f.displayName="VideoBackground",f.AvatarSizes=i.default.Sizes;var p=f;t.default=p},7238:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=E(n(189)),l=n(35),i=E(n(30)),u=E(n(6794)),s=E(n(40)),d=E(n(11)),c=E(n(20)),f=E(n(96)),p=E(n(187)),h=E(n(38)),v=E(n(1004)),m=E(n(6795)),_=n(1),g=E(n(4));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).handleChangeWindows=function(){var e=t.props.channel;u.default.open(e),(0,l.closeContextMenu)()},t.handleStop=function(){o.default.setDesktopSource(null),(0,l.closeContextMenu)()},t.handleVolumeChange=function(e){o.default.setSoundshareVolume(e)},t.handleRequestElevatedPermissions=function(){var e=t.props.game,n=null!=e?e.pid:null;(0,l.closeContextMenu)(),i.default.push(function(e){return a.createElement(m.default,S({},e,{handleStream:t.handleStreamGame,pid:n}))})},t.handleStreamGame=function(){var e=t.props.game;if(null!=e){var n=c.default.getDesktopSourceFromPid(e.pid),r=d.default.getCurrentUser();o.default.setDesktopSource(n,720,f.default.canUseHigherFramerate(r)?60:30,!0),(0,l.closeContextMenu)()}else t.handleChangeWindows()},t.requiresElevatedPermissions=function(e){return c.default.supportsFeature(_.NativeFeatures.ELEVATED_HOOK)&&null!=e&&e.elevated},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.props,r=n.className,a=n.style,o=n.game;return null!=o&&(e=y(h.default,{label:g.default.Messages.SCREENSHARE_STREAM_GAME.format({gameName:o.name}),action:this.requiresElevatedPermissions(o)?this.handleRequestElevatedPermissions:this.handleStreamGame})),s.default.isScreenSharing()?(s.default.isSoundSharing()&&(t=y(p.default,{},void 0,y(v.default,{label:g.default.Messages.FORM_LABEL_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:function(e){return e.toFixed(0)+"%"},defaultValue:s.default.getSoundshareVolume()}))),y("div",{className:r,style:a},void 0,t,y(p.default,{},void 0,e,y(h.default,{label:g.default.Messages.SCREENSHARE_CHANGE_WINDOWS,action:this.handleChangeWindows}),y(h.default,{label:g.default.Messages.SCREENSHARE_STOP,action:this.handleStop,danger:!0})))):y("div",{className:r,style:a},void 0,y(p.default,{},void 0,e,y(h.default,{label:g.default.Messages.SCREENSHARE_SHARE_SCREEN_OR_WINDOW,action:this.handleChangeWindows})))},r}(a.PureComponent);t.default=I,I.displayName="ScreenshareContextMenu"},7239:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=l(n(30)),o=l(n(8870));function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){var t,n;function l(t){var n;return(n=e.call(this,t)||this).handleDismiss=n.handleDismiss.bind(u(n)),n.handleConfirm=n.handleConfirm.bind(u(n)),n}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=l.prototype;return s.render=function(){return r.createElement(o.default,i({},this.props,{onConfirm:this.handleConfirm,onDismiss:this.handleDismiss}))},s.close=function(){a.default.pop()},s.handleConfirm=function(){var e=this.props.onConfirm;this.close(),e&&e()},s.handleDismiss=function(){var e=this.props.onDismiss;this.close(),e&&e()},l}(r.PureComponent);s.displayName="VideoDevicesWarningModal";var d=s;t.default=d},7240:function(e,t,n){"use strict";t.__esModule=!0,t.renderTitle=function(e){var t=e.channel,n=e.hasVideo,r=void 0!==n&&n,u=e.isMobile,d=void 0!==u&&u,h=e.handleClick,v=e.handleContextMenu,_=e.renderFollowButton,g=(0,l.default)(t),E=t.getTitleIcon(r);switch(t.type){case f.ChannelTypes.DM:var y=t.getRecipientId();return m(a.Fragment,{},void 0,""!==E?m(c.default.Icon,{name:E,disabled:!0}):null,m(c.default.Title,{onContextMenu:v,onClick:h,className:p.default.cursorPonter},void 0,g),m(i.default,{size:10,userId:y,className:p.default.status,isMobile:d,position:i.TooltipPositions.BOTTOM},y));case f.ChannelTypes.GROUP_DM:return t.isManaged()?g:m(a.Fragment,{},void 0,m(c.default.Icon,{name:o.default.NOVA_PEOPLE,disabled:!0}),m(s.default,{channel:t},"channel-"+t.id));case f.ChannelTypes.GUILD_ANNOUNCEMENT:case f.ChannelTypes.GUILD_TEXT:return m(a.Fragment,{},void 0,""!==E?m(c.default.Icon,{name:E,disabled:!0}):null,m(c.default.Title,{onContextMenu:v,onClick:h},void 0,g),null!=_?_():null);case f.ChannelTypes.GUILD_VOICE:return m(a.Fragment,{},void 0,""!==E?m(c.default.Icon,{name:E,disabled:!0}):null,m(c.default.Title,{onContextMenu:v,onClick:h},void 0,g));default:return null}},t.renderTopic=function(e,t){switch(e.type){case f.ChannelTypes.DM:return m(u.default,{channel:e},e.id);case f.ChannelTypes.GUILD_ANNOUNCEMENT:case f.ChannelTypes.GUILD_TEXT:case f.ChannelTypes.GUILD_VOICE:case f.ChannelTypes.GROUP_DM:return null!=t?m(d.default,{channel:e,guild:t},e.id):null;default:return null}};var r,a=v(n(0)),o=h(n(473)),l=h(n(137)),i=v(n(6950)),u=h(n(7241)),s=h(n(7242)),d=h(n(7244)),c=h(n(6530)),f=n(1),p=h(n(5948));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},7241:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),l=c(n(53)),i=n(6531),u=n(6557),s=c(n(4)),d=c(n(6037));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(u.Divider,{}),h=function(e){var t=e.channel.getRecipientId(),n=(0,o.useStateFromStores)([l.default],function(){return null!=t?l.default.getNicknames(t).join(", "):""});return""===n.trim()?f("div",{className:d.default.spacer}):f(a.Fragment,{},void 0,p,f(i.TextBadge,{text:s.default.Messages.AKA,disableColor:!0,className:d.default.akaBadge}),f("div",{className:d.default.nicknames},void 0,n))};h.displayName="AKA";var v=h;t.default=v},7242:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(140)),l=s(n(137)),i=s(n(7243)),u=s(n(6039));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleBlur=function(e){(0,l.default)(t.props.channel)!==e.currentTarget.value&&o.default.setName(t.props.channel.id,e.currentTarget.value)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return d("div",{className:u.default.container},void 0,d(i.default,{minLen:1,maxLen:100,className:u.default.channelName,value:(0,l.default)(this.props.channel),onBlur:this.handleBlur}))},r}(a.Component);c.displayName="ChannelName";var f=c;t.default=f},7243:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(8)),l=u(n(16)),i=u(n(6038));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=a.createRef(),t.state={focused:!1,lastGoodValue:t.props.value,value:t.props.value},t.handleChange=function(e){t.setState({value:e.currentTarget.value});var n=t.props.onChange;n&&n(e)},t.handleFocus=function(e){t.setState({focused:!0,lastGoodValue:e.currentTarget.value});var n=t.props.onFocus;n&&n(e)},t.handleBlur=function(e){if(c("",t.props,t.state)){t.setState({focused:!1});var n=t.props.onBlur;n&&n(e)}else t.setState({focused:!1,value:t.state.lastGoodValue})},t.handleKeyPress=function(e){13===e.which&&((0,l.default)(null!=t.inputRef.current,"Input is blurred when not mounted"),t.inputRef.current.blur())},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidUpdate=function(e,t){t.focused!==this.state.focused&&this.state.focused&&((0,l.default)(null!=this.inputRef.current,"Input is being focused when not mounted"),this.inputRef.current.focus()),null!==this.props.value&&this.props.value!==e.value&&this.props.value!==this.state.value&&c(this.props.value,this.props,this.state)&&this.setState({value:this.props.value})},u.render=function(){var e,t=this.props.className,n={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:n.opacity=0,s("div",{className:(0,o.default)(i.default.outer,t)},void 0,s("div",{className:i.default.container},void 0,a.createElement("input",{className:i.default.input,ref:this.inputRef,style:n,value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),s("div",{className:i.default.input,style:e},void 0,this.state.value)))},r}(a.Component);function c(e,t,n){void 0===e&&(e="");var r=e||n.value||"";return!(t.minLen&&r.length<t.minLen||t.maxLen&&r.length>t.maxLen)}t.default=d,d.displayName="InputAutosize"},7244:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(8)),l=n(35),i=_(n(30)),u=_(n(137)),s=_(n(878)),d=_(n(71)),c=_(n(66)),f=_(n(6543)),p=_(n(6951)),h=_(n(6530)),v=n(1),m=_(n(6041));function _(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderHeader=function(){return E(c.default,{tag:c.default.Tags.H4},void 0,(0,u.default)(t.props.channel,!0))},t}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.onClose;return E(p.default,{selectable:!0,onClose:n,renderHeader:this.renderHeader},void 0,E(d.default,{selectable:!0,size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY,className:m.default.content},void 0,s.default.parseTopic(t.topic,!0,{channelId:t.id})))},t}(a.Component);S.displayName="ChannelTopicModal";var I=E(h.default.Divider,{}),T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._mouseDown=!1,t.handleOpenTopic=function(e){!(e.target.matches("a")||e.target.parentNode.matches("a")||"highlight"===e.target.className||"highlight"===e.target.parentNode.className)&&i.default.push(S,t.props)},t.onMouseDown=function(){t._mouseDown=!0},t.onMouseMove=function(){t._mouseDown&&(t._mouseDown=!1)},t.onMouseUp=function(e){t._mouseDown&&e.button!==v.MouseButtons.SECONDARY&&t.handleOpenTopic(e),t._mouseDown=!1},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.guild;(0,l.openContextMenu)(e,function(e){return a.createElement(f.default,g({},e,{type:v.ContextMenuTypes.CHANNEL_TOPIC,channel:r,guild:o}))})},t}return y(t,e),t.prototype.render=function(){var e=this.props.channel;return e.isMultiUserDM()?null:null==e.topic||0===e.topic.length?null:E(a.Fragment,{},void 0,I,E("div",{className:(0,o.default)(m.default.topic,m.default.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu},void 0,s.default.parseTopic(e.topic,!0,{channelId:e.id})))},t}(a.Component);T.displayName="ChannelTopic";var O=T;t.default=O},7245:function(e,t,n){"use strict";t.__esModule=!0,t.default=q;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=Y(n(8)),l=Y(n(3)),i=Y(n(2)),u=Y(n(291)),s=Y(n(140)),d=Y(n(269)),c=Y(n(8899)),f=Y(n(285)),p=n(120),h=Y(n(362)),v=Y(n(7016)),m=Y(n(8900)),_=Y(n(51)),g=Y(n(97)),E=Y(n(25)),y=Y(n(11)),S=Y(n(21)),I=Y(n(24)),T=Y(n(42)),O=Y(n(458)),N=Y(n(71)),C=Y(n(138)),A=Y(n(65)),M=Y(n(75)),P=n(136),R=Y(n(6557)),b=Y(n(15)),L=n(272),D=n(80),w=n(193),U=Y(n(468)),G=Y(n(6576)),k=n(6532),F=Y(n(8901)),B=n(1),j=Y(n(4)),H=Y(n(455)),V=Y(n(499)),x=Y(n(6342));function Y(e){return e&&e.__esModule?e:{default:e}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=42;function $(e){var t=e.className,n=e.children;return z(I.default,{align:I.default.Align.CENTER,justify:I.default.Justify.CENTER,direction:I.default.Direction.VERTICAL,className:(0,o.default)(x.default.errorState,t)},void 0,z("div",{className:(0,o.default)(x.default.errorStateIcon,H.default.marginBottom20)}),n)}$.displayName="ErrorState";var Q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={separator:!1,copied:!1},t.scrollerRef=a.createRef(),t.searchBarRef=a.createRef(),t.renderInstantInviteRow=function(e){var n=e.user,r=t.props,a=r.channel,o=r.invite;if(null!=a){null==o&&t.createInvite();var l=null!=o?o.code:"";return z(k.InviteRow,{user:n,code:l,location:B.AnalyticsLocations.ADD_FRIENDS_TO_DM},n.id)}},t.renderAddUserRow=function(e,n){var r=e.user,a=e.comparator,o=t.props,l=o.selectedUsers,i=o.selectedRow,u=o.hideDiscriminator,s=l.has(r.id);return z(F.default,{row:n,user:r,hideDiscriminator:u,comparator:a,checked:s,selected:n===i,onClick:t.handleClick,onMouseEnter:t.focusResult},r.id)},t.forceFocus=function(){var e=t.searchBarRef.current;e&&e.focus()},t.focusResult=function(e){c.default.select(e)},t.handleSelect=function(e,n){var r=t.props.results;null==n?c.default.clear():null!=r&&t.handleClick(r[n].user.id)},t.handleSelectionChange=function(e,n){c.default.select(n);var r=t.scrollerRef.current;null!=r&&r.scrollIntoViewRect(n*K,n*K+K)},t.handleRemoveUser=function(e){var n=Array.from(t.props.selectedUsers);c.default.removeUser(n[e]),t.forceFocus()},t.handleClick=function(e){var n=t.props,r=n.selectedUsers,a=n.query;!r.has(e)?(c.default.addUser(e),a.length>0&&c.default.clear()):c.default.removeUser(e),t.forceFocus()},t.handleScroll=function(){var e=t.scrollerRef.current;null!=e&&t.setState({separator:0!==e.getScrollTop()})},t.handleInviteUsers=function(){var e=t.props,n=e.channel,r=e.selectedUsers,a=e.closePopout,o=Array.from(r);if(null!=n){var l=h.default.isCallActive(n.id);s.default.addRecipients(n.id,o,B.AnalyticsLocations.ADD_FRIENDS_TO_DM).then(function(e){l&&u.default.ring(e,o)})}else s.default.openPrivateChannel(y.default.getCurrentUser().id,o,!1,!1,"New Group DM");a()},t.handleCopyInvite=function(e){var n=t.props,r=n.channel,a=n.invite;null!=a&&(0,L.copy)(e),null!=t.copyTimeout&&clearTimeout(t.copyTimeout),t.setState({copied:!0}),t.copyTimeout=setTimeout(function(){t.setState({copied:!1})},1e3),b.default.track(B.AnalyticEvents.COPY_INSTANT_INVITE,{server:null,channel:null!=r?r.id:null,channel_type:null!=r?r.type:null,location:B.AnalyticsLocations.ADD_FRIENDS_TO_DM,code:null!=a?a.code:null})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){var e=this.props.channel;i.default.wait(function(){return c.default.open()});var t=(0,p.collectChannelAnalyticsMetadata)(e);null!=e?e.isDM()?b.default.track(B.AnalyticEvents.OPEN_POPOUT,W({},t,{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):b.default.track(B.AnalyticEvents.OPEN_POPOUT,W({},t,{type:"Add Friends to DM",source:"Group DM"})):b.default.track(B.AnalyticEvents.OPEN_POPOUT,W({},t,{type:"New Group DM",source:"Friends List"}))},l.componentWillUnmount=function(){null!=this.copyTimeout&&clearTimeout(this.copyTimeout),i.default.wait(function(){return c.default.close()})},l.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM");return!_.default.isFriend(t)},l.createInvite=function(){var e=this.props.channel;null!=e&&e.isMultiUserDM()&&!this.isPartyFull()&&d.default.createInvite(e.id,{max_age:10800},"Group DM Invite Create")},l.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()},l.getMaxParticipants=function(){var e=this.props.channel;return null!=e&&e.userLimit?e.userLimit:B.MAX_GROUP_DM_PARTICIPANTS},l.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-r},l.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=this.getRemaining(),a=null!=t&&0===n.size||r<0;return z(S.default,{fullWidth:!0,disabled:a,onClick:this.handleInviteUsers},void 0,j.default.Messages.CREATE_GROUP_DM)},l.renderAddUsersButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var r=this.getRemaining(),a=0===n.size||r<0;return z("div",{className:x.default.addButton},void 0,z(S.default,{size:S.default.Sizes.SMALL,disabled:a,onClick:this.handleInviteUsers},void 0,j.default.Messages.ADD))}},l.renderSubtitle=function(){var e;if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var t=this.getRemaining(),n=t<=0?j.default.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()}):j.default.Messages.GROUP_DM_INVITE_REMAINING.format({number:t});return z(N.default,{size:N.default.Sizes.SMALL,className:(0,o.default)(x.default.subtitle,(e={},e[x.default.subtitleWarning]=t<0,e),H.default.marginTop4)},void 0,n)},l.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,r=e.results,l=e.selectedRow,i=e.selectedUsers;if(!n||this.isNotFriends())return null;var u=[];return i.forEach(function(e){var t=y.default.getUser(e);null!=t&&u.push(t.username)}),z(I.default,{className:(0,o.default)(x.default.searchBar,H.default.marginTop20)},void 0,a.createElement(G.default,{ref:this.searchBarRef,size:G.default.Sizes.MEDIUM,query:t,selectedSection:0,selectedRow:l,sections:[r?r.length:0],tags:u,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,placeholder:0===i.size?j.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER:null,disabled:this.isPartyFull(),className:x.default.searchBarComponent,autoFocus:!0}),this.renderAddUsersButton())},l.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?j.default.Messages.GROUP_DM_ADD_FRIENDS:j.default.Messages.GROUP_DM_HEADER;return z(M.default.Header,{direction:I.default.Direction.VERTICAL,align:I.default.Align.STRETCH,className:x.default.header,separator:e},void 0,z(P.FormTitle,{tag:P.FormTitle.Tags.H4},void 0,t),this.renderSubtitle(),this.renderSearchBar())},l.renderBody=function(){var e=this,t=this.props,n=t.channel,r=t.hasFriends,l=t.results;if(this.isNotFriends()){var i=null!=n?n.getRecipientId():null;if(null==i)throw new Error("no recipient in DM");var u=y.default.getUser(i),s=null!=u?u.username:"";return z($,{className:x.default.notFriends},void 0,z("div",{},void 0,j.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:s})),z(S.default,{size:S.default.Sizes.SMALL,onClick:function(){return u?e.handleAddFriend(u):null},className:H.default.marginTop20},void 0,j.default.Messages.ADD_FRIEND_BUTTON))}if(!r)return z($,{className:x.default.noFriends},void 0,z("div",{},void 0,j.default.Messages.GROUP_DM_INVITE_NO_FRIENDS));if(this.isPartyFull())return z($,{className:x.default.partyFull},void 0,z("div",{},void 0,j.default.Messages.GROUP_DM_INVITE_FULL_MAIN),z("div",{},void 0,j.default.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()})));if(0===l.length)return z($,{className:(0,o.default)(x.default.noResults,H.default.marginBottom20)},void 0,z("div",{},void 0,j.default.Messages.GROUP_DM_INVITE_EMPTY));var d=E.default.theme,c=l.map(this.renderAddUserRow);return a.createElement(U.default,{ref:this.scrollerRef,className:x.default.scroller,elementHeight:K,theme:U.default.Themes.GHOST_HAIRLINE,backgroundColor:d===B.ThemeTypes.LIGHT?void 0:B.Colors.PRIMARY_DARK_630,onScroll:this.handleScroll,keyboardScroll:!0,track:!1,paddingTop:0,paddingBottom:14,fade:!0},c)},l.renderInviteLink=function(){var e,t=this,n=this.props,r=n.channel,l=n.invite,i=n.hideInstantInvites,u=this.state.copied;if(null==r||!r.isMultiUserDM()||this.isPartyFull())return null;var s=null!=l?(0,w.getInviteURL)(l.code):"";return z(a.Fragment,{},void 0,z(P.FormTitle,{tag:P.FormTitle.Tags.H5,className:H.default.marginBottom8},void 0,j.default.Messages.GROUP_DM_INVITE_LINK_TITLE),z(I.default,{className:(0,o.default)(V.default.input,(e={},e[V.default.success]=u,e)),justify:I.default.Justify.BETWEEN,align:I.default.Align.CENTER},void 0,s.length>0?z(C.default,{className:x.default.copyInput,name:"invite",value:i?j.default.Messages.INSTANT_INVITE_HIDDEN:s,editable:!1,inputClassName:x.default.noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}):z(C.default,{className:x.default.copyInput,name:"invite",value:s,placeholder:(0,w.getInviteURL)(j.default.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),editable:!1,inputClassName:x.default.noBorder,spellCheck:"false",onClick:function(){return t.createInvite()}}),L.SUPPORTS_COPY&&s.length>0?z(S.default,{size:S.default.Sizes.SMALL,color:u?S.default.Colors.GREEN:S.default.Colors.BRAND,className:x.default.copyButton,onClick:function(){return t.handleCopyInvite(s)}},void 0,u?j.default.Messages.INVITE_COPIED:j.default.Messages.COPY):null,0===s.length?z(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.BRAND,className:x.default.copyButton,onClick:function(){return t.createInvite()}},void 0,j.default.Messages.GROUP_DM_INVITE_LINK_CREATE):null),s.length>0?z(N.default,{size:N.default.Sizes.SMALL,className:(0,o.default)(H.default.marginTop8,x.default.footerText)},void 0,j.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:"3"})):null)},l.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var r=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=r?z(a.Fragment,{},void 0,z("div",{className:x.default.footerSeparator}),z(I.default,{direction:I.default.Direction.VERTICAL,className:x.default.footer},void 0,r)):void 0},l.render=function(){return z(M.default,{className:x.default.popout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},l.handleAddFriend=function(e){this.props.closePopout(),f.default.sendRequest(e.tag,{location:"Group DM"})},l.handleQueryChange=function(e){c.default.search(e)},r}(a.PureComponent);Q.displayName="PrivateChannelRecipientsInvitePopout";var X=l.default.connectStores([m.default,v.default,g.default],function(e){var t,n=e.channel;return null!=n&&null!=(t=v.default.getInvite(n.id))&&t.isExpired()&&(t=null),W({},m.default.getState(),{invite:t,hideDiscriminator:g.default.hidePersonalInformation,hideInstantInvites:g.default.hideInstantInvites})})(Q);function q(e){var t=e.channel,n=e.iconClassName,r=e.iconName,o=e.tooltip,l=e.tooltipPosition,i=void 0===l?A.default.Positions.BOTTOM:l,u=e.popoutPosition,s=void 0===u?O.default.Positions.BOTTOM:u,d=e.popoutAlign,c=void 0===d?O.default.Align.RIGHT:d,f=e.subscribeToGlobalHotkey,p=void 0!==f&&f,h=a.useState(null!=t&&t.isGroupDM()&&0===t.recipients.length),v=h[0],m=h[1],_=function(){return m(function(e){return!e})};a.useEffect(function(){return p&&D.ComponentDispatch.subscribe(B.ComponentActions.TOGGLE_DM_CREATE,_),function(){D.ComponentDispatch.unsubscribe(B.ComponentActions.TOGGLE_DM_CREATE,_)}},[p]);return z(O.default,{renderPopout:function(e){return a.createElement(X,W({},e,{channel:t}))},position:s,shouldShow:v,align:c,onRequestClose:function(){return m(!1)},animation:O.default.Animation.NONE},void 0,function(e){return a.createElement(R.default.Icon,W({},e,{onClick:_,name:null!=r?r:null==t?T.default.Names.NOVA_CHAT_NEW:T.default.Names.NOVA_USER_ADD,className:n,iconClassName:n,tooltip:o,tooltipPosition:i}))})}q.displayName="PrivateChannelRecipientsInviteButton"},7246:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=de(n(0)),o=se(n(8)),l=se(n(16)),i=se(n(6)),u=se(n(3)),s=n(45),d=n(29),c=se(n(30)),f=de(n(195)),p=se(n(1007)),h=se(n(861)),v=n(108),m=n(485),_=se(n(8903)),g=se(n(1055)),E=se(n(511)),y=n(6535),S=se(n(5926)),I=de(n(400)),T=se(n(289)),O=se(n(6787)),N=se(n(98)),C=se(n(10)),A=se(n(344)),M=se(n(903)),P=se(n(19)),R=se(n(1019)),b=se(n(40)),L=se(n(68)),D=se(n(905)),w=se(n(11)),U=se(n(977)),G=se(n(185)),k=se(n(21)),F=se(n(24)),B=se(n(42)),j=de(n(65)),H=se(n(6949)),V=n(145),x=se(n(328)),Y=se(n(6557)),W=se(n(257)),z=se(n(15)),K=se(n(183)),$=se(n(20)),Q=se(n(281)),X=se(n(13)),q=n(472),J=se(n(8904)),Z=se(n(7247)),ee=se(n(6653)),te=se(n(8905)),ne=se(n(7248)),re=se(n(8907)),ae=se(n(8908)),oe=se(n(8910)),le=n(1),ie=se(n(4)),ue=se(n(6347));function se(e){return e&&e.__esModule?e:{default:e}}function de(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var he=854,ve=480,me=.2,_e=function(e){function t(){return e.apply(this,arguments)||this}pe(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.allowIdle()},n.render=function(){var e=this.props;return fe("div",{onMouseEnter:e.preventIdle,onMouseLeave:e.allowIdle},void 0,e.children)},t}(a.Component);_e.displayName="PreventIdle";var ge=fe(V.AppLayerContainer,{}),Ee=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._rootRef=a.createRef(),t.state={idle:!1},t._idleDelayedCall=null,t._preventIdle=!1,t._blockDisplaySleepId=null,t.handleStopStream=function(){var e=t.props,n=e.stream,r=e.streamApplication;null!=n&&S.default.hasHotspot(y.HotspotLocations.REPORT_PROBLEM_POST_STREAM)&&Math.random()<me&&(z.default.track(le.AnalyticEvents.OPEN_MODAL,{type:"Stream Problem Report",other_user_id:n.ownerId,application_id:null!=r?r.id:null,application_name:null!=r?r.name:null,game_id:null!=r?r.id:null,source:"Stream End"}),c.default.push(oe.default,{stream:n,streamApplication:r,isStreamer:t.isSelfStream},"stream-report-problem")),(0,E.default)(n)},t.handleMouseEvent=function(){t.state.idle&&t.setState({idle:!1}),t._preventIdle||null==t._idleDelayedCall||t._idleDelayedCall.delay()},t.handleMouseLeave=function(){null!=t._idleDelayedCall&&t._idleDelayedCall.cancel(),t.setState({idle:!0})},t.handleCloseStream=function(){var e=t.props.stream;null!=e&&f.closeStream((0,v.encodeStreamKey)(e))},t.handleOpenPopout=function(){var e=t.props,n=e.stream,r=e.streamer;(0,l.default)(null!=r,"Streaming user should not be null"),(0,l.default)(null!=n,"Stream should not be null"),I.open(le.PopoutWindowKeys.STREAM_POPOUT,function(e){return fe(te.default,{windowKey:e})},{defaultWidth:he,defaultHeight:ve})},t.handleStayOnTop=function(e){I.setAlwaysOnTop(le.PopoutWindowKeys.STREAM_POPOUT,e)},t.handleExitFullscreen=function(){var e=t.props,n=e.popoutWindow,r=e.stream,a=null!=n?n.document:document,o=t._rootRef.current;(0,l.default)(null!=o,"Streaming video player node is null"),(0,l.default)(null!=r,"Streaming video player has null stream"),(0,q.isFullScreen)(o,a)&&(f.setLayout(t.inPopout?le.StreamLayouts.POPOUT:le.StreamLayouts.THEATRE),(0,q.exitFullScreen)(o,p.default.resized,a))},t.handleDoubleClick=function(){!t.inPopout&&t.popoutOpen?(0,g.default)():t.toggleFullscreen()},t.toggleFullscreen=function(){var e=t.props,n=e.popoutWindow,r=e.stream,a=null!=n?n.document:document,o=t._rootRef.current;if((0,l.default)(null!=o,"Streaming video player node is null"),(0,l.default)(null!=r,"Streaming video player has null stream"),t.isFullScreen)f.setLayout(t.inPopout?le.StreamLayouts.POPOUT:le.StreamLayouts.THEATRE),(0,q.exitFullScreen)(o,p.default.resized,a);else{if(t.isMiniPlayer&&!t.inPopout)return;f.setLayout(le.StreamLayouts.FULL_SCREEN),(0,q.requestFullScreen)(o,p.default.resized)}},t.preventIdle=function(){t._preventIdle=!0,null!=t._idleDelayedCall&&t._idleDelayedCall.cancel()},t.allowIdle=function(){t._preventIdle=!1,null!=t._idleDelayedCall&&t._idleDelayedCall.delay()},t.renderHeaderToolbar=function(){var e=t.props.stream;return fe(F.default,{className:ue.default.headerToolbar,grow:0,shrink:1,justify:F.default.Justify.END,basis:"50%",align:F.default.Align.CENTER},void 0,null!=e&&e.state!==le.ApplicationStreamStates.PAUSED&&null!=t.errorMessage?fe(j.TooltipContainer,{text:t.errorMessage,position:j.default.Positions.BOTTOM,color:j.TooltipColors.GREY},void 0,fe(_e,{preventIdle:t.preventIdle,allowIdle:t.allowIdle},void 0,fe(B.default,{"aria-label":t.errorMessage,className:ue.default.warningIcon,name:B.default.Names.WARNING_CIRCLE}))):null,t.isMiniPlayer?null:fe(j.TooltipContainer,{text:ie.default.Messages.LIVE_BETA_DESCRIPTION,position:j.default.Positions.BOTTOM,color:j.TooltipColors.GREY,className:ue.default.liveBetaWrapper},void 0,fe(_e,{preventIdle:t.preventIdle,allowIdle:t.allowIdle},void 0,fe("div",{className:ue.default.liveBeta},void 0,null!=e&&e.state===le.ApplicationStreamStates.ACTIVE?fe(ee.default,{className:ue.default.liveIcon}):null,fe("div",{className:ue.default.beta},void 0,ie.default.Messages.BETA)))))},t}pe(t,e);var n,r,i,u=t.prototype;return u.componentDidMount=function(){var e=this;this.isSelfStream||(this._blockDisplaySleepId=$.default.blockDisplaySleep()),null!=this.props.stream&&(this.inPopout?f.setLayout(le.StreamLayouts.POPOUT):this.isMiniPlayer?f.setLayout(le.StreamLayouts.PIP):f.setLayout(le.StreamLayouts.THEATRE)),this._idleDelayedCall=new d.DelayedCall(1800,function(){return e.setState({idle:!0})}),this._idleDelayedCall.delay()},u.componentDidUpdate=function(e){var t=this.props.streamError;null!=t&&t!==e.streamError&&this.trackErrorViewed(t)},u.componentWillUnmount=function(){null!=this._blockDisplaySleepId&&$.default.unblockDisplaySleep(this._blockDisplaySleepId),null!=this._idleDelayedCall&&(this._idleDelayedCall.cancel(),this._idleDelayedCall=null);var e=this.props.stream;this.inPopout&&null!=e&&f.setLayout(le.StreamLayouts.THEATRE)},u.handleClosePopout=function(){I.close(le.PopoutWindowKeys.STREAM_POPOUT)},u.trackErrorViewed=function(e){var t=this.props,n=t.streamer,r=t.stream,a=t.streamApplication,o=t.guild,l=t.streamRegion;null!=r&&z.default.track(le.AnalyticEvents.STREAM_WARNING_TRIGGERED,{notice_type:e.errorType,streamer_user_id:null!=n?n.id:null,stream_channel_id:r.channelId,stream_region:l,guild_region:null!=o?o.region:null,video_enabled:!0,application_id:null!=a?a.id:null,application_name:null!=a?a.name:null,video_layout:A.default.getLayout(r.channelId),media_session_id:D.default.getActiveMediaSessionId()})},u.renderPopoutButton=function(){var e,t=this.popoutOpen,n=t?ie.default.Messages.POPOUT_RETURN:ie.default.Messages.POPOUT_PLAYER;return fe(j.TooltipContainer,{text:n,color:j.TooltipColors.GREY,className:ue.default.rightTrayIcon},void 0,fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(k.default,{"aria-label":n,onClick:t?this.handleClosePopout:this.handleOpenPopout,look:k.default.Looks.BLANK,size:k.default.Sizes.NONE},void 0,fe(B.default,{className:(0,o.default)(ue.default.controlIcon,(e={},e[ue.default.popIn]=t,e)),name:B.default.Names.EXTERNAL_LINK}))))},u.renderSettingsButton=function(){var e=this.props,t=e.streamApplication,n=e.appContext,r=e.stream;return fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(ne.default,{stream:r,streamApplication:t,wrapperClassName:ue.default.rightTrayIcon,className:ue.default.controlIcon,exitFullScreen:this.handleExitFullscreen,isStreamer:!0,appContext:n}))},u.renderReportIssueButton=function(){var e=this.props,t=e.streamApplication,n=e.appContext,r=e.stream;return fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(ne.default,{stream:r,streamApplication:t,wrapperClassName:ue.default.centerTrayIcon,className:ue.default.controlIcon,exitFullScreen:this.handleExitFullscreen,isStreamer:!1,appContext:n}))},u.renderStayOnTop=function(){var e,t=this,n=this.props.popoutWindowAlwaysOnTop,r=n?ie.default.Messages.POPOUT_REMOVE_FROM_TOP:ie.default.Messages.POPOUT_STAY_ON_TOP;return fe(j.TooltipContainer,{text:r,color:j.TooltipColors.GREY,className:ue.default.rightTrayIcon},void 0,fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(k.default,{"aria-label":r,onClick:function(){return t.handleStayOnTop(!n)},look:k.default.Looks.BLANK,size:k.default.Sizes.NONE},void 0,fe(B.default,{className:(0,o.default)(ue.default.controlIcon,(e={},e[ue.default.activeButton]=n,e)),name:n?B.default.Names.UNPIN:B.default.Names.PIN}))))},u.renderStopStreamButton=function(){var e=this.isSelfStream?ie.default.Messages.STOP_STREAMING:ie.default.Messages.STOP_WATCHING;return fe(j.TooltipContainer,{text:e,color:j.TooltipColors.GREY,className:ue.default.rightTrayIcon},void 0,fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(k.default,{"aria-label":e,onClick:this.handleStopStream,look:k.default.Looks.BLANK,size:k.default.Sizes.NONE},void 0,fe(B.default,{className:ue.default.controlIcon,name:B.default.Names.STOP_STREAM}))))},u.renderSpectators=function(e){var t=e.compact,n=e.canInteractWithViewers,r=this.props,o=r.viewers,l=r.stream,i=r.appContext;return null==l?null:fe(a.Fragment,{},void 0,fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(Z.default,{wrapperClassName:ue.default.leftTrayIcon,appContext:i,stream:l,className:ue.default.inviteIcon,exitFullScreen:this.handleExitFullscreen})),fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(re.default,{className:ue.default.notDraggable,maxVisibleViewers:4,stream:l,viewers:o,compact:t,disableInteraction:!n})))},u.renderFullSizedTitle=function(){var e=this.props,t=e.streamer,n=e.streamerNickname,r=e.streamApplication,o=e.handleJumpToChannel;return null==t?null:fe(Y.default,{className:ue.default.headerBar,transparent:!0,toolbar:this.renderHeaderToolbar()},void 0,fe(Y.default.Title,{className:ue.default.headerTitle,onClick:o},void 0,fe(x.default,{className:ue.default.titleAvatar,size:x.default.Sizes.SIZE_32,src:t.getAvatarURL(),"aria-label":t.username}),n||t.username,null!=r?fe(a.Fragment,{},void 0,fe(Y.default.Divider,{className:ue.default.headerDivider}),fe(W.default,{size:W.default.Sizes.SIZE_16,className:ue.default.headerInfo},void 0,ie.default.Messages.STREAM_PLAYING.format({game:r.name}))):null))},u.renderMiniPlayerTitle=function(){var e=this.props,t=e.streamer,n=e.streamerNickname,r=e.handleJumpToChannel;return null==t?null:fe(Y.default,{className:ue.default.headerBar,transparent:!0,toolbar:this.renderHeaderToolbar()},void 0,fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(Y.default.Title,{className:ue.default.headerTitle,onClick:r},void 0,this.isSelfStream?null:fe(B.default,{name:B.default.Names.ARROW_LEFT,"aria-label":ie.default.Messages.OPEN_IN_THEATER,className:ue.default.backButton,width:20,height:20}),n||t.username)))},u.renderFullSizedControls=function(e){var t=e.canPopout,n=e.canFullscreen,r=e.canStayOnTop,l=e.canInteractWithViewers,i=this.props,u=i.streamer,s=i.popoutWindow;return null==u?null:fe("div",{className:ue.default.videoControls},void 0,fe("div",{className:ue.default.topControls},void 0,this.renderFullSizedTitle()),fe("div",{className:ue.default.bottomControls},void 0,fe(F.default,{grow:0,shrink:1,basis:"50%",align:F.default.Align.CENTER},void 0,this.renderSpectators({compact:!1,canInteractWithViewers:l})),fe(F.default,{grow:1,justify:F.default.Justify.CENTER,align:F.default.Align.CENTER},void 0,this.isSelfStream?fe(a.Fragment,{},void 0,fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(k.default,{className:ue.default.notDraggable,size:k.default.Sizes.SMALL,color:k.default.Colors.RED,onClick:this.handleStopStream},void 0,ie.default.Messages.STOP_STREAMING))):fe(a.Fragment,{},void 0,fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(ae.default,{userId:u.id,currentWindow:this.inPopout&&null!=s?s:void 0,iconClassName:(0,o.default)(ue.default.centerTrayIcon,ue.default.controlIcon),sliderWrapperClassName:ue.default.notDraggable,sliderClassName:ue.default.volumeSlider})),fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(k.default,{className:ue.default.notDraggable,size:k.default.Sizes.SMALL,color:k.default.Colors.BRAND,onClick:this.handleStopStream},void 0,ie.default.Messages.STOP_WATCHING)),this.renderReportIssueButton())),fe(F.default,{grow:0,shrink:1,justify:F.default.Justify.END,basis:"50%",align:F.default.Align.CENTER},void 0,this.isSelfStream?this.renderSettingsButton():null,t&&this.popoutWindowSupported?this.renderPopoutButton():null,r&&this.nativePopoutSupported?this.renderStayOnTop():null,n&&fe(_e,{preventIdle:this.preventIdle,allowIdle:this.allowIdle},void 0,fe(J.default,{wrapperClassName:ue.default.rightTrayIcon,className:ue.default.controlIcon,toggleFullscreen:this.toggleFullscreen,guestWindow:s})))))},u.renderMiniPlayerControls=function(e,t){var n=t.canPopout,r=this.state.idle;return fe(a.Fragment,{},void 0,fe("div",{className:ue.default.videoControls},void 0,fe("div",{className:ue.default.topControls},void 0,this.renderMiniPlayerTitle()),fe("div",{className:ue.default.bottomControls},void 0,fe(F.default,{grow:0,shrink:1,basis:"50%",align:F.default.Align.CENTER},void 0,this.renderSpectators({compact:!0,canInteractWithViewers:!1})),fe(F.default,{grow:0,shrink:1,justify:F.default.Justify.END,basis:"50%",align:F.default.Align.CENTER},void 0,this.isSelfStream?this.renderSettingsButton():null,!this.isSelfStream&&n&&this.popoutWindowSupported?this.renderPopoutButton():null,this.renderStopStreamButton()))),r?fe(ee.default,{className:ue.default.liveIconMiniPlayer}):null)},u.renderScreenMessage=function(e,t){return fe(F.default,{className:ue.default.paused,justify:F.default.Justify.CENTER,align:F.default.Align.CENTER,direction:F.default.Direction.VERTICAL},void 0,fe(W.default,{className:ue.default.title},void 0,e),null!=t?fe(W.default,{className:ue.default.supportingText},void 0,t):null)},u.renderPauseMessage=function(e){var t,n,r=this.props,a=r.streamer,o=r.streamerNickname;return(0,l.default)(null!=a,"Streamer null during pause render"),e?(t=ie.default.Messages.STREAM_CAPTURE_PAUSED,n=this.isSelfStream?ie.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS:ie.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:o||a.username})):this.popoutOpen?t=ie.default.Messages.POPOUT_PLAYER_OPENED:(t=ie.default.Messages.STREAM_PREVIEW_PAUSED,n=ie.default.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT),this.renderScreenMessage(t,n)},u.renderReconnectingMessage=function(){return this.renderScreenMessage(ie.default.Messages.STREAM_RECONNECTING_ERROR,ie.default.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT)},u.renderVideo=function(e){void 0===e&&(e=!1);var t=this.props,n=t.streamId,r=t.stream,o=t.reconnecting,l=t.streamer,i=t.streamPreviewUrl,u=b.default.getMediaEngine().Video;if(null==l)return null;var s=null!=r&&r.state===le.ApplicationStreamStates.PAUSED,d=e||s;return fe(a.Fragment,{},void 0,fe(H.default,{className:ue.default.video,streamId:n,videoComponent:u,paused:d,streamPreviewUrl:i}),o?this.renderReconnectingMessage():null,d&&!o?this.renderPauseMessage(s):null)},u.renderEmpty=function(){return fe(F.default,{justify:F.default.Justify.CENTER,align:F.default.Align.CENTER,direction:F.default.Direction.VERTICAL},void 0,!this.isMiniPlayer&&fe("div",{className:ue.default.emptyImage}),fe("span",{className:(0,o.default)(ue.default.title,ue.default.emptyText)},void 0,ie.default.Messages.STREAM_ENDED),fe(k.default,{size:k.default.Sizes.SMALL,color:k.default.Colors.WHITE,look:k.default.Looks.OUTLINED,onClick:this.handleCloseStream},void 0,ie.default.Messages.CLOSE_STREAM))},u.renderFailed=function(){return fe(F.default,{justify:F.default.Justify.CENTER,align:F.default.Align.CENTER,direction:F.default.Direction.VERTICAL},void 0,!this.isMiniPlayer&&fe("div",{className:ue.default.failedImage}),fe("span",{className:(0,o.default)(ue.default.title,ue.default.emptyText)},void 0,ie.default.Messages.STREAM_FAILED_TITLE),fe("span",{className:(0,o.default)(ue.default.supportingText,ue.default.failedText)},void 0,ie.default.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:K.default.getArticleURL("360030714312")})),fe(k.default,{size:k.default.Sizes.SMALL,color:k.default.Colors.WHITE,look:k.default.Looks.OUTLINED,onClick:this.handleCloseStream},void 0,ie.default.Messages.CLOSE_STREAM))},u.renderPictureInPicture=function(){var e=this.props,t=e.stream,n=e.streamer,r=e.isMainWindowFocused;if(null==t||null==n)return null;var o=this.isSelfStream&&!r,l=this.popoutOpen||o;return fe(a.Fragment,{},void 0,this.renderVideo(l),this.renderMiniPlayerControls(t,{canPopout:!0,canStayOnTop:!1,canFullscreen:!1,canInteractWithViewers:!1}))},u.renderTheater=function(){var e=this.props,t=e.stream,n=e.streamer,r=e.popoutWindow,o=e.isMainWindowFocused;if(null==t||null==n)return null;var l=this.isSelfStream&&!o,i=this.popoutOpen||l,u={canPopout:!0,canStayOnTop:!1,canFullscreen:null==r,canInteractWithViewers:!0};return fe(a.Fragment,{},void 0,this.renderVideo(i),this.isMiniPlayer?this.renderMiniPlayerControls(t,u):this.renderFullSizedControls(u))},u.renderPopout=function(){var e=this.props,t=e.stream,n=e.streamer;if(null==t||null==n)return null;var r={canPopout:!1,canStayOnTop:!0,canFullscreen:!0,canInteractWithViewers:!1};return fe(a.Fragment,{},void 0,this.renderVideo(),this.isMiniPlayer?this.renderMiniPlayerControls(t,r):this.renderFullSizedControls(r))},u.renderFullscreen=function(){var e=this.props,t=e.stream,n=e.streamer;if(null==t||null==n)return null;var r={canPopout:!1,canStayOnTop:!1,canFullscreen:!0,canInteractWithViewers:!1};return fe(V.AppLayerProvider,{},void 0,this.renderVideo(),this.isMiniPlayer?this.renderMiniPlayerControls(t,r):this.renderFullSizedControls(r),ge)},u.render=function(){var e,t,n=this.props,r=n.stream,l=n.streamer,i=this.state.idle;return null==r||null==l?null:(t=r.state===le.ApplicationStreamStates.ENDED?this.renderEmpty():r.state===le.ApplicationStreamStates.FAILED?this.renderFailed():this.isFullScreen?this.renderFullscreen():this.inPopout?this.renderPopout():this.isMiniPlayer?this.renderPictureInPicture():this.renderTheater(),a.createElement("div",{className:(0,o.default)(ue.default.root,(e={},e[ue.default.miniPlayer]=this.isMiniPlayer,e[ue.default.idle]=i,e)),onMouseMove:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseLeave:this.handleMouseLeave,onDoubleClick:this.handleDoubleClick,ref:this._rootRef},t))},n=t,(r=[{key:"inPopout",get:function(){return this.props.appContext===le.AppContext.POPOUT}},{key:"isMiniPlayer",get:function(){var e=this.props,t=e.width,n=e.height;return t<=360||n<=180}},{key:"errorMessage",get:function(){var e=this.props,t=e.isDeveloper,n=e.streamError;return null==n?null:t?n.message+" ("+n.errorType+")":n.message}},{key:"nativePopoutSupported",get:function(){return X.default.embedded&&$.default.supportsFeature(le.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"popoutWindowSupported",get:function(){return!X.default.embedded||this.nativePopoutSupported}},{key:"isSelfStream",get:function(){var e=this.props.streamer;return(0,l.default)(null!=e,"Streaming user should not be null"),e.id===C.default.getId()}},{key:"isFullScreen",get:function(){var e=this.props.popoutWindow,t=null!=e&&this.popoutOpen&&this.inPopout?e.document:document,n=this._rootRef.current;return null!=n&&(0,q.isFullScreen)(n,t)}}])&&ce(n.prototype,r),i&&ce(n,i),t}(a.PureComponent);Ee.displayName="StreamVideoPlayer",Ee.defaultProps={appContext:le.AppContext.APP};var ye=u.default.connectStores([P.default,w.default,N.default,O.default,U.default,L.default,D.default,T.default,G.default,R.default],function(){var e=N.default.getActiveStream(),t=null!=e?O.default.getPreviewURL(e.guildId,e.channelId,e.ownerId):null,n=null!=e?P.default.getGuild(e.guildId):null,r=D.default.getActiveStreamKey(),a=null!=r?N.default.getRTCStream(r):null,o=null!=r?N.default.getViewerIds(r):[],l=null!=e?w.default.getUser(e.ownerId):null,u=null!=l?l.id:null,d=T.default.getWindow(le.PopoutWindowKeys.STREAM_POPOUT),c=G.default.isFocused();return{guild:n,streamer:l,streamerNickname:null!=e?Q.default.getNickname(e.guildId,e.channelId,l):null,stream:e,streamRegion:null!=a?a.region:null,streamPreviewUrl:t,streamId:null!=e?U.default.getStreamId(e.ownerId,s.MediaEngineContextTypes.STREAM):null,streamApplication:(0,m.getStreamerApplication)(e,L.default),popoutWindow:d,reconnecting:null!=e&&e.state===le.ApplicationStreamStates.RECONNECTING,popoutWindowAlwaysOnTop:T.default.getIsAlwaysOnTop(le.PopoutWindowKeys.STREAM_POPOUT),viewers:(0,i.default)(o).map(function(e){return w.default.getUser(e)}).filter(function(e){return null!=e}).value(),isMainWindowFocused:c,isCurrentWindowFocused:null!=d?T.default.getWindowFocused(le.PopoutWindowKeys.STREAM_POPOUT):c,isDeveloper:M.default.isDeveloper,streamError:(0,_.default)(D.default.getQuality(),D.default.getStatsHistory(u,u===C.default.getId()),null!=R.default.getHookError(le.MediaEngineHookTypes.SOUND))}})((0,h.default)(Ee));t.default=ye},7247:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=v(n(3)),o=v(n(30)),l=v(n(14)),i=v(n(19)),u=v(n(64)),s=v(n(21)),d=v(n(42)),c=n(65),f=v(n(6532)),p=n(1),h=v(n(4));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.stream,n=e.guild,r=e.channel,a=e.className,l=e.wrapperClassName,i=e.exitFullScreen,v=e.appContext;return function(e,t){return null!=e&&null!=t&&u.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(n,r)?m(c.TooltipContainer,{text:h.default.Messages.ACTIVITY_INVITE_MODAL_INVITE,color:v!==p.AppContext.OVERLAY?c.TooltipColors.GREY:c.TooltipColors.BLACK,className:l},void 0,m(s.default,{"aria-label":h.default.Messages.ACTIVITY_INVITE_MODAL_INVITE,look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,onClick:function(){return function(e,t,n,r,a){a&&a(),o.default.push(f.default,{guild:e,channel:t,streamUserId:n,analyticsLocation:p.AnalyticsLocations.STREAM,source:p.InstantInviteSources.STREAM_INVITE},"stream-invite-modal",r)}(n,r,t.ownerId,v,i)}},void 0,m(d.default,{className:a,name:d.default.Names.INVITE}))):null}_.displayName="InviteButton";var g=a.default.connectStores([u.default],function(e){var t=e.stream;return{guild:i.default.getGuild(t.guildId),channel:l.default.getChannel(t.channelId)}})(_);t.default=g},7248:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=S(n(3)),l=S(n(30)),i=n(6535),u=S(n(7249)),s=S(n(5926)),d=S(n(11)),c=S(n(21)),f=S(n(42)),p=n(65),h=S(n(271)),v=S(n(96)),m=S(n(7250)),_=S(n(6797)),g=n(1),E=S(n(4)),y=S(n(6045));function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).openSettings=function(){var e=t.props,n=e.streamApplication,r=e.appContext,a=e.stream,o=e.exitFullScreen;o&&o(),null!=a&&l.default.push(m.default,{stream:a,streamApplication:n},"stream-settings",r)},t.openReport=function(){var e=t.props,n=e.streamApplication,r=e.appContext,a=e.stream,o=e.isStreamer,i=e.exitFullScreen;i&&i(),null!=a&&l.default.push(_.default,{stream:a,streamApplication:n,isStreamer:o},"stream-report-problem",r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderReportIssueIcon=function(){var e=this.props.className;return I(f.default,{className:e,name:f.default.Names.REPORT_FLAG})},o.renderStreamSettingsIcon=function(){var e,t=this.props,n=t.className,r=t.hideBadges,o=t.shouldShowHotspot,l=t.isPremium,i=I(f.default,{className:n,name:f.default.Names.GEAR});return r?i:(l?o&&(e=I(u.default,{className:y.default.badgeIcon})):e=I(f.default,{className:y.default.badgeUpgrade,name:f.default.Names.NOVA_UPGRADE_ARROW}),I(a.Fragment,{},void 0,null!=e?I(h.default,{mask:h.default.Masks.HEADER_BAR_BADGE},void 0,i):i,e))},o.render=function(){var e=this.props,t=e.wrapperClassName,n=e.stream,r=e.isStreamer,a=e.appContext;return null==n?null:I(p.TooltipContainer,{text:r?E.default.Messages.STREAMER_SETTINGS_TITLE:E.default.Messages.STREAM_REPORT_A_PROBLEM,color:a!==g.AppContext.OVERLAY?p.TooltipColors.GREY:p.TooltipColors.BLACK,position:p.TooltipPositions.TOP,className:t},void 0,I(c.default,{look:c.default.Looks.BLANK,size:c.default.Sizes.NONE,className:y.default.button,onClick:r?this.openSettings:this.openReport},void 0,r?this.renderStreamSettingsIcon():this.renderReportIssueIcon()))},r}(a.PureComponent);T.displayName="StreamSettingsButton",T.defaultProps={hideBadges:!1};var O=o.default.connectStores([s.default,d.default],function(){return{shouldShowHotspot:s.default.hasHotspot(i.HotspotLocations.GO_LIVE_STREAM_SETTINGS),isPremium:v.default.isPremium(d.default.getCurrentUser())}})(T);t.default=O},7249:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=i(n(8)),l=i(n(6042));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(l.default.hotspot,e)})},a}(a.Component);u.displayName="Hotspot";var s=u;t.default=s},7250:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=F(n(8)),l=F(n(16)),i=F(n(3)),u=n(45),s=F(n(189)),d=F(n(30)),c=F(n(329)),f=n(925),p=F(n(6796)),h=F(n(6578)),v=n(6535),m=n(6567),_=F(n(493)),g=F(n(19)),E=F(n(54)),y=F(n(11)),S=F(n(469)),I=F(n(21)),T=F(n(6706)),O=F(n(58)),N=F(n(24)),C=F(n(42)),A=n(65),M=F(n(75)),P=F(n(66)),R=F(n(257)),b=F(n(15)),L=F(n(20)),D=F(n(6685)),w=F(n(6797)),U=n(1),G=F(n(4)),k=F(n(6044));function F(e){return e&&e.__esModule?e:{default:e}}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(e,t,n,r){var a,l,i=e.value,u=e.label;return n?(a=H(A.TooltipContainer,{text:G.default.Messages.STREAM_QUALITY_UNLOCK},void 0,H(N.default,{align:N.default.Align.CENTER},void 0,H(R.default,{size:R.default.Sizes.SIZE_12,className:k.default.selectorNitroText},void 0,u),H(C.default,{name:C.default.Names.NITRO,color:U.Colors.BRAND,className:k.default.selectorNitroIcon}))),l=x):(a=H(R.default,{size:R.default.Sizes.SIZE_12,className:t?k.default.selectorTextSelected:k.default.selectorText},void 0,u),l=function(){return r(i)}),{content:a,className:(0,o.default)(t?k.default.selectorButtonSelected:k.default.selectorButton),onClick:l}}function x(){Y(),b.default.track(U.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:{page:U.AnalyticsLocations.STREAM}}),c.default.open(U.UserSettingsSections.PREMIUM)}function Y(){d.default.popWithKey("stream-settings")}var W=H(D.default,{}),z=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={resolution:t.props.resolution,fps:t.props.fps},t.handleReportClick=function(){var e=t.props,n=e.stream,r=e.streamApplication;b.default.track(U.AnalyticEvents.OPEN_MODAL,{type:"Stream Problem Report",other_user_id:n.ownerId,application_id:null!=r?r.id:null,application_name:null!=r?r.name:null,game_id:null!=r?r.id:null}),d.default.push(w.default,{stream:n,streamApplication:r,isStreamer:!0},"stream-report-problem")},t.changeSettings=function(){var e=t.props.runningGame,n=t.state,r=n.resolution,a=n.fps;(0,l.default)(null!=e,"Received null runningGame");var o=L.default.getDesktopSourceFromPid(e.pid);null!=o&&s.default.setDesktopSource(o,r,a,!0,u.MediaEngineContextTypes.STREAM),Y()},t.handleSetResolution=function(e){t.setState({resolution:e})},t.handleSetFPS=function(e){t.setState({fps:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,c=r.prototype;return c.componentDidMount=function(){var e=this.props.stream;b.default.track(U.AnalyticEvents.OPEN_MODAL,{type:"Stream Settings Modal",other_user_id:e.ownerId}),(0,m.hideHotspot)(v.HotspotLocations.GO_LIVE_STREAM_SETTINGS)},c.renderStreamerSettings=function(){var e=this,t=this.props,n=t.userPremiumType,r=t.guildPremiumTier,a=this.state,o=a.resolution,l=a.fps,i=f.ApplicationStreamResolutionButtons.map(function(t){return V(t,t.value===o,!(0,p.default)(f.ApplicationStreamResolutionRequirements[t.value],n,r),e.handleSetResolution)}),u=f.ApplicationStreamFPSButtons.map(function(t){return V(t,t.value===l,!(0,p.default)(f.ApplicationStreamFPSRequirements[t.value],n,r),e.handleSetFPS)});return H(N.default,{direction:N.default.Direction.VERTICAL,shrink:0,className:k.default.selector},void 0,H(N.default.Child,{grow:0,className:k.default.settings},void 0,H(P.default,{tag:P.default.Tags.H5},void 0,G.default.Messages.SCREENSHARE_STREAM_QUALITY),H(T.default,{buttons:i})),H(N.default.Child,{grow:0,className:k.default.settings},void 0,H(P.default,{tag:P.default.Tags.H5},void 0,G.default.Messages.SCREENSHARE_FRAME_RATE),H(T.default,{buttons:u})))},c.render=function(){return H(M.default,{},void 0,W,H(M.default.Header,{separator:!1},void 0,H(M.default.CloseButton,{className:k.default.closeButton,onClick:Y}),H(P.default,{tag:P.default.Tags.H2,className:k.default.title},void 0,G.default.Messages.STREAMER_SETTINGS_TITLE)),H(M.default.Content,{},void 0,this.renderStreamerSettings(),H("div",{className:k.default.divider}),H(O.default,{className:k.default.reportText,onClick:this.handleReportClick},void 0,G.default.Messages.STREAM_REPORT_PROBLEM)),H(M.default.Footer,{separator:!1},void 0,this.settingsChanged?H(I.default,{color:I.default.Colors.BRAND,onClick:this.changeSettings},void 0,G.default.Messages.STREAM_REPORT_SUBMIT):H(I.default,{color:I.default.Colors.BRAND,onClick:Y},void 0,G.default.Messages.DONE),H(N.default,{},void 0,H(I.default,{look:I.default.Looks.LINK,color:I.default.Colors.PRIMARY,size:I.default.Sizes.NONE,onClick:Y},void 0,G.default.Messages.CANCEL))))},a=r,(o=[{key:"settingsChanged",get:function(){var e=this.props,t=e.resolution,n=e.fps,r=this.state,a=r.resolution,o=r.fps;return t!==a||n!==o}}])&&j(a.prototype,o),i&&j(a,i),r}(a.PureComponent);z.displayName="StreamSettings";var K=i.default.connectStores([_.default,y.default,E.default,S.default],function(e){var t=e.stream,n=_.default.getState(),r=(0,h.default)(E.default,S.default),a=y.default.getCurrentUser(),o=g.default.getGuild(t.guildId);return B({},n,{runningGame:r,userPremiumType:null!=a?a.premiumType:null,guildPremiumTier:null!=o?o.premiumTier:null})},{forwardRef:!0})(z);t.default=K},7251:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=[{value:o.StreamIssueReportReasons.BLACK_SCREEN,label:t?a.default.Messages.STREAM_REPORT_ENDED_BLACK:a.default.Messages.STREAM_REPORT_BLACK},{value:o.StreamIssueReportReasons.BLURRY,label:t?a.default.Messages.STREAM_REPORT_ENDED_BLURRY:a.default.Messages.STREAM_REPORT_BLURRY},{value:o.StreamIssueReportReasons.LAGGING,label:t?a.default.Messages.STREAM_REPORT_ENDED_LAGGING:a.default.Messages.STREAM_REPORT_LAGGING},{value:o.StreamIssueReportReasons.OUT_OF_SYNC,label:t?a.default.Messages.STREAM_REPORT_ENDED_OUT_OF_SYNC:a.default.Messages.STREAM_REPORT_OUT_OF_SYNC},{value:o.StreamIssueReportReasons.AUDIO_MISSING,label:t?a.default.Messages.STREAM_REPORT_ENDED_AUDIO_MISSING:a.default.Messages.STREAM_REPORT_AUDIO_MISSING},{value:o.StreamIssueReportReasons.AUDIO_POOR,label:t?a.default.Messages.STREAM_REPORT_ENDED_AUDIO_POOR:a.default.Messages.STREAM_REPORT_AUDIO_POOR}];e&&n.push({value:o.StreamIssueReportReasons.GAME_ISSUE,label:a.default.Messages.STREAM_REPORT_GAME_ISSUE});t&&n.push({value:o.StreamIssueReportReasons.NO_ISSUE,label:a.default.Messages.STREAM_REPORT_NO_ISSUE});return n};var r,a=(r=n(4))&&r.__esModule?r:{default:r},o=n(7252)},7252:function(e,t,n){"use strict";var r;t.__esModule=!0,t.StreamIssueReportReasons=void 0;var a=(0,((r=n(82))&&r.__esModule?r:{default:r}).default)({BLACK_SCREEN:null,BLURRY:null,LAGGING:null,OUT_OF_SYNC:null,AUDIO_MISSING:null,AUDIO_POOR:null,GAME_ISSUE:null,NO_ISSUE:null});t.StreamIssueReportReasons=a},7253:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(139)),i=c(n(6955)),u=c(n(152)),s=c(n(4)),d=c(n(6046));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).scroller=a.createRef(),t.handleDisagree=function(){var e=t.props.guild;null!=e&&l.default.nsfwDisagree(e.id)},t.handleAgree=function(){var e=t.props.guild;null!=e&&l.default.nsfwAgree(e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.componentDidMount=function(){var e=this.scroller.current;null!=e&&e.scrollToBottom()},c.render=function(){return a.createElement(u.default,{ref:this.scroller,className:d.default.scrollerSettings,outerClassName:d.default.scrollWrap},f("div",{className:(0,o.default)(this.props.className,d.default.wrapper)},void 0,f(i.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:s.default.Messages.NSFW_TITLE,description:s.default.Messages.NSFW_DESCRIPTION,agreement:s.default.Messages.NSFW_ACCEPT,disagreement:s.default.Messages.NSFW_DECLINE})))},r}(a.PureComponent);p.displayName="GuildNSFW";var h=p;t.default=h},7254:function(e,t,n){"use strict";t.__esModule=!0,t.APPLICATION_STORE_LAYOUT=void 0;var r,a=n(6799),o=n(6629),l=n(1);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=i({},o.DEFAULT_LAYOUT,((r={})[l.KeybindActions.CAROUSEL_NEXT]=a.CAROUSEL_NEXT,r[l.KeybindActions.CAROUSEL_PREV]=a.CAROUSEL_PREV,r));t.APPLICATION_STORE_LAYOUT=u},7255:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(101)),l=n(259),i=f(n(260)),u=f(n(15)),s=f(n(7256)),d=f(n(7263)),c=n(1);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._applicationIdsViewed=new Set,t._skuIdsViewed=new Set,t.handleSKUViewed=function(e){t._applicationIdsViewed.add(e.applicationId),t._skuIdsViewed.add(e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props,t=e.location,n=e.analyticsContext,r=null!=t.search?o.default.parse(t.search.slice(1)):null;u.default.track(c.AnalyticEvents.STORE_DIRECTORY_VIEWED,{load_id:n.loadId,source:null!=t.state?t.state.analyticsSource:c.DIRECT_ANALYTICS_LOCATION,location:n.location.page,utm_campaign_current:null!=r?r.utm_campaign_current:null})},i.componentWillUnmount=function(){var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;if(null==n)throw new Error("loadDate was null during unmount");u.default.track(c.AnalyticEvents.STORE_DIRECTORY_EXITED,{load_id:t,duration_ms:Date.now()-n,application_ids_viewed:Array.from(this._applicationIdsViewed),sku_ids_viewed:Array.from(this._skuIdsViewed)})},i.render=function(){var e=this,t=this.props,n=t.scrollTo,r=t.getScrollTop;return p(l.Switch,{},void 0,p(l.Route,{path:c.Routes.APPLICATION_STORE,exact:!0,render:function(t){return a.createElement(d.default,h({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}),p(l.Route,{path:c.Routes.APPLICATION_STORE_BROWSE,render:function(t){return a.createElement(s.default,h({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}))},r}(a.Component);v.displayName="ApplicationStoreDirectory";var m=(0,i.default)(v);t.default=m},7256:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=H(n(5)),l=H(n(101)),i=H(n(339)),u=H(n(3)),s=H(n(2)),d=n(7257),c=n(6798),f=n(877),p=H(n(192)),h=H(n(473)),v=H(n(260)),m=H(n(6570)),_=H(n(50)),g=H(n(25)),E=H(n(6800)),y=H(n(119)),S=H(n(461)),I=H(n(24)),T=H(n(152)),O=H(n(6789)),N=H(n(347)),C=H(n(182)),A=H(n(15)),M=n(80),P=n(270),R=H(n(36)),b=n(466),L=H(n(517)),D=n(6710),w=H(n(331)),U=H(n(6530)),G=H(n(7259)),k=H(n(6803)),F=n(1),B=H(n(4)),j=H(n(6055));function H(e){return e&&e.__esModule?e:{default:e}}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var x=function(e){var t=e.label,n=e.options,r=e.value,a=e.onChange,o=e.onOpen,l=e.onClose;return V("div",{className:j.default.filterBrowsing},void 0,V("label",{},void 0,t),V(N.default,{className:j.default.filterBrowsingSelectValue,popoutClassName:j.default.filterBrowsingSelectPopout,look:N.default.Looks.MINIMAL,options:n,value:r,onChange:a,onOpen:o,onClose:l}))};x.displayName="FilterItem";var Y=(0,o.default)(new Date(0)),W=function(e){var t=y.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},z=function(e,t){var n=W(e),r=W(t);return n.name.localeCompare(r.name,"en",{sensitivity:"base"})},K=function(e,t){return z(t,e)},$=function(e,t){var n=W(e),r=W(t),a=n.releaseDate,o=r.releaseDate,l=Date.now();return(null==a||a.isAfter(l))&&(a=Y),(null==o||o.isAfter(l))&&(o=Y),a.isAfter(o)?-1:a.isBefore(o)?1:z(e,t)},Q=(0,P.cachedFunction)(function(e){for(var t=new Set,n=0;n<e.length;n++){var r=y.default.get(e[n]);null!=r&&null!=r.genres&&r.genres.size>0&&Array.from(r.genres).forEach(function(e){return t.add(e)})}var a=Array.from(t).map(function(e){return{label:(0,b.getGenreText)(e),value:e}}).sort(function(e,t){return"string"!=typeof e.label||"string"!=typeof t.label?0:e.label.localeCompare(t.label)});return a.unshift({label:B.default.Messages.APPLICATION_STORE_FILTER_ALL_GENRES,value:F.StoreApplicationGenresFilter.ALL}),a}),X=V(k.default,{}),q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).scrollerRef=a.createRef(),t.searchBoxRef=a.createRef(),t._popoutCount=0,t.getFiltersQueryObject=function(e){var n=t.props.filters,r=e&&null!=e.q?e.q:n.q,a=e&&null!=e.sort?e.sort:n.sort,o=e&&null!=e.genre?e.genre:n.genre;return{q:r,sort:a,genre:(0,b.getGenreURLSlugFromId)(o)}},t.trackFilterUpdated=function(e){A.default.track(F.AnalyticEvents.STORE_DIRECTORY_FILTER_UPDATED,{load_id:t.props.analyticsContext.loadId,filter:e})},t.filterByGenre=function(e){var n=e.value;t.trackFilterUpdated(n),t.updateUrlWithFilters({genre:n},{persistForBackButton:!0})},t.sortByApplicationOrder=function(e){var n=e.value;t.updateUrlWithFilters({sort:n},{persistForBackButton:!0})},t.filterByTitle=function(e){t.updateUrlWithFilters({q:e})},t.focusInput=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).searchBoxRef;null!=e.current&&e.current.focus()},t.handlePopoutOpen=function(){t._popoutCount+=1},t.handlePopoutClose=function(){t._popoutCount=Math.max(0,t._popoutCount-1)},t.handleScroll=function(){t._popoutCount>0&&p.default.closeAll()},t.getSortedSkuIds=function(e,t){switch(t){case F.StoreApplicationSort.NEW_RELEASES:return e.allSkuIds.sort($);case F.StoreApplicationSort.ALPHABETICAL:return e.allSkuIds.sort(z);case F.StoreApplicationSort.REVERSE_ALPHABETICAL:return e.allSkuIds.sort(K);default:return e.allSkuIds}},t.scrollTo=function(e,n){if(void 0===n&&(n=!1),null!=t.props.scrollTo)t.props.scrollTo(e,n);else{var r=t.scrollerRef.current;null!=r&&r.scrollTo(e,n)}},t.getScrollTop=function(){return null!=t.props.getScrollTop?t.props.getScrollTop():null!=t.scrollerRef.current?t.scrollerRef.current.getScrollData().scrollTop:0},t.handleToggleHideLibraryApplications=function(e,t){(0,d.setHideLibraryGames)(t)},t.handleFilterTitleChange=function(e){t.filterByTitle(e)},t.reset=function(){t.filterByTitle("")},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this.props,t=e.filters,n=e.location.search,r=this.getFiltersQueryObject({});L.default.formatSearch(r)!==n&&R.default.replaceWith(L.default.formatPathWithQuery(F.Routes.APPLICATION_STORE_BROWSE,r)),(0,D.deepLinkRouteIfLandedAndNotAuthed)(F.RPCDeepLinks.STORE_BROWSE,t),M.ComponentDispatch.subscribe(F.ComponentActions.FOCUS_SEARCH,this.focusInput);var a=this.props,o=a.lastDirectoryScrollTop,l=a.directoryLayoutId,i=a.shouldFetchDirectoryLayout;null!=o&&this.scrollTo(o),i&&s.default.wait(function(){(0,d.loadDirectory)(l)});var u=this.props,c=u.location,f=u.analyticsContext.loadId;A.default.track(F.AnalyticEvents.STORE_DIRECTORY_BROWSE_VIEWED,{source:null!=c.state?c.state.analyticsSource:F.DIRECT_ANALYTICS_LOCATION,load_id:f})},o.componentWillUnmount=function(){var e=this;s.default.wait(function(){M.ComponentDispatch.unsubscribe(F.ComponentActions.FOCUS_SEARCH,e.focusInput),(0,c.handleDirectoryUnmount)(e.getScrollTop(),F.DirectoryLocations.BROWSE),(0,d.saveFilters)(e.getFiltersQueryObject()),(0,f.muteStoreDirectory)()})},o.updateUrlWithFilters=function(e,t){var n=(void 0===t?{}:t).persistForBackButton,r=L.default.formatPathWithQuery(F.Routes.APPLICATION_STORE_BROWSE,this.getFiltersQueryObject(e));n?R.default.transitionTo(r):R.default.replaceWith(r)},o.renderListings=function(){var e=this.props,t=e.directoryLayout,n=e.isLibraryApplicationsHidden,r=e.filters,o=r.sort,l=r.genre,i=r.q,u=e.onSKUViewed,s=e.isFetchingDirectoryLayout;if(null==t)return s?this.renderLoading():null;var d={titleQuery:null!=i&&i.length>=3?i:null,hideApplicationsInUserLibrary:n,genre:l,premiumOnly:!0};return a.createElement(T.default,{ref:this.scrollerRef,track:!0,onScroll:this.handleScroll,gutterStyle:T.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0,className:j.default.scroller},V("div",{className:j.default.filterBackground},void 0,V("h2",{className:j.default.browseTitle},void 0,B.default.Messages.APPLICATION_STORE_NAVIGATION_BROWSE_PREMIUM),V(w.default,{section:F.AnalyticsSections.HERO},void 0,this.renderFilters())),V(w.default,{section:F.AnalyticsSections.BODY},void 0,V("div",{className:j.default.browse},void 0,V(G.default,{className:j.default.applications,viewConfig:d,skuIds:this.getSortedSkuIds(t,o),analyticsSort:o,onSKUViewed:u}))))},o.renderLoading=function(){return V(I.default,{align:I.default.Align.CENTER,justify:I.default.Justify.CENTER},void 0,V(C.default,{className:j.default.spinner}))},o.renderFilterByGenre=function(){var e=this.props,t=e.directoryLayout,n=e.filters.genre;if(null==t)return null;var r=Q(t.allSkuIds);return V(x,{label:B.default.Messages.APPLICATION_STORE_BROWSE_BY_GENRE_LABEL,options:r,value:n,onChange:this.filterByGenre,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},o.renderFilterByTitle=function(){var e=this.props.filters.q;return a.createElement(O.default,{searchTerm:e,className:j.default.filterByTitle,inputClassName:j.default.filterByTitleInput,label:B.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,placeholder:B.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,onChange:this.handleFilterTitleChange,onClear:this.reset,autoFocus:null!=e&&e.length>0,ref:this.searchBoxRef})},o.renderSortBy=function(){var e=this.props.filters.sort;return V(x,{label:B.default.Messages.APPLICATION_STORE_SORT_BY,options:[{label:B.default.Messages.APPLICATION_STORE_BROWSE_SORT_NEW_RELEASES,value:F.StoreApplicationSort.NEW_RELEASES},{label:B.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_ALPHABETICAL,value:F.StoreApplicationSort.ALPHABETICAL},{label:B.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_REVERSE_ALPHABETICAL,value:F.StoreApplicationSort.REVERSE_ALPHABETICAL}],value:e,onChange:this.sortByApplicationOrder,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},o.renderFilters=function(){var e=this.props,t=e.isLibraryApplicationsHidden,n=e.libraryApplicationsSize,r=e.isAuthenticated,a=e.theme;return V("header",{className:j.default.filters},void 0,V("div",{className:j.default.filterBrowsingHeaderWrapper},void 0,this.renderFilterByTitle()),V("div",{className:j.default.sortFilterBar},void 0,V("div",{className:j.default.filterAndSort},void 0,this.renderFilterByGenre(),this.renderSortBy()),r?V(S.default,{className:j.default.hideGames,value:t,onChange:this.handleToggleHideLibraryApplications,type:a===F.ThemeTypes.DARK?S.default.Types.INVERTED:S.default.Types.DEFAULT,reverse:!0},void 0,t?B.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY_HIDDEN.format({gamesHidden:n}):B.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY):null))},o.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=l.default.parse(n.search.slice(1)),a=null!=r.genre?(0,b.getGenreIdFromURLSlug)(r.genre):null,o=null!=a&&-1!==a?(0,b.getGenreText)(a):null,u=null!=o?B.default.Messages.APPLICATION_STORE_GENRE_TITLE.format({genre:o}):"Discord";return V("div",{className:j.default.browseWrapper},void 0,V(i.default,{title:u}),V(U.default,{isAuthenticated:t},void 0,V(U.default.Icon,{name:h.default.NITRO_WHEEL}),X),this.props.isFetchingDirectoryLayout?this.renderLoading():this.renderListings())},r}(a.PureComponent);function J(e,t,n){return new Set(Object.values(t)).has(e)?e:n}q.displayName="ApplicationStoreBrowse";var Z=(0,m.default)((0,v.default)(q)),ee=u.default.connectStores([E.default,_.default,g.default],function(e){var t=e.location,n=null==t.state||!1!==t.state.scrollRestoration,r=E.default.lastBrowseDirectoryView,a=t.search.slice(1),o=0!==a.length?l.default.parse(a):E.default.previousFilters,i=null!=o.genre?(0,b.getGenreIdFromURLSlug)(o.genre):null;return{directoryLayoutId:F.STORE_DIRECTORY_LAYOUT_ID,directoryLayout:E.default.getDirectoryLayout(F.STORE_DIRECTORY_LAYOUT_ID),shouldFetchDirectoryLayout:E.default.shouldFetch(F.STORE_DIRECTORY_LAYOUT_ID),isFetchingDirectoryLayout:E.default.isFetching(F.STORE_DIRECTORY_LAYOUT_ID),lastDirectoryScrollTop:null!=r&&n&&r.scrollTop,isLibraryApplicationsHidden:E.default.isLibraryApplicationsHidden,filters:{q:o.q,sort:J(o.sort,F.StoreApplicationSort,F.StoreApplicationSort.NEW_RELEASES),genre:J(i,F.StoreApplicationGenresFilter,F.StoreApplicationGenresFilter.ALL)},libraryApplicationsSize:Object.keys(_.default.getAllLibraryApplications()).length,theme:g.default.theme}})(Z);t.default=ee},7257:function(e,t,n){"use strict";t.__esModule=!0,t.loadLayout=function(e){return f.apply(this,arguments)},t.loadDirectory=function(e){return p.apply(this,arguments)},t.setHideLibraryGames=function(e){a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_SET_HIDE_LIBRARY,hidden:e})},t.updateSearchTerm=function(e){a.default.wait(function(){return a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_SET_SEARCH_QUERY,query:e})})},t.saveFilters=function(e){a.default.wait(function(){return a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_SAVE_FILTERS,filters:e})})},t.clearStoreData=function(){a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_CLEAR_DATA})};var r=s(n(12)),a=s(n(2)),o=s(n(234)),l=s(n(7258)),i=n(154),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){d(o,r,a,l,i,"next",e)}function i(e){d(o,r,a,l,i,"throw",e)}l(void 0)})}}function f(){return(f=c(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START,layoutId:t}),e.next=3,r.default.get(u.Endpoints.STORE_DIRECTORY_LAYOUT(t));case 3:return n=e.sent,o=l.default.createFromServer(n.body),a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS,directoryLayout:o}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.httpGetWithCountryCodeQuery)(u.Endpoints.STORE_DIRECTORY(t));case 3:n=e.sent,r=n.body,s=n.body.store_listings,a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS,directoryLayout:l.default.createFromServer(r),storeListings:s}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),a.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_FAILURE,layoutId:t}),new o.default(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}},7258:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(52))&&r.__esModule?r:{default:r},o=n(1e3);var l=function(e){var t,n;function r(t){var n;return(n=e.call(this)||this).id=t.id,n.heroItems=t.heroItems,n.premiumSkuIds=t.premiumSkuIds,n.recommendedSkuIds=t.recommendedSkuIds,n.categories=t.categories,n.allSkuIds=t.allSkuIds,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.createFromServer=function(e){return new r({id:e.id,heroItems:e.hero_items.map(function(e){return{skuId:e.sku_id,url:e.url,title:e.title,header:e.header,description:e.description,buttonLabel:e.button_label,thumbnail:null!=e.thumbnail?(0,o.transformStoreAssetFromServer)(e.thumbnail):null,previewVideo:null!=e.preview_video?(0,o.transformStoreAssetFromServer)(e.preview_video):null,fullVideo:null!=e.full_video?(0,o.transformStoreAssetFromServer)(e.full_video):null,paginationImage:null!=e.pagination_image?(0,o.transformStoreAssetFromServer)(e.pagination_image):null,background:null!=e.background?(0,o.transformStoreAssetFromServer)(e.background):null}}).filter(Boolean),premiumSkuIds:e.featured_premium_skus,recommendedSkuIds:null!=e.recommended_skus&&e.recommended_skus.length>0?e.recommended_skus:null,categories:null!=e.categories&&e.categories.length>0?e.categories.map(function(e){return{name:e.name,skuIds:e.skus}}):null,allSkuIds:e.all_skus})},r}(a.default);t.default=l},7259:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(0)),o=y(n(8)),l=y(n(3)),i=S(n(35)),u=y(n(50)),s=y(n(185)),d=y(n(119)),c=y(n(24)),f=y(n(36)),p=n(190),h=y(n(912)),v=y(n(6658)),m=n(1),_=y(n(4)),g=y(n(6052)),E=y(n(6053));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=(0,p.cssValueToNumber)(g.default.mediaQueryMobileHeader),N=function(e){var t=d.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).analyticsPropsForTile=function(e){var n=t.props,r=n.analyticsSort,a=n.viewConfig;return{listIndex:e+n.analyticsIndexOffset,listSort:null!=r?r:null,listSearched:null!=a&&Boolean(a.titleQuery)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getFilteredSkuIds=function(e,t){if(null==e)return t;var n=e.titleQuery,r=e.hideApplicationsInUserLibrary,a=e.genre,o=e.premiumOnly,l=t;return null!=a&&a!==m.StoreApplicationGenresFilter.ALL&&(l=l.filter(function(e){var t=N(e);return null!=t.genres&&t.genres.has(a)})),null!=n&&(l=l.filter(function(e){var t=N(e);return null!=t&&t.name.toLowerCase().includes(n.toLowerCase())})),r&&(l=l.filter(function(e){var t=N(e);return!u.default.hasApplication(t.applicationId,t.applicationId,!0)})),o&&(l=l.filter(function(e){return N(e).premium})),l},l.handleTileContextMenu=function(e,t){i.openContextMenu(e,function(e){return a.createElement(h.default,T({},e,{type:m.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},l.renderEmptyState=function(){return I("div",{className:this.props.className},void 0,I("div",{className:E.default.emptyWumpus}),I("h1",{className:E.default.noMatches},void 0,_.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),I("div",{className:E.default.noMatchesDescription},void 0,_.default.Messages.APPLICATION_STORE_SEARCH_EMPTY.format({goToGuildDiscovery:function(){return f.default.transitionTo(m.Routes.GUILD_DISCOVERY)}})))},l.render=function(){var e=this,t=this.props,n=t.skuIds,r=t.className,l=t.viewConfig,i=t.maxTiles,u=t.onSKUViewed,s=t.tileDisplayType,d=t.tileClassName,f=t.wrap,p=this.getFilteredSkuIds(l,n);if(0===p.length||0===i)return this.renderEmptyState();var h=null!=i?p.slice(0,i):p;return I("div",{className:r},void 0,I(c.default,{wrap:f?c.default.Wrap.WRAP:c.default.Wrap.NO_WRAP},void 0,h.map(function(t,n){var r=e.analyticsPropsForTile(n);return a.createElement(v.default,T({key:t,skuId:t},r,{type:s,className:(0,o.default)(E.default.tile,d),onSKUViewed:u,onContextMenu:e.handleTileContextMenu}))})))},r}(a.Component);C.displayName="ApplicationDirectoryTileLayout",C.defaultProps={analyticsIndexOffset:0,tileDisplayType:m.StoreDirectoryTileTypes.BOX_ART,wrap:!0};var A=l.default.connectStores([s.default],function(){return{isSmallResolution:s.default.windowSize().width<O}})(C);t.default=A},7260:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=h(n(8)),o=h(n(21)),l=h(n(7070)),i=h(n(7071)),u=h(n(6641)),s=n(466),d=n(154),c=h(n(880)),f=n(6693),p=h(n(6047));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=v(f.InLibraryPrice,{}),_=function(e){var t=e.sku,n=e.storeListing,r=e.playing,f=e.muted,h=e.inLibrary,_=e.showMediaPlaceholder,g=e.onToggleMute,E=e.isMouseOver,y=e.className,S=e.showBuyInline||!t.requiresPayment,I=E&&r,T=S&&!h&&E&&r;return v("div",{className:(0,a.default)(p.default.tileMedia,y)},void 0,v(u.default,{className:p.default.splashContainer,video:null!=n.previewVideo?(0,d.getAssetURL)(t.applicationId,n.previewVideo):null,image:null!=n.boxArt?(0,d.getAssetURL)(t.applicationId,n.boxArt,600):null!=n.thumbnail?(0,d.getAssetURL)(t.applicationId,n.thumbnail,600):null,title:t.name,playing:r,muted:f,placeholder:_,onToggleMute:g,renderMediaOverlay:function(e){var n,r,u,d,f,_;return v("div",{},void 0,v("div",{className:(0,a.default)(p.default.mediaFade,(n={},n[p.default.mediaFadePlaying]=e,n))}),v("div",{className:(0,a.default)(p.default.details,(r={},r[p.default.detailsPlaying]=e,r))},void 0,v("h2",{className:p.default.gameTitle},void 0,t.name),v("div",{className:p.default.genres},void 0,Array.from(t.genres).map(function(e){return v("span",{className:p.default.genreTag},e,(0,s.getGenreText)(e))})),S?v("div",{className:(0,a.default)(p.default.tileOwnership,(u={},u[p.default.tileOwnershipVisible]=I,u))},void 0,h?m:v(c.default,{skuId:t.id,applicationId:t.applicationId,size:o.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:(0,a.default)(p.default.tileBuyButton,(d={},d[p.default.tileBuyButtonVisible]=T,d))})):null),t.exclusive?v(l.default,{className:(0,a.default)(p.default.exclusiveMedia,(f={},f[p.default.exclusivePlaying]=e,f))}):t.isTheGameAwardsWinner?v(i.default,{className:(0,a.default)(p.default.exclusiveMedia,(_={},_[p.default.exclusivePlaying]=e,_))}):null)}}))};_.displayName="ApplicationTileFullMedia";var g=_;t.default=g},7261:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=E(n(8)),l=n(259),i=E(n(3)),u=E(n(260)),s=E(n(11)),d=E(n(21)),c=E(n(6641)),f=E(n(15)),p=E(n(96)),h=n(154),v=E(n(6801)),m=E(n(6802)),_=n(1),g=E(n(6050));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).trackLinkClicked=function(){var e=t.props,n=e.tileData.skuId,r=e.analyticsContext;n===_.PREMIUM_ROUTE_HASH&&f.default.track(_.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:S({},r.location,{object:_.AnalyticsObjects.CARD,objectType:_.AnalyticsObjectTypes.PERK})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getPerkLocation=function(){var e=this.props,t=e.index,n=e.analyticsContext.location,r=e.tileData.skuId,a={analyticsProperties:{list_index:t},analyticsSource:{object:_.AnalyticsObjects.CARD,objectType:_.AnalyticsObjectTypes.PERK,page:n.page,section:n.section}};return r===_.PREMIUM_ROUTE_HASH?{hash:_.PREMIUM_ROUTE_HASH,state:a}:(0,h.getStoreListingLocation)(r,S({},a))},i.renderMedia=function(){var e=this.props,t=e.playing,n=e.muted,r=e.showMediaPlaceholder,a=e.onToggleMute,o=e.tileData,l=o.name,i=o.video,u=o.image;return y(c.default,{className:g.default.splashContainer,video:i,image:u,placeholder:r,title:l,playing:t,muted:n,onToggleMute:a,splashClassName:g.default.splashVideo,splashPlaceholderClassName:g.default.splashPlaceholder})},i.renderActions=function(){var e,t,n=this.props,r=n.isMouseOver,l=n.isUserPremium,i=n.tileData.skuId;return y(a.Fragment,{},void 0,y(m.default,{className:(0,o.default)(g.default.perkTag,(e={},e[g.default.perkTagHidden]=!l&&r,e))}),l?null:y(v.default,{skuId:i,size:d.default.Sizes.SMALL,className:(0,o.default)(g.default.tileBuyButton,(t={},t[g.default.tileBuyButtonVisible]=r,t))}))},i.render=function(){var e=this.props,t=e.className,n=e.tileData,r=n.name,a=n.tagline,i=e.onMouseEnter,u=e.onMouseLeave;return y(l.Link,{className:(0,o.default)(g.default.tile,t),to:this.getPerkLocation(),onClick:this.trackLinkClicked,onMouseEnter:i,onMouseLeave:u},void 0,y("div",{className:g.default.media},void 0,this.renderMedia()),y("div",{className:g.default.description},void 0,y("h2",{className:g.default.title},void 0,r),y("div",{className:g.default.tagline},void 0,a),y("div",{className:g.default.actions},void 0,this.renderActions())))},r}(a.PureComponent);I.displayName="PerkTile",I.defaultProps={isMouseOver:!1};var T=(0,u.default)(i.default.connectStores([s.default],function(){return{isUserPremium:p.default.canInstallPremiumApplications(s.default.getNullableCurrentUser())}})(I));t.default=T},7262:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(8)),l=n(259),i=g(n(3)),u=g(n(260)),s=g(n(11)),d=g(n(21)),c=g(n(6641)),f=g(n(96)),p=n(154),h=g(n(6801)),v=g(n(6802)),m=n(1),_=g(n(6051));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getPerkLocation=function(){var e=this.props,t=e.index,n=e.analyticsContext.location,r=e.tileData.skuId,a={analyticsProperties:{list_index:t},analyticsSource:{object:m.AnalyticsObjects.CARD,objectType:m.AnalyticsObjectTypes.PERK,page:n.page,section:n.section}};return(0,p.getStoreListingLocation)(r,y({},a))},i.renderMedia=function(){var e=this.props,t=e.playing,n=e.muted,r=e.showMediaPlaceholder,a=e.onToggleMute,o=e.tileData,l=o.name,i=o.video,u=o.image;return E(c.default,{className:_.default.splashContainer,video:i,image:u,placeholder:r,title:l,playing:t,muted:n,onToggleMute:a,splashClassName:_.default.splashVideo,splashPlaceholderClassName:_.default.splashPlaceholder})},i.renderActions=function(){var e,t,n=this.props,r=n.isMouseOver,l=n.isUserPremium,i=n.tileData.skuId;return E(a.Fragment,{},void 0,E(v.default,{className:(0,o.default)(_.default.perkTag,(e={},e[_.default.perkTagHidden]=!l&&r,e))}),l?null:E(h.default,{skuId:i,size:d.default.Sizes.SMALL,className:(0,o.default)(_.default.tileBuyButton,(t={},t[_.default.tileBuyButtonVisible]=r,t))}))},i.render=function(){var e=this.props,t=e.className,n=e.tileData,r=n.name,a=n.tagline,i=e.onMouseEnter,u=e.onMouseLeave;return E(l.Link,{className:(0,o.default)(_.default.tile,t),to:this.getPerkLocation(),onMouseEnter:i,onMouseLeave:u},void 0,E("div",{},void 0,this.renderMedia()),E("div",{className:_.default.mediaFade}),E("div",{className:_.default.description},void 0,E("h2",{className:_.default.title},void 0,r),E("div",{className:_.default.tagline},void 0,a),E("div",{className:_.default.actions},void 0,this.renderActions())))},r}(a.PureComponent);S.displayName="PerkTileFullMedia",S.defaultProps={isMouseOver:!1};var I=(0,u.default)(i.default.connectStores([s.default],function(){return{isUserPremium:f.default.canInstallPremiumApplications(s.default.getNullableCurrentUser())}})(S));t.default=I},7263:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=T(n(339)),l=n(259),i=T(n(3)),u=T(n(260)),s=T(n(6570)),d=T(n(11)),c=T(n(24)),f=T(n(42)),p=T(n(152)),h=T(n(182)),v=T(n(331)),m=T(n(6530)),_=T(n(6956)),g=T(n(6658)),E=T(n(6807)),y=n(1),S=T(n(4)),I=T(n(6069));function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=O(o.default,{title:"Discord"}),C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPerkListings=function(){var e=t.props.onSKUViewed;return O("div",{className:I.default.perkListings},void 0,O("h3",{className:I.default.categoryHeader},void 0,S.default.Messages.APPLICATION_STORE_PREMIUM_PERKS_HEADER),O("div",{},void 0,O(E.default,{tileWidth:y.PREMIUM_HOME_TILE_WIDTH,tileMargin:y.PREMIUM_HOME_TILE_MARGIN},void 0,y.PERK_TILES.map(function(t,n){return O(g.default,{tileData:t,type:y.StoreDirectoryTileTypes.PERK,className:I.default.homeTile,onSKUViewed:e},n)}))))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderLoading=function(){return O(c.default,{align:c.default.Align.CENTER,justify:c.default.Justify.CENTER},void 0,O(h.default,{className:I.default.spinner}))},a.renderPremiumPage=function(){return O("div",{className:I.default.premiumContainer},void 0,O(_.default,{hideBackground:!0,renderPerkListings:this.renderPerkListings}))},a.render=function(){var e=this.props,t=e.isAuthenticated,n=e.user;return t?O("div",{className:I.default.homeWrapperNormal},void 0,N,O(v.default,{section:y.AnalyticsSections.NAVIGATION},void 0,O(m.default,{isAuthenticated:t,className:I.default.headerBar},void 0,O(m.default.Icon,{name:f.default.Names.NITRO_WHEEL}),O(m.default.Title,{},void 0,S.default.Messages.PREMIUM))),O(p.default,{track:!0,gutterStyle:p.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0,outerClassName:I.default.container,className:I.default.scroller},void 0,null==n?this.renderLoading():this.renderPremiumPage())):O(l.Redirect,{to:y.Routes.LOGIN})},r}(a.PureComponent);C.displayName="ApplicationStoreHome";var A=i.default.connectStores([d.default],function(){return{user:d.default.getNullableCurrentUser()}})((0,s.default)((0,u.default)(C)));t.default=A},7264:function(e,t,n){"use strict";t.__esModule=!0,t.fetchUserTrialEligibility=function(e){return u.apply(this,arguments)};var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function u(){var e;return e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.default.get(o.Endpoints.USER_TRIAL_ELIGIBILITY(t));case 3:a.default.dispatch({type:o.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),404===e.t0.status&&a.default.dispatch({type:o.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!1});case 9:case"end":return e.stop()}},e,null,[[0,6]])}),(u=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){i(o,r,a,l,u,"next",e)}function u(e){i(o,r,a,l,u,"throw",e)}l(void 0)})}).apply(this,arguments)}},7265:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;g(n(0));var r,a=_(n(8)),o=_(n(6)),l=g(n(916)),i=_(n(11)),u=_(n(221)),s=_(n(336)),d=_(n(42)),c=_(n(456)),f=_(n(257)),p=_(n(96)),h=n(1),v=_(n(4)),m=_(n(6056));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.user,n=e.planId,r=e.count,a=e.userPremiumSubscription,o=(0,l.useStateFromStoresArray)([u.default],function(){return[u.default.get(n),null!=a?u.default.get(a.planId):null]}),i=o[0],s=o[1];if(null==i||p.default.getInterval(n)!==h.SubscriptionIntervalTypes.MONTH)return null;var _=null!=s?s.skuId:null,g=i.skuId===_,y=p.default.getDisplayName(n);return E("div",{className:m.default.accountCreditRow},void 0,E("div",{className:i.skuId===h.PremiumSubscriptionSKUs.TIER_2?m.default.iconBackgroundTier2:m.default.iconBackgroundTier1},void 0,E(d.default,{name:d.default.Names.NITRO_WHEEL,className:m.default.icon})),E("div",{className:m.default.rowDetails},void 0,E(c.default,{size:c.default.Sizes.SIZE_16},void 0,v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:y})),t.hasFreePremium()?null:E(c.default,{muted:!0,className:m.default.rowApplied},void 0,g&&null!=a?v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:a.currentPeriodEnd}):v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:y}))),E(f.default,{className:m.default.rowCreditCount,size:f.default.Sizes.SIZE_16},void 0,v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:r})))}function S(e){var t=e.className,n=e.entitlements,r=(0,o.default)(Array.from(n)).filter(function(e){var t=e.subscriptionPlanId,n=e.parentId,r=e.consumed;return null!=t&&null!=n&&!r}).groupBy(function(e){return e.subscriptionPlanId}).value(),u=(0,l.default)([s.default],function(){return s.default.getPremiumSubscription()}),d=(0,l.default)([i.default],function(){return i.default.getCurrentUser()});return E("div",{className:(0,a.default)(t,m.default.premiumSubscriptionAccountCredit)},void 0,Object.keys(r).map(function(e){return E(y,{planId:e,count:r[e].length,userPremiumSubscription:u,user:d},e)}))}y.displayName="AccountCreditRow",S.displayName="PremiumSubscriptionAccountCredit";var I=S;t.default=I},7266:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l={};var i=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isUserEligible=function(e){return l[e]},r}(r.default.Store))(a.default,{BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS:function(e){var t=e.trialId,n=e.eligible;l[t]=n},LOGOUT:function(e){l={}}});t.default=i},7267:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(8)),o=l(n(6057));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.className,n=e.style;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(o.default.mechaWumpus,t),style:n})};i.displayName="MechaWumpus";var u=i;t.default=u},7268:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(329)),l=n(351),i=f(n(42)),u=f(n(6959)),s=n(1),d=f(n(4)),c=f(n(6059));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderPerkListings=function(){var e=this.props.renderPerkListings;return null==e?null:p("div",{className:c.default.subsection},void 0,e())},a.render=function(){return p("section",{className:c.default.section},void 0,p("div",{className:c.default.subsection},void 0,p("h4",{className:c.default.subsectionHeader},void 0,d.default.Messages.PREMIUM_FEATURES_CHAT_PERKS_HEADER),p(u.default,{features:[{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_PREMIUM_GUILD,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_PREMIUM_GUILD_INCLUDED.format({numFreeGuildSubscriptions:l.NUM_FREE_GUILD_SUBSCRIPTIONS_WITH_PREMIUM}),iconName:i.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,iconClass:c.default.iconPremiumGuild},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_PREMIUM_GUILD_DISCOUNT,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_PREMIUM_GUILD_DISCOUNT.format({discount:l.PREMIUM_GUILD_FOR_PREMIUM_USER_DISCOUNT_PERCENT,onLearnMore:function(){return o.default.open(s.UserSettingsSections.PREMIUM_GUILD_SUBSCRIPTION)}}),iconName:i.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,iconClass:c.default.iconPremiumGuild},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_CUSTOM_EMOJI,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_CUSTOM_EMOJI,iconName:i.default.Names.GLOBE,iconClass:c.default.iconCustomEmoji},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_DISCRIMINATOR,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_DISCRIMINATOR,iconName:i.default.Names.HASH,iconClass:c.default.iconDiscriminator},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_ANIMATED_AVATAR_AND_EMOJI,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_ANIMATED_AVATAR_AND_EMOJI,iconName:i.default.Names.INVERTED_GIF_LABEL,iconClass:c.default.iconAnimatedEmoji},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_STREAMING,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_STREAMING,iconName:i.default.Names.STREAM,iconClass:c.default.iconStream},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_SCREENSHARE,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_SCREENSHARE,iconName:i.default.Names.OVERLAPPING_RECT,iconClass:c.default.iconScreenshare},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_UPLOAD_LIMIT,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_UPLOAD_LIMIT.format({maxUploadStandard:d.default.Messages.FILE_UPLOAD_LIMIT_STANDARD,maxUploadPremiumTier1:d.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_1,maxUploadPremiumTier2:d.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_2}),iconName:i.default.Names.UPLOAD_2,iconClass:c.default.iconUpload},{title:d.default.Messages.PREMIUM_CHAT_PERKS_TITLE_BADGE,description:d.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_BADGE,iconName:i.default.Names.NITRO_WHEEL_2,iconClass:c.default.iconBadge}],columns:3})),this.renderPerkListings())},r}(a.PureComponent);t.default=h,h.displayName="PremiumFeatures"},7269:function(e,t,n){"use strict";t.__esModule=!0,t.default=v;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(283),o=f(n(221)),l=f(n(71)),i=n(96),u=n(156),s=n(1),d=f(n(4)),c=f(n(6060));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.subscription,n=(0,a.useSubscriptionInvoice)({premiumSubscription:t,renewal:!0})[0];if(null==n)return null;var r=n.invoiceItems.find(function(e){var t=e.subscriptionPlanId;return(0,i.isPremiumBaseSubscriptionPlan)(t)});if(null==r)return null;var f=r.subscriptionPlanId,h=o.default.getHardcoded(f).interval===s.SubscriptionIntervalTypes.YEAR,v=(0,u.formatPrice)(n.total,n.currency);return p(l.default,{className:c.default.finePrint,size:l.default.Sizes.SMALL},void 0,h?d.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_YEARLY.format({price:v,termsUrl:s.MarketingURLs.TERMS,privacyUrl:s.MarketingURLs.PRIVACY}):d.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_MONTHLY.format({price:v,termsUrl:s.MarketingURLs.TERMS,privacyUrl:s.MarketingURLs.PRIVACY}))}function v(e){var t=e.subscription;return t.status===s.SubscriptionStatusTypes.CANCELED||t.isPurchasedViaApple?null:p(h,{subscription:t})}h.displayName="PremiumSubscriptionFinePrintContent",v.displayName="PremiumSubscriptionFinePrint"},7270:function(e,t,n){"use strict";t.__esModule=!0,t.default=M;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=I(n(8)),o=I(n(5)),l=I(n(329)),i=n(283),u=I(n(221)),s=I(n(21)),d=I(n(42)),c=I(n(182)),f=n(136),p=I(n(96)),h=n(156),v=I(n(6805)),m=I(n(7271)),_=I(n(7274)),g=I(n(7275)),E=n(1),y=I(n(4)),S=I(n(6066));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.renewalInvoicePreview,n=e.subscriptionStatus,r=e.className,o=t.invoiceItems.find(function(e){var t=e.subscriptionPlanId;return t===E.SubscriptionPlans.PREMIUM_MONTH_GUILD||t===E.SubscriptionPlans.PREMIUM_YEAR_GUILD});if(null==o)return null;var i,d,c=o.subscriptionPlanId,f=o.amount,p=o.quantity,m=u.default.getHardcoded(c);switch(n){case E.SubscriptionStatusTypes.CANCELED:i=S.default.premiumGuildSubscriptionRowCanceled,d=s.default.Colors.YELLOW;break;case E.SubscriptionStatusTypes.PAST_DUE:i=S.default.premiumGuildSubscriptionRowPastDue,d=s.default.Colors.RED;break;case E.SubscriptionStatusTypes.ACTIVE:default:i=S.default.premiumGuildSubscriptionRowActive,d=s.default.Colors.BRAND}return T("div",{className:(0,a.default)(i,r)},void 0,T("div",{className:S.default.premiumGuildSubscriptionRowBackground}),T("div",{className:S.default.premiumGuildImage}),T("div",{className:S.default.premiumGuildSubscriptionRowBody},void 0,T("div",{className:S.default.premiumGuildWordmark}),T("div",{},void 0,y.default.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_RENEWAL_INFO.format({quantity:p,rate:(0,h.formatRate)((0,h.formatPrice)(f,m.currency),m.interval)}))),T(v.default,{color:d,onClick:function(){return l.default.open(E.UserSettingsSections.PREMIUM_GUILD_SUBSCRIPTION)}},void 0,y.default.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS))}function N(e){var t=e.subscription,n=e.renewalInvoicePreview,r=e.className,l=(0,h.formatPrice)(n.total,n.currency);return T("div",{className:(0,a.default)(S.default.billingInformation,r)},void 0,T(f.FormTitle,{tag:f.FormTitle.Tags.H3,className:S.default.detailBlockHeader},void 0,y.default.Messages.PREMIUM_SETTINGS_BILLING_INFO),T("div",{},void 0,t.status===E.SubscriptionStatusTypes.CANCELED?y.default.Messages.PREMIUM_SETTINGS_CANCELLED_INFO.format({endDate:n.subscriptionPeriodStart,price:l}):t.status===E.SubscriptionStatusTypes.PAST_DUE?y.default.Messages.PREMIUM_SETTINGS_PAST_DUE_INFO.format({endDate:(0,o.default)(n.subscriptionPeriodStart).add(E.MAX_INVOICE_PAYMENT_DAYS,"days"),price:l}):y.default.Messages.PREMIUM_SETTINGS_RENEWAL_INFO.format({renewalDate:n.subscriptionPeriodStart,price:l})))}function C(e){var t=e.subscription,n=p.default.getGrandfatheredEndDate(t.planId),r=y.default.Messages.PREMIUM_GRANDFATHERED_YEARLY.format({date:n}),a=y.default.Messages.PREMIUM_GRANDFATHERED_MONTHLY.format({date:n});return T("div",{className:S.default.grandfatheredMessage},void 0,T(d.default,{name:d.default.Names.NITRO_WHEEL,className:S.default.grandfatheredIcon}),T("span",{},void 0,p.default.getInterval(t.planId)===E.SubscriptionIntervalTypes.YEAR?r:a))}O.displayName="PremiumGuildSubscriptionHeader",N.displayName="SubscriptionBillingInformation",C.displayName="GrandfatheredNotice";var A=T(c.default,{});function M(e){var t,n=e.subscription,r=e.paymentSource,a=e.busy,o=e.className,l=(0,i.useSubscriptionInvoice)({premiumSubscription:n,renewal:!0})[0];if(null==l)return A;null==n.renewalMutations||n.renewalMutations.planId===n.planId||p.default.isNoneSubscription(n.renewalMutations.planId)||(t=T(g.default,{subscription:n,renewalMutations:n.renewalMutations,className:S.default.renewalMutationNotice}));var u=p.default.isGrandfathered(n.planId);return T("div",{className:o},void 0,T(f.FormTitle,{tag:f.FormTitle.Tags.H2},void 0,y.default.Messages.BILLING_PAYMENT_PREMIUM),t,u?T(C,{subscription:n}):null,T("div",{className:S.default.subscriptionRows},void 0,T(m.default,{subscription:n,renewalInvoicePreview:l,paymentSource:r,busy:a}),T(O,{renewalInvoicePreview:l,subscriptionStatus:n.status,className:S.default.guildSubscriptionRow})),T("div",{className:S.default.divider}),T("div",{},void 0,T(f.FormTitle,{tag:f.FormTitle.Tags.H5},void 0,y.default.Messages.BILLING_STEP_PAYMENT),T("div",{className:S.default.details},void 0,T(N,{subscription:n,renewalInvoicePreview:l,className:S.default.detailsBlock}),T(_.default,{subscription:n,className:S.default.detailsBlock}))))}M.displayName="SubscriptionDetails"},7271:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(0)),o=N(n(8)),l=N(n(16)),i=N(n(5)),u=N(n(30)),s=C(n(497)),d=n(7272),c=n(896),f=N(n(11)),p=N(n(221)),h=N(n(106)),v=C(n(21)),m=N(n(42)),_=N(n(65)),g=C(n(96)),E=n(156),y=N(n(6804)),S=N(n(6805)),I=n(1),T=N(n(4)),O=N(n(6063));function N(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R={page:I.AnalyticsPages.USER_SETTINGS,section:I.AnalyticsSections.SETTINGS_PREMIUM,object:I.AnalyticsObjects.CARD},b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).unsubscribe=function(){var e=t.props.subscription,n=g.default.isGrandfathered(e.planId);e.status===I.SubscriptionStatusTypes.ACTIVE&&(n?u.default.push(function(e){return a.createElement(y.default,M({},e,{onConfirm:t.showCancelModal}))}):t.showCancelModal())},t.showCancelModal=function(){var e=t.props.subscription;(0,d.openPremiumSubscriptionCancellationModal)(e)},t.showSwitchPlans=function(){var e=t.props.subscription;null!=e.planId&&g.default.isGrandfathered(e.planId)?u.default.push(function(e){return a.createElement(y.default,M({},e,{onConfirm:function(){return(0,c.openPremiumSwitchPlanModal)({analyticsLocation:R})}}))}):(0,c.openPremiumSwitchPlanModal)({analyticsLocation:R})},t.resubscribe=function(){var e=t.props,n=e.paymentSource,r=e.subscription;null!=r&&(null!=n?s.resubscribe(r,n):(0,c.openPremiumSwitchPlanModal)({initialPlanId:r.planId,analyticsLocation:R}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var N,C,b,L=r.prototype;return L.renderSubscriptionInfo=function(e){var t=this.props,n=t.subscription,r=t.renewalInvoicePreview,a=n.currentPeriodStart,o=n.currentPeriodEnd;if(n.status===I.SubscriptionStatusTypes.PAST_DUE)return T.default.Messages.PREMIUM_PAST_DUE.format({date:(0,i.default)(a).add(I.MAX_INVOICE_PAYMENT_DAYS,"days")});if(this.isCancelled||null==n.paymentSourceId&&!f.default.getCurrentUser().hasFreePremium())return T.default.Messages.PREMIUM_CANCELED.format({date:o});(0,l.default)(null!=r,"Expected renewalInvoicePreview");var u=r.invoiceItems.find(function(t){return t.subscriptionPlanId===e});if(null==u)return null;var s=p.default.getHardcoded(e),d=u.amount;return(0,E.formatRate)((0,E.formatPrice)(d,s.currency),s.interval)},L.renderButtons=function(){var e=this,t=this.props,n=t.busy,r=t.subscription,l=r.status;if(r.isPurchasedViaApple)return A(h.default,{href:I.AppleBillingUrls.SUBSCRIPTION_MANAGEMENT,useDefaultUnderlineStyles:!1},void 0,A(v.default,{className:(0,o.default)(O.default.toolsButton,O.default.appleButton),size:v.default.Sizes.SMALL,look:v.ButtonLooks.OUTLINED,color:v.ButtonColors.WHITE,submitting:n},void 0,T.default.Messages.BILLING_MANAGE_SUBSCRIPTION));if(this.isCancelled)return A(v.default,{className:O.default.toolsButton,size:v.default.Sizes.SMALL,look:v.ButtonLooks.INVERTED,color:v.ButtonColors.YELLOW,submitting:n,onClick:this.resubscribe},void 0,T.default.Messages.RESUBSCRIBE);if(l===I.SubscriptionStatusTypes.ACTIVE){var i=!1,u=null;return null!=r.renewalMutations&&(i=!0,u=r.renewalMutations.planId!==r.planId?T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION),A("div",{className:O.default.toolsButtons},void 0,A(v.default,{className:O.default.toolsButton,size:v.default.Sizes.SMALL,look:v.ButtonLooks.LINK,color:v.ButtonColors.WHITE,submitting:n,onClick:this.unsubscribe},void 0,T.default.Messages.CANCEL),A(_.default,{text:u},void 0,function(t){return a.createElement(S.default,M({},t,{disabled:i,className:O.default.toolsButton,onClick:e.showSwitchPlans}),T.default.Messages.PREMIUM_SWITCH_PLANS)}))}},L.render=function(){var e,t,n=this.props,r=n.subscription,i=n.renewalInvoicePreview,u=r.status;if(r.status===I.SubscriptionStatusTypes.CANCELED)t=r.planId;else{(0,l.default)(null!=i,"Expected renewalInvoicePreview");var s=i.invoiceItems.find(function(e){var t=e.subscriptionPlanId;return(0,g.isPremiumBaseSubscriptionPlan)(t)});null==s||g.default.isNoneSubscription(s.subscriptionPlanId)?(t=r.planId,u=I.SubscriptionStatusTypes.CANCELED):t=s.subscriptionPlanId}if(g.default.isNoneSubscription(t))return null;var d=u===I.SubscriptionStatusTypes.UNPAID||u===I.SubscriptionStatusTypes.ACTIVE,c=g.default.getPremiumType(t),f=g.default.isGrandfathered(t),p=((e={})[O.default.tierGrandfathered]=d&&f,e[O.default.tier1]=!(d&&f||c!==I.PremiumTypes.TIER_1),e[O.default.tier2]=!(d&&f||c!==I.PremiumTypes.TIER_2),e[O.default.canceled]=u===I.SubscriptionStatusTypes.CANCELED,e[O.default.pastDue]=u===I.SubscriptionStatusTypes.PAST_DUE,e);return A("div",{className:(0,o.default)(O.default.banner,p)},void 0,A("div",{className:O.default.bannerBackgroundImage}),A("div",{className:O.default.image}),A("div",{className:O.default.details},void 0,c===I.PremiumTypes.TIER_2||f?A(m.default,{name:m.default.Names.DISCORD_NITRO,className:O.default.planName}):a.createElement(a.Fragment,null,A(m.default,{name:m.default.Names.DISCORD_WORDMARK,className:O.default.discordWordmark}),A("div",{className:O.default.classicWordmark})),A("div",{className:O.default.planInfo},void 0,this.renderSubscriptionInfo(t))),A("div",{className:O.default.buttons},void 0,this.renderButtons()))},N=r,(C=[{key:"isCancelled",get:function(){var e=this.props.subscription,t=e.status,n=e.renewalMutations;return t===I.SubscriptionStatusTypes.CANCELED||null!=n&&g.default.isNoneSubscription(n.planId)}}])&&P(N.prototype,C),b&&P(N,b),r}(a.Component);b.displayName="SubscriptionHeader";var L=b;t.default=L},7272:function(e,t,n){"use strict";t.__esModule=!0,t.default=B,t.openPremiumSubscriptionCancellationModal=function(e){(0,_.openModal)(function(t){return a.createElement(B,R({},t,{premiumSubscription:e}))})};var r,a=P(n(0)),o=M(n(8)),l=M(n(16)),i=n(3),u=n(186),s=M(n(221)),d=M(n(106)),c=M(n(21)),f=M(n(24)),p=M(n(274)),h=M(n(182)),v=n(136),m=n(220),_=n(265),g=P(n(96)),E=n(7273),y=n(283),S=n(363),I=n(489),T=M(n(997)),O=n(998),N=n(1),C=M(n(4)),A=M(n(6062));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){b(o,r,a,l,i,"next",e)}function i(e){b(o,r,a,l,i,"throw",e)}l(void 0)})}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=Object.freeze({START:1,PREVIEW:2});function U(e){var t=e.premiumSubscription,n=e.hasAdditionalPlans,r=e.setStep,o=e.onClose,l=a.useState(!1),i=l[0],s=l[1],d=a.useState(!1),h=d[0],_=d[1],y=g.default.getPremiumType(t.planId),S=n?D(c.default,{onClick:function(){return r(w.PREVIEW)}},void 0,C.default.Messages.NEXT):D(c.default,{color:c.default.Colors.RED,disabled:i,onClick:L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),_(!1),e.next=5,(0,u.updateSubscription)(t,{plan:(0,E.getNonePlanIdForSubscription)(t)});case 5:o(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),_(!0),s(!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))},void 0,C.default.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:g.default.getDisplayPremiumType(t.planId)}));return a.createElement(a.Fragment,null,D(m.ModalHeader,{separator:!1},void 0,D(v.FormTitle,{tag:v.FormTitleTags.H4},void 0,C.default.Messages.PREMIUM_CANCEL_CONFIRM_TITLE.format({planPremiumType:g.default.getDisplayPremiumType(t.planId)})),D(m.ModalCloseButton,{onClick:o})),D(m.ModalContent,{className:A.default.body},void 0,h?D(p.default,{className:A.default.errorBlock},void 0,C.default.Messages.BILLING_ERROR_GENERIC):null,D("div",{className:A.default.cancelImage}),D("div",{},void 0,y===N.PremiumTypes.TIER_1?C.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_1.format({date:t.currentPeriodEnd}):C.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_2.format({date:t.currentPeriodEnd}))),D(m.ModalFooter,{justify:f.default.Justify.START},void 0,S,D(c.default,{look:c.default.Looks.LINK,color:c.default.Colors.WHITE,onClick:o},void 0,C.default.Messages.CANCEL)))}var G=D(S.PremiumInvoiceTableDivider,{});function k(e){var t=e.premiumSubscription,n=(0,y.useSubscriptionInvoice)({premiumSubscription:t,planId:(0,E.getNonePlanIdForSubscription)(t),renewal:!0})[0],r=(0,i.useStateFromStores)([s.default],function(){return s.default.getHardcoded(t.planId)});return null==n?D(h.default,{className:A.default.loading}):D("div",{className:A.default.bodyText},void 0,D("div",{className:A.default.renewalInvoiceDate},void 0,C.default.Messages.BILLING_SWITCH_PLAN_CHANGE_DATE.format({renewalDate:n.subscriptionPeriodStart})),D(S.PremiumInvoiceTable,{},void 0,D(S.PremiumInvoiceTableHeader,{},void 0,C.default.Messages.PREMIUM_SUBSCRIPTION_UPDATES),D(S.PremiumInvoiceTableRow,{label:C.default.Messages.PREMIUM_SUBSCRIPTION_CANCELLED.format({planName:g.default.getDisplayName(r.id)}),value:(0,g.getFormattedRateForPlan)(r),className:A.default.invoiceCancelRow}),G,D(I.SubscriptionInvoiceFooter,{premiumSubscription:t,renewalInvoice:n,isUpdate:!0})))}function F(e){var t=e.premiumSubscription,n=e.onBack,r=e.onClose,i=a.useState(!1),s=i[0],h=i[1],v=a.useState(!1),_=v[0],y=v[1],S=g.default.getPremiumType(t.planId);return(0,l.default)(null!=S,"Should not be cancelling Nitro without premiumType"),a.createElement(a.Fragment,null,D(T.default,{premiumType:S,onClose:r}),D(m.ModalContent,{className:(0,o.default)(A.default.previewStep,A.default.body)},void 0,_?D(p.default,{className:A.default.errorBlock},void 0,C.default.Messages.BILLING_ERROR_GENERIC):null,D(k,{premiumSubscription:t})),D(m.ModalFooter,{align:f.default.Align.CENTER,justify:f.default.Justify.BETWEEN},void 0,D(c.default,{color:c.default.Colors.RED,disabled:s,onClick:L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),y(!1),e.next=5,(0,u.updateSubscription)(t,{plan:(0,E.getNonePlanIdForSubscription)(t)});case 5:r(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),h(!1),y(!0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))},void 0,C.default.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:g.default.getDisplayPremiumType(t.planId)})),D(d.default,{onClick:n,className:A.default.backLink},void 0,C.default.Messages.BACK)))}function B(e){var t,n=e.premiumSubscription,r=e.transitionState,o=e.onClose,l=a.useState(w.START),i=l[0],u=l[1],s=null!=n.additionalPlans&&(null==n.renewalMutations||null==n.renewalMutations.additionalPlans);switch((0,O.useUnsupportedAppleSubscriptionModalHandler)(n,o),i){case w.START:t=D(U,{premiumSubscription:n,hasAdditionalPlans:s,setStep:u,onClose:o});break;case w.PREVIEW:t=D(F,{premiumSubscription:n,onBack:function(){return u(w.START)},onClose:o});break;default:throw new Error("Unexpected step: "+i)}return D(m.ModalRoot,{transitionState:r},void 0,t)}k.displayName="CancelInvoicePreview",B.displayName="PremiumSubscriptionCancellationModal"},7273:function(e,t,n){"use strict";t.__esModule=!0,t.getNonePlanIdForSubscription=function(e){switch(a.default.getHardcoded(e.planId).interval){case o.SubscriptionIntervalTypes.YEAR:return o.SubscriptionPlans.NONE_YEAR;case o.SubscriptionIntervalTypes.MONTH:default:return o.SubscriptionPlans.NONE_MONTH}};var r,a=(r=n(221))&&r.__esModule?r:{default:r},o=n(1)},7274:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=E(n(3)),l=E(n(30)),i=y(n(497)),u=E(n(97)),s=E(n(277)),d=E(n(336)),c=E(n(106)),f=E(n(21)),p=n(136),h=E(n(6960)),v=E(n(481)),m=n(1),_=E(n(4)),g=E(n(6064));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).setSubscriptionPaymentSource=function(e){var n=t.props.subscription;null!=n&&null!=e&&i.changePaymentSource(n,e)},t.handlePaymentSourceChange=function(e){t.setSubscriptionPaymentSource(e)},t.handlePaymentSourceAdded=function(e){t.setSubscriptionPaymentSource(e)},t.handlePaymentSourceAdd=function(){l.default.push(function(e){return a.createElement(h.default,I({},e,{onAddPaymentSource:t.handlePaymentSourceAdded}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderDropdown=function(){var e=this.props,t=e.paymentSources,n=e.hidePersonalInformation,r=e.premiumSubscriptionPaymentSourceId;return S("div",{className:g.default.dropdown},void 0,S(v.default,{prependOption:null==r?{label:_.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,paymentSources:t,hidePersonalInformation:n,selectedPaymentSourceId:r,onChange:this.handlePaymentSourceChange,onPaymentSourceAdd:this.handlePaymentSourceAdd}))},o.renderAddButton=function(){return S(f.default,{fullWidth:!0,look:f.default.Looks.FILLED,color:f.default.Colors.PRIMARY,onClick:this.handlePaymentSourceAdd},void 0,_.default.Messages.BILLING_ADD_PAYMENT_METHOD)},o.renderManagedByApple=function(){return S("div",{className:g.default.appleContainer},void 0,S(p.FormTitle,{tag:p.FormTitle.Tags.H3,className:g.default.header},void 0,_.default.Messages.BILLING_MANAGED_BY_APPLE),S(c.default,{href:m.AppleBillingUrls.BILLING_MANAGEMENT,useDefaultUnderlineStyles:!1,className:g.default.appleLink},void 0,S(f.default,{fullWidth:!0,look:f.default.Looks.FILLED,color:f.default.Colors.PRIMARY},void 0,_.default.Messages.BILLING_MANAGE_BILLING)))},o.render=function(){var e,t=this.props,n=t.paymentSources,r=t.subscription,a=t.className;return e=r.isPurchasedViaApple?this.renderManagedByApple():S("div",{},void 0,S(p.FormTitle,{tag:p.FormTitle.Tags.H3,className:g.default.header},void 0,_.default.Messages.BILLING_PAY_FOR_IT_WITH),n.length>0?this.renderDropdown():this.renderAddButton()),S("div",{className:a},void 0,S("div",{},void 0,e),S("div",{className:g.default.finePrint},void 0,_.default.Messages.BILLING_APPLIES_TO_ALL_SUBSCRIPTIONS))},r}(a.Component);T.displayName="SubscriptionPaymentSource";var O=o.default.connectStores([u.default,s.default,d.default],function(){var e=d.default.getSubscription(),t=null!=e?e.paymentSourceId:null;return{paymentSources:Object.values(s.default.paymentSources).filter(function(e){return!e.invalid}),hidePersonalInformation:u.default.hidePersonalInformation,premiumSubscriptionPaymentSourceId:t,defaultPaymentSourceId:s.default.defaultPaymentSourceId}})(T);t.default=O},7275:function(e,t,n){"use strict";t.__esModule=!0,t.default=C;var r,a=I(n(0)),o=S(n(8)),l=S(n(16)),i=n(3),u=n(186),s=S(n(25)),d=S(n(221)),c=S(n(106)),f=S(n(21)),p=S(n(42)),h=n(136),v=I(n(220)),m=S(n(96)),_=n(156),g=n(1),E=S(n(4)),y=S(n(6065));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function N(e){var t=e.subscription,n=e.renewalMutations,r=e.transitionState,a=e.onClose,o=(0,i.useStateFromStores)([s.default],function(){return s.default.theme});function c(){var e;return e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.upgradeSubscription)(t,t.planId);case 2:a();case 3:case"end":return e.stop()}},e)}),(c=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){O(o,r,a,l,i,"next",e)}function i(e){O(o,r,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}var p=d.default.get(t.planId);(0,l.default)(null!=p,"Missing subscriptionPlan");var S=(0,_.formatRate)((0,_.formatPrice)(p.price,p.currency),p.interval);return T(v.ModalRoot,{transitionState:r},void 0,T(v.ModalHeader,{separator:!1},void 0,T(h.FormTitle,{tag:h.FormTitleTags.H4},void 0,E.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER),T(v.ModalCloseButton,{onClick:a})),T(v.ModalContent,{className:y.default.modalBody},void 0,E.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:m.default.getDisplayName(t.planId),downgradedPlan:m.default.getDisplayName(n.planId),existingRate:S})),T(v.ModalFooter,{},void 0,T(f.default,{onClick:function(){return c.apply(this,arguments)}},void 0,E.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON),T(f.default,{look:f.default.Looks.LINK,color:o===g.ThemeTypes.LIGHT?f.default.Colors.PRIMARY:f.default.Colors.WHITE,onClick:a},void 0,E.default.Messages.NEVERMIND)))}function C(e){var t=e.subscription,n=e.renewalMutations,r=e.className,l=a.useState(!1),i=l[0],u=l[1];return T("div",{className:(0,o.default)(y.default.root,r)},void 0,T(p.default,{name:p.default.Names.WARNING_CIRCLE,className:y.default.infoIcon}),T("div",{className:y.default.text},void 0,E.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:m.default.getDisplayName(n.planId),date:t.currentPeriodEnd})),T(c.default,{onClick:function(e){u(!0),e.preventDefault()},className:y.default.cancelLink},void 0,E.default.Messages.CANCEL),i?T(v.default,{renderModal:function(e){var r=e.transitionState;return T(N,{subscription:t,renewalMutations:n,transitionState:r,onClose:function(){return u(!1)}})},onCloseRequest:function(){return u(!1)}}):null)}N.displayName="SubscriptionCancelDowngradeModal",C.displayName="SubscriptionPendingMutation"},7276:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(863),l=d(n(329)),i=d(n(6600)),u=n(1),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).cancel=function(){var e=t.props.onClose;e&&e()},t.claimAccount=function(){var e=t.props.onClose;e&&e(),l.default.setSection(u.UserSettingsSections.ACCOUNT),(0,o.toggleEditingProfile)(!0)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return c(i.default,{},void 0,c(i.default.Header,{},void 0,s.default.Messages.PREMIUM_NOT_CLAIMED),c(i.default.Content,{type:i.default.Types.UNCLAIMED},void 0,s.default.Messages.PREMIUM_NOT_CLAIMED_BODY),c(i.default.Footer,{secondary:{onClick:this.cancel,label:s.default.Messages.NEVERMIND},primary:{onClick:this.claimAccount,label:s.default.Messages.CLAIM_ACCOUNT}}))},r}(a.Component);f.displayName="UnclaimedAccountModal";var p=f;t.default=p},7277:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(863),l=f(n(329)),i=f(n(21)),u=f(n(6806)),s=f(n(6600)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).changeEmail=function(){var e=t.props.onClose;e&&e(),l.default.setSection(d.UserSettingsSections.ACCOUNT),(0,o.toggleEditingProfile)(!0)},t.closeModal=function(){var e=t.props.onClose;e&&e()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return p(s.default,{},void 0,p(s.default.Header,{},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED),p(s.default.Content,{type:s.default.Types.UNVERIFIED},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED_BODY),p(s.default.Footer,{secondary:{onClick:this.changeEmail,label:c.default.Messages.CHANGE_EMAIL_SHORT},primaryRenderer:p(u.default,{color:i.default.Colors.BRAND,onClick:this.closeModal})}))},r}(a.Component);h.displayName="UnverifiedEmailModal";var v=h;t.default=v},7278:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(465),i=(r=n(6961))&&r.__esModule?r:{default:r};var u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.storeListingId,a=n.skuId,o=n.applicationId,i=null!=e?e:a;return null!=r?(0,l.fetchStoreListingById)(r):null!=i?(0,l.fetchStoreListingForSku)(i):null!=o?(0,l.fetchStoreListingForApplication)(o):void 0},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.fetchStoreListing()},o.render=function(){var e=this.props,t=e.skuId,n=e.applicationId,r=e.slug,o=e.storeListingId,l=e.pageSize,u=e.location;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{inputSkuId:t,applicationId:n,fetchStoreListing:this.fetchStoreListing,slug:r,storeListingId:o,location:u,pageSize:l})},r}(o.Component);u.displayName="DirectoryStoreListing";var s=u;t.default=s},7279:function(e,t,n){"use strict";t.__esModule=!0,t.fetchStatisticsForApplication=function(e){return s.apply(this,arguments)};var r=i(n(12)),a=i(n(2)),o=i(n(234)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function s(){var e;return e=regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:l.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_START,applicationId:t}),e.prev=1,e.next=4,r.default.get(l.Endpoints.APPLICATION_ACTIVITY_STATISTICS(t));case 4:return n=e.sent,i=n.body,a.default.dispatch({type:l.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:i,applicationId:t}),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(1),a.default.dispatch({type:l.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL,applicationId:t}),new o.default(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}),(s=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){u(o,r,a,l,i,"next",e)}function i(e){u(o,r,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}},7280:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object.freeze({THING:"Thing",PERSON:"Person",PRODUCT:"Product",OFFER:"Offer",AGGREGATE_OFFER:"AggregateOffer",RATING:"Rating",AGGREGATE_RATING:"AggregateRating",ORGANIZATION:"Organization",ITEM_PAGE:"ItemPage",UNIT_PRICE_SPECIFICATION:"UnitPriceSpecification",QUANTITATIVE_VALUE:"QuantitativeValue"});function i(e){return function e(t){return Object.keys(t).forEach(function(n){null==t[n]?delete t[n]:"object"==typeof t[n]&&(t[n]=e(t[n]))}),t}(function(e){var t;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new Error("[JSONLD] Invalid object format")}return t}(e))}function u(e,t){return o({"@type":e},i(t))}function s(e){return u(l.THING,e)}var d=s;function c(e){return u(l.PRODUCT,e)}c.Image=function(e){if(null==e)return null;var t=e.filter(function(e){return null!=e&&""!==e});return 0===t.length?null:1===t.length?t[0]:t};var f=Object.freeze({DAMAGED:"http://schema.org/DamagedCondition",NEW:"http://schema.org/NewCondition",REFURBISHED:"http://schema.org/RefurbishedCondition",USED:"http://schema.org/UsedCondition"}),p=Object.freeze({DISCONTINUED:"http://schema.org/Discontinued",IN_STOCK:"http://schema.org/InStock",IN_STORE_ONLY:"http://schema.org/InStoreOnly",LIMITED_AVAILABILITY:"http://schema.org/LimitedAvailability",ONLINE_ONLY:"http://schema.org/OnlineOnly",OUT_OF_STOCK:"http://schema.org/OutOfStock",PREORDER:"http://schema.org/PreOrder",PRESALE:"http://schema.org/PreSale",SOLD_OUT:"http://schema.org/SoldOut"});function h(e){return u(l.OFFER,e)}h.ItemConditions=f,h.ItemAvailability=p;var v=Object.freeze({YEARLY:"ANN",MONTHLY:"MON"});function m(e){return u(l.QUANTITATIVE_VALUE,e)}m.UnitCodes=v;var _=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=(e.debug,e.data);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("script",{type:"application/ld+json"},void 0,JSON.stringify(o({"@context":"http://schema.org"},t)))},a}(a.Component);_.displayName="JSONLD",_.Thing=s,_.Brand=d,_.Person=function(e){return u(l.PERSON,e)},_.Organization=function(e){return u(l.ORGANIZATION,e)},_.ItemPage=function(e){return u(l.ITEM_PAGE,e)},_.Product=c,_.Offer=h,_.Rating=function(e){return u(l.RATING,e)},_.AggregateRating=function(e){return u(l.AGGREGATE_RATING,e)},_.AggregateOffer=function(e){return u(l.AGGREGATE_OFFER,e)},_.QuantitativeValue=m,_.UnitPriceSpecification=function(e){return u(l.UNIT_PRICE_SPECIFICATION,e)};var g=_;t.default=g},7281:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=f(n(854)),i=f(n(7282)),u=f(n(24)),s=n(1),d=f(n(4)),c=f(n(6072));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=((r={})[s.ContentRatingAgencies.ESRB]={1:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ALCOHOL_REFERENCE,2:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_BLOOD,3:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD,4:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD_AND_GORE,5:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CARTOON_VIOLENCE,6:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_COMIC_MISCHIEF,7:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CRUDE_HUMOR,8:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_DRUG_REFERENCE,9:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_FANTASY_VIOLENCE,10:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_INTENSE_VIOLENCE,11:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LANGUAGE,12:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LYRICS,13:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MATURE_HUMOR,14:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_NUDITY,15:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_PARTUAL_NUDITY,16:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_REAL_GAMBLING,17:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_CONTENT,18:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_THEMES,19:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_VIOLENCE,20:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SIMULATED_GAMBLING,21:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LANGUAGE,22:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LYRICS,23:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_SEXUAL_CONTENT,24:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SUGGESTIVE_THEMES,25:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_TOBACCO_REFERENCE,26:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_ALCOHOL,27:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_DRUGS,28:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_TOBACCO,29:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENCE,30:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENT_REFERENCES,31:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_IN_GAME_PURCHASES,32:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USERS_INTERACT,33:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SHARES_LOCATION,34:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_UNRESTRICTED_INTERNET,35:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_BLOOD,36:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_CARTOON_VIOLENCE,37:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_FANTASY_VIOLENCE,38:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_LANGUAGE,39:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_LYRICS,40:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_SEXUAL_THEMES,41:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_SUGGESTIVE_THEMES,42:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_VIOLENCE,43:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_VIOLENCE},r[s.ContentRatingAgencies.PEGI]={1:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_VIOLENCE,2:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_BAD_LANGUAGE,3:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_FEAR,4:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_GAMBLING,5:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_SEX,6:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DRUGS,7:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DISCRIMINATION},r),v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderContentRatingImage=function(){var e=this.props.sku,t=e.contentRating,n=e.contentRatingAgency;return null==t||null==n?null:p(i.default,{className:c.default.rating,agency:n,rating:t.rating})},a.render=function(){var e=this.props,t=e.sku,n=t.contentRating,r=t.contentRatingAgency,a=e.className;if(null==n||null==r)return null;var o=n.descriptors.map(function(e){return h[r][e]}).join(", ");return p("div",{className:a},void 0,p(l.default,{},void 0,d.default.Messages.APPLICATION_STORE_SECTION_TITLE_RATINGS),p(u.default,{className:c.default.content},void 0,this.renderContentRatingImage(),p("div",{className:c.default.info},void 0,o)))},r}(o.PureComponent);v.displayName="ApplicationContentRating";var m=v;t.default=m},7282:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Categories=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a,o,l,i=d(n(8)),u=n(1),s=d(n(6071));function d(e){return e&&e.__esModule?e:{default:e}}var c={ESRB:{EVERYONE:"1",EVERYONE_TEN_PLUS:"2",TEEN:"3",MATURE:"4",ADULT:"5",RATING_PENDING:"6"},PEGI:{THREE:"1",SEVEN:"2",TWELVE:"3",SIXTEEN:"4",EIGHTEEN:"5"}};t.Categories=c;var f=((o={})[u.ContentRatingAgencies.ESRB]=((r={})[c.ESRB.EVERYONE]=s.default.esrbEveryone,r[c.ESRB.EVERYONE_TEN_PLUS]=s.default.esrbEveryoneTenPlus,r[c.ESRB.TEEN]=s.default.esrbTeen,r[c.ESRB.MATURE]=s.default.esrbMature,r[c.ESRB.ADULT]=s.default.esrbAdult,r[c.ESRB.RATING_PENDING]=s.default.esrbRatingPending,r),o[u.ContentRatingAgencies.PEGI]=((a={})[c.PEGI.THREE]=s.default.pegiThree,a[c.PEGI.SEVEN]=s.default.pegiSeven,a[c.PEGI.TWELVE]=s.default.pegiTwelve,a[c.PEGI.SIXTEEN]=s.default.pegiSixteen,a[c.PEGI.EIGHTEEN]=s.default.pegiEighteen,a),o),p=function(e){var t=e.agency,n=e.rating,r=e.className,a=f[t][n];return null==a?null:function(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,i.default)(s.default.contentRating,a,r)})};p.displayName="ContentRating";var h=p;t.default=h},7283:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(8)),l=p(n(110)),i=p(n(21)),u=p(n(854)),s=p(n(974)),d=n(154),c=p(n(4)),f=p(n(6073));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=/^!\[([^\]]*)\]\(asset:\/\/(\d+)\)/,_=v({},s.default.rules,{heading:v({},s.default.rules.heading,{react:function(e,t,n){var r="h"+Math.min(Math.max(2,e.level+1),4);return h(u.default,{tag:r},n.key,t(e.content,n))}}),assetImage:{order:5,match:function(e,t){var n=e.match(m);if(null!=n){var r=n[2],a=t.assets.find(function(e){return e.id===r});return null!=a&&[].concat(n,[a,t.applicationId])}return!1},parse:function(e){return{asset:e[3],alt:e[1],applicationId:e[4]}},react:function(e,t,n){return h("div",{className:f.default.assetWrapper},n.key,h("img",{alt:e.alt,src:(0,d.getAssetURL)(e.applicationId,e.asset,800),className:f.default.asset}))}}}),g=l.default.parserFor(_),E=l.default.ruleOutput(_,"react"),y=l.default.reactFor(E),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={collapsed:!0,collapsable:!0},t.handleToggleCollapse=function(){t.setState({collapsed:!t.state.collapsed})},t.setContentContainerRef=function(e){t._container=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){if(null!=this._container){var e=this._container.getBoundingClientRect().height>400;this.setState({collapsable:e})}},l.render=function(){var e,t=this.props,n=t.applicationId,r=t.description,l=t.blurb,u=t.className,d=t.assets,p=this.state,v=p.collapsed,m=p.collapsable;return h("div",{className:u},void 0,h("div",{className:(0,o.default)((e={},e[f.default.collapsed]=m&&v,e))},void 0,a.createElement("div",{ref:this.setContentContainerRef},h("div",{className:f.default.blurb},void 0,l),h(s.default,{className:f.default.description,parser:g,output:y,state:{assets:d,applicationId:n}},void 0,r))),m?h(i.default,{className:f.default.toggleCollapseButton,onClick:this.handleToggleCollapse,color:i.default.Colors.PRIMARY},void 0,v?c.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_MORE:c.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_LESS):null)},r}(a.PureComponent);S.displayName="ApplicationDescription";var I=S;t.default=I},7284:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(854)),l=c(n(42)),i=c(n(65)),u=n(1),s=c(n(4)),d=c(n(6074));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=[{feature:u.SKUFeatureTypes.SINGLE_PLAYER,getText:function(){return s.default.Messages.APPLICATION_STORE_SINGLE_PLAYER},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_SINGLE_PLAYER_TOOLTIP},iconName:l.default.Names.PERSON},{feature:u.SKUFeatureTypes.LOCAL_MULTIPLAYER,getText:function(){return s.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:u.SKUFeatureTypes.ONLINE_MULTIPLAYER,getText:function(){return s.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:u.SKUFeatureTypes.PVP,getText:function(){return s.default.Messages.APPLICATION_STORE_PVP},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_PVP_TOOLTIP},iconName:l.default.Names.MODERATION},{feature:u.SKUFeatureTypes.LOCAL_COOP,getText:function(){return s.default.Messages.APPLICATION_STORE_LOCAL_COOP},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_LOCAL_COOP_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:u.SKUFeatureTypes.ONLINE_COOP,getText:function(){return s.default.Messages.APPLICATION_STORE_ONLINE_COOP},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_ONLINE_COOP_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:u.SKUFeatureTypes.CROSS_PLATFORM,getText:function(){return s.default.Messages.APPLICATION_STORE_CROSS_PLATFORM},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_CROSS_PLATFORM_TOOLTIP},iconName:l.default.Names.SYNCED},{feature:u.SKUFeatureTypes.RICH_PRESENCE,getText:function(){return s.default.Messages.APPLICATION_STORE_RICH_PRESENCE},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_RICH_PRESENCE_TOOLTIP},iconName:l.default.Names.RICH_ACTIVITY},{feature:u.SKUFeatureTypes.DISCORD_GAME_INVITES,getText:function(){return s.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES_TOOLTIP},iconName:l.default.Names.PLUS_CIRCLE_PLAY},{feature:u.SKUFeatureTypes.SPECTATOR_MODE,getText:function(){return s.default.Messages.APPLICATION_STORE_SPECTATOR_MODE},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_SPECTATOR_MODE_TOOLTIP},iconName:l.default.Names.VIDEO_CAMERA},{feature:u.SKUFeatureTypes.CONTROLLER_SUPPORT,getText:function(){return s.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT_TOOLTIP},iconName:l.default.Names.GAMEPAD},{feature:u.SKUFeatureTypes.CLOUD_SAVES,getText:function(){return s.default.Messages.APPLICATION_STORE_CLOUD_SAVES},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_CLOUD_SAVES_TOOLTIP},iconName:l.default.Names.CLOUD},{feature:u.SKUFeatureTypes.SECURE_NETWORKING,getText:function(){return s.default.Messages.APPLICATION_STORE_SECURE_NETWORKING},getTooltip:function(){return s.default.Messages.APPLICATION_STORE_SECURE_NETWORKING_TOOLTIP},iconName:l.default.Names.SECURE_NETWORKING}],v=function(e){var t=e.iconName,n=e.text,r=e.tooltip;return f("div",{className:d.default.row},void 0,f(i.default,{text:r},void 0,function(e){return a.createElement(l.default,p({name:t,className:d.default.featureIcon},e))}),f("span",{className:d.default.featureText},void 0,n),f(l.default,{name:l.default.Names.CHECKMARK,className:d.default.checkmarkIcon}))};v.displayName="ApplicationFeature";var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.sku,t=h.filter(function(t){var n=t.feature;return e.features.has(n)}).map(function(e){var t=e.feature,n=e.iconName,r=e.getText,a=e.getTooltip;return f(v,{iconName:n,text:r(),tooltip:a()},t)});return 0===t.length?null:f("div",{className:d.default.features},void 0,f(o.default,{},void 0,s.default.Messages.APPLICATION_STORE_SECTION_TITLE_FEATURES),t)},r}(a.PureComponent);m.displayName="ApplicationFeatureFlags";var _=m;t.default=_},7285:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(854)),l=u(n(4)),i=u(n(6075));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.sku;return null==n.legalNotice?null:s("div",{className:t},void 0,s(o.default,{},void 0,l.default.Messages.APPLICATION_STORE_SECTION_TITLE_COPYRIGHT),s("div",{className:i.default.content},void 0,n.legalNotice))},r}(a.PureComponent);d.displayName="ApplicationLegalInfo";var c=d;t.default=c},7286:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(3)),l=v(n(100)),i=v(n(30)),u=v(n(353)),s=v(n(6810)),d=v(n(21)),c=v(n(854)),f=v(n(7287)),p=v(n(4)),h=v(n(6078));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(t){var n,r;function a(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).handleViewAllClick=function(){var t=e.props.application;i.default.push(f.default,{application:t})},e}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var o=a.prototype;return o.componentDidMount=function(){var t=this.props,n=t.isFetched,r=t.application;n||e(function(){return l.default.getGameNews([r.id])})},o.render=function(){var e=this.props,t=e.application,n=e.news,r=e.className,a=n.length>4;return 0===n.length?null:m("div",{className:r},void 0,m(c.default,{},void 0,p.default.Messages.APPLICATION_STORE_SECTION_TITLE_NEWS),n.slice(0,4).map(function(e,n){return m(s.default,{game:t,news:e,collapsed:0!==n},e.url)}),a?m(d.default,{className:h.default.viewAllButton,size:d.default.Sizes.SMALL,color:d.default.Colors.PRIMARY,onClick:this.handleViewAllClick},void 0,p.default.Messages.APPLICATION_STORE_VIEW_ALL_NEWS):null)},a}(a.Component);_.displayName="ApplicationNews";var g=o.default.connectStores([u.default],function(e){var t=e.application;return{news:u.default.getByGameId(t.id),isFetched:u.default.isFetched(t.id)}})(_);t.default=g}).call(this,n(43).setImmediate)},7287:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(3)),l=p(n(30)),i=p(n(353)),u=p(n(6810)),s=p(n(24)),d=p(n(75)),c=p(n(4)),f=p(n(6077));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){l.default.pop()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.application,n=e.news;return h(d.default,{size:d.default.Sizes.LARGE,className:f.default.modal},void 0,h(d.default.Header,{justify:s.default.Justify.BETWEEN},void 0,h("div",{},void 0,h("div",{className:f.default.headerTitle},void 0,t.name),h("div",{className:f.default.headerSubtitle},void 0,c.default.Messages.APPLICATION_STORE_ALL_NEWS)),h(d.default.CloseButton,{onClick:this.close})),h(d.default.Content,{},void 0,n.map(function(e){return h(u.default,{game:t,news:e,collapsed:!1},e.url)})))},r}(a.PureComponent);v.displayName="ApplicationAllNewsModal";var m=o.default.connectStores([i.default],function(e){var t=e.application;return{news:i.default.getByGameId(t.id)}})(v);t.default=m},7288:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(3)),l=n(465),i=g(n(260)),u=g(n(119)),s=g(n(855)),d=g(n(854)),c=n(154),f=g(n(6809)),p=g(n(6658)),h=g(n(6807)),v=n(1),m=g(n(4)),_=g(n(6079));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=E(f.default,{}),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isLoading:!0},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this,t=[],n=this.props.premiumPerkSkuIds,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=o;t.push((0,l.fetchStoreListingForSku)(i).catch(function(){return null}))}Promise.all(t).then(function(){return e.setState({isLoading:!1})})},a.getTileData=function(e,t){return{image:null!=t.thumbnail?(0,c.getAssetURL)(e.applicationId,t.thumbnail,600):null,video:null!=t.previewVideo?(0,c.getAssetURL)(e.applicationId,t.previewVideo):null,name:e.name,tagline:null!=t.tagline?t.tagline:"",skuId:e.id}},a.renderSinglePerk=function(e,t){return E(p.default,{tileData:this.getTileData(t,e),type:v.StoreDirectoryTileTypes.PERK_FULL_MEDIA,className:_.default.perkTileLarge},e.id)},a.renderPerkScroller=function(e){var t=this;return E(h.default,{tileWidth:v.PREMIUM_PERK_LISTING_TILE_WIDTH,tileMargin:v.PREMIUM_PERK_LISTING_TILE_MARGIN},void 0,e.map(function(e){return E(p.default,{tileData:t.getTileData(e.sku,e.listing),type:v.StoreDirectoryTileTypes.PERK,className:_.default.perkTile},e.listing.id)}))},a.render=function(){var e=this.props,t=e.className,n=e.perkSkuAndStoreListingPairs;return this.state.isLoading?null:0===n.length?null:E("div",{className:t},void 0,E(d.default,{tag:"h1"},void 0,m.default.Messages.APPLICATION_STORE_PREMIUM_PERKS),y,n.length>1?this.renderPerkScroller(n):this.renderSinglePerk(n[0].listing,n[0].sku))},r}(a.PureComponent);S.displayName="ApplicationPremiumPerks";var I=Object.freeze([]),T=(0,i.default)(o.default.connectStores([s.default,u.default],function(e){var t=e.sku,n=e.storeListing;if(null==n)return{premiumPerkSkuIds:I,perkSkuAndStoreListingPairs:I};var r=n.childSkuIds.filter(function(e){return t.id!==e}).map(u.default.get).filter(Boolean).filter(function(e){return e.isPremiumPerk()}),a=r.map(function(e){if(null==e)return null;var t=s.default.getForSKU(e.id);return null==t?null:{sku:e,listing:t}}).filter(Boolean);return{premiumPerkSkuIds:r.map(function(e){return e.id}),perkSkuAndStoreListingPairs:a}})(S));t.default=T},7289:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=c(n(30)),o=c(n(463)),l=c(n(6811)),i=c(n(7290)),u=c(n(7292)),s=n(1),d=n(6552);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var h=2048;function v(e){return e.split("?")[0]+"?size="+h}var m=function(e){var t=e.index,n=e.items,a=p(e,["index","items"]),o=n[t],l=0,u=[],d=n,c=Array.isArray(d),h=0;for(d=c?d:d[Symbol.iterator]();;){var m;if(c){if(h>=d.length)break;m=d[h++]}else{if((h=d.next()).done)break;m=h.value}var _=m;if(_.type===s.CarouselMediaTypes.IMG){var g=_.width,E=_.height,y=_.src;_===o&&(l=u.length),u.push({src:v(y),width:g,height:E})}}return r.createElement(i.default,f({},a,{items:u,startWith:l}))};m.displayName="ZoomedCarousel";var _=function(e){var t,n;function i(){for(var t,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=e.call.apply(e,[this].concat(l))||this).handleCurrentItemClick=function(e,n){e.type!==s.CarouselMediaTypes.IMG||o.default.hasModalOpen()||a.default.push(function(e){return r.createElement(m,f({},e,{index:n,items:t.props.items}))})},t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.pageSize,n=p(e,["pageSize"]),a=t===d.PageSizes.SMALL?u.default:l.default;return r.createElement(a,f({},n,{onCurrentItemClick:this.handleCurrentItemClick}))},i}(r.Component);_.displayName="ApplicationStoreListingCarousel";var g=_;t.default=g},7290:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(6743)),l=v(n(118)),i=v(n(263)),u=v(n(6748)),s=n(7291),d=v(n(6542)),c=n(6812),f=n(229),p=n(1),h=v(n(6082));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var E={friction:10,tension:100};function y(e,t){return(e%t+t)%t}var S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={translate:new l.default.Value(0),opacity:new l.default.Value(1)},t}g(t,e);var n=t.prototype;return n.componentWillEnter=function(e){var t=this.props.directionHistory,n=this.state,r=n.translate,a=n.opacity;r.setValue(t[t.length-1]),a.setValue(0),e(),l.default.parallel([l.default.timing(a,{toValue:1,easing:l.default.Easing.out(l.default.Easing.linear),duration:200}),l.default.spring(r,_({toValue:0},E))]).start()},n.componentWillLeave=function(e){var t=this.props.directionHistory,n=this.state,r=n.opacity,a=n.translate;l.default.parallel([l.default.timing(r,{toValue:0,easing:l.default.Easing.in(l.default.Easing.linear),duration:200}),l.default.spring(a,_({toValue:-1*t[t.length-1]},E))]).start(e)},n.getStyle=function(){var e=this.state,t=e.translate,n=e.opacity;return l.default.accelerate({opacity:n,transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0px","300px"]})}]})},n.render=function(){var e=this.props.item;return m(l.default.img,{src:e.src,alt:"",className:h.default.slide,style:this.getStyle()})},t}(a.Component);S.displayName="ModalCarouselItem";var I=function(e){function t(t){var n;return(n=e.call(this,t)||this).gotoNext=function(){var e=n.state.currentIndex;n.navigateTo(e+1)},n.gotoPrev=function(){var e=n.state.currentIndex;n.navigateTo(e-1)},n.state={currentIndex:t.startWith,directionHistory:[]},n}g(t,e);var n=t.prototype;return n.componentDidMount=function(){this.preloadNextImages(),d.default.disable(),d.default.enableTemp(s.MODAL_CAROUSEL_LAYOUT)},n.componentWillUnmount=function(){d.default.disableTemp()},n.preloadNextImages=function(){var e=this.state.currentIndex,t=this.props.items,n=y(e+1,t.length),r=y(e-1,t.length);this.preloadImage(t[n]),this.preloadImage(t[r])},n.preloadImage=function(e){(0,f.loadImage)(e.src)},n.componentDidUpdate=function(e,t){this.state.currentIndex!==t.currentIndex&&this.preloadNextImages()},n.navigateTo=function(e){var t=this.state,n=t.directionHistory,r=t.currentIndex;n.push(e-r),e=y(e,this.props.items.length),this.setState({currentIndex:e,directionHistory:n})},n.render=function(){var e=this.props.onClose,t=this.state,n=t.currentIndex,r=t.directionHistory;return m(i.default,{component:"div",className:h.default.wrapper,onClick:e},void 0,m(c.CarouselPrevious,{className:h.default.navPrev,onClick:this.gotoPrev}),m(S,{item:this.props.items[n],directionHistory:r},this.props.items[n].src),m(c.CarouselNext,{className:h.default.navNext,onClick:this.gotoNext}))},t}(a.Component);I.displayName="ModalCarousel",I.defaultProps={startWith:0};var T=(0,u.default)(function(e,t){var n;return(n={})[p.ComponentActions.MODAL_CAROUSEL_NEXT]=(0,o.default)(t.gotoNext,300),n[p.ComponentActions.MODAL_CAROUSEL_PREV]=(0,o.default)(t.gotoPrev,300),n})(I);t.default=T},7291:function(e,t,n){"use strict";t.__esModule=!0,t.MODAL_CAROUSEL_LAYOUT=void 0;var r,a=n(6799),o=n(1),l=((r={})[o.KeybindActions.MODAL_CAROUSEL_NEXT]=a.MODAL_CAROUSEL_NEXT,r[o.KeybindActions.MODAL_CAROUSEL_PREV]=a.MODAL_CAROUSEL_PREV,r);t.MODAL_CAROUSEL_LAYOUT=l},7292:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(8)),l=m(n(988)),i=m(n(58)),u=n(6637),s=m(n(7065)),d=n(909),c=n(6614),f=n(6811),p=n(1),h=n(6552),v=m(n(6083));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]);return a.createElement(s.default,g({},n,{className:(0,o.default)(v.default.sizedToParent,t),mediaPlayerClassName:v.default.sizedToParent}))};E.displayName="renderVideoComponent";var y={width:1280,height:720},S={width:640,height:360},I=function(e){var t,n,r=e.item,a=e.onPlay,o=e.volume,l=e.onVolumeChange,i=e.onMute,s=e.isMuted;if(r.type===p.CarouselMediaTypes.YOUTUBE_VIDEO)t=g({url:(0,p.YOUTUBE_PREVIEW_URL)(r.youtubeVideoId)},y),n=g({url:(0,p.YOUTUBE_EMBED_URL)(r.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},S);else{var m=null!=r.width?r.width:0,I=null!=r.height?r.height:0;t={url:r.thumbnailSrc,width:m,height:I},n={url:r.src,proxyURL:r.src,width:m,height:I}}return _("div",{className:v.default.embedContainer},void 0,_(u.EmbedVideo,{className:v.default.sizedToParent,href:null,thumbnail:t,video:n,maxHeight:f.ItemSizes.SMALL.height,maxWidth:h.PageSizes.SMALL,onPlay:a,playable:!0,volume:o,onVolumeChange:l,autoMute:s,onMute:i,autoPlay:!0,renderImageComponent:c.renderImageComponent,renderVideoComponent:E,renderLinkComponent:d.defaultRenderLinkComponent}))};I.displayName="Video";var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hasInteracted:!1,isVideoPlaying:!1,isMuted:!0,volume:1},t.handlePlay=function(e){t.setState({isVideoPlaying:!0,hasInteracted:!e})},t.handleVolumeChange=function(e){t.setState({volume:e,hasInteracted:!0})},t.handleMute=function(e){t.setState({isMuted:e,hasInteracted:!0})},t.handleChangeItem=function(){t.setState({isVideoPlaying:!1})},t.handleIntentionalChange=function(e,n,r,a){t.setState({hasInteracted:!0});var o=t.props.onIntentionalChange;null!=o&&o(e,n,r,a)},t.renderItem=function(e,n){var r,a=t.state,o=a.isMuted,l=a.volume;switch(e.type){case p.CarouselMediaTypes.YOUTUBE_VIDEO:case p.CarouselMediaTypes.VIDEO:r=_(I,{item:e,onPlay:t.handlePlay,isMuted:o,volume:l,onVolumeChange:t.handleVolumeChange,onMute:t.handleMute});break;case p.CarouselMediaTypes.IMG:r=_("img",{className:v.default.smallCarouselImage,src:e.src,alt:""});break;default:throw new Error("Unexpected MediaType")}return _(i.default,{className:v.default.smallCarouselItem,onClick:function(){return t.handleCurrentItemClick(e,n)}},void 0,r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},a.render=function(){var e=this.props,t=e.items,n=e.autoplayInterval,r=e.paused,a=this.state.hasInteracted;return _(l.default,{items:t.slice(0,12),delay:n,paused:r||a,renderItem:this.renderItem,className:v.default.smallCarousel,onIntentionalChange:this.handleIntentionalChange,onChangeItem:this.handleChangeItem})},r}(a.PureComponent);T.displayName="SmallMediaCarousel",T.defaultProps={paused:!1};var O=T;t.default=O},7293:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(465),l=s(n(6955)),i=s(n(4)),u=s(n(6084));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDisagree=function(){(0,o.matureDisagree)()},t.handleAgree=function(){(0,o.matureAgree)()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.game.name;return d("div",{className:u.default.matureListing},void 0,d(l.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:i.default.Messages.MATURE_LISTING_TITLE.format({name:e}),description:i.default.Messages.MATURE_LISTING_DESCRIPTION,agreement:i.default.Messages.MATURE_LISTING_ACCEPT,disagreement:i.default.Messages.MATURE_LISTING_DECLINE}))},r}(a.PureComponent);c.displayName="ApplicationStoreListingMature";var f=c;t.default=f},7294:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ApplicationStorePurchaseUnit=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=L(n(8)),l=n(259),i=n(3),u=n(350),s=L(n(329)),d=L(n(50)),c=L(n(11)),f=L(n(346)),p=L(n(7295)),h=L(n(21)),v=L(n(24)),m=L(n(42)),_=L(n(96)),g=n(156),E=n(466),y=L(n(880)),S=L(n(6693)),I=L(n(7296)),T=L(n(7297)),O=L(n(6813)),N=L(n(7298)),C=n(7073),A=L(n(7299)),M=n(1),P=L(n(4)),R=L(n(5946)),b=L(n(6090));function L(e){return e&&e.__esModule?e:{default:e}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var U=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._applicationBuyButtonRef=a.createRef(),t.handleViewLibrary=function(e){var n=t.props.libraryApplication;null!=n&&n.isHidden()&&(e.preventDefault(),s.default.open(M.UserSettingsSections.GAME_LIBRARY))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props,t=e.isEntitled,n=e.isFetchingEntitlementsForApplication,r=e.sku,a=e.currentUser;null!=t||n||null==a||r.type===M.SKUTypes.GAME||(0,u.fetchUserEntitlementsForApplication)(r.applicationId)},i.getApplicationBuyButton=function(){return this._applicationBuyButtonRef.current},i.getActionText=function(){var e=this.props,t=e.sku,n=e.isEntitled,r=e.storeListing,a=function(e){switch(e.type){case M.SKUTypes.DLC:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_DLC,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_DLC,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_DLC,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.CONSUMABLE:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_CONSUMABLE,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_CONSUMABLE,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_CONSUMABLE,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.BUNDLE:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_BUNDLE,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_BUNDLE,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_BUNDLE,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.GAME:default:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_APPLICATION,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_APPLICATION,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_APPLICATION,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED}}}(t),o=null!=r.entitlementBranchId;return!t.available&&t.premium?P.default.Messages.APPLICATION_STORE_COMING_SOON:t.isPreorder()&&!o?n?a.preorderEntitled:a.preorder:t.requiresPayment&&!o?a.distribution:a.free},i.renderHeader=function(){var e=this.props,t=e.isEntitled,n=e.libraryApplication,r=e.sku,a=e.currentUser;if(!0===t){var o=null!=n&&n.isHidden();return w(l.Link,{className:b.default.entitledHeader,to:{pathname:M.Routes.APPLICATION_LIBRARY,state:{applicationId:null!=n?n.id:null}},onClick:this.handleViewLibrary},void 0,w(m.default,{name:m.default.Names.LIBRARY,className:b.default.entitledHeaderIcon}),w("div",{},void 0,o?P.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:P.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}return r.exclusive?w("div",{className:b.default.exclusiveHeader},void 0,w("div",{className:b.default.exclusiveHeaderExclusive},void 0,P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FIRST_ON),w(m.default,{name:m.default.Names.DISCORD_WORDMARK,className:b.default.exclusiveHeaderIcon})):r.premium?w("div",{className:b.default.premiumHeader},void 0,w(m.default,{name:m.default.Names.NITRO,className:b.default.premiumHeaderIcon}),_.default.canInstallPremiumApplications(a)?null:w("div",{className:b.default.premiumHeaderPrice},void 0,P.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,g.formatPrice)(M.SubscriptionPlanInfo[M.SubscriptionPlans.PREMIUM_MONTH_TIER_2].price,M.CurrencyCodes.USD)}))):null},i.renderAlternativeSkus=function(){var e=this.props,t=e.storeListing,n=e.sku,r=e.guildId,o=e.channelId;return null!=t.entitlementBranchId||0===t.alternativeSkuIds.length?null:w(a.Fragment,{},void 0,w("div",{className:b.default.actionText},void 0,P.default.Messages.APPLICATION_STORE_LISTING_SELECT_EDITION),w(I.default,{storeListing:t,selectedSkuId:n.id,className:b.default.alternativeSkus,guildId:r,channelId:o}))},i.renderAccuratePreorderInfo=function(){var e=this.props,t=e.isEntitled,n=e.sku,r=e.isFocused;return n.isPreorder()&&null!=n.preorderReleaseAt&&t?w("div",{className:b.default.countdownSection},void 0,w("div",{className:b.default.countdownHeader},void 0,P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_TIME_LEFT_UNTIL_RELEASE),w(p.default,{endTime:n.preorderReleaseAt.valueOf(),interval:r?1e3:6e4})):null},i.renderApproximatePreorderInfo=function(){var e=this.props,t=e.isEntitled,n=e.sku;if(!n.isPreorder()||null==n.preorderApproximateReleaseDate&&null!=n.preorderReleaseAt&&t)return null;var r=(0,E.getReadablePreorderReleaseDate)(n);return w("div",{className:b.default.releaseDate},void 0,P.default.Messages.APPLICATION_STORE_PURCHASE_AVAILABLE_DATE.format({releaseDate:r}))},i.renderPrice=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isEntitled;if(t.restricted)return w("div",{className:b.default.price},void 0,P.default.Messages.APPLICATION_STORE_RESTRICTED);var a=null!=n.entitlementBranchId;return t.available&&(t.premium||null!=t.getPrice())||a?w("div",{className:b.default.price},void 0,w(S.default,{type:S.default.Types.LISTING,inLibrary:!0===r,sku:t,hasEntitlementBranch:a}),this.renderApproximatePreorderInfo()):!t.available&&t.premium?w("div",{className:(0,o.default)(b.default.price,R.default.listingPrice)},void 0,P.default.Messages.APPLICATION_STORE_FREE_WITH_PREMIUM):w("div",{className:b.default.price},void 0,P.default.Messages.APPLICATION_STORE_COMING_SOON)},i.renderBody=function(){var e=this.props,t=e.sku,n=e.game,r=e.channelId,o=e.isEntitled,l=e.isUserPremium,i=e.storeListing,u=t.isGiftable(),s=null!=i.entitlementBranchId;return w(a.Fragment,{},void 0,this.renderAccuratePreorderInfo(),w(v.default,{justify:v.default.Justify.BETWEEN,align:v.default.Align.CENTER,className:b.default.headerBar},void 0,w("div",{className:b.default.actionText},void 0,this.getActionText()),w(C.OperatingSystemSection,{systems:t.supportedOperatingSystems})),this.renderPrice(),!0!==o||!u||s?w(a.Fragment,{},void 0,a.createElement(y.default,{ref:this._applicationBuyButtonRef,skuId:t.id,applicationId:n.id,channelId:r,entitlementBranchId:i.entitlementBranchId,fullWidth:!0,onStoreListing:!0}),t.premium&&!l&&t.isAvailableForDistribution()&&!s?w(y.default,{skuId:t.id,applicationId:n.id,channelId:r,color:h.default.Colors.PRIMARY,className:b.default.secondaryBuyButton,forceDistribution:!0,shouldRenderPrice:!0,fullWidth:!0,onStoreListing:!0}):null):null,u&&!s?w(y.default,{asGift:!0,className:b.default.secondaryBuyButton,skuId:t.id,applicationId:n.id,channelId:r,fullWidth:!0,onStoreListing:!0,color:!0===o?h.default.Colors.GREEN:h.default.Colors.PRIMARY,hover:h.default.Hovers.DEFAULT}):null,w(O.default,{className:b.default.purchaseError}),w(N.default,{className:b.default.warning,sku:t}))},i.render=function(){var e=this.props,t=e.game,n=e.storeListing,r=e.sku,a=e.guildId,o=e.channelId,l=e.fetchStoreListing;return w("div",{className:e.className},void 0,this.renderHeader(),w("div",{className:b.default.bodySection},void 0,this.renderAlternativeSkus(),this.renderBody()),null==n.entitlementBranchId?w("div",{className:b.default.bodySection},void 0,w(A.default,{storeListing:n,sku:r,guildId:a,channelId:o,fetchStoreListing:l})):null,w("div",{className:b.default.bodySection},void 0,w(T.default,{game:t,sku:r})))},r}(a.PureComponent);t.ApplicationStorePurchaseUnit=U,U.displayName="ApplicationStorePurchaseUnit";var G=a.forwardRef(function(e,t){var n=e.storeListing,r=e.game,o=e.sku,l=null!=n.entitlementBranchId?n.entitlementBranchId:r.id,u=(0,i.useStateFromStoresArray)([c.default,f.default],function(){var e=c.default.getNullableCurrentUser();return[e,_.default.canInstallPremiumApplications(e),f.default.isEntitledToSku(e,o.id,r.id,l),f.default.applicationIdsFetching.has(o.applicationId)]}),s=u[0],p=u[1],h=u[2],v=u[3],m=(0,i.useStateFromStores)([d.default],function(){return d.default.getLibraryApplication(r.id,l)});return a.createElement(U,D({},e,{currentUser:s,isUserPremium:p,isEntitled:h,isFetchingEntitlementsForApplication:v,libraryApplication:m,ref:t}))});t.default=G},7295:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=n(29),i=n(462),u=c(n(7067)),s=c(n(4)),d=c(n(6085));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={now:Date.now()},t.interval=new l.Interval,t.handleIntervalUpdate=function(){t.setState({now:Date.now()})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.interval.start(this.props.interval,this.handleIntervalUpdate)},a.componentWillUnmount=function(){this.interval.stop()},a.componentDidUpdate=function(e){this.props.interval!==e.interval&&this.interval.start(this.props.interval,this.handleIntervalUpdate)},a.renderSection=function(e,t,n){return f("div",{className:n?d.default.unitClose:d.default.unitNormal},void 0,f(u.default,{className:d.default.duration,value:e,padStartLength:2,forcePosition:u.default.Positions.ABOVE}),f("div",{className:d.default.header},void 0,t))},a.render=function(){var e=this.props,t=e.endTime,n=e.className,r=(0,i.diffAsUnits)(this.state.now,t),a=r.days<1;return f("div",{className:(0,o.default)(d.default.countdown,n)},void 0,this.renderSection(r.days,s.default.Messages.APPLICATION_STORE_COUNTDOWN_DAYS,a),this.renderSection(r.hours,s.default.Messages.APPLICATION_STORE_COUNTDOWN_HOURS,a),this.renderSection(r.minutes,s.default.Messages.APPLICATION_STORE_COUNTDOWN_MINUTES,a),this.renderSection(r.seconds,s.default.Messages.APPLICATION_STORE_COUNTDOWN_SECONDS,a))},r}(a.Component);p.displayName="ApplicationStoreCountdown",p.defaultProps={interval:1e3};var h=p;t.default=h},7296:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(259),l=v(n(3)),i=v(n(260)),u=v(n(888)),s=v(n(119)),d=v(n(42)),c=v(n(65)),f=n(154),p=n(1),h=v(n(6086));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l,i,s,v=r.prototype;return v.renderSku=function(e,t){var n=this,r=this.props,l=r.selectedSkuId,i=r.guildId,s=r.channelId,p=e.id===l;return _(c.default,{text:(0,u.default)(e)},e.id,function(r){return a.createElement(o.Link,m({className:p?h.default.alternativeSkuSelected:h.default.alternativeSkuDefault,to:(0,f.getStoreListingLocation)(e.id,{guildId:i,channelId:s,slug:e.slug,analyticsSource:n.analyticsLocation})},r),p?_(d.default,{name:d.default.Names.CHECKMARK,className:h.default.selectedIcon}):null,t)})},v.render=function(){var e=this,t=this.props,n=t.skus,r=t.className;return 0===n.length?null:_("div",{className:r},void 0,_("div",{className:h.default.alternativeSkus},void 0,n.map(function(t){return e.renderSku(t,t.name)})))},l=r,(i=[{key:"analyticsLocation",get:function(){return m({},this.props.analyticsContext.location,{object:p.AnalyticsObjects.ALTERNATIVE_SKU})}}])&&g(l.prototype,i),s&&g(l,s),r}(a.PureComponent);E.displayName="AlternativeSkus";var y=l.default.connectStores([s.default],function(e){return{skus:e.storeListing.alternativeSkuIds.map(function(e){return s.default.get(e)}).filter(function(e){return null!=e})}})((0,i.default)(E));t.default=y},7297:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(0)),o=c(n(8)),l=c(n(854)),i=f(n(462)),u=n(466),s=c(n(4)),d=c(n(6087));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.label,n=e.value;return p("div",{className:d.default.row},void 0,p("label",{className:d.default.label},void 0,t,":"),p("span",{className:d.default.info},void 0,n))};h.displayName="Row";var v=p("span",{},void 0,", "),m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.renderReleaseDate=function(){var e=this.props.sku;return null==e.releaseDate?null:p(h,{label:s.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,value:i.dateFormat(e.releaseDate,"LL")})},c.renderGenres=function(){var e=this.props.sku;if(null==e.genres||0===e.genres.size)return null;var t=[];return e.genres.forEach(function(n){t.push(p(a.Fragment,{},n,(0,u.getGenreText)(n),t.length<e.genres.size-1?v:null))}),p(h,{label:s.default.Messages.APPLICATION_STORE_DETAILS_GENRES,value:t})},c.renderDevelopers=function(){var e=this.props.game;if(0===e.developers.length)return null;var t=e.developers.map(function(e){return e.name}).join(", ");return p(h,{label:s.default.Messages.APPLICATION_STORE_DETAILS_DEVELOPER,value:t})},c.renderPublishers=function(){var e=this.props.game;if(0===e.publishers.length)return null;var t=e.publishers.map(function(e){return e.name}).join(", ");return p(h,{label:s.default.Messages.APPLICATION_STORE_DETAILS_PUBLISHER,value:t})},c.render=function(){var e=this.props.className;return p("div",{className:(0,o.default)(e,d.default.details)},void 0,p(l.default,{className:d.default.contentHeader},void 0,s.default.Messages.APPLICATION_STORE_SECTION_TITLE_DETAILS),this.renderReleaseDate(),this.renderGenres(),this.renderDevelopers(),this.renderPublishers())},r}(a.Component);m.displayName="ApplicationDetails";var _=m;t.default=_},7298:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=O(n(0)),o=T(n(8)),l=n(259),i=T(n(3)),u=T(n(30)),s=n(159),d=T(n(25)),c=T(n(11)),f=T(n(346)),p=T(n(119)),h=T(n(58)),v=T(n(183)),m=O(n(13)),_=n(154),g=n(867),E=T(n(345)),y=n(1),S=T(n(4)),I=T(n(6088));function T(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=Object.freeze({RESTRICTED_IN_REGION:1,REQUIRES_DESKTOP_APP:2,UNAVAILABLE_OPERATING_SYSTEM:3,DLC_REQUIRES_BASE_APPLICATION:4,EARLY_ACCESS:5,UNAVAILABLE_IN_LANGUAGE:6}),A=v.default.getArticleURL(y.HelpdeskArticles.APPLICATION_STORE_OVERVIEW),M=v.default.getArticleURL(y.HelpdeskArticles.APPLICATION_STORE_EARLY_ACCESS),P=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.sku,n=e.dependentSku;null!=t.dependentSkuId&&null==n&&(0,s.fetchSKU)(t.applicationId,t.dependentSkuId)},a.getTitle=function(e){switch(e){case C.RESTRICTED_IN_REGION:return S.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_TITLE;case C.REQUIRES_DESKTOP_APP:return S.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE;case C.UNAVAILABLE_OPERATING_SYSTEM:switch(m.default.getPlatform()){case m.PlatformTypes.WINDOWS:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_WINDOWS_TITLE;case m.PlatformTypes.OSX:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_MAC_OS_TITLE;case m.PlatformTypes.LINUX:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_LINUX_TITLE;default:return S.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE}case C.DLC_REQUIRES_BASE_APPLICATION:return S.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_TITLE;case C.EARLY_ACCESS:return S.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_TITLE;case C.UNAVAILABLE_IN_LANGUAGE:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_TITLE}},a.getDescription=function(e){var t=this;switch(e){case C.RESTRICTED_IN_REGION:return S.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_DESCRIPTION.format({helpArticle:A});case C.REQUIRES_DESKTOP_APP:return S.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_DESCRIPTION.format({downloadHook:function(e,n){return g.isMobile?e:N(h.default,{className:I.default.link,tag:"a",onClick:t.handleDownloadApps},n,e)}});case C.UNAVAILABLE_OPERATING_SYSTEM:switch(m.default.getPlatform()){case m.PlatformTypes.LINUX:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_LINUX_DESCRIPTION;default:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_OS_DESCRIPTION}case C.DLC_REQUIRES_BASE_APPLICATION:var n=this.props.dependentSku;return null==n?null:S.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_DESCRIPTION.format({baseName:n.name,helpArticle:A,baseHook:function(e,t){return N(l.Link,{to:{pathname:y.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:y.AnalyticsLocations.APPLICATION_STORE_WARNING}}},t,e)}});case C.EARLY_ACCESS:return S.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_DESCRIPTION.format({helpArticle:M});case C.UNAVAILABLE_IN_LANGUAGE:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_DESCRIPTION}},a.handleDownloadApps=function(){u.default.push(E.default,{source:y.AnalyticsLocations.APPLICATION_STORE_WARNING})},a.getColorClass=function(e){switch(e){case C.RESTRICTED_IN_REGION:return I.default.red;default:return I.default.yellow}},a.renderWarning=function(e){var t=this.getTitle(e),n=this.getDescription(e);return N("div",{className:(0,o.default)(I.default.warning,this.getColorClass(e))},e,N("div",{className:I.default.title},void 0,t),N("div",{className:I.default.description},void 0,n))},a.render=function(){var e=this.props,t=e.sku,n=e.dependentSku,r=e.isEntitledToDependentSku,a=e.className,o=[];return t.restricted&&o.push(this.renderWarning(C.RESTRICTED_IN_REGION)),m.default.isWeb()?o.push(this.renderWarning(C.REQUIRES_DESKTOP_APP)):t.supportedOperatingSystems.includes((0,_.nativePlatformTypeToSKUOperatingSystem)(m.default.getPlatform()))||o.push(this.renderWarning(C.UNAVAILABLE_OPERATING_SYSTEM)),null==n||r||o.push(this.renderWarning(C.DLC_REQUIRES_BASE_APPLICATION)),t.accessType===y.SKUAccessTypes.EARLY_ACCESS&&o.push(this.renderWarning(C.EARLY_ACCESS)),0===o.length?null:N("div",{className:a},void 0,o)},r}(a.PureComponent);P.displayName="ApplicationStoreWarning";var R=i.default.connectStores([c.default,d.default,f.default],function(e){var t=e.sku,n=null!=t.dependentSkuId?p.default.get(t.dependentSkuId):null;return{locale:d.default.locale,dependentSku:n,isEntitledToDependentSku:null!=t.dependentSkuId&&!0===f.default.isEntitledToSku(c.default.getNullableCurrentUser(),t.dependentSkuId,t.applicationId)}})(P);t.default=R},7299:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(259),l=g(n(3)),i=n(159),u=g(n(260)),s=g(n(888)),d=g(n(22)),c=g(n(119)),f=g(n(855)),p=g(n(21)),h=n(154),v=n(1),m=g(n(4)),_=g(n(6089));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){var n=e.applicationId,r=(0,h.getPrimarySKUForApplication)(n,d.default,c.default);return null!=r?f.default.getForSKU(r.id,t):null}var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isCollapsed:!0},t.handleCollapsedToggle=function(){t.setState({isCollapsed:!t.state.isCollapsed})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){var e=this.props,t=e.sku,n=e.fetchStoreListing;null==y(t,e.channelId)&&n(t.id)},l.componentDidUpdate=function(e){var t=this.props,n=t.sku,r=t.relatedSkuIds;if(null!=r&&r!==e.relatedSkuIds){var a=r,o=Array.isArray(a),l=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(l>=a.length)break;u=a[l++]}else{if((l=a.next()).done)break;u=l.value}var s=u;(0,i.fetchSKU)(n.applicationId,s)}}},l.renderSection=function(e,t,n){var r=this.props,l=r.sku,i=r.channelId,u=r.guildId,d=r.analyticsContext,c=this.state.isCollapsed,f=5===t.length?5:4,g=c?t.slice(0,f):t,y=g.map(function(e,t){return E(o.Link,{className:n&&t===g.length-1?_.default.skuLast:_.default.skuNormal,to:(0,h.getStoreListingLocation)(e.id,{guildId:u,channelId:i,slug:e.slug,analyticsSource:d.location})},e.id,E("div",{className:_.default.name},void 0,e.name),E("div",{className:_.default.price},void 0,null!=e.getPrice()?(0,s.default)(e):null))});return 0===y.length?null:E(a.Fragment,{},void 0,E("div",{className:_.default.title},void 0,function(e,t){if(e===t)switch(e){case v.SKUTypes.GAME:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_SAME;case v.SKUTypes.DLC:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_SAME;case v.SKUTypes.CONSUMABLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_SAME;case v.SKUTypes.BUNDLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_SAME}else switch(e){case v.SKUTypes.GAME:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_DIFFERENT;case v.SKUTypes.DLC:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_DIFFERENT;case v.SKUTypes.CONSUMABLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_DIFFERENT;case v.SKUTypes.BUNDLE:return m.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_DIFFERENT}}(e,l.type)),y,f<t.length&&c?E(p.default,{color:p.default.Colors.PRIMARY,size:p.default.Sizes.SMALL,onClick:this.handleCollapsedToggle,className:_.default.collapseButton},void 0,m.default.Messages.APPLICATION_STORE_EXPAND_DOWNLOADABLE_CONTENT):null)},l.render=function(){var e=this.props.relatedSKUs;if(0===e.length)return null;var t=e.filter(function(e){return e.type===v.SKUTypes.BUNDLE}),n=e.filter(function(e){return e.type===v.SKUTypes.DLC}),r=e.filter(function(e){return e.type===v.SKUTypes.CONSUMABLE});return E("div",{},void 0,this.renderSection(v.SKUTypes.BUNDLE,t,0===n.length&&0===r.length),this.renderSection(v.SKUTypes.DLC,n,0===r.length),this.renderSection(v.SKUTypes.CONSUMABLE,r,!0))},r}(a.PureComponent);S.displayName="RelatedContent";var I=(0,u.default)(l.default.connectStores([f.default,c.default],function(e){var t=e.sku,n=e.channelId,r=y(t,n);if(null==r)return{relatedSkuIds:void 0,relatedSKUs:Object.freeze([])};var a=r.childSkuIds.filter(function(e){return t.id!==e}).map(c.default.get).filter(Boolean).filter(function(e){return!e.isPremiumPerk()});return{relatedSkuIds:a.map(function(e){return e.id}),relatedSKUs:a}})(S));t.default=I},7300:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=E(n(8)),l=E(n(3)),i=E(n(506)),u=E(n(479)),s=E(n(11)),d=E(n(6808)),c=E(n(119)),f=E(n(855)),p=E(n(7301)),h=n(154),v=E(n(7302)),m=E(n(7303)),_=E(n(4)),g=E(n(6094));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderReasons=function(e,t){return 0===e.length&&0===t.length?null:y("div",{className:g.default.section},void 0,y("div",{className:g.default.sectionContent},void 0,e.map(function(e){return y("div",{className:g.default.unit},e.type,y(v.default,{reason:e}))}),t.map(function(e){return y("div",{className:g.default.unit},e.type,y(p.default,{reason:e}))})))},a.getReviewToRender=function(){var e=this.props.storeListing;return null!=e.staffNotes?{type:m.default.Types.STAFF_NOTES,staffNotes:e.staffNotes}:null},a.render=function(){var e=this.props,t=e.socialReasons,n=e.nonSocialReasons,r=e.storeListing,a=e.className;if(0===t.length&&0===n.length&&null==r.staffNotes)return null;var l=n,i=this.getReviewToRender();return y("div",{className:(0,o.default)(g.default.root,a)},void 0,y("div",{className:g.default.header},void 0,_.default.Messages.APPLICATION_STORE_SECTION_TITLE_RECOMMENDATION),this.renderReasons(t,l),null!=i?y(m.default,{data:i,className:g.default.review}):null)},r}(a.Component);S.displayName="ApplicationWhyYouMightLikeIt";var I=l.default.connectStores([c.default,s.default,f.default,i.default,u.default,d.default],function(e){var t=e.sku;return{socialReasons:(0,h.getSocialRecommendationReasons)(t.id,c.default,s.default,i.default,u.default,d.default),nonSocialReasons:(0,h.getNonSocialRecommendationReasons)(t.id,c.default,f.default)}})(S);t.default=I},7301:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=n(462),i=c(n(42)),u=n(1),s=c(n(4)),d=c(n(6091));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.iconName,n=e.className;return f("div",{className:(0,o.default)(d.default.iconCircle,n)},void 0,f(i.default,{name:t,className:d.default.icon}))};p.displayName="IconCircle";var h=function(e){var t=e.circle,n=e.smallHeader,r=e.text,a=e.className;return f("div",{className:(0,o.default)(d.default.recommendationReason,a)},void 0,t,f("div",{className:d.default.description},void 0,null!=n?f("div",{className:d.default.smallHeader},void 0,n):null,f("div",{className:d.default.text},void 0,r)))};h.displayName="Unit";var v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.reason,n=e.className;return t.type===u.StoreRecommendationTypes.RECENT_RELEASE_DATE?f(h,{className:n,circle:f(p,{iconName:i.default.Names.CALENDAR}),smallHeader:s.default.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===u.StoreRecommendationTypes.RELEASE_DATE?f(h,{className:n,circle:f(p,{iconName:i.default.Names.CALENDAR}),smallHeader:s.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===u.StoreRecommendationTypes.EARLY_ACCESS?null!=t.releaseDate?f(h,{className:n,circle:f(p,{iconName:i.default.Names.EARLY_ACCESS,className:d.default.earlyAccess}),smallHeader:s.default.Messages.APPLICATION_STORE_EARLY_ACCESS,text:(0,l.dateFormat)(t.releaseDate,"LL")}):f(h,{className:n,circle:f(p,{iconName:i.default.Names.EARLY_ACCESS,className:d.default.earlyAccess}),text:s.default.Messages.APPLICATION_STORE_EARLY_ACCESS}):t.type===u.StoreRecommendationTypes.FLAVOR_TEXT?f(h,{circle:f(p,{iconName:i.default.Names.CHECKMARK}),text:t.flavorText,className:n}):t.type===u.StoreRecommendationTypes.HAS_FREE_PREMIUM_CONTENT?f(h,{className:n,circle:f(p,{iconName:i.default.Names.NITRO_WHEEL,className:d.default.premiumCircle}),text:s.default.Messages.APPLICATION_STORE_FREE_PREMIUM_CONTENT}):null},r}(a.Component);t.default=v,v.displayName="StoreRecommendationReason"},7302:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=m(n(8)),i=m(n(476)),u=m(n(65)),s=m(n(6613)),d=m(n(223)),c=m(n(328)),f=m(n(343)),p=n(1),h=m(n(4)),v=m(n(6092));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=((r={})[p.StoreRecommendationTypes.NOW_PLAYING]={single:function(e,t){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})}},r[p.StoreRecommendationTypes.RECENTLY_PLAYED]={single:function(e,t){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})}},r[p.StoreRecommendationTypes.EVER_PLAYED]={single:function(e,t){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}},r),y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderUserPopout=function(e,t){return o.createElement(f.default,g({},t,{userId:e.id}))},t.renderUserTooltip=function(e,t,n){return _("div",{className:v.default.tooltip},void 0,_("div",{},void 0,e.tag),_(i.default,{className:v.default.tooltipTimestamp,start:t,end:n,location:i.default.Locations.ACTIVITY_FEED}))},t.renderPlayer=function(e,n,r,a){var i=e;if(null==i)return null;var s=t.props.reason.userInfo.find(function(e){return e.user===i});return null==s?null:_(d.default,{render:function(e){return t.renderUserPopout(i,e)},position:d.default.Positions.RIGHT,closeOnScroll:!1},i.id,_(u.default,{text:t.renderUserTooltip(i,s.startTime,s.endTime),"aria-label":i.tag},void 0,function(e){var t;return o.createElement(c.default,g({className:(0,l.default)(v.default.playerAvatar,(t={},t[v.default.avatarMasked]=!a,t)),src:i.getAvatarURL(),"aria-label":i.username,size:c.default.Sizes.SIZE_32},e))}))},t.renderPlayerOverflow=function(e,t,n){return _("div",{className:v.default.playerOverflow},n,e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderDescription=function(e,t){var n=this,r=E[e];return 1===t.length?r.single(t[0].user,function(e){return n.renderActivityDiscordTag(e)}):2===t.length?r.double(t[0].user,t[1].user,function(e){return n.renderActivityDiscordTag(e)}):r.other(t.length)},a.renderActivityDiscordTag=function(e){var t=this;return _(d.default,{render:function(n){return t.renderUserPopout(e,n)},position:d.default.Positions.RIGHT,closeOnScroll:!1},e.id,_("span",{className:v.default.username},void 0,e.username))},a.render=function(){var e=this.props,t=e.reason,n=e.className,r=t.type,a=t.userInfo;return 0===a.length?null:_("div",{className:(0,l.default)(v.default.recommendationActivity,n)},void 0,_(s.default,{className:v.default.players,users:a.map(function(e){return e.user}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),_("div",{className:v.default.description},void 0,this.renderDescription(r,a)))},r}(o.PureComponent);y.displayName="ApplicationRecommendationActivity";var S=y;t.default=S},7303:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;c(n(0));var r,a=d(n(8)),o=d(n(3)),l=d(n(185)),i=c(n(870)),u=d(n(4)),s=d(n(6093));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=Object.freeze({STAFF_NOTES:1}),h=function(e){var t=e.user,n=e.className,r=e.animate;return f("div",{className:(0,a.default)(s.default.staffReviewHeader,n)},void 0,f(i.default,{size:i.Sizes.SIZE_32,user:t,animate:r}),f("div",{className:s.default.headerText},void 0,f("div",{className:s.default.label},void 0,u.default.Messages.APPLICATION_STORE_STAFF_PICK),f("div",{className:s.default.username},void 0,t.username)))};h.displayName="StaffReason";var v=o.default.connectStores([l.default],function(){return{animate:l.default.isFocused()}})(h),m=function(e){var t=e.data,n=e.className;if(t.type===p.STAFF_NOTES){if(null==t.staffNotes)return null;var r=t.staffNotes,a=r.user,o=r.content;return null==a?null:f("div",{className:n},void 0,f(v,{user:a,className:s.default.header}),f("div",{className:s.default.notes},void 0,o))}throw new Error("Unknown type")};m.Types=p;var _=m;t.default=_},7304:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l=g(n(0)),i=_(n(8)),u=_(n(21)),s=_(n(854)),d=_(n(24)),c=n(361),f=g(n(13)),p=n(1),h=_(n(4)),v=n(6552),m=_(n(6095));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var S=((r={})[p.OperatingSystems.WINDOWS]=h.default.Messages.WINDOWS,r[p.OperatingSystems.MACOS]=h.default.Messages.MACOS,r[p.OperatingSystems.LINUX]=h.default.Messages.LINUX,r),I=((a={})[p.OperatingSystems.WINDOWS]=f.PlatformTypes.WINDOWS,a[p.OperatingSystems.MACOS]=f.PlatformTypes.OSX,a[p.OperatingSystems.LINUX]=f.PlatformTypes.LINUX,a),T=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.children,a=t.pageSize,o=t.onClick,l=a===v.PageSizes.LARGE;return E(u.default,{size:l?u.default.Sizes.MIN:u.default.Sizes.LARGE,fullWidth:!l,color:n?m.default.tabSelectedColor:m.default.tabNotSelectedColor,className:(0,i.default)((e={},e[m.default.tabPageLarge]=l,e[m.default.tabPageSmall]=!l,e[m.default.tabSelected]=n,e[m.default.tabNotSelected]=!n,e)),onClick:o},void 0,r)},t}(l.PureComponent);T.displayName="Tab";var O=function(e){function t(t){var n;(n=e.call(this,t)||this).handleSelectOperatingSystem=function(e){n.setState({selectedOperatingSystem:e})};for(var r=f.default.getPlatform(),a=Object.keys(t.systemRequirements),o=a[0],l=0,i=a;l<i.length;l++){var u=i[l];I[u]===r&&(o=u)}return n.state={selectedOperatingSystem:o},n}y(t,e);var n=t.prototype;return n.renderTabs=function(){var e=this,t=this.props,n=t.pageSize,r=t.systemRequirements,a=this.state.selectedOperatingSystem,o=Object.keys(r);return 1===o.length?null:E(d.default,{className:m.default.tabs},void 0,E("div",{className:m.default.separator}),o.map(function(t){return E(T,{active:t===a,onClick:function(){return e.handleSelectOperatingSystem(t)},pageSize:n},t,S[t])}))},n.renderRequirementsSection=function(e,t){if(null==e)return null;var n=function(e){return[{key:h.default.Messages.APPLICATION_STORE_SPECS_OS,value:e.operating_system_version},{key:h.default.Messages.APPLICATION_STORE_SPECS_CPU,value:e.cpu},{key:h.default.Messages.APPLICATION_STORE_SPECS_MEMORY,value:null!=e.ram?h.default.Messages.APPLICATION_STORE_SPECS_MEMORY_VALUE.format({size:(0,c.formatSize)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:h.default.Messages.APPLICATION_STORE_SPECS_VIDEO,value:e.gpu},{key:h.default.Messages.APPLICATION_STORE_SPECS_STORAGE,value:null!=e.disk?(0,c.formatSize)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:h.default.Messages.APPLICATION_STORE_SPECS_SOUND,value:e.sound_card},{key:h.default.Messages.APPLICATION_STORE_SPECS_NETWORK,value:e.network},{key:h.default.Messages.APPLICATION_STORE_SPECS_NOTES,value:e.notes}]}(e).map(function(e,t){var n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:E("div",{className:m.default.requirement},t,E("span",{className:m.default.requirementKey},void 0,e.key,":"),n)}).filter(function(e){return null!=e});return E("div",{className:m.default.requirements},void 0,E(s.default,{tag:"h4"},void 0,t),n)},n.renderBody=function(){var e=this.props.systemRequirements[this.state.selectedOperatingSystem],t=e.minimum,n=e.recommended;return E("div",{className:m.default.requirementsContainer},void 0,this.renderRequirementsSection(t,h.default.Messages.APPLICATION_STORE_SPECS_MINIMUM),this.renderRequirementsSection(n,h.default.Messages.APPLICATION_STORE_SPECS_RECOMMENDED))},n.render=function(){return E("div",{className:this.props.className},void 0,E(s.default,{},void 0,h.default.Messages.APPLICATION_STORE_SECTION_TITLE_SYSTEM_REQUIREMENTS),this.renderTabs(),this.renderBody())},t}(l.PureComponent);O.displayName="SystemRequirements";var N=O;t.default=N},7305:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TestModeStoreListingButtonEnums=void 0;var r,a=h(n(0)),o=p(n(3)),l=h(n(35)),i=p(n(22)),u=p(n(50)),s=p(n(855)),d=p(n(38)),c=p(n(6962)),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _={DropdownSizes:c.default.DropdownSizes,Sizes:c.default.Sizes,Colors:c.default.Colors,Looks:c.default.Looks};t.TestModeStoreListingButtonEnums=_;var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(e){var n=e.className,r=e.style,a=t.props,o=a.storeListings,i=a.onStoreListingSelect,u=a.currentStoreListingId,s=o.map(function(e){return e.id!==u?m(d.default,{label:e.id,action:function(){l.closeContextMenu(),i&&i(e)}},e.id):null});return m("div",{className:n,style:r},void 0,s)},t.handleContextMenu=function(e){e.stopPropagation(),l.openContextMenu(e,t.renderContextMenu)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.storeListings,n=e.primaryStoreListing,r=(e.skuId,e.onStoreListingSelect,e.currentStoreListingId,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["storeListings","primaryStoreListing","skuId","onStoreListingSelect","currentStoreListingId"])),o=null!=n?1:0;return(o+=t.length)<2?null:a.createElement(c.default,v({onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu},r),f.default.Messages.APPLICATION_TEST_MODE_VIEW_OTHER_LISTINGS)},r}(a.PureComponent);g.displayName="TestModeStoreListingButton";var E=o.default.connectStores([s.default,u.default,i.default],function(e){var t=e.skuId;return{storeListings:s.default.getUnpublishedForSKU(t),primaryStoreListing:s.default.getForSKU(t)}})(g);t.default=E},7306:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=N(n(8)),l=n(335),i=N(n(3)),u=N(n(139)),s=n(465),d=N(n(6570)),c=N(n(341)),f=N(n(19)),p=N(n(276)),h=N(n(39)),v=N(n(21)),m=N(n(854)),_=N(n(24)),g=N(n(6521)),E=N(n(42)),y=N(n(36)),S=n(1),I=N(n(4)),T=n(6552),O=N(n(6097));function N(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJoinOrView=function(){var e=t.props,n=e.guild,r=e.skuId,a=e.isInGuild,o=function(){return y.default.transitionTo(S.Routes.CHANNEL(n.id,h.default.getChannelId(n.id)))};e.isLurking?(0,s.joinPublishedStoreListingSkuGuild)(r).then(o):a?o():u.default.joinGuild(n.id,!0,S.JoinGuildSources.APPLICATION_STORE).then(o)},t.handleLogin=function(){var e={redirect_to:S.Routes.APPLICATION_STORE_LISTING_SKU(t.props.skuId)};y.default.transitionTo(S.Routes.LOGIN,{search:(0,l.stringify)(e)})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderMemberInfo=function(){var e=this.props.guild,t=e.approximateMemberCount,n=e.approximatePresenceCount;return null==t||null==n?null:C(_.default,{className:O.default.memberInfo,align:_.default.Align.CENTER},void 0,C("div",{className:O.default.dotOnline}),C("span",{className:O.default.memberText},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})),C("div",{className:O.default.dotOffline}),C("span",{className:O.default.memberText},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:t})))},a.render=function(){var e=this.props,t=e.guild,n=e.inChannel,r=e.isInGuild,a=e.isLurking,l=e.isAuthenticated,i=e.className,u=e.pageSize;if(n&&r)return null;var s=new c.default(t),d=I.default.Messages.LURKER_MODE_VIEW_GUILD,f=this.handleJoinOrView,p=v.default.Looks.FILLED,h=v.default.Colors.PRIMARY;return l?r?(p=v.default.Looks.OUTLINED,h=O.default.buttonColorInGuild,d=C(_.default,{align:_.default.Align.CENTER},void 0,C("div",{},void 0,I.default.Messages.JOINED_SERVER),C(E.default,{name:E.default.Names.CHECKMARK,className:O.default.joinedCheckmark}))):a&&n&&(d=I.default.Messages.JOIN_SERVER):(d=I.default.Messages.LOGIN,f=this.handleLogin),C("div",{className:(0,o.default)(i,u===T.PageSizes.SMALL?O.default.inviteSmall:O.default.inviteLarge)},void 0,C(m.default,{},void 0,I.default.Messages.APPLICATION_STORE_SECTION_TITLE_VERIFIED_GUILD),C("div",{className:O.default.content},void 0,C("div",{className:O.default.info},void 0,C(g.default,{guild:s,active:!0,size:g.default.Sizes.LARGE,className:O.default.guildIcon}),C("div",{className:O.default.infoText},void 0,C("div",{className:O.default.name},void 0,t.name),this.renderMemberInfo())),C(v.default,{size:v.default.Sizes.SMALL,className:O.default.actionButton,fullWidth:!0,color:h,look:p,onClick:f},void 0,d)))},r}(a.PureComponent);A.displayName="VerifiedGuildInvite";var M=(0,d.default)(i.default.connectStores([f.default,p.default],function(e){var t=e.guild,n=p.default.isLurking(t.id);return{isInGuild:null!=f.default.getGuild(t.id)&&!n,isLurking:n}})(A));t.default=M},7307:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LinkButton=void 0;var r,a=N(n(0)),o=O(n(140)),l=n(35),i=O(n(30)),u=O(n(197)),s=n(6529),d=O(n(137)),c=O(n(58)),f=O(n(42)),p=O(n(71)),h=N(n(328)),v=O(n(6946)),m=O(n(20)),_=O(n(7308)),g=O(n(459)),E=O(n(155)),y=O(n(929)),S=n(1),I=O(n(4)),T=O(n(6102));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=m.default.getEnableHardwareAcceleration()?h.AnimatedAvatar:h.default,R=function(e){var t=e.onClick;return M(c.default,{onClick:t,className:T.default.closeButton},void 0,M(f.default,{name:f.default.Names.NOVA_CLOSE,className:T.default.closeIcon}))};R.displayName="CloseButton";var b=function(e){function t(){return e.apply(this,arguments)||this}return A(t,e),t.prototype.render=function(){var e=this.props,t=e.route,n=e.selected,r=e.iconName,a=e.text,o=e.children,l=e.locationState,i=e.onClick;return M(v.default,{selected:n,className:T.default.channel,to:{pathname:t,state:l},onClick:i,avatar:M(f.default,{name:r,className:T.default.linkButtonIcon}),name:a},void 0,o)},t}(a.Component);t.LinkButton=b,b.displayName="LinkButton";var L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.handleMouseEnter=function(){t.setState({hovered:!0})},t.handleMouseLeave=function(){t.setState({hovered:!1})},t.handleClose=function(e){null!=e&&(e.preventDefault(),e.stopPropagation());var n=t.props.channel;o.default.closePrivateChannel(n.id,t.props.selected)},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,i=n.user;r.isMultiUserDM()?(0,l.openContextMenu)(e,function(e){return a.createElement(_.default,C({},e,{channelId:r.id,selected:o}))},{noBlurEvent:!0}):(0,l.openContextMenu)(e,function(e){return a.createElement(g.default,C({},e,{type:S.ContextMenuTypes.USER_PRIVATE_CHANNELS,user:i,channelId:r.id,selected:o}))})},t.handleLeaveGroup=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.channel,r=(0,d.default)(n),o=I.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:r}),l=I.default.Messages.LEAVE_GROUP_DM_BODY.format({name:r});n.isManaged()&&(o=I.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:r}),l=I.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:r})),i.default.push(function(e){return a.createElement(E.default,C({header:o,confirmText:I.default.Messages.LEAVE_GROUP_DM,cancelText:I.default.Messages.CANCEL,onConfirm:t.handleClose},e),M(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,l))})},t.handleMouseDown=function(){o.default.preload(S.ME,t.props.channel.id)},t}A(t,e);var n=t.prototype;return n.renderSubtitle=function(){var e=this.props,t=e.channel,n=e.activities,r=e.applicationStream,o={className:T.default.activity,textClassName:T.default.activityText,emojiClassName:T.default.activityEmoji};return t.isSystemDM()?M("div",{className:T.default.subtext},void 0,I.default.Messages.SYSTEM_DM_ACTIVITY_TEXT):t.isMultiUserDM()?M("div",{className:T.default.subtext},void 0,I.default.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1})):null!=n?a.createElement(y.default,C({},o,{activities:n,applicationStream:r,animate:this.state.hovered,hideTooltip:!0})):null},n.renderAvatar=function(){var e=this.props,t=e.channel,n=e.user,r=e.status,a=e.activities,o=e.isTyping,l=e.isMobile;if(t.isMultiUserDM())return M(P,{src:(0,s.getChannelIconURL)(t),"aria-hidden":!0,className:T.default.avatar,size:h.Sizes.SIZE_32});if(null!=n)return M(P,{size:h.Sizes.SIZE_32,src:n.getAvatarURL(),status:(0,u.default)(a)?S.StatusTypes.STREAMING:r,isMobile:l,isTyping:o,className:T.default.avatar,"aria-label":n.username,statusTooltip:!0});throw new Error("PrivateChannel.renderAvatar: Invalid prop configuration - no user or channel")},n.render=function(){var e=this.props,t=e.channel,n=e.selected;return M(v.default,{className:T.default.channel,avatar:this.renderAvatar(),selected:n,name:(0,d.default)(t),to:S.Routes.CHANNEL(S.ME,t.id),onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,subText:this.renderSubtitle()},void 0,t.isSystemDM()?null:M(R,{onClick:t.isMultiUserDM()?this.handleLeaveGroup:this.handleClose}))},t}(a.PureComponent);L.displayName="PrivateChannel",L.defaultProps={selected:!1};var D=L;t.default=D},7308:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(3)),l=y(n(140)),i=n(35),u=y(n(30)),s=y(n(10)),d=y(n(14)),c=y(n(6550)),f=y(n(187)),p=y(n(38)),h=y(n(7309)),v=y(n(7310)),m=y(n(926)),_=y(n(349)),g=n(1),E=y(n(4));function y(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleViewInstantInvites=function(){(0,i.closeContextMenu)(),u.default.push(function(e){return a.createElement(h.default,I({channelId:t.props.channel.id},e))})},t}return T(t,e),t.prototype.render=function(){return this.props.channel.isOwner(s.default.getId())?S(p.default,{label:E.default.Messages.INSTANT_INVITES,action:this.handleViewInstantInvites}):null},t}(a.PureComponent);O.displayName="InstantInvites";var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChangeIcon=function(e){(0,i.closeContextMenu)(),l.default.setIcon(t.props.channel.id,e)},t}return T(t,e),t.prototype.render=function(){return S(p.default,{label:E.default.Messages.CHANGE_ICON,styles:{position:"relative"}},void 0,S(c.default,{onChange:this.handleChangeIcon,size:g.AVATAR_MAX_SIZE}))},t}(a.PureComponent);N.displayName="ChangeIcon";var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRemoveIcon=function(){(0,i.closeContextMenu)(),l.default.setIcon(t.props.channel.id,null)},t}return T(t,e),t.prototype.render=function(){return null!=this.props.channel.icon?S(p.default,{label:E.default.Messages.REMOVE_ICON,action:this.handleRemoveIcon}):null},t}(a.PureComponent);C.displayName="RemoveIcon";var A=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,r=e.selected,a=e.channel;return null==a?null:a.isManaged()?null:S("div",{className:n,style:t},void 0,S(f.default,{},void 0,S(O,{channel:a}),S(N,{channel:a}),S(C,{channel:a})),S(f.default,{},void 0,S(m.default,{channel:a}),S(v.default,{channel:a,selected:r})),S(_.default,{id:a.id}))},t}(a.PureComponent);A.displayName="GroupDMContextMenu";var M=o.default.connectStores([d.default],function(e){var t=e.channelId;return{channel:d.default.getChannel(t)}})(A);t.default=M},7309:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=w(n(0)),o=D(n(8)),l=D(n(6)),i=D(n(3)),u=D(n(12)),s=D(n(269)),d=n(120),c=D(n(6684)),f=D(n(122)),p=D(n(14)),h=D(n(97)),v=D(n(25)),m=D(n(21)),_=D(n(6650)),g=w(n(6524)),E=D(n(24)),y=D(n(182)),S=D(n(71)),I=D(n(75)),T=n(136),O=D(n(15)),N=D(n(6551)),C=D(n(865)),A=w(n(870)),M=n(1),P=D(n(4)),R=D(n(5925)),b=D(n(455)),L=D(n(6101));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRevokeInvite=function(){var e=t.props,n=e.onRevoke,r=e.invite;null!=n&&n(r)},t}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.invite,n=e.hideDiscriminator,r=e.hideInviteCode,a=new f.default(t.inviter);return G(E.default,{className:(0,o.default)(L.default.row,R.default.card)},void 0,G(E.default,{align:E.default.Align.CENTER,className:L.default.userColumn},void 0,G(A.default,{user:a,size:A.Sizes.SIZE_24,className:L.default.avatar}),G(C.default,{user:a,hideDiscriminator:n,usernameClass:L.default.username,discriminatorClass:L.default.discrimClass})),G(E.default,{align:E.default.Align.CENTER,grow:0,shrink:0,basis:100,className:L.default.boostZIndex},void 0,G(S.default,{family:S.default.Family.CODE,className:L.default.code},void 0,r?"...":t.code)),G(E.default,{basis:100,grow:0,shrink:0,align:E.default.Align.CENTER,justify:E.default.Justify.END,className:L.default.boostZIndex},void 0,G(S.default,{family:S.default.Family.CODE,className:L.default.alignRight},void 0,G(_.default,{deadline:t.getExpiresAt(),showDays:!1})),G(N.default,{className:L.default.revokeInvite,onClick:this.handleRevokeInvite})))},t}(a.PureComponent);F.displayName="InviteRow";var B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={loading:!0,invites:null},t.handleRevoke=function(e){s.default.revokeInvite(e.code),t.setState({invites:t.state.invites.filter(function(t){return t!==e})})},t.handleClose=function(){var e=t.props.onClose;e&&e()},t}k(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this,t=this.props.channelId;u.default.get({url:M.Endpoints.INSTANT_INVITES(t),retries:3}).then(function(t){var n=t.body.map(function(e){return new c.default(U({},e,{maxUses:e.max_uses,maxAge:e.max_age,createdAt:e.created_at}))});e.setState({loading:!1,invites:n})}),O.default.track(M.AnalyticEvents.OPEN_MODAL,U({},(0,d.collectChannelAnalyticsMetadata)(p.default.getChannel(t)),{type:"Group DM Invites",source:"Group DM Menu"}))},r.renderContent=function(){var e=this.state,t=e.loading,n=e.invites;return t||null==n?G(y.default,{className:b.default.marginTop20,type:y.default.Type.SPINNING_CIRCLE}):l.default.isEmpty(n)?this.renderEmpty():G("div",{className:L.default.container},void 0,this.renderHeader(),this.renderInvites())},r.renderEmpty=function(){return G(g.default,{theme:this.props.theme},void 0,G(g.EmptyStateImage,{darkSrc:n(6778),lightSrc:n(6779),width:256,height:130,style:{marginBottom:0}}),G(g.EmptyStateText,{className:b.default.marginTop20},void 0,P.default.Messages.NO_INVITES_CAPTION))},r.renderHeader=function(){return G(E.default,{},void 0,G(E.default.Child,{wrap:!0},void 0,G(T.FormTitle,{},void 0,P.default.Messages.INSTANT_INVITE_INVITER)),G(E.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,G(T.FormTitle,{},void 0,P.default.Messages.INSTANT_INVITE_INVITE_CODE)),G(E.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,G(T.FormTitle,{className:L.default.alignRight},void 0,P.default.Messages.INSTANT_INVITE_EXPIRES)))},r.renderInvites=function(){var e=this,t=this.props,n=t.hideDiscriminators,r=t.hideInviteCodes;return(0,l.default)(this.state.invites).sortBy(function(e){return(e.inviter.username||"").toLocaleLowerCase()}).map(function(t){return G(F,{invite:t,hideDiscriminator:n,hideInviteCode:r,onRevoke:e.handleRevoke},t.code)}).value()},r.render=function(){return G(I.default,{size:I.default.Sizes.MEDIUM},void 0,G(I.default.Header,{direction:E.default.Direction.VERTICAL,align:E.default.Align.START},void 0,G(T.FormTitle,{tag:T.FormTitleTags.H2},void 0,P.default.Messages.INVITES),G(T.FormText,{type:T.FormTextTypes.DESCRIPTION},void 0,P.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE)),G(I.default.Content,{},void 0,this.renderContent()),G(I.default.Footer,{},void 0,G(m.default,{onClick:this.handleClose},void 0,P.default.Messages.DONE)))},t}(a.PureComponent);B.displayName="InviteSettingsModal";var j=i.default.connectStores([h.default,v.default],function(){return{hideDiscriminators:h.default.hidePersonalInformation,hideInviteCodes:h.default.hideInstantInvites,theme:v.default.theme}})(B);t.default=j},7310:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(140)),l=n(35),i=p(n(30)),u=p(n(137)),s=p(n(71)),d=p(n(38)),c=p(n(155)),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(t=e.call.apply(e,[this].concat(r))||this).handleConfirmLeave=function(){(0,l.closeContextMenu)();var e=t.props.channel,n=(0,u.default)(e),r=f.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:n}),o=f.default.Messages.LEAVE_GROUP_DM_BODY.format({name:n});e.isManaged()&&(r=f.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:n}),o=f.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:n})),i.default.push(function(e){return a.createElement(c.default,h({header:r,confirmText:f.default.Messages.LEAVE_GROUP_DM,cancelText:f.default.Messages.CANCEL,onConfirm:t.handleLeave},e),v(s.default,{size:s.default.Sizes.MEDIUM,color:s.default.Colors.PRIMARY},void 0,o))})},t.handleLeave=function(){var e=t.props,n=e.channel,r=e.selected;o.default.closePrivateChannel(n.id,r)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return v(d.default,{label:f.default.Messages.LEAVE_GROUP_DM,action:this.handleConfirmLeave,danger:!0})},r}(a.PureComponent);t.default=m,m.displayName="ChannelLeaveItem"},7311:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(6743)),l=y(n(3)),i=y(n(121)),u=y(n(263)),s=y(n(6540)),d=y(n(120)),c=y(n(856)),f=y(n(14)),p=y(n(860)),h=y(n(68)),v=y(n(279)),m=y(n(152)),_=y(n(468)),g=n(1),E=y(n(6103));function y(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=44,O=100,N=I("rect",{x:40,y:6,width:144,height:20,rx:10}),C=I("circle",{cx:16,cy:16,r:16}),A=I("rect",{x:40,y:50,width:144,height:20,rx:10,opacity:.9}),M=I("circle",{cx:16,cy:60,r:16,opacity:.9}),P=I("rect",{x:40,y:94,width:144,height:20,rx:10,opacity:.8}),R=I("circle",{cx:16,cy:104,r:16,opacity:.8}),b=I("rect",{x:40,y:138,width:144,height:20,rx:10,opacity:.7}),L=I("circle",{cx:16,cy:148,r:16,opacity:.7}),D=I("rect",{x:40,y:182,width:144,height:20,rx:10,opacity:.6}),w=I("circle",{cx:16,cy:192,r:16,opacity:.6}),U=I("rect",{x:40,y:226,width:144,height:20,rx:10,opacity:.5}),G=I("circle",{cx:16,cy:236,r:16,opacity:.5}),k=I("rect",{x:40,y:270,width:144,height:20,rx:10,opacity:.4}),F=I("circle",{cx:16,cy:280,r:16,opacity:.4}),B=I("rect",{x:40,y:314,width:144,height:20,rx:10,opacity:.3}),j=I("circle",{cx:16,cy:324,r:16,opacity:.3}),H=I("rect",{x:40,y:358,width:144,height:20,rx:10,opacity:.2}),V=I("circle",{cx:16,cy:368,r:16,opacity:.2}),x=I("rect",{x:40,y:402,width:144,height:20,rx:10,opacity:.1}),Y=I("circle",{cx:16,cy:412,r:16,opacity:.1}),W=a.memo(function(){return I("svg",{width:"184",height:"428",viewBox:"0 0 184 428",className:E.default.empty},void 0,N,C,A,M,P,R,b,L,D,w,U,G,k,F,B,j,H,V,x,Y)}),z=I(W,{},"no-private-channels"),K=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).scrollerRef=a.createRef(),n.hasReportedAnalytics=!1,n.reportAnalytics=function(){if(!n.hasReportedAnalytics){var e=n.scrollerRef.current;if(null!=e&&null!=e.getScrollData()){var t=n.props,r=t.privateChannelIds,o=t.channels;if(0!==r.length){var l=a.Children.count(n.props.children),i=T*l,u=e.getScrollData();if(null!=u){var s=Math.round((u.offsetHeight-i)/T),c=s>r.length?r.slice(0,s+1):r,f=c.map(function(e){return null!=o[e]?o[e].getRecipientId():null}),p={num_users_visible:c.length,num_users_visible_with_mobile_indicator:f.filter(function(e){return null!=e&&h.default.isMobileOnline(e)}).length};n.hasReportedAnalytics=!0,d.default.trackWithMetadata(g.AnalyticEvents.DM_LIST_VIEWED,S({},p))}}}}},n.handleScroll=(0,o.default)(function(){var e=n.scrollerRef.current;if(null!=e){var t=e.getScrollerNode();null!=t&&s.default.updateChannelListScroll(g.ME,t.scrollTop)}},O),n.state={initialized:!1,preRenderedChildren:a.Children.count(t.children)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){return{preRenderedChildren:a.Children.count(e.children)}};var l=r.prototype;return l.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.homeLink;null!=t&&null!=n&&n.indexOf(t)>=0&&this.scrollToChannel(t),this.reportAnalytics()},l.shouldComponentUpdate=function(e){return!(0,i.default)(this.props,e,["channels","children"])},l.componentDidUpdate=function(e){var t=this.props,n=t.selectedChannelId,r=t.homeLink;null!=n&&n!==e.selectedChannelId?this.scrollToChannel(n):null==n&&r!==e.homeLink&&this.scrollToChannel(null),this.reportAnalytics()},l.scrollToChannel=function(e){var t=this.scrollerRef.current;if(null!=t){var n=this.props.padding,r=this.state.preRenderedChildren,a=this.props.privateChannelIds.indexOf(e),o=0;a<0||null==e?t.scrollTo(o):(o+=T*(a+r)+n,t.scrollIntoViewRect(Math.max(o-8,0),o+T+8,!1))}},l.render=function(){var e=this.props,t=e.selectedChannelId,n=e.privateChannelIds,r=e.renderChannel,o=e.padding,l=e.channels,i=e.theme,s=a.Children.toArray(this.props.children),d=s.length;n.forEach(function(e){var n=l[e];null!=n&&s.push(r(n,t===e))});var c={theme:_.default.Themes.GHOST_HAIRLINE,backgroundColor:i===g.ThemeTypes.LIGHT?g.Colors.PRIMARY_LIGHT_130:g.Colors.PRIMARY_DARK_630,fade:!0,ref:this.scrollerRef,onScroll:this.handleScroll,className:E.default.scroller};return s.length===d?(s.push(z),a.createElement(m.default,S({},c,{style:{paddingTop:o,paddingBottom:8}}),s)):s.length>30?a.createElement(_.default,S({},c,{elementHeight:T,batchEndMultiplier:1.3,track:!1,paddingTop:o,paddingBottom:8}),s):a.createElement(m.default,S({},c,{style:{paddingTop:o,paddingBottom:8}}),I(u.default,{transitionAppear:!1},void 0,s))},r}(a.Component);K.displayName="PrivateChannelsList",K.defaultProps={padding:8};var $=l.default.connectStores([p.default,v.default,f.default,c.default],function(e){var t=e.version,n=e.theme;return{selectedChannelId:p.default.getChannelId(g.ME),privateChannelIds:v.default.getPrivateChannelIds(),channels:f.default.getChannels(),theme:c.default.darkSidebar?g.ThemeTypes.DARK:n,version:null!=t?t+":"+f.default.getPrivateChannelsVersion():f.default.getPrivateChannelsVersion()}})(K);t.default=$},7312:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(0)),o=P(n(6)),l=P(n(6540)),i=n(67),u=P(n(858)),s=P(n(14)),d=P(n(475)),c=n(87),f=P(n(64)),p=P(n(222)),h=P(n(188)),v=R(n(223)),m=n(226),_=n(80),g=P(n(6945)),E=P(n(343)),y=P(n(7313)),S=P(n(7315)),I=P(n(7316)),T=P(n(7317)),O=P(n(7318)),N=P(n(7324)),C=n(1),A=P(n(4)),M=P(n(6117));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}o.default.memoize.Cache=WeakMap;var D=8,w=32,U=40,G=16,k=34,F=32,B=8,j=5;function H(e,t){var n=0,r=0,a=s.default.getChannel(e);if(null==a)return null;null!=a.parent_id&&t._categories.find(function(e,t){return e.channel.id===a.parent_id&&(n=t,!0)});var o=t[String(a.parent_id)];return null==o?null:(o.find(function(e,t){return e.channel.id===a.id&&(r=t,!0)}),{section:n,row:r})}var V=o.default.memoize(function(e){var t=null;return e._categories.filter(function(e){return e.index>=0}).map(function(e){return e.channel.id}).some(function(n){return null!=(t=e[n].find(function(e){return e.channel.type===C.ChannelTypes.GUILD_VOICE}))}),t}),x=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).unreadTopRef=a.createRef(),t.unreadBottomRef=a.createRef(),t.state={initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null},t.setListRef=function(e){t._list=e},t.scrollToChannel=function(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=D);var a=t.props.categories,o=t._list,l=H(e,a);null!=l&&null!=o&&o.scrollToRow(l.section,l.row,n,r,t.handleListScroll)},t.jumpToChannel=function(e,n){var r=n[0],a=n[1];return t.scrollToChannel(e,!0,null!=r&&null!=a?w:D)},t.isChannelVisible=function(e,n){var r=H(e,t.props.categories),a=t._list;if(null==a||null==r)return!1;var o=r.row,l=r.section,i=a.getScrollPosition(l,o),u=a.getScrollData();return null!=u&&(!!(n&&i.scrollTop+i.rowHeight<u.scrollTop+u.offsetHeight)||!n&&i.scrollTop>u.scrollTop)},t.handleResize=function(){if(t._list){t._list.forceUpdate();var e=t.isUnreadVisible();t.setState({isUnreadVisible:e})}},t.handleListScroll=function(){var e=t.props.onScroll,n=t._list;if(null!=n){var r=n.getScrollData();if(null!=r){var a=r.scrollTop;null!=e&&e(r),t.updateChannelListScroll(a)}}null!=t.unreadTopRef.current&&t.unreadTopRef.current.calculateState(),null!=t.unreadBottomRef.current&&t.unreadBottomRef.current.calculateState()},t.updateChannelListScroll=o.default.throttle(function(e){l.default.updateChannelListScroll(t.props.guildId,e)},100),t.handleUserClick=function(e,n,r){if(null!=r&&null!=n){var o=t.props.guildId;(0,v.openPopout)(r,{closeOnScroll:!1,position:v.default.Positions.BOTTOM_LEFT,render:function(e){return a.createElement(E.default,L({},e,{userId:n.id,guildId:o}))},shadow:!1})}},t.handleUnreadCalculate=function(e,n,r){var a=t.isUnreadVisible();r?t.setState({isUnreadVisible:a,bottomUnread:n,bottomMention:e}):t.setState({isUnreadVisible:a,topUnread:n,topMention:e})},t.getSectionHeight=function(e){var n=t.props,r=n.categories,a=n.channels[C.ChannelTypes.GUILD_CATEGORY][e].channel;return 0===e&&r[a.id].length>0?G:0===e?0:U},t.getFooterHeight=function(e){var n=t.props,r=n.categories,a=n.channels,o=n.voiceStates,l=n.selectedVoiceChannelId,i=a[C.ChannelTypes.GUILD_CATEGORY][e].channel;return(0,m.shouldRenderVoiceUserSummary)(i.id,r,l,o)?k:0},t.getRowHeight=function(e,n){var r=null!=n?n:0,a=t.props,o=a.channels,l=a.collapsedChannels,i=a.voiceStates,u=a.categories,s=k,d=o[C.ChannelTypes.GUILD_CATEGORY][e],c=d?u[d.channel.id][r]:u.null[r];if(null==c)return 0;var f=c.channel;if((0,m.isChannelCollapsed)(f))return 0;switch(f.type){case C.ChannelTypes.GUILD_VOICE:var p=i[f.id];if(null!=p&&p.length>0){var h=p.length*F;f&&l[f.id]&&(h=Math.ceil(h/j)),s+=h+B}}return s},t.renderSection=function(e){var n=t.props,r=n.categories,a=n.disableManageChannels,o=r._categories[e];if(-1===o.index)return r.null.length>0?b("div",{style:{height:G}},"spacer"):null;var l=o.channel,i=o.index,u=null==r[l.id]||0===r[l.id].length;return b(y.default,{channel:l,position:i,isEmpty:u,showTutorial:0===o.index&&!a,disableManageChannels:a},l.id)},t.renderRow=function(e,n){var r=t.props,a=r.guild,o=r.selectedChannelId,l=r.selectedVoiceChannelId,i=r.mutedChannels,u=r.channels,s=r.categories,d=r.collapsedChannels,c=r.voiceStates,f=r.disableManageChannels,p=s[u[C.ChannelTypes.GUILD_CATEGORY][e].channel.id][n];if(null==p)return null;var h=p.channel;if((0,m.isChannelCollapsed)(h))return null;var v=p.index;switch(p.channel.type){case C.ChannelTypes.GUILD_ANNOUNCEMENT:case C.ChannelTypes.GUILD_TEXT:var _=i.has(h.id);return b(I.default,{channel:h,guild:a,position:v,selected:o===h.id,muted:_,disableManageChannels:f},h.id);case C.ChannelTypes.GUILD_VOICE:var g=V(t.props.categories);return b(O.default,{channel:h,guild:a,position:v,selected:o===h.id,connected:l===h.id,collapsed:d[h.id],voiceStates:c[h.id],disableManageChannels:f,showTutorial:null!=g&&g.channel===h&&g.index===v},h.id);case C.ChannelTypes.GUILD_STORE:return b(S.default,{channel:h,guild:a,position:v,selected:o===h.id},h.id)}},t.renderFooter=function(e){var n=t.props,r=n.channels,a=n.categories,o=n.voiceStates,l=n.selectedVoiceChannelId,i=r[C.ChannelTypes.GUILD_CATEGORY][e].channel;return u.default.isCollapsed(i.id)?b(N.default,{channels:a[i.id],voiceStates:o,selectedChannel:l,onClick:t.handleUserClick},"footer-"+i.id):null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidMount=function(){this.setState({initialized:!0}),_.ComponentDispatch.subscribe(C.ComponentActions.CHANNEL_LIST_RECALCULATE,this.handleResize)},s.componentWillUnmount=function(){this.updateChannelListScroll.cancel(),_.ComponentDispatch.unsubscribe(C.ComponentActions.CHANNEL_LIST_RECALCULATE,this.handleResize)},s.componentDidUpdate=function(e,t){var n=this.props,r=n.scrollToChannel,a=n.guildId,o=n.channels,i=n.selectedChannelId,u=this.state.initialized,s=d.default.getGuildDimensions(a).scrollTop;null!=r?(this.scrollToChannel(r),l.default.clearChannelListScrollTo(a)):a!==e.guildId?(s||0===s)&&this.scrollTo(s):0===e.channels[c.GUILD_SELECTABLE_CHANNELS_KEY].length&&o[c.GUILD_SELECTABLE_CHANNELS_KEY].length>0||i!==e.selectedChannelId?this.scrollToChannel(i):!t.initialized&&u&&this.scrollTo(s)},s.scrollTo=function(e){var t=this._list;null!=t&&t.scrollTo(e,!1,this.handleListScroll)},s.isUnreadVisible=function(){var e=this.props,t=e.mutedChannels,n=e.categories,r=this._list;return null!=r&&r.getItems().some(function(e){var a=e.section,o=e.row;if(null==o)return!1;var l=n._categories[a];if(null==l)return!1;var s=n[l.channel.id][o];if(null==s)return!1;var d=s.channel;if(!(0,i.isGuildTextChannelType)(d.type))return!1;var c=l.channel.id;return!(u.default.isCollapsed(c)&&h.default.isChannelMuted(d.getGuildId(),c)||t.has(d.id)||!r.isItemVisible(a,o))&&p.default.hasUnread(d.id)})},s.renderList=function(){var e=this.props,t=e.categories,n=e.guild,r=e.collapseMuted,o=e.mutedChannels,l=e.selectedChannelId,i=e.children,u=e.theme,s=[];t._categories.forEach(function(e){var a=e.channel,i=t[a.id].length;0===i&&null!=n&&f.default.can(C.Permissions.MANAGE_CHANNELS,a)&&f.default.can(C.Permissions.VIEW_CHANNEL,a)?i=1:!r||t[a.id].some(function(e){var t=e.channel;return t.id===l||!o.has(t.id)})||"null"!==a.id&&f.default.can(C.Permissions.MANAGE_CHANNELS,n)||(i=0),s.push(i)});var d=u===C.ThemeTypes.LIGHT?C.Colors.PRIMARY_LIGHT_130:C.Colors.PRIMARY_DARK_630;return a.createElement(g.default,{key:"guild-channels",ref:this.setListRef,theme:g.default.Themes.GHOST_HAIRLINE,backgroundColor:d,className:M.default.scroller,fade:!0,sectionHeight:this.getSectionHeight,footerHeight:this.getFooterHeight,rowHeight:this.getRowHeight,paddingTop:null!=n&&null!=n.banner?84:0,paddingBottom:G,renderSection:this.renderSection,renderFooter:this.renderFooter,renderRow:this.renderRow,onScroll:this.handleListScroll,sections:s,uniform:!1},i)},s.renderTopUnread=function(){var e=this.state,t=e.topMention,n=e.bottomUnread,r=e.bottomMention,o=e.isUnreadVisible,l=this.props.guildId,i=null==t&&(o||null!=n||null!=r);return b("div",{className:M.default.positionedContainer},void 0,a.createElement(T.default,{ref:this.unreadTopRef,textUnread:A.default.Messages.NEW_UNREADS,textMention:A.default.Messages.NEW_MENTIONS,hide:i,className:M.default.unreadTop,barClassName:M.default.unreadBar,guildId:l,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate}))},s.renderBottomUnread=function(){var e=this.props.guildId,t=this.state,n=t.bottomMention,r=t.isUnreadVisible,o=null==n&&r;return a.createElement(T.default,{reverse:!0,ref:this.unreadBottomRef,textUnread:A.default.Messages.NEW_UNREADS,textMention:A.default.Messages.NEW_MENTIONS,hide:o,className:M.default.unreadBottom,barClassName:M.default.unreadBar,guildId:e,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate})},s.render=function(){return b(a.Fragment,{},void 0,this.renderTopUnread(),this.renderList(),this.renderBottomUnread())},r}(a.PureComponent);x.displayName="Channels";var Y=x;t.default=Y},7313:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),o=C(n(8)),l=C(n(3)),i=n(906),u=n(35),s=C(n(6595)),d=n(6601),c=C(n(858)),f=C(n(225)),p=C(n(19)),h=C(n(64)),v=C(n(222)),m=C(n(188)),_=C(n(21)),g=C(n(42)),E=C(n(65)),y=C(n(7314)),S=A(n(6547)),I=C(n(6543)),T=n(1),O=C(n(4)),N=C(n(6108));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleCreateChannel=function(){var e=t.props.channel,n=e.type===T.ChannelTypes.GUILD_CATEGORY?null:e.type;s.default.open(n,e.getGuildId(),"null"!==e.id?e.id:null,null)},t.handleCollapseToggle=function(){var e=t.props,n=e.collapsed,r=e.channel;n?(0,i.categoryExpand)(r.id):(0,i.categoryCollapse)(r.id)},t.handleContextMenu=function(e){var n=t.props.channel;if("null"!==n.id){var r=p.default.getGuild(n.getGuildId()),o=v.default.hasCategoryUnread(n.id);null!=r&&(0,u.openContextMenu)(e,function(e){return a.createElement(I.default,P({},e,{type:T.ContextMenuTypes.CHANNEL_CATEGORY,channel:n,guild:r,hasUnread:o}))})}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.renderCreateChannel=function(){var e=this,t=this.props,n=t.canManageCategory,r=t.disableManageChannels;return n&&!r?M(E.default,{text:O.default.Messages.CREATE_CHANNEL},void 0,function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return M(_.default,{"aria-label":O.default.Messages.CREATE_CHANNEL,look:_.default.Looks.BLANK,size:_.default.Sizes.NONE,className:(0,o.default)(N.default.addButton,N.default.forceVisible),onClick:e.handleCreateChannel,onMouseEnter:n,onMouseLeave:r},void 0,M(g.default,{name:g.default.Names.PLUS_ALT,className:N.default.addButtonIcon}))}):null},l.render=function(){var e=this.props,t=e.channel,n=e.muted,r=e.connectChannelDragSource,a=e.connectChannelDropTarget,o=e.position,l=e.sortingPosition,i=e.collapsed,u=e.hideIcon,s=e.showTutorial,d=M("div",{className:null!=l?o>l?N.default.containerDragAfter:N.default.containerDragBefore:N.default.containerDefault},void 0,M(y.default,{className:N.default.iconVisibility,channel:t,muted:n,onClick:this.handleCollapseToggle,onContextMenu:this.handleContextMenu,collapsed:i,hideIcon:u||!1},void 0,this.renderCreateChannel()));return s&&(d=M("div",{},void 0,M(S.default,{tutorialId:"organize-by-topic",position:S.TutorialIndicatorPositions.RIGHT,offsetY:7},void 0,d))),null!=a&&null!=r?a(r(d)):d},r}(a.PureComponent);R.displayName="Category",R.defaultProps={isEmpty:!1};var b=l.default.connectStores([h.default,c.default,m.default,f.default],function(e){var t=e.channel;return{muted:m.default.isChannelMuted(t.getGuildId(),t.id),collapsed:c.default.isCollapsed(t.id),canManageCategory:h.default.can(T.Permissions.MANAGE_CHANNELS,t)}})((0,d.makeChannelSortable)(R));t.default=b},7314:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(58)),i=d(n(42)),u=d(n(6657)),s=d(n(6107));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){e.stopPropagation()}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.channel;null!=r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.channel;null!=r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderIcon=function(){return this.props.hideIcon?null:c(i.default,{name:i.default.Names.NOVA_CARET,className:s.default.icon})},a.renderName=function(){var e=this.props.channel.name;return c(u.default,{className:s.default.name},void 0,e)},a.renderIcons=function(){var e=this.props.children;return c("div",{onClick:f,className:s.default.children},void 0,e)},a.render=function(){var e,t=this.props,n=t.onClick,r=t.onContextMenu,a=t.muted,i=t.collapsed,u=t.className;return c(l.default,{className:(0,o.default)(u,(e={},e[s.default.wrapper]=!0,e[s.default.collapsed]=i,e[s.default.muted]=a,e[s.default.clickable]=null!=n,e)),onClick:null!=n?this.handleClick:null,onContextMenu:null!=r?this.handleContextMenu:null},void 0,this.renderIcon(),this.renderName(),this.renderIcons())},r}(a.Component);p.displayName="ChannelCategoryItem";var h=p;t.default=h},7315:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=S(n(8)),l=S(n(3)),i=S(n(140)),u=n(35),s=n(6601),d=S(n(14)),c=S(n(87)),f=S(n(19)),p=S(n(64)),h=S(n(222)),v=S(n(6533)),m=S(n(36)),_=S(n(6543)),g=S(n(6659)),E=n(1),y=S(n(5928));function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");m.default.transitionTo(E.Routes.CHANNEL(n,t.id),{state:{analyticsSource:{page:E.AnalyticsPages.GUILD_CHANNEL,section:E.AnalyticsSections.CHANNEL_LIST,object:E.AnalyticsObjects.CHANNEL}}})}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");i.default.preload(n,t.id)}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,l=f.default.getGuild(r.getGuildId());null!=l&&(0,u.openContextMenu)(e,function(e){return a.createElement(_.default,T({},e,{type:E.ContextMenuTypes.CHANNEL_LIST_STORE,guild:l,channel:r,selected:o}))})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.connectChannelDropTarget,l=t.connectChannelDragSource,i=t.connectDragPreview,u=t.canManageCategory,s=I("div",{className:(0,o.default)(this.getClassName(),(e={},e[y.default.disabled]=this.isDisabled(),e))},void 0,I(v.default,{className:y.default.iconVisibility,channel:n,selected:r,onClick:O,onMouseDown:N,onContextMenu:this.handleContextMenu,connectDragPreview:u?i:null},void 0,this.renderInviteButton(),this.renderEditButton()));return u?a(l(s)):s},r}(g.default);C.displayName="StoreChannel";var A=l.default.connectStores([p.default,h.default,c.default],function(e){var t=e.channel,n=e.guild,r=d.default.getChannel(t.parent_id);return{canManageChannel:p.default.can(E.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?p.default.can(E.Permissions.MANAGE_CHANNELS,r):p.default.can(E.Permissions.MANAGE_CHANNELS,n),permissions:p.default.getChannelPermissions(t.id)}})((0,s.makeChannelSortable)(C));t.default=A},7316:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=I(n(8)),l=I(n(3)),i=I(n(140)),u=n(35),s=n(6601),d=I(n(14)),c=I(n(87)),f=I(n(19)),p=I(n(64)),h=I(n(222)),v=n(6531),m=I(n(6533)),_=I(n(36)),g=I(n(6543)),E=I(n(6659)),y=n(1),S=I(n(5928));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");_.default.transitionTo(y.Routes.CHANNEL(n,t.id))}function C(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");i.default.preload(n,t.id)}var A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,l=n.unread,i=n.mentionCount,s=f.default.getGuild(r.getGuildId());null!=s&&(0,u.openContextMenu)(e,function(e){return a.createElement(g.default,O({},e,{type:y.ContextMenuTypes.CHANNEL_LIST_TEXT,guild:s,channel:r,selected:o,hasUnread:l,mentionCount:i}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.renderMentionBadge=function(){var e=this.props.mentionCount;if(null!=e&&e>0)return T("div",{className:S.default.mentionsBadge},void 0,T(v.NumberBadge,{count:e}))},l.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.muted,l=t.unread,i=t.connectChannelDropTarget,u=t.connectChannelDragSource,s=t.connectDragPreview,d=t.canManageCategory,c=T("div",{className:(0,o.default)(this.getClassName(),(e={},e[S.default.disabled]=this.isDisabled(),e[S.default.selected]=r,e))},void 0,T(m.default,{className:S.default.iconVisibility,channel:n,selected:r,muted:a,unread:l,onClick:N,onMouseDown:C,onContextMenu:this.handleContextMenu,connectDragPreview:d?s:null},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderMentionBadge()));return d?i(u(c)):c},r}(E.default);A.displayName="TextChannel";var M=l.default.connectStores([p.default,h.default,c.default],function(e){var t=e.channel,n=e.guild,r=c.default.getDefaultChannel(n.id),a=d.default.getChannel(t.parent_id);return{canManageChannel:p.default.can(y.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=a?p.default.can(y.Permissions.MANAGE_CHANNELS,a):p.default.can(y.Permissions.MANAGE_CHANNELS,n),permissions:p.default.getChannelPermissions(t.id),unread:h.default.hasUnread(t.id),mentionCount:h.default.getMentionCount(t.id),isDefaultChannel:t===r}})((0,s.makeChannelSortable)(A));t.default=M},7317:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(3)),a=n(67),o=h(n(858)),l=h(n(14)),i=h(n(470)),u=h(n(6541)),s=h(n(222)),d=h(n(188)),c=h(n(185)),f=h(n(6817)),p=n(226);function h(e){return e&&e.__esModule?e:{default:e}}function v(e){var t=l.default.getChannel(e);return null!=t&&null!=t.getGuildId()&&(!d.default.isChannelMuted(t.getGuildId(),t.id)&&s.default.hasUnread(e))}function m(e){var t=l.default.getChannel(e);if(null==t||null==t.getGuildId())return!1;var n=d.default.isGuildCollapsed(t.getGuildId()),r=d.default.isChannelMuted(t.getGuildId(),t.id);return(!n||!r)&&s.default.getMentionCount(e)>0}var _=(0,n(270).cachedFunction)(function(e){return(0,p.getFlattenedChannelList)(e._categories,e,function(e){var t=e.channel;return(0,a.isGuildTextChannelType)(t.type)&&!(0,p.isChannelCollapsed)(t)}).map(function(e){return e.channel.id})}),g=r.default.connectStores([i.default,c.default,u.default,o.default],function(e){var t=e.guildId;return{isUnread:v,isMentioned:m,items:_(i.default.getCategories(t),u.default.getGuildChangeSentinel(t),o.default.version),animate:c.default.isFocused()}},{forwardRef:!0})(f.default);t.default=g},7318:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=P(n(8)),l=P(n(3)),i=n(35),u=P(n(107)),s=n(6601),d=n(6818),c=P(n(6737)),f=P(n(98)),p=P(n(858)),h=P(n(14)),v=P(n(87)),m=P(n(19)),_=P(n(64)),g=P(n(72)),E=P(n(6819)),y=P(n(6533)),S=P(n(7319)),I=n(226),T=P(n(36)),O=P(n(6543)),N=P(n(6659)),C=P(n(7320)),A=n(1),M=P(n(5928));function P(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleVoiceConnect=function(){var e=t.props,n=e.locked,r=e.connected,a=e.channel,o=e.hasStream,l=e.inStream,i=m.default.getGuild(a.getGuildId());n||t.isFull()||null==i||r||u.default.selectVoiceChannel(a.id),r&&(E.default.isAvailable(a.getGuildId())||o&&l)&&function(e){var t=e.getGuildId();if(null==t)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");T.default.transitionTo(A.Routes.CHANNEL(t,e.id))}(a)},t.handleContextMenu=function(e){var n=t.props.channel,r=m.default.getGuild(n.getGuildId());null!=r&&(0,i.openContextMenu)(e,function(e){return a.createElement(O.default,b({},e,{type:A.ContextMenuTypes.CHANNEL_LIST_VOICE,channel:n,guild:r}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getVoiceStatesCount=function(){var e=this.props.voiceStates;return null!=e?e.length:0},l.isFull=function(){var e=this.props,t=e.channel;return!e.bypassLimit&&(0,I.isChannelFull)(t,this.getVoiceStatesCount())},l.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?M.default.containerUserOver:null!=n?t>n?M.default.containerDragAfter:M.default.containerDragBefore:M.default.containerDefault},l.renderUserLimit=function(){var e=this.props,t=e.channel,n=e.locked,r=e.selected;return t.userLimit>0&&!n&&!r?R("div",{className:M.default.userLimit},void 0,R(S.default,{users:this.getVoiceStatesCount(),total:t.userLimit})):null},l.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.collapsed,a=e.categoryCollapsed;return R(C.default,{channel:t,voiceStates:n,collapsed:r||a})},l.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.connected,l=t.locked,i=t.video,u=t.hasStream,s=t.connectChannelDropTarget,d=t.connectChannelDragSource,c=t.connectUserDropTarget,f=t.connectDragPreview,p=t.canManageCategory,h=t.canMoveMembers,v=R("div",{className:(0,o.default)(this.getModeClass(),(e={},e[M.default.disabled]=this.isDisabled(),e))},void 0,R(y.default,{className:M.default.iconVisibility,channel:n,selected:r,connected:a,video:i,stream:u,locked:l,onClick:this.handleVoiceConnect,onContextMenu:this.handleContextMenu,connectDragPreview:f},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderUserLimit()),this.renderVoiceUsers());return h&&(v=c(v)),p&&(v=s(d(v))),v},r}(N.default);L.displayName="VoiceChannel";var D=l.default.connectStores([_.default,p.default,v.default,g.default,f.default],function(e){var t=e.channel,n=e.guild,r=h.default.getChannel(t.parent_id),a=f.default.getActiveStream();return{canManageChannel:n&&_.default.can(A.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?_.default.can(A.Permissions.MANAGE_CHANNELS,r):_.default.can(A.Permissions.MANAGE_CHANNELS,n),canMoveMembers:_.default.can(A.Permissions.MOVE_MEMBERS,t),locked:!_.default.can(A.Permissions.CONNECT,t),bypassLimit:_.default.can(A.Permissions.MOVE_MEMBERS,t),categoryCollapsed:p.default.isCollapsed(t.parent_id),video:null!=t&&g.default.hasVideo(t),hasStream:(0,c.default)(t,f.default,g.default).length>0,inStream:null!=a&&a.channelId===t.id}})((0,s.makeChannelSortable)((0,d.makeVoiceUserDroppable)(L)));t.default=D},7319:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a,o=(r=n(6110))&&r.__esModule?r:{default:r};function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.total,n=e.users;return l("div",{className:o.default.wrapper},void 0,l("span",{className:o.default.users},void 0,n.toString().padStart(2,"0")),l("span",{className:o.default.total},void 0,t.toString().padStart(2,"0")))}},7320:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(0)),o=_(n(8)),l=_(n(3)),i=n(29),u=_(n(98)),s=_(n(10)),d=_(n(40)),c=_(n(64)),f=_(n(68)),p=_(n(354)),h=g(n(7321)),v=n(1),m=_(n(6114));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=l.default.connectStores([p.default,d.default,s.default,u.default,f.default],function(e){var t,n=e.mute,r=e.deaf,a=e.user.id,o=e.channel,l=!1,i=!1;s.default.getId()===a?(l=!d.default.isEnabled()||d.default.isSelfMute()||d.default.isSelfMutedTemporarily(),i=d.default.isSelfDeaf()):l=d.default.isLocalMute(a),t=p.default.isPrioritySpeaker(a),d.default.isSupported()||(l=!0);var c=u.default.getStreamForUser(a),f=u.default.getActiveStream();return{mute:n||l,deaf:r||i,speaking:!l&&(p.default.isSpeaking(a)||p.default.isSoundSharing(a)),priority:t,isStreaming:null!=c&&c.channelId===o.id,isWatching:null!=c&&null!=f&&f.state!==v.ApplicationStreamStates.ENDED&&c.ownerId===f.ownerId}})(h.default),S=50,I=175,T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).showPreview=new i.DelayedCall(S,function(){t.setState({previewUserId:t.previewUserIdAfterDelay}),t.previewUserIdAfterDelay=null}),t.hidePreview=new i.DelayedCall(I,function(){t.setState({previewUserId:null})}),t.previewUserIdAfterDelay=null,t.state={previewUserId:null,previewIsOpen:!1},t.handleShowPreview=function(e){t.setState({previewIsOpen:!0}),t.hidePreview.cancel(),t.previewUserIdAfterDelay=e,t.showPreview.delay()},t.handleHidePreview=function(e){var n=t.state.previewUserId;t.showPreview.cancel(),n===e&&(t.setState({previewIsOpen:!1}),t.hidePreview.delay())},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderVoiceUsers=function(){var e=this,t=this.props,n=t.channel,r=t.voiceStates,a=t.collapsed,o=this.state,l=o.previewUserId,i=o.previewIsOpen;return null==r||0===r.length?null:r.map(function(t){var r=t.user,o=t.nick,u=t.voiceState;return E(y,{user:r,nick:o,isSelfOnOtherClient:s.default.getId()===r.id&&u.sessionId!==s.default.getSessionId(),mute:u.mute||u.selfMute||u.suppress,deaf:u.deaf||u.selfDeaf,serverMute:u.mute,serverDeaf:u.deaf,channel:n,collapsed:a,canDrag:c.default.can(v.Permissions.MOVE_MEMBERS,n),showPreview:e.handleShowPreview,hidePreview:e.handleHidePreview,previewIsOpen:i,shouldShowPreview:l===r.id},r.id)})},a.render=function(){var e,t=this.renderVoiceUsers();if(null==t)return null;var n=this.props,r=n.collapsed,a=n.className;return E(h.List,{className:(0,o.default)(a,m.default.list,(e={},e[m.default.collapsed]=r,e)),collapsed:r},void 0,t)},r}(a.Component);T.displayName="VoiceUsers";var O=T;t.default=O},7321:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.List=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=O(n(107)),i=n(195),u=n(6818),s=n(889),d=O(n(948)),c=O(n(10)),f=O(n(11)),p=O(n(72)),h=O(n(458)),v=O(n(65)),m=O(n(6965)),_=n(80),g=O(n(459)),E=O(n(343)),y=O(n(7322)),S=n(1),I=O(n(4)),T=O(n(6113));function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=m.default.List;t.List=M;var P=function(e){var t,n,r,u,O;function M(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(t=e.call.apply(e,[this].concat(r))||this).domElementRef=a.createRef(),t.state={userPopoutOpen:!1},t.handleClickUser=function(){t.setState({userPopoutOpen:!t.state.userPopoutOpen})},t.handleCloseUserPopout=function(){t.setState({userPopoutOpen:!1})},t.handleHidePreview=function(){var e=t.props,n=e.hidePreview,r=e.isStreaming,a=e.user;r&&n&&n(a.id)},t.handleMouseEnter=function(){var e=t.props,n=e.user,r=e.showPreview,a=e.isStreaming,o=t.state.userPopoutOpen;a&&(o||_.ComponentDispatch.dispatch(S.ComponentActions.POPOUT_CLOSE),r&&r(n.id))},t.handleWatchStream=function(){var e=t.props,n=e.user,r=e.channel,a=e.isWatching,o=e.hidePreview;if(t.canWatchStream){var u={streamType:"guild",ownerId:n.id,channelId:r.id,guildId:r.guild_id};c.default.getId()!==n.id&&l.default.selectVoiceChannel(r.id),a?(0,d.default)(u):(0,i.watchStreamAndTransitionToStream)(u),_.ComponentDispatch.dispatch(S.ComponentActions.POPOUT_CLOSE),o&&o(n.id)}},t.handleUserContextMenu=function(e){var n=t.props,r=n.channel,l=n.user;(0,o.openContextMenu)(e,function(e){return a.createElement(g.default,C({},e,{type:S.ContextMenuTypes.USER_CHANNEL_VOICE,user:l,guildId:r.getGuildId(),channelId:r.id}))})},t.renderUserPopout=function(){var e=t.props,n=e.channel,r=e.user;return N(E.default,{userId:r.id,guildId:n.getGuildId(),channelId:n.id})},t.renderStreamPopout=function(){var e=t.props,n=e.user,r=e.channel,a=e.previewIsOpen;return N(y.default,{user:n,channel:r,onWatch:t.handleWatchStream,canWatch:t.canWatchStream,previewIsOpen:a})},t.renderUser=function(){var e=t.props,n=e.isSelfOnOtherClient,r=e.shouldShowPreview,o=e.mute,l=e.speaking,i=e.user,u=e.deaf,s=e.priority,d=e.collapsed,c=e.isStreaming,f=e.nick,p=e.serverMute,_=e.serverDeaf,g=t.state.userPopoutOpen,E={user:i,speaking:l,mute:o,isStreaming:c,priority:s,deaf:u,nick:f,collapsed:d,serverMute:p,serverDeaf:_,disabled:n,selected:g,onClick:t.handleClickUser,onDoubleClick:t.handleWatchStream,onContextMenu:t.handleUserContextMenu};return n?N(v.default,{text:I.default.Messages.CONNECTED_ON_ANOTHER_CLIENT},void 0,function(e){e.onClick;var t=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClick"]);return a.createElement(m.default,C({},E,t))}):N(h.default,{position:h.default.Positions.RIGHT,renderPopout:t.renderStreamPopout,shouldShow:r&&!g,onRequestClose:t.handleHidePreview,spacing:0},void 0,function(){return a.createElement(m.default,E)})},t}return n=e,(t=M).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,M.prototype.render=function(){var e=this.state.userPopoutOpen,t=this.props,n=t.connectUserDragSource,r=t.canDrag,a=t.collapsed,o=t.isSelfOnOtherClient,l=N("div",{className:T.default.draggable,onMouseEnter:o?null:this.handleMouseEnter,onMouseLeave:o?null:this.handleHidePreview},void 0,N(h.default,{position:a?h.default.Positions.BOTTOM:h.default.Positions.RIGHT,renderPopout:this.renderUserPopout,shouldShow:e,onRequestClose:this.handleCloseUserPopout},void 0,this.renderUser));return r?n(l):l},r=M,(u=[{key:"canWatchStream",get:function(){var e=this.props,t=e.channel;return e.isStreaming&&(0,s.canWatchStream)(f.default.getCurrentUser(),t,p.default)}}])&&A(r.prototype,u),O&&A(r,O),M}(a.PureComponent);P.displayName="VoiceUser",P.defaultProps={isSelfOnOtherClient:!1};var R=(0,u.makeVoiceUserDraggable)(P);t.default=R},7322:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=T(n(8)),l=T(n(3)),i=T(n(367)),u=n(485),s=T(n(7323)),d=T(n(98)),c=T(n(10)),f=T(n(68)),p=T(n(58)),h=T(n(930)),v=T(n(257)),m=T(n(15)),_=T(n(934)),g=T(n(1002)),E=T(n(6944)),y=n(1),S=T(n(4)),I=T(n(6112));function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.user,n=e.streamApplication;m.default.track(y.AnalyticEvents.OPEN_POPOUT,{type:"Stream Preview",other_user_id:t.id,application_id:null!=n?n.id:null,application_name:null!=n?n.name:null,game_id:null!=n?n.id:null,is_streaming:!0})},a.renderPreview=function(e){var t=this.props,n=t.onWatch,r=t.activeStream,a=t.currentUserId,o=t.canWatch;return O(p.default,{onClick:n,className:I.default.previewContainer},void 0,O(E.default,{className:I.default.previewImage,guildId:e.guildId,channelId:e.channelId,userId:e.ownerId}),o?O("div",{className:I.default.previewHover},void 0,O(v.default,{size:v.default.Sizes.SIZE_14,color:v.default.Colors.CUSTOM,className:I.default.white},void 0,(0,s.default)(e,r,a))):null)},a.render=function(){var e,t=this.props,n=t.activity,r=t.user,a=t.stream,l=t.previewIsOpen;return null==a?null:O("div",{className:(0,o.default)(I.default.streamPreviewWrapper,(e={},e[I.default.mounted]=l,e))},void 0,O("div",{className:I.default.streamPreview},void 0,this.renderPreview(a),O("div",{className:I.default.body},void 0,null!=n?O(_.default,{hideHeader:!0,type:_.default.Types.STREAM_PREVIEW,activity:n,user:r,guildId:a.guildId,channelId:a.channelId,actionColor:I.default.watchButton}):O(g.default,{type:_.default.Types.STREAM_PREVIEW,applicationStream:a,user:r,guildId:a.guildId,channelId:a.channelId,color:I.default.watchButton}),O(h.default,{type:h.default.Types.INLINE,className:I.default.protip},void 0,__OVERLAY__?S.default.Messages.WATCH_STREAM_IN_APP:S.default.Messages.WATCH_STREAM_TIP))))},r}(a.PureComponent);N.displayName="StreamPreviewPopout";var C=l.default.connectStores([f.default,d.default,c.default],function(e){var t=e.user,n=d.default.getStreamForUser(t.id);return{user:t,streamApplication:(0,u.getStreamerApplication)(n,f.default),stream:n,activeStream:d.default.getActiveStream(),currentUserId:c.default.getId(),activity:(0,u.getStreamerActivity)(n,f.default)}})((0,i.default)(function(e){var t,n=e.channel,r=e.user;return(t={})[n.guild_id]=[r.id],t})(N));t.default=C},7323:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){if(null==t||t.state===o.ApplicationStreamStates.ENDED||(0,a.encodeStreamKey)(t)!==(0,a.encodeStreamKey)(e))return l.default.Messages.JOIN_STREAM;if(t.ownerId===n)return l.default.Messages.WATCH_STREAM_STREAMING;return l.default.Messages.WATCH_STREAM_WATCHING};var r,a=n(108),o=n(1),l=(r=n(4))&&r.__esModule?r:{default:r}},7324:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(6820)),l=n(226),i=u(n(6116));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=a.memo(function(e){var t=e.channels,n=e.voiceStates,r=e.selectedChannel,a=e.onClick,u=(0,l.computeSummarizedVoiceUsers)(t,r,n);return 0===u.length?null:s("div",{className:i.default.container},void 0,s(o.default,{renderIcon:!0,users:u,max:8,onClick:a}))});t.default=d},7325:function(e,t,n){"use strict";t.__esModule=!0,t.AnimatedBanner=N,t.default=void 0;var r,a,o,l=I(n(0)),i=S(n(8)),u=n(157),s=S(n(58)),d=S(n(879)),c=S(n(6559)),f=S(n(65)),p=S(n(901)),h=n(871),v=S(n(88)),m=I(n(6534)),_=S(n(6616)),g=n(1),E=S(n(4)),y=S(n(6118));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t=e.guild,n=e.controller.animated.value;return O(u.animated.div,{className:y.default.animatedContainer,style:{opacity:n,transform:n.to(function(e){return"translateY(-"+90*(1-e)+"px)"})}},void 0,O(u.animated.div,{className:y.default.bannerImage,style:{backgroundImage:"url("+(v.default.getGuildBannerURL({id:t.id,banner:t.banner})||"")+")",transform:n.to(function(e){return"translateY("+60*(1-e)+"px) scale("+(1+.2*(1-e))+")"})}}))}N.displayName="AnimatedBanner";var C=((r={})[g.PremiumGuildTiers.NONE]=y.default.iconBackgroundTierNone,r[g.PremiumGuildTiers.TIER_1]=y.default.iconBackgroundTierOne,r[g.PremiumGuildTiers.TIER_2]=y.default.iconBackgroundTierTwo,r[g.PremiumGuildTiers.TIER_3]=y.default.iconBackgroundTierThree,r),A=((a={})[g.PremiumGuildTiers.NONE]=y.default.iconTierNone,a[g.PremiumGuildTiers.TIER_1]=y.default.iconTierOne,a[g.PremiumGuildTiers.TIER_2]=y.default.iconTierTwo,a[g.PremiumGuildTiers.TIER_3]=y.default.iconTierThree,a),M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).showGuildSubscribeModal=function(e){e.stopPropagation(),(0,h.openFullScreenLayer)(function(e){var n=e.transitionState,r=e.closeLayer;return O(_.default,{layerTransitionState:n,close:r,guildId:t.props.guild.id,locationSection:g.AnalyticsSections.GUILD_HEADER})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.hasBanner=function(){var e=this.props,t=e.guild,n=e.renderBanner;return null!=t.banner&&!n},a.renderPremiumGuildBadge=function(){var e=this,t=this.props.guild,n=t.premiumTier,r=t.premiumSubscriberCount;if(0===r)return null;var a=n===g.PremiumGuildTiers.NONE?E.default.Messages.PREMIUM_GUILD_HEADER_BADGE_NO_TIER:m.getTierName(n),o=O(l.Fragment,{},void 0,O("div",{className:y.default.tierTooltipTitle},void 0,a),O("div",{},void 0,E.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:r})));return O("div",{className:y.default.guildIconContainer},void 0,O(f.default,{text:o,position:f.default.Positions.BOTTOM,"aria-label":a||""},void 0,function(t){return l.createElement(s.default,T({},t,{className:y.default.premiumGuildIcon,onClick:e.showGuildSubscribeModal}),O(d.default,{className:(0,i.default)(C[n])},void 0,O(p.default,{tier:n,className:(0,i.default)(y.default.premiumGuildIconGem,A[n])})))}))},a.renderBadge=function(){var e,t=this.props.guild,n=this.hasBanner();return t.hasFeature(g.GuildFeatures.VERIFIED)||t.hasFeature(g.GuildFeatures.PARTNERED)?O("div",{className:y.default.guildIconContainer},void 0,O(c.default,{guild:t,tooltipPosition:f.default.Positions.BOTTOM,tooltipColor:f.default.Colors.BLACK,className:(0,i.default)(y.default.guildBadge,(e={},e[y.default.disableColor]=!n,e))})):this.renderPremiumGuildBadge()},a.renderHeader=function(){var e=this.props,t=e.guild,n=e.children;return O("header",{className:y.default.header},void 0,this.renderBadge(),O("h1",{className:y.default.name},void 0,t.toString()),n)},a.renderBanner=function(){var e=this.props,t=e.guild,n=e.controller;return null!=t.banner?O(N,{guild:t,controller:n}):null},a.render=function(){var e,t,n=this.props,r=n.bannerVisible,a=n.onClick,o=n.onMouseDown,l=n.onContextMenu,u=n.selected,d=n.className,c=n["aria-controls"],f=n["aria-expanded"],p=this.renderHeader(),h=this.renderBanner();return null!=a?O(s.default,{className:(0,i.default)(d,(t={},t[y.default.container]=!0,t[y.default.clickable]=!0,t[y.default.hasBanner]=this.hasBanner(),t[y.default.bannerVisible]=r,t[y.default.selected]=u,t)),"aria-controls":c,"aria-expanded":f,onClick:a,onContextMenu:l,onMouseDown:o},void 0,p,h):O("div",{className:(0,i.default)(d,(e={},e[y.default.container]=!0,e[y.default.hasBanner]=this.hasBanner(),e[y.default.bannerVisible]=r,e)),onMouseDown:o},void 0,p,h)},r}(l.PureComponent);M.displayName="GuildHeader",M.defaultProps={selected:!1};var P=M;t.default=P},7326:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ConnectedLurkingGuild=void 0;var r,a=ue(n(0)),o=ie(n(8)),l=ie(n(6)),i=n(866),u=n(59),s=n(259),d=ue(n(3)),c=ie(n(121)),f=ie(n(263)),p=n(35),h=ie(n(6590)),v=ie(n(6540)),m=ie(n(30)),_=ie(n(337)),g=ie(n(98)),E=ie(n(10)),y=ie(n(344)),S=ie(n(14)),I=ie(n(6848)),T=ie(n(860)),O=ie(n(475)),N=ie(n(69)),C=ie(n(288)),A=ie(n(7327)),M=ie(n(273)),P=ie(n(6541)),R=ie(n(19)),b=ie(n(276)),L=ie(n(463)),D=ie(n(7328)),w=ie(n(191)),U=ie(n(222)),G=ie(n(51)),k=ie(n(39)),F=ie(n(340)),B=ie(n(11)),j=ie(n(6966)),H=ie(n(185)),V=ie(n(6686)),x=ie(n(152)),Y=ie(n(6817)),W=n(88),z=n(270),K=ue(n(89)),$=ie(n(13)),Q=n(266),X=ie(n(345)),q=ie(n(6564)),J=n(6712),Z=n(6571),ee=ie(n(7329)),te=ue(n(6821)),ne=ie(n(6822)),re=n(7330),ae=n(1),oe=ie(n(4)),le=ie(n(6127));function ie(e){return e&&e.__esModule?e:{default:e}}function ue(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function se(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var fe=56,pe=$.default.isWindows()?4:$.default.isOSX()?0:12,he=fe-16,ve=pe+0+10,me={top:8,bottom:8},_e="app-download-item",ge="add-server-item";function Ee(){return window.location.pathname.startsWith(ae.Routes.GUILD_DISCOVERY)}function ye(e){var t=P.default.getMentionCounts();return e!==_e&&e!==ge&&(null!=t[e]?t[e]>0:e===ae.ViewHistoryKeys.SERVER_DISCOVERY_BADGE&&!j.default.hasViewed(ae.ViewHistoryKeys.SERVER_DISCOVERY_BADGE))}function Se(){return!1}function Ie(){m.default.push(X.default,{source:"Guilds"})}function Te(){h.default.open(null,"Guild List")}var Oe=(0,z.cachedFunction)(function(e,t){return["null"].concat(t,e,[ge,ae.ViewHistoryKeys.E3_SERVER_DISCOVERY_BADGE,_e])}),Ne=a.forwardRef(function(e,t){var n=(0,d.useStateFromStoresArray)([F.default,D.default,P.default],function(){return Oe(F.default.guildFolders,D.default.getUnreadPrivateChannelIds(),P.default.getMentionCounts())}),r=(0,d.useStateFromStores)([H.default],function(){return H.default.isFocused()}),o=(0,d.useStateFromStores)([A.default],function(){return A.default.getExpandedFolders()});return a.createElement(Y.default,ce({},e,{ref:t,items:n,isUnread:Se,textUnread:"",textMention:oe.default.Messages.NEW,isMentioned:ye,animate:r,expandedFolders:o}))}),Ce=d.default.connectStores([B.default,k.default,G.default,V.default,N.default,C.default,T.default],function(e){var t=e.onGuildDiscovery,n=C.default.activeItems,r=(0,J.getDispatchApplicationStates)(n),a=K.getCombinedProgress(r),o=a.total,l=a.progress,i=K.calculateProgressPercentage(l,o);return{selected:null==T.default.getGuildId()&&!t,user:B.default.getCurrentUser(),selectedChannelId:k.default.getChannelId(ae.ME),badge:G.default.getPendingCount(),link:V.default.getHomeLink(),showProgressBadge:i>0&&i<100}})(re.DefaultHomeButton),Ae=d.default.connectStores([L.default],function(){return{selected:L.default.isModalOpen(X.default)}})(Z.AppDownloadButton),Me=(0,z.cachedFunction)(function(e,t){return l.default.some(e,function(e){return e.isOwner(t)})}),Pe=d.default.connectStores([I.default,R.default,B.default],function(){return{isOwnerOfAny:Me(R.default.getGuilds(),B.default.getCurrentUser()),selected:I.default.isOpen()}})(Z.CreateJoinGuildButton),Re=d.default.connectStores([R.default,b.default,T.default,H.default],function(){var e=b.default.lurkingGuildId(),t=null!=e?R.default.getGuild(e):null;return{guildId:e,animatable:null!=t&&(0,W.hasAnimatedGuildIcon)(t)&&H.default.isFocused(),guild:t,selected:T.default.getGuildId()===e}},{forwardRef:!0})(te.LurkingGuild);t.ConnectedLurkingGuild=Re;var be=d.default.connectStores([y.default,w.default,U.default,k.default],function(e){var t=e.channel,n=w.default.isDisabled()?null:w.default.getChannelId(),r=y.default.getMode(n),a=k.default.getChannelId(),o=!1,l=!1;return n===t.id&&(o=r===ae.ChannelModes.VOICE,l=r===ae.ChannelModes.VIDEO),{unread:U.default.getMentionCount(t.id)>0,selected:a===t.id,badge:U.default.getMentionCount(t.id),audio:o,video:l}},{forwardRef:!0})(ee.default),Le=function(e){function t(){return e.apply(this,arguments)||this}de(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return!(0,c.default)(e,this.props,["channels"])},n.render=function(){var e=this.props,t=e.channels,n=e.unreadPrivateChannelIds,r=e.selectedVoiceGuildId,o=e.selectedVoiceChannelId,l=n.map(function(e){var n=t[e];return null==n||n.id===o?null:se(be,{channel:n},n.id)});if(!r&&o){var i=t[o];null!=i&&l.unshift(se(be,{channel:i},i.id))}return se(f.default,{component:a.Fragment},void 0,l)},t}(a.Component);Le.displayName="UnreadDMs";var De=function(){var e=(0,d.useStateFromStoresObject)([S.default],function(){return{channels:S.default.getChannels(),privateChannelsVersion:S.default.getPrivateChannelsVersion()}}),t=e.channels,n=e.privateChannelsVersion,r=(0,d.useStateFromStoresArray)([D.default],function(){return D.default.getUnreadPrivateChannelIds()}),a=(0,d.useStateFromStores)([w.default],function(){return w.default.isDisabled()?null:w.default.getChannelId()}),o=(0,d.useStateFromStores)([w.default],function(){return w.default.isDisabled()?null:w.default.getGuildId()}),l=(0,d.useStateFromStores)([k.default],function(){return k.default.getChannelId(ae.ME)});return se(Le,{channels:t,unreadPrivateChannelIds:r,privateChannelsVersion:n,selectedVoiceGuildId:o,selectedVoiceChannelId:a,selectedPrivateChannelId:l})};De.displayName="ConnectedUnreadDMs";var we,Ue=(we=d.default.connectStores([T.default,y.default,w.default,P.default,g.default,A.default,R.default],function(e){var t=e.guildIds,n=e.folderId,r=T.default.getGuildId(),a=w.default.isDisabled()?null:w.default.getGuildId(),o=w.default.isDisabled()?null:w.default.getChannelId(),l=y.default.getMode(o),i=!1,u=!1;t.includes(a)&&(i=l===ae.ChannelModes.VOICE,u=l===ae.ChannelModes.VIDEO);var s=g.default.getActiveStream();u||null==s||(u=t.includes(s.guildId)&&s.ownerId===E.default.getId());var d=function(e){var t=2*ae.MAX_GUILD_FOLDER_NAME_LENGTH,n=[],r=e,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}var i=l;(i.length<t||0===n.length)&&(n.push(i),t-=i.length)}return n.join(", ")+(n.length<e.length?", ...":"")}(t.map(function(e){var t=R.default.getGuild(e);return null!=t?t.name:null}).filter(Boolean));return{expanded:A.default.isFolderExpanded(n),selected:t.includes(r),badge:t.map(function(e){return P.default.getMentionCount(e)}).reduce(function(e,t){return e+t},0),unread:t.some(function(e){return P.default.hasUnread(e)}),audio:i,video:u,defaultFolderName:d}},{forwardRef:!0})(ne.default),(0,i.DragSource)(ae.GuildsBarDragTypes.FOLDER,{beginDrag:function(e){return{folderIndex:e.index}},endDrag:function(e){e.onDragEnd(),_.default.updateRemoteSettings({guildFolders:F.default.guildFolders})}},function(e,t){return{connectDragSource:e.dragSource(),dragging:t.isDragging()}},{arePropsEqual:c.default})(we)),Ge=d.default.connectStores([M.default,R.default],function(){return{unavailableGuilds:M.default.unavailableGuilds.filter(function(e){return null==R.default.getGuild(e)}).length}})(Z.UnavailableGuildsButton),ke=se(re.GuestHomeButton,{}),Fe=se(De,{}),Be=se(Re,{}),je=se(Z.Separator,{}),He=se(Ge,{}),Ve=function(e){function t(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).state={isSorting:!1,draggingGuildId:null},t.initialized=!1,t.guildRefs={},t.folderRefs={},t.guildDiscoveryRef=a.createRef(),t.unreadTopRef=a.createRef(),t.unreadBottomRef=a.createRef(),t.handleGuildSelectionChange=function(){var e=T.default.getGuildId();e!==n&&(n=e,t.scrollToGuild(n,!1))},t.handleJumpToGuild=function(e){t.scrollToGuild(e,!0)},t.handleScroll=l.default.debounce(function(){if(null!=t.scroller){var e=t.scroller.getScrollData().scrollTop;v.default.updateGuildListScrollTo(e),null!=t.unreadTopRef.current&&t.unreadTopRef.current.calculateState(),null!=t.unreadBottomRef.current&&t.unreadBottomRef.current.calculateState()}},200),t.handleStartSorting=function(e){t.setState({isSorting:!0,draggingGuildId:e})},t.handleStopSorting=function(){t.setState({isSorting:!1,draggingGuildId:null})},t.isItemVisible=function(e,n,r){var a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).scroller,o=r.findIndex(function(t){return"string"==typeof t?t===e:t.includes(e)});if(o<0||null==a)return!1;var l=fe*o+ve;n||(l+=he);var i=a.getScrollData();return!!(!n&&l>=i.scrollTop||n&&l+fe<=i.scrollTop+i.offsetHeight)},t.setGuildRef=function(e,n){t.guildRefs[e]=n},t.setFolderRef=function(e,n){t.folderRefs[e]=n},t.setScrollerRef=function(e){t.scroller=e},t}de(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!!e.isVisible&&(!(0,c.default)(e,this.props)||!(0,c.default)(t,this.state))},n.componentDidMount=function(){var e=this.props.guildFolders,t=this.initialized,n=this.scroller,r=O.default.getGuildListDimensions().scrollTop;!t&&e.length&&null!=n&&(Ee()?this.scrollToGuild(null,!1):n.scrollTo(r,!1),this.initialized=!0)},n.componentDidUpdate=function(){var e=this.props.guildFolders,t=this.initialized,n=T.default.getGuildId();!t&&e.length&&(this.scrollToGuild(n,!1),this.initialized=!0,T.default.addChangeListener(this.handleGuildSelectionChange))},n.componentWillUnmount=function(){T.default.removeChangeListener(this.handleGuildSelectionChange)},n.scrollToGuild=function(e,t){var n=this.scroller,r=this.props.guildFolders;if(null!=n){var a,o=null==e&&Ee()||e===ae.ViewHistoryKeys.SERVER_DISCOVERY_BADGE||e===ae.ViewHistoryKeys.E3_SERVER_DISCOVERY_BADGE?this.guildDiscoveryRef.current:this.guildRefs[e],l=(0,u.findDOMNode)(o);if(null!=e){var i=r.find(function(t){return t.guildIds.includes(e)});null!=i&&null!=i.folderId&&(a=this.folderRefs[i.folderId])}null!=o&&null!=l&&l instanceof HTMLElement?null!=a&&a instanceof HTMLElement?n.scrollIntoView(l,t,me,void 0,a.offsetTop):n.scrollIntoView(l,t,me):null!=a&&a instanceof HTMLElement?n.scrollIntoView(a,t,me):n.scrollTo(0,t)}},n.render=function(){var e=this,t=this.props,n=t.guildFolders,r=t.disableAppDownload,l=t.isOverlay,i=t.isGuest,u=t.className,d=t.isLurking,c=t.shouldShowGuildDiscovery,f=t.themeOverride,p=this.state,h=p.isSorting,v=p.draggingGuildId,m=n.map(function(t,n){var r=t.folderId,a=t.guildIds,o=t.muteConfig,l=t.folderName,i=t.folderColor;return null!=r?se(Ue,{folderId:r,folderName:l,folderColor:i,muteConfig:o,setGuildRef:e.setGuildRef,setFolderRef:e.setFolderRef,guildIds:a,draggable:!0,index:n,sorting:h,draggingGuildId:v,onDragStart:e.handleStartSorting,onDragEnd:e.handleStopSorting},r):se(te.default,{setRef:e.setGuildRef,guildId:a[0],draggable:!0,folderIndex:n,sorting:h,draggingGuildId:v,onDragStart:e.handleStartSorting,onDragEnd:e.handleStopSorting},a[0])});return se("div",{className:(0,o.default)(le.default.wrapper,u,(0,Q.getThemeClass)(f))},void 0,a.createElement(Ne,{ref:this.unreadTopRef,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:le.default.unreadMentionsIndicatorTop,barClassName:le.default.unreadMentionsBar}),a.createElement(x.default,{className:le.default.scroller,outerClassName:le.default.scrollerWrap,ref:this.setScrollerRef,onScroll:this.handleScroll,theme:x.default.Themes.GHOST_HAIRLINE},se(s.Route,{path:"*",render:function(){return i?ke:se(Ce,{showDMsOnly:l,onGuildDiscovery:Ee()})}}),Fe,Be,je,m,i||l?null:se(Pe,{disableTooltip:d,onContextMenu:this.handleContextMenu,onClick:Te,folderIndex:n.length}),!l&&c?se(s.Route,{path:"*",render:function(){return a.createElement(Z.GuildDiscovery,{ref:e.guildDiscoveryRef,selected:Ee()})}}):null,He,se(Ae,{disable:i||r,onClick:Ie})),a.createElement(Ne,{reverse:!0,ref:this.unreadBottomRef,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:le.default.unreadMentionsIndicatorBottom,barClassName:le.default.unreadMentionsBar}))},n.handleContextMenu=function(e){(0,p.openContextMenu)(e,function(e){return a.createElement(q.default,ce({},e,{type:ae.ContextMenuTypes.GUILD_ICON_NEW}))})},t}(a.Component);Ve.displayName="Guilds",Ve.defaultProps={isOverlay:!1,disableAppDownload:$.default.embedded,isVisible:!0,shouldShowGuildDiscovery:!0};var xe=Ve;t.default=xe},7327:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l=new Set;var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){null!=e&&(l=new Set(e.expandedFolders))},a.getState=function(){return{expandedFolders:Array.from(l)}},a.getExpandedFolders=function(){return l},a.isFolderExpanded=function(e){return l.has(e)},r}(r.default.PersistedStore);i.persistKey="ExpandedGuildFolderStore";var u=new i(a.default,{TOGGLE_GUILD_FOLDER_EXPAND:function(e){var t=e.folderId;(l=new Set(l)).has(t)?l.delete(t):l.add(t)},USER_SETTINGS_UPDATE:function(e){var t=e.settings.guildFolders;if(null==t)return!1;var n=!1,r=function(){if(o){if(i>=a.length)return"break";u=a[i++]}else{if((i=a.next()).done)return"break";u=i.value}var e=u;t.some(function(t){return t.folderId===e})||((l=new Set(l)).delete(e),n=!0)},a=l,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var u;if("break"===r())break}return n}});t.default=u},7328:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(2)),o=n(67),l=n(270),i=c(n(14)),u=c(n(222)),s=c(n(39)),d=c(n(279));n(1);function c(e){return e&&e.__esModule?e:{default:e}}var f=20,p=[];function h(){var e=d.default.getPrivateChannelIds().filter(function(e){return u.default.getMentionCount(e)>0});return e.length>f&&(e.length=f),!(0,l.areArraysShallowlyEqual)(e,p)&&(p=e,!0)}function v(){return h()}function m(e){var t=e.channelId,n=i.default.getChannel(t);return!(null==n||!(0,o.isPrivate)(n.type))&&h()}function _(e){var t=e.channel.id,n=i.default.getChannel(t);return!(null==n||!(0,o.isPrivate)(n.type))&&h()}var g=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(d.default,i.default,s.default,u.default)},a.getUnreadPrivateChannelIds=function(){return p},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return v()},OVERLAY_INITIALIZE:function(e){return v()},MESSAGE_CREATE:m,MESSAGE_ACK:m,CHANNEL_SELECT:function(e){var t=e.channelId,n=i.default.getChannel(t);return!(null==n||!(0,o.isPrivate)(n.type))&&h()},CHANNEL_DELETE:function(e){var t=e.channel.id,n=i.default.getChannel(t);return!(null==n||!(0,o.isPrivate)(n.type))&&h()},WINDOW_FOCUS:function(e){return!(null==(t=i.default.getChannel(s.default.getChannelId()))||!(0,o.isPrivate)(t.type))&&h();var t},CHANNEL_CREATE:_,CHANNEL_UPDATE:_});t.default=g},7329:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(157),l=n(6529),i=_(n(137)),u=_(n(11)),s=_(n(185)),d=_(n(6572)),c=n(6531),f=_(n(6573)),p=_(n(6661)),h=n(6571),v=n(1),m=_(n(6124));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y={friction:28,tension:600};function S(e){switch(e){case"height":case"opacity":return E({duration:150},y);case"scale":return E({},y);default:throw new Error("DirectMessage: getSpringConfigs() - Invalid spring "+e)}}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1,animating:!0,controller:new o.Controller({scale:0,height:0,opacity:0,config:S})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var _=r.prototype;return _.componentWillEnter=function(e){var t=this,n=this.state.controller;e(),n.update({immediate:!s.default.isFocused(),height:1,opacity:1,scale:1,config:S}).start(function(){return t.setState({animating:!1})})},_.componentWillAppear=function(e){var t=this;this.state.controller.update({immediate:!0,scale:1,opacity:1,height:1,config:S}).start(function(){return t.setState({animating:!1})}),e()},_.componentWillLeave=function(e){var t=this.state.controller;this.setState({animating:!0},function(){return t.update({immediate:!s.default.isFocused(),height:0,opacity:0,scale:0,config:S}).start(e)})},_.componentWillUnmount=function(){this.state.controller.destroy()},_.getAnimatedStyle=function(){var e=this.state.controller.animated,t=e.opacity,n=e.height,r=e.scale;return{opacity:t,height:n.to([0,1],[0,56]),transform:r.to([0,1],[.5,1]).to(function(e){return"scale("+e+")"})}},_.getChannelIcon=function(){var e=this.props.channel,t=e.type===v.ChannelTypes.DM?u.default.getUser(e.getRecipientId()):null;return null!=t?t.getAvatarURL("jpg"):(0,l.getChannelIconURL)(e)},_.render=function(){var e=this,t=this.props,n=t.channel,r=t.selected,l=t.badge,u=t.audio,s=t.video,_=t.unread,E=this.state,y=E.hovered,S=E.animating;return g(o.animated.div,{style:this.getAnimatedStyle()},void 0,(0,h.renderListItem)(g(a.Fragment,{},void 0,g(d.default,{hovered:!S&&y,selected:!S&&r,unread:!S&&_,className:m.default.pill}),g(h.ListItemTooltip,{text:(0,i.default)(n)},void 0,g(f.default,{selected:r||y,lowerBadge:l>0?(0,h.renderMentionBadge)(l):null,upperBadge:u||s?(0,h.renderIconBadge)(u,s):null,lowerBadgeWidth:(0,c.getBadgeWidthForValue)(l)},void 0,g(p.default,{to:v.Routes.CHANNEL(v.ME,n.id),onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},icon:this.getChannelIcon(),selected:r||y,ariaLabel:(0,i.default)(n)}))))))},r}(a.PureComponent);I.displayName="DirectMessage",I.defaultProps={badge:0,audio:!1,video:!1};var T=I;t.default=T},7330:function(e,t,n){"use strict";t.__esModule=!0,t.DefaultHomeButton=t.GuestHomeButton=void 0;var r,a=y(n(0)),o=E(n(27)),l=n(6579),i=E(n(42)),u=E(n(6572)),s=n(6531),d=E(n(6573)),c=E(n(6661)),f=n(467),p=y(n(6547)),h=E(n(6712)),v=n(6571),m=n(1),_=E(n(4)),g=E(n(6126));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){e.preventDefault(),(0,l.open)(m.AnalyticsLocations.HOME_BUTTON)}function T(){return S(h.default,{className:g.default.downloadProgress,determineOwnVisibility:!1})}t.GuestHomeButton=function(){var e=a.useState(!1),t=e[0],n=e[1];return(0,v.renderListItem)(S(a.Fragment,{},void 0,S(u.default,{hovered:t,className:g.default.pill}),S(v.ListItemTooltip,{text:_.default.Messages.HOME},void 0,S(d.default,{selected:t},void 0,S(c.default,{to:"#",selected:t,onClick:I,onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},ariaLabel:_.default.Messages.HOME},void 0,S(i.default,{name:i.default.Names.NOVA_DISCORD,className:g.default.homeIcon}))))))},T.displayName="renderInstallProgress";var O=750,N=3,C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._clickTimeout=null,t._clickCount=0,t.state={hovered:!1,discodoTriggered:!1},t.resetClicks=function(){t._clickTimeout=null,t._clickCount=0,clearTimeout(t._clickTimeout)},t.handleClick=function(){if(!__OVERLAY__&&(null==t._clickTimeout&&(t._clickTimeout=setTimeout(t.resetClicks,O)),t._clickCount++,t._clickCount===N)){t.resetClicks();var e=!o.default.get(m.DISCODO);o.default.set(m.DISCODO,e),e?(0,f.playSound)("discodo"):(0,f.playSound)("user_leave"),t.setState({discodoTriggered:!0}),setTimeout(function(){t.setState({discodoTriggered:!1})},1e3)}},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this,t=this.props,n=t.selected,r=t.user,l=t.link,f=t.badge,h=t.showDMsOnly,E=void 0!==h&&h,y=t.showProgressBadge,I=this.state,O=I.hovered,N=I.discodoTriggered;if(null==r)return null;var C=E?_.default.Messages.DIRECT_MESSAGES:_.default.Messages.HOME;return N&&(C=o.default.get(m.DISCODO)?_.default.Messages.DISCODO_ENABLED:_.default.Messages.DISCODO_DISABLED),S(p.default,{tutorialId:"friends-list",position:p.TutorialIndicatorPositions.RIGHT,offsetX:-8},void 0,(0,v.renderListItem)(S(a.Fragment,{},void 0,S(u.default,{selected:n,hovered:O,className:g.default.pill}),S(v.ListItemTooltip,{hideOnClick:!1,text:C},void 0,S(d.default,{selected:n||O,lowerBadge:f>0?(0,v.renderMentionBadge)(f):null,upperBadge:!n&&y?T():null,lowerBadgeWidth:(0,s.getBadgeWidthForValue)(f)},void 0,S(c.default,{onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},onClick:this.handleClick,selected:n||O,ariaLabel:E?_.default.Messages.DIRECT_MESSAGES:_.default.Messages.HOME,to:{pathname:l,state:{analyticsSource:{page:m.AnalyticsPages.GUILD_CHANNEL,section:m.AnalyticsSections.NAVIGATION,object:m.AnalyticsObjects.BUTTON_HOME}}}},void 0,S(i.default,{name:i.default.Names.NOVA_DISCORD,className:g.default.homeIcon})))))))},r}(a.PureComponent);t.DefaultHomeButton=C,C.displayName="DefaultHomeButton",C.defaultProps={unread:!1}},7331:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=i(n(8)),l=i(n(6376));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.children,i=t.hoverText,d=t.className,c=t.forceHover,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["tag","children","hoverText","className","forceHover"]);return a.createElement("div",u({},f,{className:(0,o.default)(d,l.default.hoverRoll,(e={},e[l.default.disabled]=null==i,e[l.default.forceHover]=c,e))}),s(n,{className:l.default.hovered},void 0,i),s(n,{className:l.default.default},void 0,r))},r}(a.PureComponent);d.displayName="HoverRoll",d.defaultProps={tag:"div",forceHover:!1};var c=d;t.default=c},7332:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(6)),a=i(n(370)),o=i(n(3)),l=i(n(2));n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=!1,d=[];var c=new(function(e){var t,n,r,a,o;function l(){return e.apply(this,arguments)||this}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.getBackupCodes=function(){return d},r=l,(a=[{key:"togglingSMS",get:function(){return s}}])&&u(r.prototype,a),o&&u(r,o),l}(o.default.Store))(l.default,{MFA_ENABLE_SUCCESS:function(e){var t=e.token,n=e.codes;a.default.setToken(t),d=n},MFA_DISABLE_SUCCESS:function(e){var t=e.token;a.default.setToken(t)},MFA_SMS_TOGGLE:function(e){s=!0},MFA_SMS_TOGGLE_COMPLETE:function(e){s=!1},MFA_CLEAR_BACKUP_CODES:function(e){d=[]},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes;d=r.default.sortBy(t,"code")}});t.default=c},7333:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(21)),l=h(n(457)),i=h(n(71)),u=h(n(138)),s=h(n(75)),d=h(n(262)),c=h(n(66)),f=h(n(4)),p=h(n(6380));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function r(t){var n;return m(n=e.call(this,t)||this).handleSubmit=n.handleSubmit.bind(m(n)),m(n).handleCancel=n.handleCancel.bind(m(n)),m(n).handlePasswordChange=n.handlePasswordChange.bind(m(n)),n.state={value:"",error:null,isLoading:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=r.prototype;return h.render=function(){var e=this.props,t=e.title,n=e.actionText,r=e.children,h=this.state,m=h.error,_=h.isLoading,g=h.value,E=a.Children.count(r)?v(l.default,{type:l.default.Types.WARNING,className:p.default.card},void 0,v(i.default,{color:i.default.Colors.WHITE,size:i.default.Sizes.MEDIUM},void 0,r)):null;return v(s.default,{tag:"form",onSubmit:this.handleSubmit},void 0,v(s.default.Header,{},void 0,v(c.default,{tag:c.default.Tags.H4},void 0,t)),v(s.default.Content,{},void 0,E,v(d.default,{title:f.default.Messages.FORM_LABEL_PASSWORD,className:p.default.spacing},void 0,v(u.default,{type:"password",autoComplete:"off",autoFocus:!0,value:g,onChange:this.handlePasswordChange}),m?v(i.default,{size:i.default.Sizes.SMALL,color:i.default.Colors.RED,className:p.default.error},void 0," ",m," "):null)),v(s.default.Footer,{},void 0,v(o.default,{type:"submit",disabled:_},void 0,n||f.default.Messages.CONFIRM),v(o.default,{onClick:this.handleCancel,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY},void 0,f.default.Messages.CANCEL)))},h.handleSubmit=function(e){var t=this;e.preventDefault();var n=this.state.value,r=this.props,a=r.handleSubmit,o=r.onClose;this.setState({isLoading:!0}),a(n).then(function(){return o()},function(e){null!=e.body&&(e.body.password?t.setState({error:e.body.password,isLoading:!1}):e.body.message&&t.setState({error:e.body.message,isLoading:!1}))})},h.handleCancel=function(){(0,this.props.onClose)()},h.handlePasswordChange=function(e){this.setState({value:e})},r}(a.PureComponent);_.displayName="PasswordConfirm",_.key=function(){return"password-confirm-modal"};var g=_;t.default=g},7334:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=S(n(8)),l=S(n(3)),i=S(n(2)),u=n(186),s=n(6642),d=S(n(6957)),c=S(n(336)),f=S(n(457)),p=S(n(24)),h=S(n(7335)),v=S(n(152)),m=S(n(7336)),_=n(1),g=S(n(4)),E=S(n(6134)),y=S(n(5938));function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=10,N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={pageIndex:0,lastIdFetched:null},t.scrollerRef=a.createRef(),t.handlePageChange=function(e){var n=t.props.payments,r=n[n.length-1].id;e===t.numPages-1&&t.state.lastIdFetched!==r?((0,u.fetchPayments)(O,r),t.setState({pageIndex:e,lastIdFetched:r})):t.setState({pageIndex:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l,d,c,S=r.prototype;return S.componentDidMount=function(){i.default.wait(function(){(0,s.fetchActivityStatistics)(),(0,u.fetchPayments)(O+O)})},S.componentDidUpdate=function(e,t){if(this.state.pageIndex!==t.pageIndex){var n=this.scrollerRef.current;null!=n&&n.scrollTo(0)}},S.renderPage=function(){var e=this.props,t=e.compactMode,n=e.locale,r=e.payments,l=this.state.pageIndex,i=r.slice(l*O,(l+1)*O);return I(a.Fragment,{},void 0,i.map(function(e,r){return I(m.default,{className:(0,o.default)(E.default.paymentRow,E.default.bottomDivider),payment:e,locale:n,compactMode:t},r)}))},S.renderPremiumAppleSubscription=function(){return I(f.default,{className:E.default.appleRow},void 0,I("div",{className:E.default.appleRowHeader},void 0,g.default.Messages.BILLING_APPLE_HEADER),I("div",{className:E.default.appleRowBody},void 0,g.default.Messages.BILLING_APPLE_DESCRIPTION.format({appleBillingLink:_.AppleBillingUrls.BILLING_MANAGEMENT})))},S.render=function(){var e=this.props,t=e.compactMode,n=e.payments,r=e.subscription,l=this.state.pageIndex,i=null!=r&&r.isPurchasedViaApple;return 0!==n.length||i?I("div",{className:E.default.verticalFit},void 0,i?this.renderPremiumAppleSubscription():null,n.length>0?I("div",{className:(0,o.default)(E.default.paymentPane,E.default.verticalFit)},void 0,t?null:I("div",{className:(0,o.default)(E.default.paymentRow,E.default.bottomDivider)},void 0,I(p.default,{className:E.default.paymentRowHeader},void 0,I("div",{className:y.default.date},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),I("div",{className:E.default.paymentRowHeaderDescription},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),I("div",{className:y.default.amount},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),I(h.default,{className:(0,o.default)(E.default.verticalFit,E.default.paginator),currentPageIndex:l,onChangePage:this.handlePageChange,numPages:this.numPages},void 0,a.createElement(v.default,{outerClassName:E.default.bottomDivider,theme:v.default.Themes.GHOST_HAIRLINE,ref:this.scrollerRef},this.renderPage()))):null):null},l=r,(d=[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/O),1)}}])&&T(l.prototype,d),c&&T(l,c),r}(a.PureComponent);N.displayName="PaymentHistory",N.defaultProps={compactMode:!1};var C=l.default.connectStores([d.default,c.default],function(){return{payments:d.default.getPayments(),subscription:c.default.getSubscription()}})(N);t.default=C},7335:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(8)),o=u(n(42)),l=u(n(4)),i=u(n(6132));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n,r=e.currentPageIndex,u=e.numPages,d=e.onChangePage,c=e.children,f=e.className,p=e.showPageCount,h=void 0===p||p;return s("div",{className:(0,a.default)(i.default.paginator,f)},void 0,c,s("div",{className:i.default.pageActions},void 0,s(o.default,{name:o.default.Names.LEFT_CARET,onClick:function(){r>0&&d(r-1)},className:(0,a.default)(i.default.pageButtonPrev,(t={},t[i.default.disabled]=0===r,t))}),s("div",{className:i.default.pageIndicator},void 0,h?l.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:r+1,numPages:u}):l.default.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:r+1})),s(o.default,{name:o.default.Names.RIGHT_CARET,onClick:function(){r<u-1&&d(r+1)},className:(0,a.default)(i.default.pageButtonNext,(n={},n[i.default.disabled]=r>=u-1,n))})))};d.displayName="Paginator";var c=d;t.default=c},7336:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=C(n(8)),l=C(n(82)),i=C(n(5)),u=C(n(3)),s=n(357),d=C(n(22)),c=C(n(232)),f=C(n(106)),p=C(n(24)),h=C(n(267)),v=C(n(42)),m=C(n(203)),_=C(n(65)),g=C(n(292)),E=n(462),y=C(n(96)),S=n(156),I=C(n(6823)),T=n(1),O=C(n(4)),N=C(n(5938));function C(e){return e&&e.__esModule?e:{default:e}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=14,b=5,L=2,D=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},w=(0,l.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),U=[T.PaymentStatusTypes.FAILED,T.PaymentStatusTypes.REVERSED],G=function(e){var t=e.description,n=e.cost;return P("li",{className:N.default.paymentDetail},void 0,P(p.default,{justify:p.default.Justify.BETWEEN},void 0,P("div",{},void 0,t),P("div",{},void 0,n)))};G.displayName="PaymentDetail";var k=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1},t.refundRules=[{rule:w.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<i.default.duration(L,"hours").asMilliseconds()}},{rule:w.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;if(t.isSkuPreorder)return!0;var n=e.isPremiumSubscription||e.isPremiumGift?b:R;return t.daysSincePurchase<=n}},{rule:w.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==T.SKUTypes.CONSUMABLE}},{rule:w.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:w.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!U.includes(e.status)}}],t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l,u,d,c=r.prototype;return c.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},c.renderStatus=function(){switch(this.props.payment.status){case T.PaymentStatusTypes.PENDING:return P("span",{className:N.default.statusTagGrey},void 0,O.default.Messages.BILLING_TAG_PENDING);case T.PaymentStatusTypes.FAILED:return P("span",{className:N.default.statusTagRed},void 0,O.default.Messages.BILLING_TAG_FAILED);case T.PaymentStatusTypes.REFUNDED:return P("span",{className:N.default.statusTagGreen},void 0,O.default.Messages.BILLING_TAG_REFUNDED);case T.PaymentStatusTypes.REVERSED:return P("span",{className:N.default.statusTagRed},void 0,O.default.Messages.BILLING_TAG_REVERSED);default:return null}},c.renderPrice=function(){var e=this.props.payment;return P("span",{},void 0,(0,S.formatPrice)(e.amount,e.currency))},c.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,r=t.taxInclusive,l=t.tax,i=t.amount,u=t.currency;return P("div",{className:(0,o.default)(N.default.paymentText,N.default.paymentBreakdown)},void 0,null!=t.paymentSource?P(I.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:N.default.paymentText}):null,P("ul",{},void 0,!r&&l>0?P(a.Fragment,{},void 0,P(G,{description:t.description,cost:(0,S.formatPrice)(i-l,u)}),P(G,{description:O.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,S.formatPrice)(l,u)})):null,P(G,{description:O.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,S.formatPrice)(i,u)})))},c.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,r=this.validateRefundRules();if(r.includes(w.PAYMENT_STATUS)||r.includes(w.ALREADY_REFUNDED))return null;var o,l=0===r.length,i=D(t);return o=r.includes(w.SKU_TYPE)?O.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:i}):l?n.isPreorder&&this.isSkuPreorder?O.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:i}):n.isPremiumSubscription?O.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:b,supportURL:i}):n.isGift?O.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:n.isPremiumGift?b:R,supportURL:i}):O.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:R,playtimeLimit:L,supportURL:i}):n.isGift?O.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:R}):n.isPremiumSubscription?O.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:b,supportURL:i}):O.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:R,playtimeLimit:L}),P(a.Fragment,{},void 0,P("h2",{className:N.default.paymentHeader},void 0,O.default.Messages.BILLING_REFUND_HEADER),P("div",{className:N.default.paymentText},void 0,P("div",{},void 0,o),this.renderRefundActions(r)))},c.renderRefundActions=function(e){var t=this.props,n=t.locale,r=t.payment;return this.isSkuPreorder||e.includes(w.SKU_TYPE)?null:P(p.default,{justify:p.default.Justify.BETWEEN,align:p.default.Align.END},void 0,P(p.default,{},void 0,P("div",{className:N.default.refundCriteria},void 0,P("h3",{className:N.default.refundSubHeader},void 0,r.isPreorder?O.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:O.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),P(p.default,{align:p.default.Align.CENTER},void 0,P(v.default,{name:e.includes(w.PURCHASE_DATE)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),P("div",{},void 0,O.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),r.isPremiumSubscription||r.isGift?null:P("div",{className:N.default.refundCriteria},void 0,P("h3",{className:N.default.refundSubHeader},void 0,O.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),P(p.default,{},void 0,P(v.default,{name:e.includes(w.TIME_PLAYED)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),P("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():O.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),P(f.default,{href:D(n)},void 0,O.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},c.renderDescription=function(){var e,t,n=this.props,r=n.compactMode,o=n.payment,l=n.application,u=o.sku,s=o.subscription;if(null!=s&&null!=s.planId){var d,c=[];y.default.isNoneSubscription(s.planId)||(c.push(y.default.getDisplayName(s.planId)),d=T.SubscriptionPlanInfo[s.planId]);var f=s.additionalPlans,p=Array.isArray(f),m=0;for(f=p?f:f[Symbol.iterator]();;){var g;if(p){if(m>=f.length)break;g=f[m++]}else{if((m=f.next()).done)break;g=m.value}var S=g,I=S.planId,C=S.quantity;c.push((C>1?C+"x ":"")+y.default.getDisplayName(I)),null==d&&(d=T.SubscriptionPlanInfo[I])}t=c.join(", "),e=P(h.default,{className:N.default.descriptionIcon,game:l,size:h.default.Sizes.XSMALL,skuId:null!=d?d.skuId:null})}else null!=u?(t=o.isPreorder?O.default.Messages.PREORDER_SKU_NAME.format({name:u.name}):u.name,e=P(h.default,{className:N.default.descriptionIcon,game:l,size:h.default.Sizes.XSMALL,skuId:u.id})):(e=P(v.default,{className:N.default.descriptionIcon,name:v.default.Names.NITRO_WHEEL}),t=o.description);var M=P("div",{className:N.default.date},void 0,(0,E.dateFormat)((0,i.default)(o.createdAt),"MM/DD/YYYY")),R=o.isGift?P(_.default,{text:O.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,function(e){return a.createElement(v.default,A({className:N.default.giftIcon,name:v.default.Names.GIFT},e))}):null;return r?P("div",{className:N.default.description},void 0,e,P("div",{},void 0,t,M),R):P(a.Fragment,{},void 0,M,P("div",{className:N.default.description},void 0,e,P("div",{},void 0,t),R))},c.renderExpandedSection=function(){return P("div",{className:N.default.expandedInfo},void 0,P("h2",{className:N.default.paymentHeader},void 0,O.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},c.render=function(){var e,t=this.state.expanded,n=this.props,r=n.className,a=n.compactMode;return P("div",{className:(0,o.default)(t?N.default.payment:N.default.hoverablePayment,r,(e={},e[N.default.compact]=a,e))},void 0,P(p.default,{onClick:this.handleExpandInfo,className:N.default.summaryInfo,align:p.default.Align.CENTER},void 0,this.renderDescription(),P("div",{className:N.default.amount},void 0,this.renderStatus(),this.renderPrice()),P(v.default,{name:v.default.Names.CARET,className:N.default.expand,direction:t?g.default.Directions.UP:g.default.Directions.DOWN})),t?this.renderExpandedSection():null)},l=r,(u=[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?i.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,i.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof s.PaypalSourceRecord?m.default.Types.PAYPAL:e instanceof s.CreditCardSourceRecord?m.default.getType(e.brand):m.default.Types.UNKNOWN}}])&&M(l.prototype,u),d&&M(l,d),r}(a.PureComponent);k.displayName="PaymentHistoryRow",k.defaultProps={compactMode:!1};var F=u.default.connectStores([c.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===T.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?c.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?d.default.getGame(n):null}})(k);t.default=F},7337:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},7338:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RecordModes=void 0;var r,a,o=h(n(0)),l=p(n(8)),i=p(n(6854)),u=n(282),s=h(n(21)),d=p(n(24)),c=p(n(4)),f=p(n(6135));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m={DEFAULT:"DEFAULT",RECORDING:"RECORDING"};t.RecordModes=m;var _=((r={})[m.DEFAULT]=f.default.default,r[m.RECORDING]=f.default.recording,r);function g(e){e.preventDefault()}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).setInputRef=function(e){t._input=e},t.handleBlur=function(){t.props.mode===m.RECORDING&&(0,t.props.onClick)()},t.handleFocus=function(){t.props.mode===m.DEFAULT&&(0,t.props.onClick)()},t.handleClick=function(e){e.preventDefault(),(0,t.props.onClick)()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.onChange;e&&this._input&&(new i.default(this._input).handleKey=e)},a.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===m.DEFAULT&&n===r&&n.blur(),t===m.RECORDING&&n!==r&&n.focus()}}},a.render=function(){var e,t,n=this.props,r=n.mode,a=n.value,i=n.disabled,p=(0,u.toString)(a,!0);t=r===m.RECORDING?c.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===a.length?c.default.Messages.SHORTCUT_RECORDER_BUTTON:c.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var h=r===m.DEFAULT&&a.length>0;return v("div",{className:(0,l.default)(f.default.container,_[r],(e={},e[f.default.hasValue]=h,e[f.default.disabled]=i,e))},void 0,v(d.default,{className:f.default.layout},void 0,v(d.default.Child,{className:f.default.input},void 0,o.createElement("input",{placeholder:c.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:p,onKeyDown:g,onFocus:this.handleFocus,onBlur:this.handleBlur,disabled:i})),v(d.default,{shrink:1,grow:0,style:{margin:0}},void 0,v(s.default,{className:f.default.button,disabled:i,onMouseDown:g,onMouseUp:this.handleClick,size:s.default.Sizes.MIN,color:s.ButtonColors.GREY,look:s.ButtonLooks.GHOST},void 0,v("span",{className:f.default.text},void 0,t),v("span",{className:f.default.editIcon})))))},r}(o.PureComponent);E.displayName="KeyRecorder";var y=E;t.default=y},7339:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(0)),o=f(n(8)),l=f(n(42)),i=p(n(258)),u=n(1),s=f(n(4)),d=f(n(455)),c=f(n(6136));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=0,m=function(){return"notification-position-selector-"+v++},_=function(e){switch(e){case u.OverlayNotificationPositions.TOP_LEFT:return s.default.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case u.OverlayNotificationPositions.TOP_RIGHT:return s.default.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case u.OverlayNotificationPositions.BOTTOM_LEFT:return s.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case u.OverlayNotificationPositions.BOTTOM_RIGHT:return s.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return s.default.Messages.OVERLAY_NOTIFICATIONS_DISABLED}},g=[u.OverlayNotificationPositions.DISABLED,u.OverlayNotificationPositions.TOP_LEFT,u.OverlayNotificationPositions.TOP_RIGHT,u.OverlayNotificationPositions.BOTTOM_LEFT,u.OverlayNotificationPositions.BOTTOM_RIGHT],E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).settingsWrapper=a.createRef(),t.state={name:m(),hasFocus:!1},t.handleFocusIn=function(){t.settingsWrapper.current&&t.setState({hasFocus:!0})},t.handleFocusOut=function(){t.settingsWrapper.current&&t.setState({hasFocus:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentDidMount=function(){var e=this.settingsWrapper.current;null!=e&&(e.addEventListener("focusin",this.handleFocusIn,!0),e.addEventListener("focusout",this.handleFocusOut,!0))},f.componentWillUnmount=function(){var e=this.settingsWrapper.current;null!=e&&(e.removeEventListener("focusin",this.handleFocusIn,!0),e.removeEventListener("focusout",this.handleFocusOut,!0))},f.render=function(){var e,t=this.props,n=t.position,r=t.onChange,f=this.state,p=f.name,v=f.hasFocus,m=n===u.OverlayNotificationPositions.DISABLED?s.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:s.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:_(n)});return h("div",{},void 0,a.createElement("div",{className:(0,o.default)(c.default.wrapper,(e={},e[c.default.disabledSelected]=n===u.OverlayNotificationPositions.DISABLED,e[c.default.hasFocus]=v,e)),ref:this.settingsWrapper},g.map(function(e){var t;return h("label",{className:(0,o.default)((t={},t[c.default.selected]=e===n,t[c.default.disabled]=e===u.OverlayNotificationPositions.DISABLED,t[c.default.topRight]=e===u.OverlayNotificationPositions.TOP_RIGHT,t[c.default.topLeft]=e===u.OverlayNotificationPositions.TOP_LEFT,t[c.default.bottomRight]=e===u.OverlayNotificationPositions.BOTTOM_RIGHT,t[c.default.bottomLeft]=e===u.OverlayNotificationPositions.BOTTOM_LEFT,t))},e,_(e),e===u.OverlayNotificationPositions.DISABLED?h(l.default,{name:l.default.Names.NOT_ALLOWED,className:c.default.disabledIcon}):null,h("input",{type:"radio",name:p,value:e,onChange:function(t){return r(t,e)},className:c.default.hiddenInput}))})),h(i.default,{type:i.Types.DESCRIPTION,className:d.default.marginTop8},void 0,m))},r}(a.Component);E.displayName="NotificationSettings",E.Positions=u.OverlayNotificationPositions;var y=E;t.default=y},7340:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(0)),o=p(n(8)),l=p(n(260)),i=n(365),u=p(n(523)),s=p(n(524)),d=p(n(223)),c=h(n(505)),f=p(n(952));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,n;function l(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleGamePopoutOpen=function(){var e=t.props,n=e.game,r=e.source,a=e.onOpen,o=e.analyticsContext;null!=n&&(c.trackGamePopoutOpened(n,r,o.location),a&&a())},t.renderGamePopout=function(e){var n=t.props,r=n.game,o=n.source,l=n.analyticsContext;return a.createElement(f.default,v({},e,{game:r,source:o,analyticsContext:l}))},t}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.render=function(){var e=this.props,t=e.children,n=e.onClose,l=e.interactiveClassName,c=e.game;return null==c||c.id===i.SPOTIFY_APPLICATION_ID||c instanceof u.default||c instanceof s.default?t:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{render:this.renderGamePopout,position:d.default.Positions.BOTTOM_LEFT,onOpen:this.handleGamePopoutOpen,onClose:n,closeOnScroll:!1,preventCloseFromModal:!0,preventCloseOnUnmount:!0},void 0,a.cloneElement(t,{className:(0,o.default)(t.props.className,l)}))},l}(a.PureComponent);m.displayName="GamePopoutOpener";var _=(0,l.default)(m);t.default=_},7342:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(478)),l=h(n(140)),i=h(n(14)),u=h(n(11)),s=h(n(36)),d=h(n(6877)),c=n(1),f=h(n(4)),p=h(n(6140));function h(e){return e&&e.__esModule?e:{default:e}}var v=200,m=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props.onClose;null!=e&&e()},t.sendToChannel=function(e){var n=t.props,r=n.activity,a=n.onClose,l=e.record.id,u=i.default.getChannel(l);if(null!=u){switch(u.type){case c.ChannelTypes.DM:case c.ChannelTypes.GROUP_DM:s.default.transitionTo(c.Routes.CHANNEL(c.ME,u.id));break;case c.ChannelTypes.GUILD_TEXT:s.default.transitionTo(c.Routes.CHANNEL(u.guild_id,u.id))}setTimeout(function(){return o.default.sendActivityInvite({channelId:l,type:c.ActivityActionTypes.JOIN,activity:r,location:"Activity Panel- Invite to Join"}).then(a,a)},v)}},t.sendToUser=function(e){var n=t.props,r=n.activity,a=n.onClose,i=e.record.id;l.default.openPrivateChannel(u.default.getCurrentUser().id,i).then(function(){o.default.sendActivityInviteUser({userId:i,type:c.ActivityActionTypes.JOIN,activity:r,location:"Activity Panel- Invite to Join"}).then(a,a)})},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.activity;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{title:f.default.Messages.USER_ACTIVITY_INVITE_TO_JOIN.format({name:e.name}),sendToChannel:this.sendToChannel,sendToUser:this.sendToUser,onClose:this.close,className:p.default.modal})},a}(a.PureComponent);t.default=m,m.displayName="UserActivityInviteModal"},7343:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),u=h(n(8)),s=h(n(65)),d=h(n(6663)),c=h(n(6714)),f=n(1),p=h(n(6142));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){switch(e){case f.RTCConnectionQuality.FINE:return 3;case f.RTCConnectionQuality.AVERAGE:return 2;case f.RTCConnectionQuality.BAD:return 1;case f.RTCConnectionQuality.UNKNOWN:default:return 0}}function g(e,t){return _(e)>=_(t)?p.default.active:p.default.inactive}var E=function(e){var t=e.className,n=e.quality,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className","quality"]);return i.createElement("svg",v({className:t,width:11,height:12,viewBox:"0 0 11 12"},r),m("rect",{className:g(n,f.RTCConnectionQuality.BAD),x:0,y:8,width:3,height:4,rx:1}),m("rect",{className:g(n,f.RTCConnectionQuality.AVERAGE),x:4,y:4,width:3,height:8,rx:1}),m("rect",{className:g(n,f.RTCConnectionQuality.FINE),x:8,y:0,width:3,height:12,rx:1}))};E.displayName="QualityIcon";var y=((r={})[f.RTCConnectionQuality.UNKNOWN]=s.default.Colors.BLACK,r[f.RTCConnectionQuality.BAD]=s.default.Colors.RED,r[f.RTCConnectionQuality.AVERAGE]=s.default.Colors.YELLOW,r[f.RTCConnectionQuality.FINE]=s.default.Colors.GREEN,r),S=((a={})[f.ConnectionStatus.CONNECTED]=p.default.rtcConnectionStatusConnected,a[f.ConnectionStatus.CONNECTING]=p.default.rtcConnectionStatusConnecting,a[f.ConnectionStatus.ERROR]=p.default.rtcConnectionStatusError,a),I=((o={})[f.RTCConnectionQuality.FINE]=p.default.rtcConnectionQualityFine,o[f.RTCConnectionQuality.AVERAGE]=p.default.rtcConnectionQualityAverage,o[f.RTCConnectionQuality.BAD]=p.default.rtcConnectionQualityBad,o[f.RTCConnectionQuality.UNKNOWN]=null,o),T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.quality,r=t.lastPing,a=t.state,o=t.hasVideo,l=t.statusTextClassName,h=t.className,_=t.children;a===f.RTCConnectionStates.RTC_CONNECTED&&(e=m(s.default,{text:n!==f.RTCConnectionQuality.UNKNOWN&&null!=r?r.toFixed(0)+" ms":null,color:y[n]},void 0,function(e){return i.createElement(E,v({className:p.default.ping,quality:n},e))}));var g=c.default.getStatus(a,o),T=g.connectionStatus,O=g.connectionStatusText;return m("div",{className:(0,u.default)(p.default.rtcConnectionStatus,I[n],h)},void 0,e,m("div",{className:p.default.labelWrapper},void 0,m(d.default,{className:(0,u.default)(l,S[T])},void 0,O),_))},r}(i.PureComponent);T.displayName="RTCConnectionStatus";var O=T;t.default=O},7344:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=n(7345),l=n(45),i=_(n(6970)),u=m(n(40)),s=m(n(106)),d=m(n(257)),c=m(n(183)),f=m(n(6714)),p=n(1),h=m(n(4)),v=m(n(6143));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(o.SparklinesLine,{}),y=g(o.SparklinesReferenceLine,{type:"mean"}),S=g("hr",{}),I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).openDebugPanel=function(){var e=t.props.closePopout;null!=e&&e(),i.open()},t.renderVoiceConnected=function(){var e=t.props,n=e.pings,r=e.hostname,l=e.averagePing,i=e.lastPing,u=e.outboundLossRate,s=null!=u?h.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_RATE:h.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED;return g(a.Fragment,{},void 0,g("div",{className:v.default.sparkline},void 0,g(o.Sparklines,{data:n,width:210,height:30},void 0,E,y)),s.format({hostname:f.default.getShortHostname(r),badPing:250,averagePing:l.toFixed(0),lastPing:(i||0).toFixed(0),outboundLossRate:(u||0).toFixed(1),badLossRate:10}))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props.connectionState,n=(e={},e[p.RTCConnectionStates.AWAITING_ENDPOINT]=h.default.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:p.STATUS_PAGE_ENDPOINT}),e[p.RTCConnectionStates.CONNECTING]=h.default.Messages.RTC_CONNECTION_STATE_CONNECTING,e[p.RTCConnectionStates.AUTHENTICATING]=h.default.Messages.RTC_CONNECTION_STATE_AUTHENTICATING,e[p.RTCConnectionStates.DISCONNECTED]=h.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e[p.RTCConnectionStates.RTC_CONNECTING]=h.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING,e[p.RTCConnectionStates.ICE_CHECKING]=h.default.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:c.default.getArticleURL(p.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[p.RTCConnectionStates.RTC_CONNECTED]=this.renderVoiceConnected,e[p.RTCConnectionStates.NO_ROUTE]=h.default.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:c.default.getArticleURL(p.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[p.RTCConnectionStates.RTC_DISCONNECTED]=h.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e)[t];return g("div",{className:v.default.container},void 0,g(d.default,{tag:"header",color:v.default.white,className:v.default.header},void 0,h.default.Messages.RTC_CONNECTION),g("section",{},void 0,"function"==typeof n?n():g("p",{},void 0,n),S,g("div",{className:v.default.popoutBottom},void 0,g("span",{className:v.default.secured},void 0,h.default.Messages.IP_ADDRESS_SECURED),u.default.supports(l.Features.DIAGNOSTICS)&&!__OVERLAY__&&g(s.default,{className:v.default.debugButton,onClick:this.openDebugPanel},void 0,h.default.Messages.DEBUG))))},r}(a.PureComponent);I.displayName="RTCConnectionPopout";var T=I;t.default=T},7346:function(e,t,n){"use strict";t.__esModule=!0,t.Item=y,t.valueRenderers=t.hidden=t.graphs=t.labelRenderers=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(7058)),o=i(n(9095)),l=i(n(7800));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s={accelerateRate:"Accelerate Rate",audioDetected:"Audio Detected",audioLevel:"Audio Level",availableOutgoingBitrate:"Available Outgoing Bitrate",averageDecodeTime:"Average Decode Time",averageEncodeTime:"Average Encode Time",bandwidthLimitedResolution:"Bandwidth Limited Resolution",bitrate:"Bitrate",bitrateTarget:"Bitrate (Target)",bytesReceived:"Bytes Received",bytesSent:"Bytes Sent",codec:"Codec",cpuLimitedResolution:"CPU Limited Resolution",currentDelay:"Current Delay",decodingCNG:"Decoding CNG",decodingMutedOutput:"Decoding Muted Output",decodingNormal:"Decoding Normal",decodingPLC:"Decoding PLC",decodingPLCCNG:"Decoding PLC CNG",decryptionFailures:"Decryption Failures",delayEstimate:"Delay Estimate",decoderImplementationName:"Decoder",encoderImplementationName:"Encoder",encodeUsage:"Encode Usage",expandRate:"Expand Rate",firCount:"FIR",fractionLost:"Packet Loss",frameRateDecode:"Frame Rate (Decode)",frameRateEncode:"Frame Rate (Encode)",frameRateInput:"Frame Rate (Input)",frameRateNetwork:"Frame Rate (Network)",frameRateRender:"Frame Rate (Render)",framesDecoded:"Frames Decoded",framesDropped:"Frames Dropped",framesEncoded:"Frames Encoded",framesReceived:"Frames Received",framesSent:"Frames Sent",jitter:"Jitter",jitterBuffer:"Jitter Buffer",jitterBufferPreferred:"Jitter Buffer (Preferred)",minPlayoutDelay:"Minimum Playout Delay",nackCount:"NACK",pacerDelay:"Pacer Delay",packetsLost:"Packets Lost",packetsReceived:"Packets Received",packetsSent:"Packets Sent",ping:"Ping",pliCount:"PLI",preemptiveExpandRate:"Pre-emptive Expand Rate",qpSum:"qpSum",renderDelay:"Render Delay",resolution:"Resolution",speechExpandRate:"Speech Expand Rate",ssrc:"SSRC",targetDelay:"Target Delay",localAddress:"Local Address",videohookFrames:"Videohook Frames",screenshareFrames:"WebRTC Frames",hybridDxgiFrames:"Hybrid DXGI Frames",hybridGdiFrames:"Hybrid GDI Frames",hybridVideohookFrames:"Hybrid Videohook Frames",videohookBackend:"Videohook Backend",capturedFramesDropped:"Captured Frames Dropped",capturedFramesCount:"Captured Frames per Second",capturedFramesMean:"Captured Frames Mean (ms)",capturedFramesStdev:"Captured Frames Standard Deviation (ms)",relativeReceptionDelay:"Relative Reception Delay",relativePlayoutDelay:"Relative Playout Delay",hostname:"Hostname"};function d(e){return(e/1e3).toFixed(2)+" Kbps"}function c(e){return a.default.filesize(e)}function f(e){return e}function p(e){return e+" ms"}function h(e){return e.toFixed(0)+"%"}function v(e){return e?"Yes":"No"}function m(e){return e.last+" ms"}t.labelRenderers=s;var _={availableOutgoingBitrate:!0,bitrate:!0,bitrateTarget:!0,bytesReceived:!0,bytesSent:!0,encodeUsage:!0,fractionLost:!0,frameRateDecode:!0,frameRateEncode:!0,frameRateInput:!0,frameRateNetwork:!0,frameRateRender:!0,packetsLost:!0,packetsReceived:!0,packetsSent:!0,ping:!0};t.graphs=_;t.hidden={audioJitterBuffer:!0,audioJitterDelay:!0,audioJitterTarget:!0,audioPlayoutUnderruns:!0,type:!0,videoJitterBuffer:!0,videoJitterDelay:!0,videoJitterTarget:!0,framesCaptured:!0,framesRendered:!0,noiseCancellerProcessTime:!0};var g={accelerateRate:h,audioDetected:v,audioLevel:function(e){return Math.max(e,0).toFixed(2)+" dB"},availableOutgoingBitrate:d,averageDecodeTime:p,averageEncodeTime:p,bandwidthLimitedResolution:v,bitrate:d,bitrateTarget:d,bytesReceived:c,bytesSent:c,codec:function(e){var t=e.id,n=e.name;return""+(n=n||"unknown")[0].toUpperCase()+n.slice(1)+" ("+t+")"},cpuLimitedResolution:v,currentDelay:p,delayEstimate:p,decoderImplementationName:f,encoderImplementationName:f,encodeUsage:h,expandRate:h,fractionLost:h,jitter:p,jitterBuffer:p,jitterBufferPreferred:p,minPlayoutDelay:p,pacerDelay:p,ping:p,preemptiveExpandRate:h,relativeReceptionDelay:m,relativePlayoutDelay:m,renderDelay:p,resolution:function(e){return e.width+"x"+e.height},speechExpandRate:h,targetDelay:p,videohookBackend:function(e){var t=["N/A","Direct3D 9","Direct3D 10","Direct3D 11","Direct3D 12","OpenGL","Vulkan"];return e<t.length?t[e]:"Unknown"}};function E(e){return u(o.default,{datapoint:e})}function y(e){var t=e.label,n=e.value,r=e.section,a=g[t]||function(e){return e};return u(l.default,{label:t,valueRendered:a(n),section:r,renderGraph:_[t]&&E.bind(null,n)},void 0,s[t]||t)}t.valueRenderers=g,E.displayName="renderGraph",y.displayName="Item"},7347:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})},t.close=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})},t.moveTo=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},7348:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(27)),o=i(n(2)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d="PictureInPictureLocation",c=null,f=l.PictureInPicturePositions.BOTTOM_RIGHT;var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,i,s,p=r.prototype;return p.initialize=function(){f=a.default.get(d,l.PictureInPicturePositions.BOTTOM_RIGHT)},p.isOpen=function(e){return null!=c&&c.id===e},o=r,(i=[{key:"window",get:function(){return c}}])&&u(o.prototype,i),s&&u(o,s),r}(r.default.Store))(o.default,{PICTURE_IN_PICTURE_OPEN:function(e){var t=e.id,n=e.component,r=e.props;c={id:t,component:n,position:f,props:r}},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(null==c||c.id!==t)return!1;c=null},PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;if(null==c||c.id!==t)return!1;c=s({},c,{position:n}),f=n,a.default.set(d,n)},LOGOUT:function(e){c=null}});t.default=p},7349:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=A(n(8)),i=A(n(16)),u=A(n(6)),s=A(n(118)),d=A(n(3)),c=A(n(263)),f=A(n(6630)),p=n(6629),h=n(6973),v=n(7351),m=A(n(6542)),_=A(n(7037)),g=A(n(152)),E=n(80),y=n(467),S=A(n(7352)),I=A(n(6690)),T=n(1),O=A(n(4)),N=A(n(6147)),C=A(n(5930));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var R=((r={})[T.Arrows.UP]=u.default.throttle(function(){return(0,y.playSound)("ddr-up")},100),r[T.Arrows.DOWN]=u.default.throttle(function(){return(0,y.playSound)("ddr-down")},100),r[T.Arrows.LEFT]=u.default.throttle(function(){return(0,y.playSound)("ddr-left")},100),r[T.Arrows.RIGHT]=u.default.throttle(function(){return(0,y.playSound)("ddr-right")},100),r),b=1e3/60,L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new s.default.Value(1),scaleX:new s.default.Value(1),scaleY:new s.default.Value(0),animating:!1},t.scrollerRef=o.createRef(),t.scrollPageUp=function(){var e=t.scrollerRef.current;(0,i.default)(null!=e,"Scroller is pagedUp when not mounted"),e.scrollPageUp(!0,!0)},t.scrollPageDown=function(){var e=t.scrollerRef.current;(0,i.default)(null!=e,"Scroller is pagedDown when not mounted"),e.scrollPageDown(!0,!0)},t.arrowUp=function(e){var n,r=e.direction;t.setState(((n={})[r]=!1,n))},t.arrowDown=function(e){var n,r=e.direction;R[r](),t.setState(((n={})[r]=!0,n))},t.componentWillLeave=function(e){t.setState({animating:!0}),t.state.opacity.setValue(1),t.state.scaleX.setValue(.5),t.state.scaleY.setValue(1),s.default.sequence([s.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),s.default.timing(t.state.opacity,{toValue:1,duration:2*b}),s.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),s.default.timing(t.state.opacity,{toValue:1,duration:2*b}),s.default.timing(t.state.opacity,{delay:300,toValue:.7,duration:2*b}),s.default.timing(t.state.opacity,{toValue:1,duration:2*b}),s.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),s.default.timing(t.state.opacity,{toValue:1,duration:2*b}),s.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),s.default.timing(t.state.opacity,{toValue:1,duration:2*b}),s.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),s.default.timing(t.state.opacity,{toValue:1,duration:2*b}),s.default.timing(t.state.scaleY,{delay:100,toValue:.005,duration:8*b,easing:s.default.Easing.in(s.default.Easing.ease)}),s.default.parallel([s.default.timing(t.state.scaleX,{toValue:1,duration:10*b,easing:s.default.Easing.out(s.default.Easing.ease)}),s.default.timing(t.state.opacity,{toValue:0,duration:12*b})])]).start(e)},t.toggleOpacity=function(){1===t.state.opacity._value?t.state.opacity.setValue(0):t.state.opacity.setValue(1)},t.getStyles=function(){return{opacity:t.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:t.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:t.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}},t.generateContent=function(){return t.props.content.map(function(e){var t;return M("div",{className:(0,l.default)(N.default.keybindGroup,(t={},t[N.default.groupEnd]=e.groupEnd,t))},e.description,M("div",{className:N.default.keybindDescription},void 0,e.description),M("div",{className:"keybind-shortcuts"},void 0,e.binds.map(function(e){return M(I.default,{shortcut:e},e)})))})},t}P(t,e);var n=t.prototype;return n.componentDidMount=function(){E.ComponentDispatch.subscribe(T.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),E.ComponentDispatch.subscribe(T.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),E.ComponentDispatch.subscribe(T.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),E.ComponentDispatch.subscribe(T.ComponentActions.DDR_ARROW_UP,this.arrowUp)},n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(T.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),E.ComponentDispatch.unsubscribe(T.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),E.ComponentDispatch.unsubscribe(T.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),E.ComponentDispatch.unsubscribe(T.ComponentActions.DDR_ARROW_UP,this.arrowUp)},n.render=function(){var e,t,n,r,a=this.state,i=a.UP,u=a.DOWN,d=a.LEFT,c=a.RIGHT,f=this.generateContent();return M(s.default.div,{className:N.default.keyboardShortcutsModal,style:this.getStyles()},void 0,M("h1",{className:N.default.modalTitle},void 0,M("div",{className:N.default.content},void 0,O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE),M(I.default,{shortcut:"mod+/",className:(0,l.default)(C.default.dim,C.default.keyboardShortcuts)})),M("div",{className:N.default.modalSubtitle},void 0,O.default.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE),M("div",{className:N.default.ddrArrows},void 0,M("div",{className:(0,l.default)(N.default.arrow,N.default.left,(e={},e[N.default.active]=d,e))},void 0,"left"),M("div",{className:(0,l.default)(N.default.arrow,N.default.down,(t={},t[N.default.active]=u,t))},void 0,"down"),M("div",{className:(0,l.default)(N.default.arrow,N.default.up,(n={},n[N.default.active]=i,n))},void 0,"up"),M("div",{className:(0,l.default)(N.default.arrow,N.default.right,(r={},r[N.default.active]=c,r))},void 0,"right")),o.createElement(g.default,{ref:this.scrollerRef,fade:!0,outerClassName:N.default.scrollerWrap},M("div",{className:N.default.keyboardShortcutList},void 0,f)))},t}(o.PureComponent);L.displayName="HotkeyLayout";var D=M(S.default,{},"raging-demo"),w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={content:__OVERLAY__?(0,h.getOverlayLayoutContent)():(0,p.getDefaultLayoutContent)()},t}P(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.ragingDemon&&this.props.ragingDemon&&m.default.disable()},n.componentDidMount=function(){m.default.enableTemp(v.SHORTCUT_MODAL_LAYOUT)},n.componentWillUnmount=function(){m.default.disableTemp()},n.close=function(){f.default.hide()},n.render=function(){var e;return e=this.props.ragingDemon?D:M(L,{content:this.state.content},"modal"),M(c.default,{component:"div"},void 0,e)},t}(o.PureComponent);w.displayName="KeyboardShortcuts";var U=d.default.connectStores([_.default],function(){return _.default.getState()},{forwardRef:!0})(w);U.modalConfig={store:_.default};var G=U;t.default=G},7350:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r=n(6610),a={binds:["mod+k","mod+t"],global:!0,action:function(){return(0,r.show)("KEYBIND",""),!1}};t.QUICKSWITCHER_SHOW=a},7351:function(e,t,n){"use strict";t.__esModule=!0,t.SHORTCUT_MODAL_LAYOUT=void 0;var r,a,o=(r=n(6630))&&r.__esModule?r:{default:r},l=n(80),i=n(1);function u(e){return l.ComponentDispatch.dispatch(i.ComponentActions.DDR_ARROW_DOWN,{direction:e}),!1}function s(e){return l.ComponentDispatch.dispatch(i.ComponentActions.DDR_ARROW_UP,{direction:e}),!1}var d=((a={})[i.Arrows.UP]={binds:["up"],keydown:u.bind(null,i.Arrows.UP),keyup:s.bind(null,i.Arrows.UP)},a[i.Arrows.DOWN]={binds:["down"],keydown:u.bind(null,i.Arrows.DOWN),keyup:s.bind(null,i.Arrows.DOWN)},a[i.Arrows.LEFT]={binds:["left"],keydown:u.bind(null,i.Arrows.LEFT),keyup:s.bind(null,i.Arrows.LEFT)},a[i.Arrows.RIGHT]={binds:["right"],keydown:u.bind(null,i.Arrows.RIGHT),keyup:s.bind(null,i.Arrows.RIGHT)},a.RAGING_DEMON={binds:["h h right n k"],action:function(){o.default.activateRagingDemon()}},a);t.SHORTCUT_MODAL_LAYOUT=d},7352:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(6)),i=c(n(6630)),u=n(80),s=n(1),d=c(n(6146));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(){return!0},v=function(){return!0},m=function(){return p("div",{className:d.default.symbol},"symbol",p("div",{className:d.default.symbolBackground}),p("img",{alt:"",src:n(7353)}))};m.displayName="Symbol";var _=140,g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._renderSecondaryTimeout=null,t._doneTimeout=null,t.state={animating:!1,renderSecondary:!1,scale:l.default.random(.6,1,!0),offsetX:l.default.random(0,_,!1)-_/2,offsetY:l.default.random(0,_,!1)-_/2},t.done=function(){t.props.onAnimationComplete(t.props.componentId)},t}f(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;this.setState({animating:!0}),this._renderSecondaryTimeout=setTimeout(function(){e.setState({renderSecondary:!0})},120),this._doneTimeout=setTimeout(this.done,1e3),h()},r.componentDidUpdate=function(e,t){this.state.renderSecondary&&!t.renderSecondary&&v()},r.componentWillUnmount=function(){clearTimeout(this._renderSecondaryTimeout),clearTimeout(this._doneTimeout)},r.renderPrimary=function(){return p("div",{className:d.default.primaryExplosion},"primary-explosion",p("img",{alt:"",className:d.default.circleInner,src:n(7354),width:70,height:69}),p("img",{alt:"",className:d.default.circleOuter,src:n(7355),width:96,height:95}),p("img",{alt:"",className:d.default.linesSecondary,src:n(7356),width:183,height:104}),p("img",{alt:"",className:d.default.linesMain,src:n(7357),width:69,height:180}))},r.renderSecondary=function(e,t){return p("div",{className:d.default.secondaryExplosion,style:{top:t,left:e}},"secondary-explosion",p("img",{alt:"",className:d.default.circleInner,src:n(7358),width:61,height:58},"circle-inner"),p("img",{alt:"",className:d.default.circleOuter,src:n(7359),width:85,height:85},"circle-outer"),p("img",{alt:"",className:d.default.linesSecondary,src:n(7360),width:162,height:173},"lines-secondary"),p("img",{alt:"",className:d.default.linesMain,src:n(7361),width:156,height:306},"lines-main"))},r.render=function(){var e,t=this.state,n=t.renderSecondary,r=t.offsetX,a=t.offsetY,l=t.animating,i=t.scale,u=[this.renderPrimary()];return n&&u.push(this.renderSecondary(r,a)),p("div",{className:(0,o.default)(d.default.container,(e={},e[d.default.animate]=l,e)),style:{top:this.props.top,left:this.props.left,transform:"scale("+i+")"}},void 0,u)},t}(a.PureComponent);g.displayName="Explosion";var E=8,y=240,S=p(m,{},"symbol"),I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._timeouts=[],t.children=[],t.state={explosions:0},t.setTimeout=function(e,n){var r=setTimeout(e,n);return t._timeouts.push(r),r},t.removeExplosion=function(e){var n=t.children,r=n.find(function(t){return null!=t.props.componentId&&t.props.componentId===e}),a=n.indexOf(r);a>=0&&n.splice(a,1),t.forceUpdate()},t.createExplosion=function(){var e=t.children,n=window.innerWidth/2>>0,r=window.innerHeight/2>>0;if(t.state.explosions<E){var a="expl-"+t.state.explosions;e.push(p(g,{componentId:a,top:l.default.random(r-100,r+100,!1),left:l.default.random(n-200,n+200,!1),onAnimationComplete:t.removeExplosion},a)),t.setTimeout(t.createExplosion,y),t.setState({explosions:t.state.explosions+1})}else t.setTimeout(t.addSymbol,750)},t.addSymbol=function(){t.children=[S],t.forceUpdate(),t.setTimeout(t.delayedClose,3e3)},t}f(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setTimeout(function(){return u.ComponentDispatch.dispatch(s.ComponentActions.SHAKE_APP,{duration:2400})},1800),this.setTimeout(this.createExplosion,1800)},n.componentWillUnmount=function(){this.children.length=0;var e=this._timeouts,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}clearTimeout(r)}},n.delayedClose=function(){i.default.hide()},n.render=function(){return p("div",{className:d.default.ragingDemon},void 0,this.children)},t}(a.PureComponent);I.displayName="RagingDemon";var T=I;t.default=T},7353:function(e,t,n){e.exports=n.p+"bb7f752540c7f4c7039c6dd6b5dd052e.svg"},7354:function(e,t,n){e.exports=n.p+"2fa100868d36281cf16e9b488d6783e6.png"},7355:function(e,t,n){e.exports=n.p+"343d87c6185c5a798189dbe0454338d2.png"},7356:function(e,t,n){e.exports=n.p+"8d32a8a24b95bbb21533636279d44c4c.png"},7357:function(e,t,n){e.exports=n.p+"d848be8a53ceaaf74385fa2240c277fe.png"},7358:function(e,t,n){e.exports=n.p+"156b50b1934142012e13cddb292be82f.png"},7359:function(e,t,n){e.exports=n.p+"37168b17cb52c41180fc7dc3464416e3.png"},7360:function(e,t,n){e.exports=n.p+"264c4f75df7b5cfca2445a01ac303e4c.png"},7361:function(e,t,n){e.exports=n.p+"b2609efe7eaf6066ccf83c63b831b9f5.png"},7362:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(0)),o=y(n(3)),l=y(n(100)),i=S(n(876)),u=y(n(22)),s=y(n(6640)),d=y(n(50)),c=y(n(221)),f=y(n(119)),p=y(n(21)),h=y(n(267)),v=y(n(75)),m=n(284),_=y(n(36)),g=n(1),E=y(n(6148));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){T(o,r,a,l,i,"next",e)}function i(e){T(o,r,a,l,i,"throw",e)}l(void 0)})}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={error:null,accepted:!1},t.handleAccept=O(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.giftCode,a=n.channelContext,null!=r){e.next=3;break}throw new Error("GiftCode is null at acceptance.");case 3:return e.prev=3,e.next=6,i.redeemGiftCode(r.code,{channelId:a});case 6:t.setState({accepted:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.setState({error:e.t0});case 12:case"end":return e.stop()}},e,null,[[3,9]])})),t.handleGoToLibrary=function(){var e=t.props,n=e.onClose,r=e.libraryApplication;_.default.transitionTo(g.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=r?r.id:null}}),n()},t}C(t,e);var n,r,a,o=t.prototype;return o.componentDidMount=function(){var e=this.props,t=e.application,n=e.sku;null==t&&null!=n&&l.default.fetchApplication(n.applicationId)},o.render=function(){var e=this.props,t=e.application,n=e.accepting,r=e.onClose,a=e.giftCode;return I(v.default,{size:v.default.Sizes.SMALL,className:E.default.modal},void 0,I("div",{className:E.default.backSplash}),I(v.default.Content,{className:E.default.content},void 0,I(v.default.CloseButton,{onClick:r,className:E.default.closeButton}),I(h.default,{size:h.default.Sizes.LARGE,game:t,skuId:a.skuId}),I("h3",{className:E.default.header},void 0,this.headerText),I("p",{className:E.default.body},void 0,this.bodyText),I(p.default,{submitting:n,onClick:this.handleClick},void 0,this.buttonText)))},n=t,(r=[{key:"step",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=e.giftCode,a=this.state,o=a.error,l=a.accepted;return(0,m.getStep)(t,r,o,l,n)}},{key:"buttonText",get:function(){return(0,m.getButtonText)(this.step,this.props.giftCode)}},{key:"headerText",get:function(){return null!=this.props.sku?(0,m.getHeaderText)(this.step,this.props.giftCode,this.props.sku):null}},{key:"bodyText",get:function(){var e=this.props,t=e.sku,n=e.accepting,r=e.libraryApplication,a=e.subscriptionPlan,o=this.state,l=o.error,i=o.accepted;return null!=t?(0,m.getBodyText)(this.step,t,r,l,i,n,this.handleGoToLibrary,a):null}},{key:"errorMessage",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=this.state,a=r.error,o=r.accepted;return(0,m.getErrorMessage)(t,a,o,n,this.handleGoToLibrary)}},{key:"handleClick",get:function(){var e=this.props,t=e.giftCode,n=e.onClose;switch(this.step){case g.GiftCodeModalStates.ERROR:return n;case g.GiftCodeModalStates.SUCCESS:return __OVERLAY__?n:null!=t.subscriptionPlanId?n:this.handleGoToLibrary;case g.GiftCodeModalStates.CONFIRM:default:return this.handleAccept}}}])&&N(n.prototype,r),a&&N(n,a),t}(a.Component);A.displayName="GiftCodeAccept";var M=o.default.connectStores([d.default,f.default,u.default,s.default,c.default],function(e){var t=e.giftCode,n=f.default.get(t.skuId),r=null!=n?u.default.getGame(n.applicationId):null;return{sku:n,libraryApplication:null!=n?(0,m.firstLibraryApplicationForGiftCode)(t,n,d.default):null,application:r,subscriptionPlan:null!=t.subscriptionPlanId?c.default.get(t.subscriptionPlanId):null,accepting:s.default.getIsAccepting(t.code)}})(A),P=function(e){function t(){return e.apply(this,arguments)||this}C(t,e);var n=t.prototype;return n.handleClose=function(){i.closeGiftCodeAcceptModal()},n.render=function(){return I(M,{channelContext:this.props.channelContext,giftCode:this.props.giftCode,onClose:this.handleClose})},t}(a.PureComponent);P.displayName="GiftCodeAcceptModal",P.modalConfig={store:s.default};var R=P;t.default=R},7363:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(0)),o=f(n(3)),l=p(n(999)),i=f(n(11)),u=f(n(7364)),s=f(n(96)),d=f(n(6600)),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePurchasePremium=function(){l.closeModal(!0)},t}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.onClose;return h(d.default,{},void 0,h(d.default.Header,{onClose:n},void 0,c.default.Messages.PREMIUM_REQUIRED),h(d.default.Content,{type:d.default.Types.UPGRADE},void 0,t.premiumType&&!s.default.canInstallPremiumApplications(t)?c.default.Messages.PREMIUM_UPGRADE_REQUIRED_BODY:c.default.Messages.PREMIUM_SUBSCRIPTION_REQUIRED_BODY),h(d.default.Footer,{primary:{onClick:this.handlePurchasePremium,label:c.default.Messages.PREMIUM_REQUIRED_GET_NITRO}}))},t}(a.Component);m.displayName="PremiumRequiredModalUnconnected";var _=o.default.connectStores([i.default],function(){return{user:i.default.getCurrentUser()}})(m),g=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var n=t.prototype;return n.close=function(){l.closeModal(!1)},n.render=function(){return h(_,{onClose:this.close,context:this.props.appContext})},t}(a.Component);t.default=g,g.displayName="PremiumRequiredModal",g.modalConfig={closable:!0,store:u.default}},7364:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i,u,s=null,d=null;function c(e){null!=i&&e?i():null!=u&&u(),i=null,u=null}function f(){d=o.FormStates.CLOSED,s=null}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return s===e&&d===o.FormStates.OPEN},r}(r.default.Store))(a.default,{PREMIUM_REQUIRED_MODAL_OPEN:function(e){c(!1),d=o.FormStates.OPEN,s=e.context,i=e.resolve,u=e.reject},PREMIUM_REQUIRED_MODAL_CLOSE:function(e){c(e.shouldContinue),f()},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==s)return!1;f(),c(!1)}});t.default=p},7365:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=E(n(3)),l=n(526),i=n(159),u=E(n(22)),s=E(n(7366)),d=E(n(119)),c=E(n(24)),f=E(n(75)),p=E(n(15)),h=E(n(6826)),v=E(n(6827)),m=n(1),_=E(n(483)),g=E(n(5939));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var I=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.application,n=e.skuId,r=e.sku,a=e.onClose;null==r?(0,i.fetchSKU)(t.id,n).catch(function(e){return a(e.message)}):this.track(r)},n.componentDidUpdate=function(e){var t=this.props.sku;t!==e.sku&&null!=t&&this.track(t)},n.track=function(e){var t=this.props.analyticsSource;p.default.track(m.AnalyticEvents.OPEN_MODAL,{type:"Application Entitlement Confirmation",source:t,application_id:e.applicationId,sku_id:e.id})},n.render=function(){var e=this.props,t=e.sku,n=e.application,r=e.onClose,a=e.isIAP;return y(f.default,{size:f.default.Sizes.SMALL,className:_.default.modal},void 0,y(h.default,{application:n,splashSize:880}),y(f.default.Content,{className:_.default.content},void 0,y(c.default,{direction:c.default.Direction.VERTICAL,className:g.default.confirmContent},void 0,y(f.default.CloseButton,{onClick:function(){return r()},className:g.default.confirmCloseButton}),null!=t?y(v.default,{application:n,sku:t,isIAP:a,onClose:function(){return r()}}):null)))},t}(a.Component);I.displayName="PurchaseConfirmationModal";var T=o.default.connectStores([u.default,d.default],function(e){var t=e.applicationId,n=e.skuId;return{application:u.default.getGame(t),sku:d.default.get(n)}})(I),O=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.close=function(e){(0,l.closePurchaseConfirmationModal)(e)},n.render=function(){var e=this.props,t=e.skuId,n=e.applicationId,r=e.analyticsSource,a=e.isIAP;return y(T,{skuId:t,applicationId:n,isIAP:a,analyticsSource:r,onClose:this.close})},t}(a.Component);O.displayName="PurchaseConfirmationModalWrapper",O.modalConfig={closable:!0,store:s.default};var N=O;t.default=N},7366:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i,u,s=null,d=null,c=null,f=null,p=!1,h=null;function v(e){null!=i&&null!=f?i(f):null!=u&&u(e),i=null,u=null}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return h===e&&p},a.getProps=function(){return{applicationId:s,skuId:d,analyticsSource:c,isIAP:h===o.AppContext.OVERLAY}},r}(r.default.Store))(a.default,{PURCHASE_CONFIRMATION_MODAL_OPEN:function(e){v(),p=!0,s=e.applicationId,d=e.skuId,c=e.analyticsSource,h=e.context,f=e.entitlements,i=e.resolve,u=e.reject},PURCHASE_CONFIRMATION_MODAL_CLOSE:function(e){var t=e.error;p=!1,h=null,v(t)},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==h)return!1;p=!1,h=null,v()}});t.default=m},7367:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=x(n(0)),o=V(n(82)),l=V(n(74)),i=n(3),u=V(n(2)),s=n(877),d=x(n(159)),c=x(n(507)),f=V(n(862)),p=V(n(22)),h=V(n(11)),v=V(n(938)),m=V(n(346)),_=x(n(897)),g=V(n(119)),E=V(n(198)),y=V(n(895)),S=V(n(24)),I=V(n(274)),T=V(n(267)),O=V(n(42)),N=V(n(182)),C=V(n(75)),A=n(136),M=V(n(15)),P=n(482),R=V(n(13)),b=n(156),L=n(466),D=n(154),w=V(n(7368)),U=V(n(910)),G=V(n(6826)),k=V(n(990)),F=V(n(6827)),B=n(1),j=V(n(4)),H=V(n(5939));function V(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Q=(0,o.default)({UNSUPPORTED_OS:null,TEST_MODE:null,GIFT_ONLY:null,PREORDER:null}),X=880,q=Y(N.default,{}),J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={paymentSourceId:null},t._loadId=l.default.v4(),t._stepStartTime=Date.now(),t._flowStartTime=Date.now(),t._paymentModalRef=a.createRef(),t.handlePaymentSourceChange=function(e){var n=t.props,r=n.applicationId,a=n.skuId;null!=e?(d.fetchPurchasePreview(r,a,e.id),t.setState({paymentSourceId:e.id})):(d.fetchPurchasePreview(r,a,null),t.setState({paymentSourceId:null}))},t.handlePurchase=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.applicationId,o=r.sku,l=t.getPrice(),i=null!=l?l.amount:0,null!=o){e.next=5;break}throw new Error("SKU is null during purchase");case 5:if(!_.default.isPurchasingSKU){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,M.default.track(B.AnalyticEvents.PAYMENT_FLOW_COMPLETED,W({},t.getBaseAnalyticsData(),{duration_ms:Date.now()-t._flowStartTime})),e.next=11,d.purchaseSKU(a,o.id,{expectedAmount:i,paymentSourceId:n.id,analyticsLoadId:t._loadId,isGift:t.isGift});case 11:(0,s.acceptPurchaseTerms)(),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(7),M.default.track(B.AnalyticEvents.PAYMENT_FLOW_FAILED,W({},t.getBaseAnalyticsData(),{payment_gateway:n.type===B.PaymentSourceTypes.CARD?B.PaymentGateways.STRIPE:B.PaymentGateways.BRAINTREE,payment_source_id:n.id,duration_ms:Date.now()-t._flowStartTime,payment_error_code:e.t0.code})),e.t0;case 18:case"end":return e.stop()}},e,null,[[7,14]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){z(o,r,a,l,i,"next",e)}function i(e){z(o,r,a,l,i,"throw",e)}l(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleClose=function(e){void 0===e&&(e=null),(0,t.props.onClose)(e)},t.handleStepChange=function(e,n){var r=Date.now();M.default.track(B.AnalyticEvents.PAYMENT_FLOW_STEP,W({},t.getBaseAnalyticsData(),{from_step:e,to_step:n,step_duration_ms:r-t._stepStartTime,flow_duration_ms:r-t._flowStartTime})),t._stepStartTime=r,n===P.Steps.CONFIRM&&d.showPurchaseConfirmationStep()},t.renderHeader=function(e,n,r){var a=t.props.application;switch(e){case P.Steps.CONFIRM:return null!=a?Y(G.default,{application:a,splashSize:X}):null;default:return t.renderDefaultHeader(e,n,r)}},t.renderConfirmation=function(){var e=t.props,n=e.application,r=e.sku,a=e.isIAP,o=e.giftCode;if(null==r||null==n)throw new Error("No SKU for confirmation step!");return Y("div",{className:H.default.confirmContent},void 0,Y(S.default,{direction:S.default.Direction.VERTICAL},void 0,Y(C.default.CloseButton,{onClick:function(){return t.handleClose()},className:H.default.confirmCloseButton}),null!=o?Y(k.default,{giftCode:o,application:n,sku:r,onClose:function(){return t.handleClose()}}):Y(F.default,{application:n,sku:r,isIAP:a,onClose:function(){return t.handleClose()}})))},t}$(t,e);var n,r,o,i=t.prototype;return i.getSkuPrice=function(e,t){void 0===e&&(e=this.props),void 0===t&&(t=this.state);var n=e.prices,r=t.paymentSourceId;return null==n?null:n[null!=r?r:_.NO_PAYMENT_SOURCE]},i.componentDidMount=function(){var e=this,t=this.props,n=t.sku,r=t.skuId,a=t.applicationId;null==n?d.fetchSKU(a,r).catch(function(t){return e.handleClose(t.message)}):M.default.track(B.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},i.componentDidUpdate=function(e,t){null==e.sku&&null!=this.props.sku&&M.default.track(B.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData()),this.checkPriceChange(this.getSkuPrice(e,t),this.getSkuPrice())},i.checkPriceChange=function(e,t){var n=this.props,r=n.sku,a=n.onClose;null!=e&&null!=t&&e.discount_percent_off!==t.discount_percent_off&&u.default.wait(function(){if(null==r)throw new Error("Unexpected null SKU");a(B.PaymentModalPriceChangedError)})},i.getPrice=function(){var e=this.props,t=e.sku,n=e.isFetchingSKU;if(null==t||n)return null;var r=this.getSkuPrice();if(null!=r)return{amount:r.amount,tax:r.tax,taxInclusive:r.tax_inclusive,currency:r.currency};if(null==this.state.paymentSourceId){var a=t.getPrice();if(null==a)throw new Error("Sku Price cannot be null");return{amount:a.amount,tax:0,taxInclusive:!1,currency:a.currency}}return null},i.getBaseAnalyticsData=function(){var e=this.props,t=e.sku,n=e.analyticsLocation,r=e.appContext,a=e.promotionId;if(null==t)return{};var o=this.getPrice();return W({},(0,f.default)(t),{load_id:this._loadId,payment_type:"sku",is_gift:this.isGift,client_event_source:r===B.AppContext.OVERLAY?B.AppContext.OVERLAY:null,location:n,price:null!=o?o.amount:null,currency:null!=o?o.currency:null,location_promotion_id:a})},i.getHeaderText=function(e,t){if(e)return j.default.Messages.APPLICATION_STORE_PURCHASE_IAP;switch(t){case B.SKUTypes.GAME:return j.default.Messages.APPLICATION_STORE_PURCHASE_APPLICATION;case B.SKUTypes.DLC:return j.default.Messages.APPLICATION_STORE_PURCHASE_DLC;case B.SKUTypes.CONSUMABLE:return j.default.Messages.APPLICATION_STORE_PURCHASE_CONSUMABLE;case B.SKUTypes.BUNDLE:return j.default.Messages.APPLICATION_STORE_PURCHASE_BUNDLE}},i.renderPurchaseWarning=function(){var e=this.props,t=e.sku,n=e.isInTestMode,r=e.isIAP,o=e.isUserEntitledToSku;if(null==t)return null;var l=(0,D.nativePlatformTypeToSKUOperatingSystem)(R.default.getPlatform()),i=[];if(!(null!=l&&t.supportedOperatingSystems.includes(l)||r)){if(1!==t.supportedOperatingSystems.length)throw new Error("Unexpected number of supported operating systems");i.push(Y(U.default,{icon:O.default.Names.WARNING_BOX,iconSize:U.default.Sizes.SMALL,color:U.default.Colors.WARNING,className:H.default.errorBlock},Q.UNSUPPORTED_OS,j.default.Messages.APPLICATION_STORE_PURCHASE_GAME_UNSUPPORTED_OS.format({operatingSystem:(0,D.skuOperatingSystemToText)(t.supportedOperatingSystems[0])})))}return n&&i.push(Y(U.default,{icon:O.default.Names.WARNING_BOX,iconSize:U.default.Sizes.SMALL,color:U.default.Colors.WARNING,className:H.default.errorBlock},Q.TEST_MODE,j.default.Messages.APPLICATION_STORE_PURCHASE_TEST_MODE)),!0===o&&this.isGiftable&&i.push(Y(U.default,{icon:O.default.Names.WARNING_BOX,iconSize:U.default.Sizes.SMALL,color:U.default.Colors.PRIMARY,className:H.default.errorBlock},Q.GIFT_ONLY,j.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY)),t.isPreorder()&&i.push(Y(U.default,{icon:O.default.Names.WARNING_BOX,iconSize:U.default.Sizes.SMALL,color:U.default.Colors.PRIMARY,className:H.default.errorBlock},Q.PREORDER,j.default.Messages.APPLICATION_STORE_PURCHASE_WARNING_PREORDER.format({date:(0,L.getReadablePreorderReleaseDate)(t)}))),Y(a.Fragment,{},void 0,i)},i.renderGenericError=function(e,t){return null==e&&null==t?null:Y(I.default,{className:H.default.errorBlock},void 0,null!=e?e.message:null!=t?t.message:null)},i.renderDefaultHeader=function(e,t,n){var r=this,a=this.props,o=a.isIAP,l=a.application,i=a.sku,u=a.purchaseError;if(null==i||null==l)return null;var s=this.getPrice();return Y(C.default.Header,{direction:S.default.Direction.VERTICAL,align:S.default.Align.START,separator:!1},void 0,Y(G.default,{application:l,splashSize:X}),Y(S.default,{align:S.default.Align.CENTER,className:H.default.headerHeader},void 0,Y(A.FormTitle,{tag:A.FormTitleTags.H4},void 0,this.getHeaderText(o,i.type)),Y(C.default.CloseButton,{onClick:function(){return r.handleClose()}})),Y(S.default,{align:S.default.Align.CENTER,className:H.default.headerContent},void 0,Y(S.default,{align:S.default.Align.CENTER},void 0,Y(T.default,{game:l}),Y("div",{className:H.default.applicationName},void 0,i.name)),Y("div",{className:H.default.price},void 0,null!=s?(0,b.formatPrice)(s.amount,s.currency):Y(N.default,{type:N.default.Type.PULSING_ELLIPSIS,className:H.default.priceSpinner}))),this.renderPurchaseWarning(),this.renderGenericError(u,n),t.length>1?Y(y.default,{activeId:e,breadcrumbs:t,className:H.default.breadcrumbs}):null)},i.render=function(){var e=this,t=this.props,n=t.sku,r=t.isFetchingSKU,o=t.isPurchasing,l=t.purchaseError,i=t.isUserEntitledToSku,u=t.forceConfirmationStepOnMount;return null==n||r?q:a.createElement(w.default,{ref:this._paymentModalRef,canSubmit:null!=this.getSkuPrice(),needsToBeGift:n.type===B.SKUTypes.GAME&&!0===i,isGiftable:this.isGiftable,isPurchasing:o,purchaseError:l,price:this.getPrice(),size:H.default.modalSize,onPurchase:this.handlePurchase,onIsGiftUpdate:c.updateSKUPaymentIsGift,onPaymentSourceChange:this.handlePaymentSourceChange,onClose:function(){return e.handleClose()},onClearError:d.clearPurchaseError,renderHeader:this.renderHeader,renderConfirmationBody:this.renderConfirmation,submitButtonText:this.isGift?j.default.Messages.APPLICATION_STORE_BUY_GIFT:j.default.Messages.APPLICATION_STORE_BUY,initialStep:u?P.Steps.CONFIRM:null,onStepChange:this.handleStepChange,isGift:this.isGift})},n=t,(r=[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"isGiftable",get:function(){var e=this.props.sku;return null!=e&&e.isGiftable(this.getPrice())}},{key:"isGift",get:function(){return this.props.isGift&&this.isGiftable}}])&&K(n.prototype,r),o&&K(n,o),t}(a.PureComponent);J.displayName="SKUPayment";var Z=a.forwardRef(function(e,t){var n=e.applicationId,r=e.skuId,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["applicationId","skuId"]),l=(0,i.useStateFromStores)([p.default],function(){return p.default.getGame(n)}),u=(0,i.useStateFromStoresArray)([_.default],function(){return[_.default.getPricesForSku(r),_.default.isPurchasingSKU,_.default.error,_.default.analyticsLocation,_.default.promotionId,_.default.isIAP,_.default.giftCode,_.default.isGift,_.default.forceConfirmationStepOnMount]}),s=u[0],d=u[1],c=u[2],f=u[3],y=u[4],S=u[5],I=u[6],T=u[7],O=u[8],N=(0,i.useStateFromStoresArray)([g.default],function(){return[g.default.get(r),g.default.isFetching(r)]}),C=N[0],A=N[1],M=(0,i.useStateFromStores)([E.default],function(){return E.default.inTestModeForApplication(n)}),P=(0,i.useStateFromStores)([m.default,h.default],function(){return m.default.isEntitledToSku(h.default.getNullableCurrentUser(),r,n)}),R=(0,i.useStateFromStores)([v.default],function(){return v.default.error});return a.createElement(J,W({},o,{application:l,applicationId:n,skuId:r,prices:s,isPurchasing:d,purchaseError:R||c,analyticsLocation:f,promotionId:y,isIAP:S,giftCode:I,isGift:T,forceConfirmationStepOnMount:O,sku:C,isFetchingSKU:A,isInTestMode:M,isUserEntitledToSku:P,ref:t}))}),ee=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._skuPaymentModalRef=a.createRef(),t}$(t,e);var n=t.prototype;return n.close=function(){null!=this._skuPaymentModalRef.current&&this._skuPaymentModalRef.current.closable&&this.handleClose()},n.handleClose=function(e){void 0===e&&(e=null),c.closeSKUPaymentModal(e)},n.render=function(){return a.createElement(Z,W({},this.props,{ref:this._skuPaymentModalRef,onClose:this.handleClose}))},t}(a.PureComponent);ee.displayName="SKUPaymentModal",ee.modalConfig={closable:!0,store:_.default};var te=ee;t.default=te},7368:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PaymentModal=void 0;var r,a=v(n(0)),o=n(3),l=v(n(186)),i=v(n(911)),u=h(n(488)),s=h(n(938)),d=h(n(277)),c=n(482),f=v(n(7369)),p=n(1);function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){_(o,r,a,l,i,"next",e)}function i(e){_(o,r,a,l,i,"throw",e)}l(void 0)})}}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=[c.Steps.REVIEW,c.Steps.CONFIRM],S=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._hasChangedSteps=!1,n.handlePaypalContinue=function(){n.setState({step:c.Steps.PAYPAL_ADDRESS})},n.handleCreditCardContinue=function(){n.setState({step:c.Steps.ADDRESS})},n.handleReviewPaymentSourceChange=function(e){n.setState({paymentSourceId:null!=e?e.id:null})},n.handleReviewPaymentSourceAdd=function(){n.setState({step:c.Steps.PAYMENT_TYPE,steps:f.ADD_PAYMENT_STEPS,paymentSourceId:null});var e=n.props.onClearError;e&&e()},n.handleBack=function(){var e=n.props,t=e.paymentSources,r=e.onClose,a=n.state,o=a.step,l=a.steps,u=n.stepsToRender,s=(0,c.getStepIndex)(o,u);if(s>0){var d=u[s-1],p=d===c.Steps.PAYMENT_TYPE;p&&i.clearError(),n.setState({step:d,steps:p?f.ADD_PAYMENT_STEPS:l})}else if((0,c.canGoBack)(s,t)){var h=n.props.defaultPaymentSourceId;n.setState({step:c.Steps.REVIEW,steps:f.REVIEW_PAYMENT_STEPS,paymentSourceId:h})}else r()},n.handleChoosePaymentType=function(e){switch(e){case p.PaymentSourceTypes.PAYPAL:n.setState({step:c.Steps.PAYPAL,steps:f.ADD_PAYPAL_STEPS});break;case p.PaymentSourceTypes.CARD:n.setState({step:c.Steps.CREDIT_CARD_INFORMATION,steps:f.ADD_CARD_STEPS});break;case p.PaymentSourceTypes.PAYMENT_REQUEST:n.setState({step:c.Steps.PAYMENT_REQUEST_INFO,steps:f.ADD_PAYMENT_REQUEST_STEPS})}},n.handlePaymentSourceAdd=function(e){n.setState({step:c.Steps.REVIEW,paymentSourceId:e})},n.handlePurchase=g(regeneratorRuntime.mark(function e(){var t,r,a,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.paymentSources,a=t.onPurchase,o=t.isGift,null!=(l=n.state.paymentSourceId)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,a(r[l],o);case 7:n.setState({steps:y,step:c.Steps.CONFIRM}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}},e,null,[[4,10]])})),n.handleSelectPlan=function(){var e=n.props.paymentSources,t=Object.values(e).length>0;n.setState({step:t?c.Steps.REVIEW:c.Steps.PAYMENT_TYPE})};var r=t.defaultPaymentSourceId,a=t.paymentSources,o=t.initialStep,l=Object.values(a).length>0,u=o;return null==u&&(u=l?c.Steps.REVIEW:c.Steps.PAYMENT_TYPE),n.state={paymentSourceId:r,steps:l?f.REVIEW_PAYMENT_STEPS:f.ADD_PAYMENT_STEPS,step:u,errorStep:null},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,u,s,h=a.prototype;return h.componentDidMount=function(){d.default.hasFetchedPaymentSources||l.fetchPaymentSources()},h.componentDidUpdate=function(e,t){var n=this.props.onStepChange,r=this.state.step;r!==t.step&&(this._hasChangedSteps=!0,null!=n&&n(t.step,r))},a.getDerivedStateFromProps=function(e,t){var n=e.billingError,r=e.isAwaitingAuthentication,a=t.errorStep,o={};if(null==n)null!=a&&(o.errorStep=null);else{var l=(0,c.errorToStep)(n);null!=l&&l!==t.errorStep&&(o.step=l,o.errorStep=l)}return null==t.paymentSourceId&&null!=e.defaultPaymentSourceId&&(o.paymentSourceId=e.defaultPaymentSourceId),r?o.step=c.Steps.AWAITING_AUTHENTICATION:t.step===c.Steps.AWAITING_AUTHENTICATION&&(o.step=null!=n?c.Steps.REVIEW:c.Steps.CONFIRM),o},h.render=function(){var e,t=this,n=this.props,a=n.isPurchasing,o=n.canSubmit,l=n.submitButtonText,i=n.useShinySubmitButton,u=n.legalNotice,s=n.renderHeader,d=n.onPaymentSourceChange,p=n.price,h=n.onClearError,v=n.size,m=n.renderConfirmationBody,_=n.renderConfirmationFooter,g=n.className,E=n.isGift,y=n.isGiftable,S=n.needsToBeGift,I=n.onIsGiftUpdate,T=((e={})[c.Steps.CONFIRM]={renderBody:m,renderFooter:_},e[c.Steps.SELECT_PLAN]={renderBody:function(){return t.props.renderSelectPlanBody(t.handleSelectPlan)},renderFooter:function(){return t.props.renderSelectPlanFooter()}},e),O=this.state,N=O.step,C=O.paymentSourceId,A=this.stepsToRender;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(f.default,{className:g,isPurchasing:a,canSubmit:o,submitButtonText:l,useShinySubmitButton:i,legalNotice:u,renderHeader:s,onPaymentSourceChange:d,price:p,onClearError:h,size:v,extraRenderers:T,step:N,steps:A,paymentSourceId:C,isGiftable:y,isGift:E,needsToBeGift:S,onIsGiftUpdate:I,onBack:this.handleBack,onChoosePaymentType:this.handleChoosePaymentType,onCreditCardContinue:this.handleCreditCardContinue,onPaymentSourceAdd:this.handlePaymentSourceAdd,onPurchase:this.handlePurchase,onPaypalContinue:this.handlePaypalContinue,onReviewPaymentSourceChange:this.handleReviewPaymentSourceChange,onReviewPaymentSourceAdd:this.handleReviewPaymentSourceAdd})},o=a,(u=[{key:"stepsToRender",get:function(){var e=this.props.prependSteps,t=this.state.steps;return null!=e?[].concat(e,t):t}},{key:"closable",get:function(){var e=this.state.step;return 0===(0,c.getStepIndex)(e,this.stepsToRender)||!this._hasChangedSteps}}])&&E(o.prototype,u),s&&E(o,s),a}(a.Component);t.PaymentModal=S,S.displayName="PaymentModal",S.defaultProps={useShinySubmitButton:!1,needsToBeGift:!1,isGiftable:!1,isGift:!1,renderConfirmationBody:p.NOOP_NULL,renderConfirmationFooter:p.NOOP_NULL,renderSelectPlanBody:p.NOOP_NULL,renderSelectPlanFooter:p.NOOP_NULL};var I=a.forwardRef(function(e,t){var n=(0,o.useStateFromStoresArray)([d.default],function(){return[d.default.paymentSources,d.default.defaultPaymentSourceId]}),r=n[0],l=n[1],i=(0,o.useStateFromStores)([u.default],function(){return u.default.error}),c=(0,o.useStateFromStoresArray)([s.default],function(){return[s.default.error,s.default.isAwaitingAuthentication]}),f=c[0],p=c[1];return a.createElement(S,m({},e,{ref:t,billingError:f||i,paymentSources:r,defaultPaymentSourceId:l,isAwaitingAuthentication:p}))});t.default=I},7369:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ADD_PAYMENT_REQUEST_STEPS=t.ADD_PAYPAL_STEPS=t.ADD_CARD_STEPS=t.ADD_PAYMENT_STEPS=t.REVIEW_PAYMENT_STEPS=void 0;var r,a=k(n(0)),o=G(n(3)),l=G(n(2)),i=k(n(186)),u=k(n(369)),s=k(n(911)),d=G(n(97)),c=G(n(887)),f=G(n(508)),p=G(n(488)),h=G(n(277)),v=G(n(21)),m=G(n(461)),_=G(n(24)),g=G(n(274)),E=G(n(75)),y=n(136),S=n(482),I=G(n(13)),T=n(190),O=G(n(956)),N=G(n(957)),C=G(n(882)),A=n(992),M=n(994),P=n(958),R=n(7370),b=n(7371),L=n(1),D=G(n(4)),w=G(n(968)),U=G(n(483));function G(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){j(o,r,a,l,i,"next",e)}function i(e){j(o,r,a,l,i,"throw",e)}l(void 0)})}}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.REVIEW];t.REVIEW_PAYMENT_STEPS=x;var Y=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.REVIEW];t.ADD_PAYMENT_STEPS=Y;var W=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.ADDRESS,S.Steps.REVIEW];t.ADD_CARD_STEPS=W;var z=[S.Steps.PAYMENT_TYPE,S.Steps.PAYPAL,S.Steps.PAYPAL_ADDRESS,S.Steps.REVIEW];t.ADD_PAYPAL_STEPS=z;var K=[S.Steps.PAYMENT_TYPE,S.Steps.PAYMENT_REQUEST_INFO,S.Steps.REVIEW];t.ADD_PAYMENT_REQUEST_STEPS=K;var $=(0,T.cssValueToNumber)(w.default.innerPadding),Q=function(e){var t,n;function r(){for(var t,n,r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return(n=e.call.apply(e,[this].concat(o))||this).state={hasAcceptedNeccessaryTerms:!1},n.handleToggleIsGift=function(e,t){var r=n.props.onIsGiftUpdate;null!=r&&r(t)},n.handlePurchaseTermsChange=function(e){n.setState({hasAcceptedNeccessaryTerms:e})},n.handleReopenPaypal=function(){u.reopenPayPalWindow()},n.handleCardInfoChange=function(e,t){l.default.wait(function(){return s.updateCardInfo(e,t)})},n.handleBillingAddressChange=function(e,t){l.default.wait(function(){return s.updateAddressInfo(e,t)})},n.handleCreditCardAdd=H(regeneratorRuntime.mark(function e(){var t,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.creditCardInfo,a=t.billingAddressInfo,e.prev=1,e.next=4,i.createCardPaymentSource(B({},r,{billingAddress:a,type:L.PaymentSourceTypes.CARD,isDefault:!1}));case 4:o=e.sent,n.props.onPaymentSourceAdd(o.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}},e,null,[[1,8]])})),n.handleStripePaymentRequestAdd=function(){var e=H(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.updateStripePaymentRequest(t),null!=t){e.next=4;break}return n.props.onBack(),e.abrupt("return");case 4:return e.prev=4,e.next=7,i.createPaymentRequestPaymentSource(t);case 7:r=e.sent,n.props.onPaymentSourceAdd(r.id),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),n.handlePaypalAdd=H(regeneratorRuntime.mark(function e(){var t,r,a,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.braintreeEmail,a=t.braintreeNonce,o=t.billingAddressInfo,0!==r.length&&null!=a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,i.createPaypalPaymentSource(a,o);case 6:l=e.sent,n.props.onPaymentSourceAdd(l.id),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}},e,null,[[3,10]])})),n.renderBackButton=function(){var e=n.props,t=e.step,r=e.steps,a=e.paymentSources,o=e.onBack,l=(0,S.getStepIndex)(t,r),i=(0,S.canGoBack)(l,a)?D.default.Messages.BACK:D.default.Messages.CANCEL;return F(v.default,{look:v.default.Looks.LINK,className:U.default.backButton,color:U.default.backButtonColor,size:U.default.backButtonSize,onClick:o},void 0,i)},n.stepRenderer=B(((t={})[S.Steps.PAYMENT_TYPE]={renderBody:function(){var e=n.props,t=e.hidePersonalInformation,r=e.onChoosePaymentType,o=e.isGiftable,l=e.needsToBeGift,i=e.isGift;return t?F(g.default,{className:U.default.errorBlock},void 0,D.default.Messages.BILLING_ERROR_ADD_PAYMENT_SOURCE_STREAMER_MODE):F(a.Fragment,{},void 0,F(O.default,{className:U.default.choosePaymentSourceType,onChooseType:r,allowStripeRequestPayments:!I.default.embedded,onStripePaymentMethodReceived:n.handleStripePaymentRequestAdd}),o&&F(m.default,{disabled:l,className:U.default.giftToggle,type:m.default.Types.INVERTED,value:i,onChange:n.handleToggleIsGift},void 0,F("div",{className:U.default.checkboxLabel},void 0,D.default.Messages.BILLING_IS_GIFT_PURCHASE)))},renderFooter:function(){return F(E.default.Footer,{direction:_.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[S.Steps.PAYMENT_REQUEST_INFO]={renderBody:function(){return F(P.PaymentRequestStepBody,{className:U.default.formItem,stripePaymentMethod:n.props.stripePaymentMethod,submitting:n.props.submitting})},renderFooter:function(){return F(E.default.Footer,{direction:_.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[S.Steps.PAYPAL]={renderBody:function(){return F(N.default,{className:U.default.formItem})},renderFooter:function(){var e=n.props,t=e.submitting,r=e.braintreeNonce,a=e.braintreeEmail,o=e.onPaypalContinue,l=e.paypalClient;return F(R.PaypalStepFooter,{submitting:t||null==l,braintreeNonce:r,braintreeEmail:a,onPaypalContinue:o,onReopenPaypal:n.handleReopenPaypal,renderBackButton:n.renderBackButton})}},t[S.Steps.CREDIT_CARD_INFORMATION]={renderBody:function(){var e=n.props,t=e.creditCardInfo,r=e.billingError;return F(M.CreditCardInformationBody,{creditCardInfo:t,billingError:r,onCardInfoChange:n.handleCardInfoChange})},renderFooter:function(){var e=n.props,t=e.isCardInfoValid,r=e.submitting,a=e.onCreditCardContinue;return F(M.CreditCardInformationFooter,{isCardInfoValid:t,submitting:r,renderBackButton:n.renderBackButton,onCreditCardContinue:a})}},t[S.Steps.PAYPAL_ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return F(A.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return F(A.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handlePaypalAdd,renderBackButton:n.renderBackButton})}},t[S.Steps.ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return F(A.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return F(A.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handleCreditCardAdd,renderBackButton:n.renderBackButton})}},t[S.Steps.REVIEW]={renderBody:function(){var e=n.props,t=e.legalNotice,r=e.paymentSources,a=e.price,o=e.hidePersonalInformation,l=e.paymentSourceId,i=e.onReviewPaymentSourceChange,u=e.onReviewPaymentSourceAdd,s=e.isGiftable,d=e.isGift,c=e.needsToBeGift;return F(b.ReviewStepBody,{legalNotice:t,paymentSources:r,price:a,hidePersonalInformation:o,paymentSourceId:l,onPaymentSourceChange:i,onPaymentSourceAdd:u,onPurchaseTermsChange:n.handlePurchaseTermsChange,onToggleIsGift:n.handleToggleIsGift,isGiftable:s,isGift:d,needsToBeGift:c})},renderFooter:function(){var e=n.props,t=e.canSubmit,r=e.submitButtonText,a=e.useShinySubmitButton,o=e.isPurchasing,l=e.paymentSourceId,i=e.onPurchase,u=e.needsToBeGift,s=e.isGift,d=e.paymentSources;return F(b.ReviewStepFooter,{canSubmit:t,submitButtonText:r,useShinySubmitButton:a,isPurchasing:o,hasAcceptedTerms:n.state.hasAcceptedNeccessaryTerms,paymentSource:null!=l?d[l]:null,onPurchase:i,tooltipText:n.disabledTooltip,needsToBeGift:u,isGift:s})}},t[S.Steps.CONFIRM]={renderBody:L.NOOP_NULL,renderFooter:L.NOOP_NULL},t[S.Steps.AWAITING_AUTHENTICATION]={renderBody:function(){return F(y.FormTitle,{className:U.default.formTitle},void 0,D.default.Messages.PAYMENT_WAITING_FOR_AUTHENTICATION)},renderFooter:L.NOOP_NULL},t),n.props.extraRenderers),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,d,c,f=r.prototype;return f.componentDidMount=function(){u.createClient();var e=this.props,t=e.onPaymentSourceChange,n=e.paymentSources,r=e.defaultPaymentSourceId,a=e.paymentSourceId;null!=t&&(null!=a&&a!==r&&null!=n[a]?t(n[a]):null!=r&&null!=n[r]?t(n[r]):t(null))},f.componentDidUpdate=function(e){var t=this.props,n=t.onPaymentSourceChange,r=t.paymentSources,a=t.paymentSourceId;e.paymentSourceId!==a&&null!=a&&null!=r[a]&&n&&n(r[a])},f.componentWillUnmount=function(){u.teardown(),s.clearCardInfo();var e=this.props.onClearError;e&&e()},f.preventDefault=function(e){e.preventDefault()},f.renderHeader=function(){var e=this.props,t=e.renderHeader,n=e.billingError;return t(e.step,e.steps.map(function(e){return{id:e,label:(0,S.getCrumbLabels)(e)}}),null==(0,S.errorToStep)(n)?n:null)},f.render=function(){var e=this.props,t=e.size,n=e.step,r=e.steps,a=e.className,o=this.stepRenderer[n],l=o.renderBody();return F(E.default,{size:t,className:a,fullscreenOnMobile:!0},void 0,F("form",{className:U.default.form,onSubmit:this.preventDefault},void 0,this.renderHeader(),n!==S.Steps.CONFIRM?F("div",{className:U.default.divider}):null,null!=l&&F(E.default.Content,{outerClassName:U.default.modalContent,momentum:!0},void 0,F("div",{className:U.default.content},void 0,F(C.default,{step:n,steps:r,sideMargin:$},void 0,l))),o.renderFooter()))},o=r,(d=[{key:"disabledTooltip",get:function(){var e=this.props,t=e.needsToBeGift,n=e.isGift,r=e.isGiftable;return this.state.hasAcceptedNeccessaryTerms?t&&!n?r?D.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY:D.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY_UNGIFTABLE:null:D.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP}}])&&V(o.prototype,d),c&&V(o,c),r}(a.PureComponent);Q.displayName="PaymentModal",Q.defaultProps={canSubmit:!0,useShinySubmitButton:!1,size:E.default.Sizes.SMALL,billingError:null,extraRenderers:{},className:U.default.modal};var X=o.default.connectStores([h.default,p.default,c.default,d.default,f.default],function(){return{submitting:c.default.isBusy,paymentSources:h.default.paymentSources,defaultPaymentSourceId:h.default.defaultPaymentSourceId,stripePaymentMethod:p.default.stripePaymentMethod,creditCardInfo:p.default.getCreditCardInfo(),isCardInfoValid:p.default.isCardInfoValid,billingAddressInfo:p.default.getBillingAddressInfo(),isBillingAddressInfoValid:p.default.isBillingAddressInfoValid,braintreeEmail:p.default.braintreeEmail,braintreeNonce:p.default.braintreeNonce,billingError:p.default.error,paypalClient:f.default.getPayPalClient(),hidePersonalInformation:d.default.hidePersonalInformation}})(Q);t.default=X},7370:function(e,t,n){"use strict";t.__esModule=!0,t.PaypalStepFooter=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(21)),o=u(n(24)),l=u(n(75)),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.submitting,n=e.braintreeNonce,r=e.braintreeEmail,u=e.onPaypalContinue,d=e.onReopenPaypal,c=e.renderBackButton,f=0!==r.length&&null!=n;return s(l.default.Footer,{justify:o.default.Justify.BETWEEN,direction:o.default.Direction.HORIZONTAL},void 0,c(),s(a.default,{submitting:t,look:f?a.default.Looks.FILLED:a.default.Looks.OUTLINED,onClick:f?u:d},void 0,f?i.default.Messages.NEXT:i.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN))};t.PaypalStepFooter=d,d.displayName="PaypalStepFooter"},7371:function(e,t,n){"use strict";t.__esModule=!0,t.ReviewStepFooter=t.ReviewStepBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(21)),l=_(n(461)),i=_(n(348)),u=_(n(65)),s=_(n(75)),d=n(136),c=n(156),f=_(n(910)),p=_(n(481)),h=_(n(359)),v=_(n(4)),m=_(n(483));function _(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.legalNotice,n=e.paymentSources,r=e.price,o=e.hidePersonalInformation,i=e.paymentSourceId,u=e.isGiftable,s=e.isGift,_=e.needsToBeGift,g=e.onPaymentSourceChange,y=e.onPaymentSourceAdd,S=e.onPurchaseTermsChange,I=e.onToggleIsGift,T=[],O=null!=i?n[i]:null;return null!=O&&O.invalid&&T.push(E(f.default,{icon:f.default.Icons.WARNING_BOX,color:f.default.Colors.ERROR,iconSize:f.default.Sizes.NONE,iconClassName:m.default.invalidIcon},"source_invalid",v.default.Messages.BILLING_PAYMENT_SOURCE_INVALID)),null!=r&&(r.taxInclusive?T.push(E(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_included",v.default.Messages.BILLING_SALES_TAX_INCLUDED)):r.tax>0&&T.push(E(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_added",v.default.Messages.BILLING_SALES_TAX_ADDED.format({tax:(0,c.formatPrice)(r.tax,r.currency)})))),E(a.Fragment,{},void 0,E(d.FormTitle,{className:m.default.formTitle},void 0,v.default.Messages.BILLING_PAY_FOR_IT_WITH),E(p.default,{paymentSources:Object.values(n),selectedPaymentSourceId:i,hidePersonalInformation:o,onChange:g,onPaymentSourceAdd:y}),T,u&&E(l.default,{disabled:_,className:m.default.giftToggle,type:l.default.Types.INVERTED,value:s,onChange:I},void 0,E("div",{className:m.default.checkboxLabel},void 0,v.default.Messages.BILLING_IS_GIFT_PURCHASE)),E(h.default,{onChange:S,forceShow:!0,className:m.default.purchaseTerms}),null!=t?E("div",{className:m.default.subscriptionLegal},void 0,t):null)};t.ReviewStepBody=y,y.displayName="ReviewStepBody";var S=function(e){var t=e.canSubmit,n=e.submitButtonText,r=e.useShinySubmitButton,l=e.isPurchasing,d=e.hasAcceptedTerms,c=e.paymentSource,f=e.onPurchase,p=e.tooltipText,h=e.needsToBeGift,v=e.isGift,_=null!=c&&!c.invalid,y=d&&!(h&&!v)&&_&&t,S={submitting:l,color:o.default.Colors.GREEN,disabled:!y,onClick:f};return E(s.default.Footer,{},void 0,E("div",{className:m.default.buyButtonTooltipWrapper},void 0,S.disabled&&null!=p?E(u.default,{text:p},void 0,function(e){return a.createElement("div",g({"aria-hidden":!0,className:m.default.buyButtonTooltipTarget},e))}):null,r?a.createElement(i.default,S,n):a.createElement(o.default,g({type:"submit"},S),n)))};t.ReviewStepFooter=S,S.displayName="ReviewStepFooter"},7372:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=S(n(8)),l=n(519),i=n(6556),u=n(6529),s=S(n(137)),d=S(n(7373)),c=S(n(21)),f=S(n(42)),p=S(n(75)),h=S(n(66)),v=S(n(328)),m=S(n(6576)),_=S(n(342)),g=S(n(4)),E=S(n(455)),y=S(n(6151));function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=44,N=function(e){var t=e.channel,n=e.categoryName,r=e.guildName,a=f.default.Names.CHANNEL_TEXT;return t.isRoleRequired?a=f.default.Names.CHANNEL_TEXT_LIMITED:t.isNSFW&&(a=f.default.Names.CHANNEL_TEXT_NSFW),T("div",{className:y.default.result},void 0,T(f.default,{name:a,className:y.default.resultIcon,background:y.default.resultIconBackground,width:16,height:16}),T("div",{className:y.default.resultText},void 0,T("span",{},void 0,t.name),T("span",{className:y.default.resultCategoryName},void 0,n)),T("div",{className:y.default.resultGuildName},void 0,r))};N.displayName="ResultTextChannel";var C=function(e){var t=e.channel;return T("div",{className:y.default.result},void 0,T(v.default,{src:(0,u.getChannelIconURL)(t),"aria-label":(0,s.default)(t),className:y.default.resultAvatar,size:v.default.Sizes.SIZE_32}),T("div",{className:y.default.resultText},void 0,(0,s.default)(t)))};C.displayName="ResultGroupDM";var A=function(e){var t,n=e.user,r=e.comparator,a=e.status;if(null!=r&&r===n.tag){var o=r.split("#");o.pop(),t=o.join("#")}else t=r||n.username;return T("div",{className:y.default.result},void 0,T(v.default,{src:n.avatarURL,"aria-label":n.username,className:y.default.resultAvatar,size:v.default.Sizes.SIZE_32,status:a}),T("div",{className:y.default.resultText},void 0,T("span",{},void 0,t),T("span",{className:y.default.resultUsername},void 0,n.tag)))};A.displayName="ResultUser";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props;(0,e.onInvite)(e.row)},t.handleMouseEnter=function(){var e=t.props;(0,e.onMouseEnter)(e.row)},t}return I(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.result,l=r.selected,u=r.sending;switch(a.type){case i.AutocompleterResultTypes.GROUP_DM:t=T(C,{channel:a.data.record});break;case i.AutocompleterResultTypes.TEXT_CHANNEL:var s=a.categoryName,d=a.guildName;t=T(N,{channel:a.data.record,categoryName:s,guildName:d});break;case i.AutocompleterResultTypes.USER:var f=a.data,p=f.comparator,h=f.record,v=a.status;t=T(A,{comparator:p,user:h,status:v})}return n=a.sent?T(c.default,{className:y.default.inviteButton,look:c.default.Looks.LINK,size:c.default.Sizes.SMALL,disabled:!0,color:c.default.Colors.GREY},void 0,g.default.Messages.ACTIVITY_INVITE_MODAL_SENT):T(c.default,{color:c.default.Colors.GREEN,look:l?c.default.Looks.FILLED:c.default.Looks.OUTLINED,className:y.default.inviteButton,size:c.default.Sizes.SMALL,submitting:u,onClick:this.handleClick},void 0,g.default.Messages.ACTIVITY_INVITE_MODAL_INVITE),T("div",{className:(0,o.default)(y.default.resultWrapper,(e={},e[y.default.resultWrapperSelected]=l,e)),onMouseEnter:this.handleMouseEnter},void 0,t,n)},t}(a.Component);M.displayName="Result";var P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={query:"",selectedRow:0,sending:[]},t.close=function(){var e=t.props.onClose;(0,l.closeModal)(),null!=e&&e()},t.handleMouseEnter=function(e){t.setState({selectedRow:e})},t.handleInvite=function(e){var n=t.props.results[e],r=n.data,a=n.data.record.id,o=t.state.sending;if(null!=a&&!o.includes(a))switch(t.setState({sending:[].concat(o,[a])}),r.type){case i.AutocompleterResultTypes.GROUP_DM:case i.AutocompleterResultTypes.TEXT_CHANNEL:(0,l.inviteChannel)(r.record.id);break;case i.AutocompleterResultTypes.USER:(0,l.inviteUser)(r.record.id)}},t.handleSelect=function(e,n){null==n?t.handleClear():t.handleInvite(n)},t.handleSelectionChange=function(e,n){t.setState({selectedRow:n});var r=t.getScroller();null!=r&&r.scrollIntoViewRect(n*O,n*O+O)},t.handleQueryChange=function(e){t.setState({query:e,selectedRow:0},function(){return t.query()})},t.handleClear=function(){t.setState({query:"",selectedRow:0},function(){return t.query()})},t._handleModalRef=function(e){t._modal=e},t}I(t,e);var n=t.prototype;return n.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},n.query=function(){(0,l.updateQuery)(this.state.query)},n.render=function(){var e=this,t=this.props,n=t.activity,r=t.isPrivate,o=t.results,l=t.headerClassName,i=t.renderFooter,u=this.state,s=u.query,d=u.selectedRow,c=u.sending;return r?T(_.default,{title:g.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name}),body:g.default.Messages.ACTIVITY_INVITE_PRIVATE,confirmText:g.default.Messages.OKAY,onConfirm:this.close}):a.createElement(p.default,{className:y.default.wrapper,ref:this._handleModalRef},T(p.default.Header,{className:l},void 0,T(p.default.CloseButton,{className:y.default.closeButton,onClick:this.close}),T("div",{className:y.default.header},void 0,T(h.default,{tag:h.default.Tags.H2,className:E.default.marginBottom8},void 0,g.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name})),T(m.default,{size:m.default.Sizes.MEDIUM,query:s,selectedSection:0,selectedRow:d,sections:[o.length],className:E.default.marginTop4,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,placeholder:g.default.Messages.ACTIVITY_INVITE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===o.length?T("div",{className:y.default.noResults}):T(p.default.LazyContent,{className:y.default.results,elementHeight:O,paddingBottom:14,keyboardScroll:!0},void 0,o.map(function(t,n){return T(M,{row:n,result:t,sending:null!=t.data.record.id&&c.includes(t.data.record.id),selected:n===d,onMouseEnter:e.handleMouseEnter,onInvite:e.handleInvite},t.data.record.id)})),i&&i())},t}(a.PureComponent);t.default=P,P.displayName="ActivityInviteModal",P.modalConfig={closable:!0,store:d.default}},7373:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(3)),a=v(n(2)),o=v(n(478)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6556)),i=v(n(137)),u=v(n(14)),s=v(n(19)),d=v(n(233)),c=v(n(68)),f=v(n(11)),p=v(n(279)),h=n(1);function v(e){return e&&e.__esModule?e:{default:e}}var m,_,g,E=[l.AutocompleterResultTypes.TEXT_CHANNEL,l.AutocompleterResultTypes.GROUP_DM,l.AutocompleterResultTypes.USER],y=h.AppContext.APP,S=null,I=[],T=[];function O(e,t){T=(""===t.trim()?function(){var e=[];return p.default.getPrivateChannelIds().forEach(function(t){var n=u.default.getChannel(t);if(null!=n)if(n.type===h.ChannelTypes.DM){var r=n.getRecipientId(),a=null!=r?f.default.getUser(r):null;null!=a&&e.push((0,l.createAutocompleterResult)(l.AutocompleterResultTypes.USER,a))}else n.isMultiUserDM()&&e.push((0,l.createAutocompleterResult)(l.AutocompleterResultTypes.GROUP_DM,n))}),e}():e).map(function(e){switch(e.type){case l.AutocompleterResultTypes.USER:var t=e.record;return{type:l.AutocompleterResultTypes.USER,sent:I.includes(t.id),status:c.default.getStatus(t.id),data:e};case l.AutocompleterResultTypes.TEXT_CHANNEL:var n=e.record,r=u.default.getChannel(n.parent_id),a=s.default.getGuild(n.guild_id);return{type:l.AutocompleterResultTypes.TEXT_CHANNEL,sent:I.includes(n.id),categoryName:null!=r?(0,i.default)(r):"",guildName:null!=a?a.toString():"",data:e};case l.AutocompleterResultTypes.GROUP_DM:var o=e.record;return{type:l.AutocompleterResultTypes.GROUP_DM,sent:I.includes(o.id),data:e};default:throw new Error("Unknown Result Type: "+e.type)}}),A.emitChange()}function N(){m=null,g=!1,null!=_&&(_.destroy(),_=null),null!=S&&S()}function C(){var e=null!=m&&null!=m.application_id?d.default.getApplicationActivity(m.application_id):null;if(null!=m&&(null==e||null==e.party||null==e.party.id))return N()}var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(d.default)},a.isOpen=function(){if(null==m)return!1;var e=__OVERLAY__?h.AppContext.OVERLAY:h.AppContext.APP;return y===e},a.getProps=function(){if(null==m)throw new Error("Invalid activity.");return{activity:m,isPrivate:g,query:null!=_?_.query:"",results:T}},r}(r.default.Store))(a.default,{ACTIVITY_INVITE_MODAL_OPEN:function(e){m=e.activity,y=e.context,S=e.resolve,g=e.isPrivate,I=[],null==_&&(_=new l.default(function(e,t){return O(e,t)},E,100)),_.search("")},ACTIVITY_INVITE_MODAL_QUERY:function(e){var t=e.query;null!=_&&_.search(t)},ACTIVITY_INVITE_MODAL_SEND:function(e){if(null!=m){var t=e.channelId,n=e.userId;null!=t?o.default.sendActivityInvite({channelId:t,type:h.ActivityActionTypes.JOIN,activity:m,location:"Channel Text Area - Invite to Join Modal"}).then(function(){I=[].concat(I,[t]),A.emitChange()}):null!=n&&o.default.sendActivityInviteUser({userId:n,type:h.ActivityActionTypes.JOIN,activity:m,location:"Channel Text Area - Invite to Join Modal"}).then(function(){I=[].concat(I,[n]),A.emitChange()})}},ACTIVITY_INVITE_MODAL_CLOSE:function(e){return N()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==m)&&(N(),!0)},LOCAL_ACTIVITY_UPDATE:function(e){return C()},RPC_APP_DISCONNECTED:function(e){return C()}}),M=A;t.default=M},7376:function(e,t,n){var r={"./2017-11-16.mp4":9157,"./channel-following.png":9158,"./discriminator.mp4":9159,"./g250k-cl.mp4":9160,"./header.mp4":9161,"./hypesquad-hack-week/header.png":9162,"./hypesquad-hack-week/paladins-loot.png":9163,"./league-rp-cl.mp4":9164,"./polish-week.png":9165,"./store.jpg":9166};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=7376},7377:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(949)),l=_(n(10)),i=_(n(7378)),u=_(n(21)),s=_(n(457)),d=_(n(71)),c=_(n(138)),f=_(n(75)),p=_(n(262)),h=_(n(66)),v=_(n(4)),m=_(n(6152));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).setRef=function(e){n._input=e},n.renderWarning=function(){var e=n.props.user;return null==e||e.id===l.default.getId()?null:g(s.default,{type:s.default.Types.WARNING,className:m.default.card},void 0,g(d.default,{color:d.default.Colors.WHITE,size:d.default.Sizes.MEDIUM},void 0,v.default.Messages.CHANGE_NICKNAME_WARNING))},n.renderInput=function(){var e,t=n.props,r=t.user,a=t.errors,o=n.state.nick;return a.nick&&(e=g(d.default,{size:d.default.Sizes.SMALL,color:d.default.Colors.RED,className:m.default.error},void 0,a.nick)),g(p.default,{title:v.default.Messages.NICKNAME,className:m.default.input},void 0,g(c.default,{inputRef:n.setRef,value:o,placeholder:null!=r?""+r.toString():"",onChange:n.handleNickChange,autoFocus:!0}),e)},n.renderReset=function(){return g(u.default,{look:u.default.Looks.LINK,size:u.default.Sizes.NONE,onClick:n.handleReset,color:d.default.Colors.PRIMARY,className:m.default.reset},void 0,v.default.Messages.RESET_NICKNAME)},n.renderHeader=function(){return g(f.default.Header,{},void 0,g(h.default,{tag:h.default.Tags.H4},void 0,v.default.Messages.CHANGE_NICKNAME))},n.renderFooter=function(){var e=n.props.submitting;return g(f.default.Footer,{},void 0,g(u.default,{type:"submit",disabled:e},void 0,v.default.Messages.SAVE),g(u.default,{onClick:n.close,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY},void 0,v.default.Messages.CANCEL))},n.handleReset=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)._input;n.setState({nick:""}),null!=e&&e.focus()},n.handleSubmit=function(e){e.preventDefault();var t=n.props,r=t.user,a=t.guildId;o.default.changeNickname(a,r.id,n.state.nick)},n.handleNickChange=function(e){n.setState({nick:e})},n.state={nick:t.nick||""},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){o.default.close()},a.componentDidMount=function(){var e=this._input;null!=e&&e.select()},a.render=function(){return g(f.default,{tag:"form",onSubmit:this.handleSubmit},void 0,this.renderHeader(),g(f.default.Content,{},void 0,this.renderWarning(),this.renderInput(),this.renderReset()),this.renderFooter())},r}(a.PureComponent);E.displayName="ChangeNickname",E.modalConfig={store:i.default};var y=E;t.default=y},7378:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(2)),o=u(n(53)),l=u(n(11)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s,d,c,f=i.FormStates.CLOSED,p={};function h(){f=i.FormStates.CLOSED,s=null,c=null,d=null,p={}}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(o.default)},a.isOpen=function(){return f!==i.FormStates.CLOSED},a.getProps=function(){return{submitting:f===i.FormStates.SUBMITTING,errors:p,guildId:s,nick:c,user:d}},r}(r.default.Store))(a.default,{CHANGE_NICKNAME_MODAL_OPEN:function(e){f=i.FormStates.OPEN,s=e.guildId,p={};var t=o.default.getMember(s,e.userId);d=l.default.getUser(e.userId),null==t||null==d?h():c=t.nick},CHANGE_NICKNAME_MODAL_SUBMIT:function(e){f=i.FormStates.SUBMITTING},CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE:function(e){f=i.FormStates.OPEN,p=e.errors||{}},CHANGE_NICKNAME_MODAL_CLOSE:function(e){return h()}});t.default=v},7379:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(7380)),l=_(n(7381)),i=_(n(24)),u=_(n(152)),s=n(6523),d=_(n(88)),c=_(n(20)),f=_(n(13)),p=_(n(6587)),h=_(n(4)),v=_(n(455)),m=_(n(6153));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).acceptInvite=function(){var e=t.props.invite;o.default.acceptInvite(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){__OVERLAY__||(f.default.isWindows()?c.default.minimize():c.default.restore(),c.default.focus())},a.close=function(){o.default.close()},a.render=function(){var e=this.props,t=e.invite,n=e.error,r=e.submitting;if(null==t||null==t.channel)return null;var a,o,l=t.guild,c=t.channel,f=t.inviter,_=null!=l;if(null!=l)a=l.name,o=d.default.getGuildSplashURL({id:l.id,splash:l.splash});else if((a=c.name)||null==f||(a=f.username),null==a)throw new Error("no name for group DM invite");return g("div",{className:m.default.container},void 0,g("div",{className:m.default.contentWrapper},void 0,g(u.default,{className:m.default.scroller,theme:u.default.Themes.GHOST_HAIRLINE},void 0,g(i.default,{className:m.default.inviteContent,direction:i.default.Direction.VERTICAL,justify:i.default.Justify.BETWEEN},void 0,g("div",{className:v.default.marginBottom20},void 0,g(p.default,{invite:t,disableUser:_,error:n})),g("div",{className:v.default.marginBottom20},void 0,g(s.Button,{size:s.Button.Sizes.LARGE,onClick:this.acceptInvite,submitting:r},void 0,h.default.Messages.INVITE_MODAL_BUTTON.format({guildName:a})),g(i.default,{justify:i.default.Justify.CENTER,className:v.default.marginTop8},void 0,g(s.Button,{look:s.Button.Looks.LINK,onClick:this.close},void 0,h.default.Messages.INIVTE_MODAL_NO_THANKS)))))),null!=o&&g("div",{className:m.default.inviteSplash,style:{backgroundImage:"url("+o+")"}}))},r}(a.PureComponent);E.displayName="Invite",E.modalConfig={closable:!0,store:l.default};var y=E;t.default=y},7380:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(2)),a=i(n(269)),o=n(1),l=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var u={acceptInvite:function(e){var t=this,n=a.default.getInviteContext("Desktop Invite Modal",e);a.default.acceptInvite(e.code,n).then(function(e){null==e||null==e.guild||null==e.channel||__OVERLAY__||a.default.transitionToInvite(e),t.close()},function(e){r.default.dispatch({type:o.ActionTypes.INVITE_MODAL_ERROR,message:e.toString()||l.default.Messages.INVITE_MODAL_ERROR_DEFAULT})})},close:function(){r.default.dispatch({type:o.ActionTypes.INVITE_MODAL_CLOSE})}};t.default=u},7381:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(2)),o=n(67),l=c(n(341)),i=c(n(14)),u=c(n(19)),s=c(n(884)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p,h=d.AppContext.APP,v=!1,m=!1,_=[];function g(){v=!0}var E=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,s.default)},a.isOpen=function(){var e=__OVERLAY__?d.AppContext.OVERLAY:d.AppContext.APP;return v&&_.length&&h===e},a.getProps=function(){return{invite:_.length>0?_[0][0]:null,error:p||null,submitting:m}},r}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){return g()},CONNECTION_OPEN:function(e){return g()},CONNECTION_CLOSED:function(e){v=!1},INVITE_MODAL_OPEN:function(e){var t=e.invite;if(null==t)return!1;var n=t.channel,r=t.guild;if(null==n)return!1;var a=t.target_user_type===d.InviteTargetUserTypes.STREAM&&null!=t.target_user;if((0,o.isMultiUserDM)(n.type)){if(null!=i.default.getChannel(n.id))return!1}else{if(null==r)return!1;if(null!=u.default.getGuild(r.id)&&!a)return!1}if(_.some(function(e){return e[0].code===p}))return!1;var s=t.approximate_member_count,c=t.approximate_presence_count,p=t.code,v=t.target_user_type,g=t.target_user;h=e.context,m=!1;var E={code:p,approximate_member_count:s,approximate_presence_count:c,target_user_type:v,target_user:g,channel:f({},t.channel)};t.guild&&(E.guild=new l.default(r)),t.inviter&&(E.inviter=f({},t.inviter)),_.push([E,e.resolve])},INVITE_MODAL_CLOSE:function(e){return function(){if(p=null,m=!1,_.length>0){var e=_.shift()[1];null!=e&&e()}}()},INVITE_ACCEPT:function(e){m=!0},INVITE_MODAL_ERROR:function(e){var t=e.message;p=t,m=!1}});t.default=E},7382:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=M(n(8)),l=M(n(41)),i=M(n(3)),u=n(6610),s=M(n(6542)),d=n(6556),c=M(n(14)),f=M(n(6541)),p=M(n(19)),h=M(n(6851)),v=M(n(222)),m=M(n(907)),_=M(n(106)),g=n(6752),E=n(80),y=M(n(183)),S=M(n(7383)),I=M(n(6690)),T=M(n(468)),O=n(1),N=M(n(4)),C=M(n(5930)),A=M(n(6158));function M(e){return e&&e.__esModule?e:{default:e}}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b={top:15,bottom:10},L=function(){return R("div",{className:A.default.emptyState},void 0,R("div",{className:A.default.emptyStateNote},void 0,N.default.Messages.QUICKSWITCHER_EMPTY_TEXT),R("div",{className:A.default.emptyStateCTA},void 0,R(_.default,{href:y.default.getArticleURL(O.HelpdeskArticles.QUICK_SWITCHER_TUTORIAL)},void 0,N.default.Messages.QUICKSWITCHER_EMPTY_CTA)))};L.displayName="QuickSwitcherNoResults";var D=function(e){function t(){return e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){var e=p.default.getGuild(this.props.channel.guild_id);return a.createElement(g.Channel,this.props,R("div",{className:A.default.miscContainer},void 0,null!=e?e.name:null))},t}(a.Component);D.displayName="ExtendedChannel",D.defaultProps={unread:!1};var w=i.default.connectStores([v.default],function(e){var t=e.channel;return{unread:v.default.hasUnread(t.id),mentions:v.default.getMentionCount(t.id),category:c.default.getChannel(t.parent_id)}})(D),U=i.default.connectStores([m.default],function(e){var t=e.channel;if(null==t.guild_id)throw new Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:m.default.getVoiceStates(t.guild_id)[t.id]}})(D),G=i.default.connectStores([f.default],function(e){var t=e.guild;return{unread:f.default.hasUnread(t.id)}})(g.Guild),k=i.default.connectStores([v.default],function(e){var t=e.channel;return{mentions:v.default.getMentionCount(t.id)}})(g.GroupDM),F=i.default.connectStores([v.default],function(e){var t=e.user,n=c.default.getDMFromUserId(t.id);return{mentions:null!=n?v.default.getMentionCount(n):0}})(g.User),B=R(L,{}),j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={query:t.props.query,needsScrollbar:"Blink"!==l.default.layout&&"WebKit"!==l.default.layout,mouseFocusDisabled:!0},t.handleInputChange=function(){var e=t.getInput();null!=e&&t.search(e.value)},t.handleMouseMove=function(){!1!==t.state.mouseFocusDisabled&&t.setState({mouseFocusDisabled:!1})},t.focusResult=function(e){t.state.mouseFocusDisabled||(0,u.selectResult)(t.props.results.indexOf(e))},t.selectResult=function(e){(0,u.switchToResult)(e)},t.handleKeyDown=function(e){var n=t.state,r=n.mouseFocusDisabled,a=n.query,o=t.props.results;!1===r&&t.setState({mouseFocusDisabled:!0});var l=e.key.toLowerCase(),i=t.props.selectedIndex;switch(l){case"escape":return e.preventDefault(),e.stopPropagation(),void(a.length>0?t.search(""):(0,u.hide)());case"k":return void(!0!==e.ctrlKey&&!0!==e.metaKey||(e.preventDefault(),e.stopPropagation(),(0,u.hide)()));case"enter":if(-1===i)return;e.preventDefault();var s=o[i];return void(null!=s&&t.selectResult(s));case"arrowup":i=(0,d.findNextSelectedResult)(d.FindResultDirections.UP,i,o);break;case"arrowdown":i=(0,d.findNextSelectedResult)(d.FindResultDirections.DOWN,i,o);break;case"tab":i=e.shiftKey?(0,d.findNextSelectedResult)(d.FindResultDirections.UP,i,o):(0,d.findNextSelectedResult)(d.FindResultDirections.DOWN,i,o);break;case"n":if(!e.ctrlKey)return;i=(0,d.findNextSelectedResult)(d.FindResultDirections.DOWN,i,o);break;case"p":if(!e.ctrlKey)return;i=(0,d.findNextSelectedResult)(d.FindResultDirections.UP,i,o);break;default:return}e.preventDefault(),(0,u.selectResult)(i)},t.setScrollerRef=function(e){t._scrollerRef=e},t.setInputRef=function(e){t._inputRef=e},t.forceFocus=function(){t._inputRef&&t._inputRef.focus()},t}P(t,e);var n=t.prototype;return n.componentDidMount=function(){s.default.disable(),this.focus()},n.componentWillUnmount=function(){s.default.enable()},n.getScroller=function(){return this._scrollerRef},n.componentDidUpdate=function(e,t){var n=this.state,r=n.mouseFocusDisabled,a=n.query,o=this.props.selectedIndex,l=this.getScroller();null!=l&&(a!==t.query?l.scrollTo(0):r&&o>=0&&l.scrollIndexIntoView(o,!1,b))},n.getInput=function(){return this._inputRef},n.close=function(){(0,u.hide)()},n.search=function(e){this.setState({query:e}),(0,u.search)(e)},n.focus=function(){var e=this.getInput();null!=e&&e.focus()},n.renderInput=function(){return a.createElement("input",{className:A.default.input,ref:this.setInputRef,type:"text",placeholder:N.default.Messages.QUICKSWITCHER_PLACEHOLDER,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onBlur:this.forceFocus,value:this.state.query})},n.renderResults=function(){var e=this.state,t=e.query,n=e.needsScrollbar,r=this.props,l=r.results,i=r.theme;return 0===l.length&&t.length>0?B:0===l.length?null:a.createElement(T.default,{ref:this.setScrollerRef,elementHeight:34,theme:T.default.Themes.GHOST,backgroundColor:i===O.ThemeTypes.LIGHT?O.Colors.PRIMARY_DARK_100:O.Colors.PRIMARY_DARK_630,paddingTop:b.top,paddingBottom:b.bottom,outerClassName:(0,o.default)(A.default.scrollerOuter,n?A.default.polyfilled:null),className:A.default.scroller},l.map(this.renderResult,this))},n.focusNode=function(e){E.ComponentDispatch.dispatch(O.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,{node:e})},n.renderResult=function(e,t){var n=this,r=this.props.selectedIndex;switch(e.type){case d.AutocompleterResultTypes.HEADER:return R(g.Header,{},e.type+"-"+e.record.id,e.record.text);case d.AutocompleterResultTypes.TEXT_CHANNEL:return R(w,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case d.AutocompleterResultTypes.VOICE_CHANNEL:return R(U,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case d.AutocompleterResultTypes.GUILD:return R(G,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,guild:e.record},e.type+"-"+e.record.id);case d.AutocompleterResultTypes.USER:return R(F,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,user:e.record,comparator:e.comparator},e.type+"-"+e.record.id);case d.AutocompleterResultTypes.GROUP_DM:return R(k,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case d.AutocompleterResultTypes.APPLICATION:return R(g.Application,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,application:e.record},e.type+"-"+e.record.id);default:return null}},n.renderHelp=function(){var e,t=this.props,n=t.results,r=t.theme===O.ThemeTypes.DARK?C.default.dark:C.default.dim;return R("div",{className:(0,o.default)((e={},e[A.default.tipsWithResults]=n.length>0,e[A.default.tipsWithoutResults]=0===n.length,e))},void 0,R("div",{className:A.default.tipsListNav},void 0,N.default.Messages.QUICKSWITCHER_TIP_NAV.format({shortcutHook:function(e,t){return R(I.default,{shortcut:e[0],className:(0,o.default)(r,C.default.keybindShortcutQuickSwitcher,C.default.keybindShortcutTipsNav)},t)}})),R("div",{className:A.default.tipsMiscControls},void 0,N.default.Messages.QUICKSWITCHER_TIP_SELECT.format({shortcutHook:function(e,t){return R(I.default,{shortcut:e[0],className:(0,o.default)(r,C.default.keybindShortcutQuickSwitcher,C.default.keybindShortcutTipsSelect)},t)}})))},n.renderTutorial=function(){var e=this.state.query,t=this.props,n=t.seenTutorial,r=t.results;return n?null:R(S.default,{hasQuery:e.length>0&&r.length>0})},n.render=function(){return R("div",{className:A.default.container},void 0,R("div",{className:A.default.quickswitcher,onMouseMove:this.handleMouseMove},void 0,this.renderInput(),this.renderResults(),this.renderHelp(),this.renderTutorial()))},t}(a.PureComponent);j.displayName="QuickSwitcher",j.modalConfig={disableAnimation:!0,backdropInstant:!0,store:h.default};var H=j;t.default=H},7383:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(8)),l=f(n(118)),i=n(29),u=n(80),s=n(1),d=f(n(4)),c=f(n(6157));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=118,m=9,_={friction:15,tension:100},g=function(e){var t,r;function f(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={shown:!1,translateY:new l.default.Value(0)},t.rootRef=a.createRef(),t.focusTimeout=new i.Timeout,t.handleResultFocus=function(e){var n=e.node;t.focusTimeout.start(1,function(){if(t.props.hasQuery&&null!=n&&null!=t.rootRef.current){var e=t.rootRef.current.getBoundingClientRect().top,r=n.getBoundingClientRect().top,a=Math.abs(e-r);t.springTo(a-v+m)}else t.springTo(0)})},t}r=e,(t=f).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var g=f.prototype;return g.componentDidMount=function(){this.setState({shown:!0}),u.ComponentDispatch.subscribe(s.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},g.componentWillUnmount=function(){this.focusTimeout.stop(),u.ComponentDispatch.unsubscribe(s.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},g.componentDidUpdate=function(){this.props.hasQuery||this.springTo(0)},g.springTo=function(e){l.default.spring(this.state.translateY,h({toValue:Math.min(e,250)},_)).start()},g.renderArrowGroup=function(e){return p("div",{className:(0,o.default)(c.default.arrowGroup,e)},void 0,p(l.default.div,{className:(0,o.default)(c.default.arrowContainer,c.default.horizontal),style:this.getStyle()},void 0,p("img",{alt:"",src:n(7384),className:c.default.arrowIcon})),p("div",{className:(0,o.default)(c.default.arrowContainer,c.default.diag1)},void 0,p("img",{alt:"",src:n(7385),className:c.default.arrowIcon})),p("div",{className:(0,o.default)(c.default.arrowContainer,c.default.diag2)},void 0,p("img",{alt:"",src:n(7386),className:c.default.arrowIcon})))},g.renderContent=function(){return p("div",{className:c.default.tutorialMessages},void 0,p("div",{className:c.default.searchMessage},void 0,d.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH),p("div",{className:c.default.selectMessage},void 0,d.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT))},g.render=function(){var e,t=this.props.hasQuery,n=this.state.shown;return a.createElement("div",{ref:this.rootRef,className:(0,o.default)(c.default.tutorial,(e={},e[c.default.shown]=n,e[c.default.hasQuery]=t,e))},this.renderContent(),this.renderArrowGroup(c.default.left),this.renderArrowGroup(c.default.right))},g.getStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","250px"]})},{translateZ:0}]}},f}(a.PureComponent);g.displayName="QuickSwitcherTutorial";var E=g;t.default=E},7384:function(e,t,n){e.exports=n.p+"85761f5edbfdfbeba087f67ced11fe8e.svg"},7385:function(e,t,n){e.exports=n.p+"86deade60ada88b092a0de67a3800ce8.svg"},7386:function(e,t,n){e.exports=n.p+"7c5e2c588b7325c8433db1ac2a03a6b6.svg"},7387:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=ue(n(0)),l=ie(n(8)),i=ie(n(3)),u=ie(n(140)),s=n(35),d=ie(n(100)),c=n(264),f=ie(n(285)),p=ie(n(356)),h=ie(n(329)),v=ie(n(76)),m=ie(n(367)),_=ie(n(236)),g=ie(n(201)),E=ie(n(197)),y=ie(n(928)),S=ie(n(98)),I=ie(n(22)),T=ie(n(68)),O=ie(n(39)),N=ie(n(97)),C=ie(n(7388)),A=ie(n(25)),M=ie(n(11)),P=ie(n(7389)),R=ie(n(106)),b=ie(n(21)),L=ie(n(58)),D=ie(n(24)),w=ie(n(879)),U=ie(n(6521)),G=ie(n(42)),k=ie(n(152)),F=ie(n(182)),B=ue(n(6549)),j=n(65),H=ue(n(328)),V=ie(n(257)),x=ie(n(15)),Y=ie(n(88)),W=ie(n(20)),z=n(6534),K=ie(n(36)),$=n(99),Q=ie(n(331)),X=ie(n(865)),q=ie(n(984)),J=ie(n(934)),Z=ie(n(187)),ee=ie(n(38)),te=ie(n(6564)),ne=ie(n(459)),re=n(1),ae=ie(n(4)),oe=ie(n(202)),le=ie(n(6160));function ie(e){return e&&e.__esModule?e:{default:e}}function ue(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function se(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function fe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var pe=W.default.getEnableHardwareAcceleration()?H.AnimatedAvatar:H.default,he=re.INVITE_ENDPOINT+"/discord-testers",ve=((r={})[re.UserPremiumGuildSubscriptionLevels.LEVEL_1]=le.default.profileGuildSubscriberlvl1,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_2]=le.default.profileGuildSubscriberlvl2,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_3]=le.default.profileGuildSubscriberlvl3,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_4]=le.default.profileGuildSubscriberlvl4,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_5]=le.default.profileGuildSubscriberlvl5,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_6]=le.default.profileGuildSubscriberlvl6,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_7]=le.default.profileGuildSubscriberlvl7,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_8]=le.default.profileGuildSubscriberlvl8,r[re.UserPremiumGuildSubscriptionLevels.LEVEL_9]=le.default.profileGuildSubscriberlvl9,r),me=i.default.connectStores([N.default],function(){return{hide:N.default.hidePersonalInformation}})(function(e){function t(){return e.apply(this,arguments)||this}fe(t,e);var n=t.prototype;return n.renderEmpty=function(){return ce("div",{className:le.default.empty},void 0,ce("div",{className:le.default.emptyIconStreamerMode}),ce("div",{className:le.default.emptyText},void 0,ae.default.Messages.STREAMER_MODE_ENABLED))},n.renderNote=function(){var e=this.props.user;return ce("div",{className:le.default.userInfoSection},void 0,ce("div",{className:le.default.userInfoSectionHeader},void 0,ae.default.Messages.NOTE),ce(q.default,{userId:e.id,autoFocus:!1,className:le.default.note}))},n.trackConnectedAccountViewed=function(e){x.default.track(re.AnalyticEvents.CONNECTED_ACCOUNT_VIEWED,{platform_type:e})},n.renderConnectedAccounts=function(){var e=this,t=this.props,n=t.connectedAccounts,r=t.theme;if(null!=n&&n.length>0){var a=n.map(function(t,n){var a,o,l=v.default.get(t.type),i=l.getPlatformUserUrl&&l.getPlatformUserUrl(t);return i&&(a=ce(R.default,{href:i,onClick:e.trackConnectedAccountViewed.bind(e,t.type)},void 0,ce(G.default,{name:G.default.Names.NOVA_LAUNCH,className:le.default.connectedAccountOpenIcon}))),t.verified&&(o=ce(j.TooltipContainer,{element:"span",text:ae.default.Messages.CONNECTION_VERIFIED},void 0,ce(w.default,{className:le.default.connectedAccountVerifiedIcon,color:r===re.ThemeTypes.LIGHT?re.Colors.STATUS_GREY_200:re.Colors.PRIMARY_DARK,width:24},void 0,ce(G.default,{name:G.default.Names.VERIFIED,color:r===re.ThemeTypes.LIGHT?re.Colors.STATUS_GREY_500:re.Colors.WHITE})))),ce(D.default,{align:D.default.Align.CENTER,grow:0,className:le.default.connectedAccount},n,ce("img",{alt:ae.default.Messages.IMG_ALT_LOGO.format({name:l.name}),className:le.default.connectedAccountIcon,src:l.icon.color}),ce("div",{className:le.default.connectedAccountNameInner},void 0,ce("div",{className:le.default.connectedAccountName},void 0,t.name),o),a)});return ce("div",{className:le.default.userInfoSection},void 0,ce("div",{className:le.default.connectedAccounts},void 0,a))}},n.render=function(){return this.props.hide?this.renderEmpty():ce(k.default,{fade:!0},void 0,this.renderNote(),this.renderConnectedAccounts())},t}(o.PureComponent)),_e=function(e){var t=e.guild,n=e.nick,r=e.onSelect,a=e.onContextMenu,o=e.theme;return ce(L.default,{className:le.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return a(e,t)}},void 0,ce(U.default,{guild:t,showBadge:!0,className:(0,l.default)(le.default.listAvatar,null==t.icon?le.default.guildAvatarWithoutIcon:null),badgeStrokeColor:o===re.ThemeTypes.DARK?re.Colors.PRIMARY_DARK_600:re.Colors.WHITE,size:U.default.Sizes.MEDIUM}),ce("div",{className:le.default.listRowContent},void 0,ce("div",{className:le.default.listName},void 0,t.toString()),ce("div",{className:le.default.guildNick},void 0,n)))};_e.displayName="GuildRow";var ge=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){K.default.transitionTo(re.Routes.CHANNEL(e,O.default.getChannelId(e))),p.default.close(),(0,c.popLayer)()},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return o.createElement(te.default,de({},e,{type:re.ContextMenuTypes.GUILD_PROFILE_MUTUAL,guild:t}))})},t}return fe(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.mutualGuilds,a=n.theme;return e=0===r.length?ce("div",{className:le.default.empty},void 0,ce("div",{className:le.default.emptyIconGuilds}),ce("div",{className:le.default.emptyText},void 0,ae.default.Messages.NO_MUTUAL_GUILDS)):r.map(function(e){var n=e.guild,r=e.nick;return ce(_e,{guild:n,nick:r,onSelect:t.handleSelect,onContextMenu:t.handleContextMenu,theme:a},n.id)}),ce(k.default,{className:le.default.listScroller,theme:k.default.Themes.GHOST_HAIRLINE,fade:!0},void 0,e)},t}(o.Component);ge.displayName="MutualGuilds";var Ee=function(e){var t=e.user,n=e.status,r=e.onSelect,a=e.onContextMenu;return ce(L.default,{className:le.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return a(e,t)}},void 0,ce(H.default,{src:t.getAvatarURL(),"aria-label":t.username,size:H.default.Sizes.SIZE_40,status:n,className:le.default.listAvatar}),ce(X.default,{user:t,className:le.default.listName,discriminatorClass:le.default.listDiscriminator}))};Ee.displayName="FriendRow";var ye=ce(F.default,{}),Se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){p.default.open(e)},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return o.createElement(ne.default,de({},e,{type:re.ContextMenuTypes.USER_PROFILE_MUTUAL,user:t}))})},t}return fe(t,e),t.prototype.render=function(){var e,t=this,n=this.props.mutualFriends;return e=n?0===n.length?ce("div",{className:le.default.empty},void 0,ce("div",{className:le.default.emptyIconFriends}),ce("div",{className:le.default.emptyText},void 0,ae.default.Messages.NO_MUTUAL_FRIENDS)):n.map(function(e){return ce(Ee,{user:e.user,status:e.status,onSelect:t.handleSelect,onContextMenu:t.handleContextMenu},e.key)}):ce("div",{className:le.default.empty},void 0,ye),ce(k.default,{className:le.default.listScroller,theme:k.default.Themes.GHOST_HAIRLINE,fade:!0},void 0,e)},t}(o.Component);function Ie(e){var t=e.className,n=se(e,["className"]);return o.createElement(b.default,de({},n,{look:b.default.Looks.INVERTED,size:b.default.Sizes.MEDIUM,color:le.default.buttonInvertedPurple,className:t}))}function Te(e,t){switch(e){case"Streaming":return b.default.Colors.PRIMARY;case"Spotify":case"Xbox":return b.default.Colors.GREEN;case"Playing":return b.default.Colors.BRAND;default:return t}}function Oe(e){var t=e.mode,n=e.defaultColor,r=e.className,a=se(e,["mode","defaultColor","className"]);if("Streaming"===t)return o.createElement(Ie,de({},a,{className:r}));var i="Normal"===t?b.default.Looks.FILLED:b.default.Looks.INVERTED;return o.createElement(b.default,de({},a,{color:Te(t,n),look:i,size:b.default.Sizes.SMALL,className:(0,l.default)(le.default.actionButton,r)}))}Se.displayName="MutualFriends",Ie.displayName="InvertedPurpleButton",Oe.displayName="RequestActionButton";var Ne=function(e){var t=e.isCurrentUser,n=e.user,r=e.relationshipType,a=e.friendReqSent,o=e.handleAddFriend,l=e.handleIgnoreFriend,i=e.handleSendMessage,u=e.mode;return t||r===re.RelationshipTypes.BLOCKED?null:r===re.RelationshipTypes.FRIEND||n.bot?ce(Oe,{mode:u,defaultColor:b.default.Colors.GREEN,onClick:i},void 0,ae.default.Messages.SEND_MESSAGE):a?ce(Oe,{mode:u,defaultColor:b.default.Colors.GREEN,disabled:!0},void 0,ae.default.Messages.ADD_FRIEND_BUTTON_AFTER):r===re.RelationshipTypes.PENDING_INCOMING?ce(D.default,{grow:0},void 0,ce(Oe,{mode:u,defaultColor:b.default.Colors.GREEN,onClick:o},void 0,ae.default.Messages.FRIEND_REQUEST_ACCEPT),ce(Oe,{mode:u,defaultColor:b.default.Colors.GREY,onClick:l,className:le.default.actionRightButton},void 0,ae.default.Messages.FRIEND_REQUEST_IGNORE)):ce(Oe,{mode:u,defaultColor:b.default.Colors.GREEN,onClick:o},void 0,ae.default.Messages.ADD_FRIEND_BUTTON)};Ne.displayName="RequestActions";var Ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).performAction=function(e){e(),(0,s.closeContextMenu)()},t}return fe(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.relationshipType,a=n.onRemoveFriend,o=n.onBlock,i=n.onMessage,u=n.className,s=[];switch(r){case re.RelationshipTypes.BLOCKED:s.push(ce(ee.default,{label:ae.default.Messages.UNBLOCK,className:oe.default.item,action:function(){return e.performAction(a)}},"user-unblock"));break;case re.RelationshipTypes.FRIEND:s.push(ce(ee.default,{label:ae.default.Messages.REMOVE_FRIEND,className:(0,l.default)(oe.default.item,oe.default.danger),action:function(){return e.performAction(a)}},"user-remove")),s.push(ce(ee.default,{label:ae.default.Messages.BLOCK,className:(0,l.default)(oe.default.item,oe.default.danger),action:function(){return e.performAction(o)}},"user-block"));break;case re.RelationshipTypes.NONE:case re.RelationshipTypes.PENDING_INCOMING:default:s.push(ce(ee.default,{label:ae.default.Messages.BLOCK,className:(0,l.default)(oe.default.item,oe.default.danger),action:function(){return e.performAction(o)}},"user-block"))}return r!==re.RelationshipTypes.BLOCKED&&s.push(ce(ee.default,{label:ae.default.Messages.USER_POPOUT_MESSAGE,className:oe.default.item,action:function(){return e.performAction(i)}},"user-message")),ce("div",{className:u,style:{left:t.OFFSET_X,top:t.OFFSET_Y}},void 0,ce(Z.default,{},void 0,s))},t}(o.Component);Ce.displayName="ProfileActionsPopout",Ce.OFFSET_X=-65,Ce.OFFSET_Y=20;var Ae=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={friendReqSent:!1},t.handleAdditionalActionClick=function(e){var n=t.props.relationshipType;(0,s.openContextMenu)(e,function(e){return o.createElement(Ce,de({},e,{relationshipType:n,onRemoveFriend:t.handleRemoveFriend,onBlock:t.handleBlock,onMessage:t.handleSendMessage}))})},t.handleSendMessage=function(){var e=t.props,n=e.user,r=e.currentUserId;u.default.openPrivateChannel(r,n.id),t.props.close(),(0,c.popLayer)()},t.handleBlock=function(){var e=t.props.user;f.default.addRelationship(e.id,{location:"User Profile"},re.RelationshipTypes.BLOCKED)},t.handleAddFriend=function(){f.default.sendRequest(t.props.user.tag,{location:"User Profile"}),t.setState({friendReqSent:!0})},t.handleRemoveFriend=function(){f.default.removeRelationship(t.props.user.id,{location:"User Profile"}),t.setState({friendReqSent:!1})},t.handleSectionSelect=function(e){p.default.setSection(e)},t.openPremiumSettings=function(){x.default.track(re.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:re.AnalyticsSections.PROFILE_MODAL,location_object:re.AnalyticsObjects.TOOLTIP}),h.default.open(re.UserSettingsSections.PREMIUM),t.props.close()},t}fe(t,e);var n=t.prototype;return n.componentDidMount=function(){this.fetchApplication()},n.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},n.fetchApplication=function(){var e=this.props.activity;null!=e&&null!=e.application_id&&null==I.default.getGame(e.application_id)&&d.default.fetchApplication(e.application_id)},n.getMode=function(){var e=this.props,t=e.activity;return e.isApplicationStreaming?"Playing":null==t?"Normal":(0,E.default)(t)?"Streaming":(0,g.default)(t)?"Xbox":(0,_.default)(t)?"Spotify":"Playing"},n.isCurrentUser=function(){var e=this.props,t=e.user,n=e.currentUserId;return t.id===n},n.renderBadges=function(){var e=this.props,t=e.user,n=e.premiumSince,r=e.hypeSquadHouseWinner,a=e.premiumGuildSince,o=[];return t.hasFlag(re.UserFlags.STAFF)&&o.push({tooltip:ae.default.Messages.STAFF_BADGE_TOOLTIP,onClick:function(){return window.open(re.MarketingURLs.COMPANY,"_blank")},className:le.default.profileBadgeStaff,key:"staff"}),t.hasFlag(re.UserFlags.PARTNER)&&o.push({tooltip:ae.default.Messages.PARTNER_BADGE_TOOLTIP,onClick:function(){return window.open(re.MarketingURLs.PARTNERS,"_blank")},className:le.default.profileBadgePartner,key:"partner"}),t.hasFlag(re.UserFlags.HYPESQUAD)&&o.push({tooltip:ae.default.Messages.HYPESQUAD_BADGE_TOOLTIP,onClick:function(){return window.open(re.MarketingURLs.HYPESQUAD,"_blank")},className:le.default.profileBadgeHypesquad,key:"hypeSquad"}),t.hasFlag(re.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)&&o.push({tooltip:ae.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:ae.default.Messages.HYPESQUAD_HOUSE_1}),onClick:function(){return window.open(re.MarketingURLs.HYPESQUAD,"_blank")},className:1===r?le.default.profileBadgeHypeSquadOnlineHouse1Winner:le.default.profileBadgeHypeSquadOnlineHouse1,key:"hypeSquadOnlineHouse1"}),t.hasFlag(re.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)&&o.push({tooltip:ae.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:ae.default.Messages.HYPESQUAD_HOUSE_2}),onClick:function(){return window.open(re.MarketingURLs.HYPESQUAD,"_blank")},className:2===r?le.default.profileBadgeHypeSquadOnlineHouse2Winner:le.default.profileBadgeHypeSquadOnlineHouse2,key:"hypeSquadOnlineHouse2"}),t.hasFlag(re.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&o.push({tooltip:ae.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:ae.default.Messages.HYPESQUAD_HOUSE_3}),onClick:function(){return window.open(re.MarketingURLs.HYPESQUAD,"_blank")},className:3===r?le.default.profileBadgeHypeSquadOnlineHouse3Winner:le.default.profileBadgeHypeSquadOnlineHouse3,key:"hypeSquadOnlineHouse3"}),t.hasFlag(re.UserFlags.BUG_HUNTER)&&o.push({tooltip:ae.default.Messages.BUG_HUNTER_BADGE_TOOLTIP,onClick:function(){return window.open(he,"_blank")},className:le.default.profileBadgeBugHunter,key:"bugHunter"}),t.hasFlag(re.UserFlags.PREMIUM_EARLY_SUPPORTER)&&o.push({tooltip:ae.default.Messages.EARLY_SUPPORTER_TOOLTIP,onClick:this.openPremiumSettings,className:le.default.profileBadgeEarlySupporter,key:"earlySupporter"}),null!=n&&o.push({tooltip:ae.default.Messages.PREMIUM_BADGE_TOOLTIP.format({date:n}),onClick:this.openPremiumSettings,className:le.default.profileBadgePremium,key:"premium"}),null!=a&&o.push({tooltip:ae.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TOOLTIP.format({date:a}),onClick:this.openPremiumSettings,className:ve[(0,z.getUserLevel)(a)],key:"guildSubscriber"}),0===o.length?null:ce(D.default,{className:le.default.profileBadges},void 0,o.map(function(e){return ce("div",{className:le.default.profileBadgeWrapper},e.key,ce(j.TooltipContainer,{position:j.TooltipPositions.TOP,text:e.tooltip},void 0,ce(L.default,{onClick:e.onClick},void 0,ce("div",{className:(0,l.default)(le.default.profileBadge,e.className)}))))}))},n.renderMoreActions=function(){var e=this.props.user;if(!this.isCurrentUser()&&!e.isNonUserBot())return ce(L.default,{onClick:this.handleAdditionalActionClick},void 0,ce(G.default,{name:G.default.Names.OVERFLOW_MENU,className:le.default.additionalActionsIcon}))},n.renderHeader=function(e){var t=this.props,n=t.user,r=t.activity,a=t.status,o=t.relationshipType,l=t.isMobile,i=this.state.friendReqSent,u=Y.default.hasAnimatedAvatar(n)?n.getAvatarURL("gif"):n.getAvatarURL();return ce("header",{className:le.default.header},void 0,ce(pe,{src:u,size:H.Sizes.SIZE_80,status:"Streaming"===e?re.StatusTypes.STREAMING:a,statusColor:null!=r?re.Colors.WHITE:null,className:le.default.avatar,isMobile:l,statusTooltip:!0,"aria-label":n.username,disableStatusIcons:!1}),ce("div",{className:le.default.headerInfo},void 0,ce(X.default,{user:n,className:le.default.nameTag,usernameClass:le.default.username,discriminatorClass:le.default.discriminator,invertBotTagColor:"Playing"===e,botClass:le.default.botTag}),this.renderBadges()),ce(Ne,{user:n,isCurrentUser:this.isCurrentUser(),relationshipType:o,friendReqSent:i,handleAddFriend:this.handleAddFriend,handleIgnoreFriend:this.handleRemoveFriend,handleSendMessage:this.handleSendMessage,mode:e}),this.renderMoreActions())},n.renderTabBar=function(e){var t=this.props,n=t.user,r=t.section,a="Normal"!==e?re.Colors.WHITE:void 0;return this.isCurrentUser()||n.bot?null:ce("div",{className:le.default.tabBarContainer},void 0,ce(B.default,{selectedItem:r,type:B.Types.TOP,onItemSelect:this.handleSectionSelect,className:le.default.tabBar},void 0,ce(B.Item,{color:a,className:le.default.tabBarItem,id:re.UserProfileSections.USER_INFO},void 0,ae.default.Messages.USER_INFO),ce(B.Item,{color:a,className:le.default.tabBarItem,id:re.UserProfileSections.MUTUAL_GUILDS},void 0,ae.default.Messages.MUTUAL_GUILDS),ce(B.Item,{color:a,className:le.default.tabBarItem,id:re.UserProfileSections.MUTUAL_FRIENDS},void 0,ae.default.Messages.MUTUAL_FRIENDS)))},n.renderCustomStatusActivity=function(){var e=this.props.customStatusActivity;return null==e?null:ce("div",{className:le.default.activity},void 0,ce(V.default,{size:V.default.Sizes.SIZE_12,color:V.default.Colors.CUSTOM,className:le.default.activityHeader},void 0,ae.default.Messages.CUSTOM_STATUS),ce(V.default,{size:V.default.Sizes.SIZE_16,color:V.default.Colors.CUSTOM,className:le.default.customStatusText},void 0,ce(y.default,{activity:e,className:le.default.customStatus,emojiClassName:le.default.customStatusEmoji,soloEmojiClassName:le.default.customStatusSoloEmoji})))},n.render=function(){var e,t,n=this.props,r=n.user,a=n.activity,o=n.mutualGuilds,i=n.mutualFriends,u=n.connectedAccounts,s=n.section,d=n.theme,c=n.isApplicationStreaming,f=this.getMode();switch(s){case re.UserProfileSections.MUTUAL_GUILDS:t=ce(ge,{mutualGuilds:o||[],theme:d});break;case re.UserProfileSections.MUTUAL_FRIENDS:t=ce(Se,{mutualFriends:i,theme:d});break;case re.UserProfileSections.USER_INFO:default:t=ce(me,{user:r,connectedAccounts:u||[],activity:a,theme:d})}return ce(Q.default,{section:re.AnalyticsSections.PROFILE_MODAL},void 0,ce(D.default,{direction:D.default.Direction.VERTICAL,className:le.default.root},void 0,ce("div",{className:(0,$.getClass)(le.default,"topSection",f)},void 0,this.renderHeader(f),ce("div",{className:(0,l.default)((e={},e[le.default.headerFill]=null!=a,e))},void 0,this.renderCustomStatusActivity(),null!=a||c?ce(J.default,{type:J.default.Types.PROFILE,activity:a,user:r,source:"Profile Modal",className:le.default.activity,onOpenConnections:p.default.close}):null,this.renderTabBar(f))),ce("div",{className:le.default.body},void 0,t)))},t}(o.PureComponent);Ae.displayName="UserProfileBody";var Me=i.default.connectStores([A.default,M.default,T.default,P.default],function(e){var t=e.user,n=P.default.getExperimentDescriptor();return{theme:A.default.theme,currentUserId:M.default.getCurrentUser().id,status:T.default.getStatus(t.id),isMobile:T.default.isMobileOnline(t.id),activity:T.default.findActivity(t.id,function(e){return e.type!==re.ActivityTypes.CUSTOM_STATUS}),customStatusActivity:T.default.findActivity(t.id,function(e){return e.type===re.ActivityTypes.CUSTOM_STATUS}),hypeSquadHouseWinner:null!=n?n.bucket:null,isApplicationStreaming:null!=S.default.getStreamForUser(t.id)}})((0,m.default)(function(e){var t,n=e.guildId,r=e.user;return(t={})[n]=[r.id],t})(Ae)),Pe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){p.default.close()},t}return fe(t,e),t.prototype.render=function(){return o.createElement(Me,de({},this.props,{close:this.close}))},t}(o.PureComponent);Pe.displayName="UserProfile",Pe.modalConfig={store:C.default};var Re=Pe;t.default=Re},7388:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=p(n(3)),o=p(n(2)),l=p(n(356)),i=p(n(122)),u=p(n(19)),s=p(n(68)),d=p(n(51)),c=p(n(11)),f=n(1);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=[];function m(e,t){var n=c.default.getUser(e);return null==n?null:{section:f.UserProfileSections.USER_INFO,user:n,relationshipType:d.default.getRelationshipType(e),guildId:t,mutualGuilds:[],mutualFriends:null,connectedAccounts:[],premiumSince:null,premiumGuildSince:null}}function _(){if(0===v.length)return!1;v=v.reduce(function(e,t){var n=c.default.getUser(t.user.id);return null!=n&&e.push(h({},t,{user:n,relationshipType:d.default.getRelationshipType(t.user.id)})),e},[])}var g=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.syncWith([d.default,c.default],_)},o.isOpen=function(){return v.length>0},o.getProps=function(){return r.default.last(v)},a}(a.default.Store))(o.default,{USER_PROFILE_MODAL_OPEN:function(e){var t=m(e.userId,e.guildId);v=null==t?[]:[t]},USER_PROFILE_MODAL_CLOSE:function(e){v=[]},USER_PROFILE_MODAL_PUSH:function(e){var t=m(e.userId,e.guildId);null!=t&&(v=[].concat(v,[t]))},USER_PROFILE_MODAL_POP:function(e){v.pop()},USER_PROFILE_MODAL_SET_SECTION:function(e){var t=r.default.last(v);null!=t&&(e.section===f.UserProfileSections.MUTUAL_FRIENDS&&null==t.mutualFriends&&l.default.fetchMutualFriends(t.user.id),t.section=e.section,v=[].concat(v))},USER_PROFILE_MODAL_FETCH_SUCCESS:function(e){v=v.map(function(t){if(t.user.id===e.user.id){var n=[];e.mutual_guilds.forEach(function(e){var t=e.id,r=e.nick,a=u.default.getGuild(t);null!=a&&n.push({guild:a,nick:r})});var a=e.premium_since||null;n=r.default.sortBy(n,function(e){return e.guild.name.toLowerCase()});var o=t.user.set("flags",e.user.flags);return h({},t,{user:o,mutualGuilds:n,connectedAccounts:e.connected_accounts,premiumSince:null!=a?new Date(a):null,premiumGuildSince:null!=e.premium_guild_since?new Date(e.premium_guild_since):null})}return t})},LOAD_MUTUAL_FRIENDS:function(e){var t=r.default.findLast(v,function(t){return t.user.id===e.userId});null!=t&&(t.mutualFriends=(0,r.default)(e.mutualFriends).map(function(e){return{key:e.id,user:new i.default(e),status:s.default.getStatus(e.id)}}).sortBy(function(e){return e.user.username.toLowerCase()}).value())}});t.default=g},7389:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(333));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,a(n(6711)).default)(r.default.HYPESQUAD_WINNER_BADGES,"HypeSquad Winner Badges","Displays a unique badge for a specific HypeSquad house.");t.default=o},7390:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=M(n(0)),o=A(n(6)),l=A(n(3)),i=A(n(189)),u=n(509),s=A(n(40)),d=A(n(7391)),c=A(n(24)),f=A(n(6525)),p=A(n(460)),h=A(n(898)),v=A(n(891)),m=A(n(71)),_=n(874),g=A(n(75)),E=A(n(262)),y=M(n(66)),S=n(913),I=A(n(6713)),T=n(1),O=A(n(4)),N=A(n(455)),C=A(n(6161));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAutoThresholdChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.threshold;r&&r(a,e.currentTarget.checked)},t.handleSensitivityChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.autoThreshold;r&&r(-1*(100-e),a)},t}R(t,e);var n=t.prototype;return n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},n.renderAutomaticVADToggle=function(){var e=this,t=this.props.autoThreshold;return P(_.UID,{},void 0,function(n){return P(c.default,{className:N.default.marginBottom4},void 0,P(y.default,{tag:y.Tags.H3},void 0,P("label",{htmlFor:n},void 0,O.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),P(v.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},n.renderSlider=function(){var e=this.props,t=e.autoThreshold,n=e.threshold;if(!t)return P(h.default,{initialValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange})},n.render=function(){return P(E.default,{title:O.default.Messages.FORM_LABEL_INPUT_SENSITIVTY,className:N.default.marginBottom8},void 0,this.renderAutomaticVADToggle(),this.renderSlider())},t}(a.PureComponent);b.displayName="VoiceSensitivity";var L=function(e){var t,n=e.mediaEngineContext,r=e.inputMode,l=e.shortcut,u=e.delay,s=e.vadThreshold,d=e.vadAutoThreshold,c=e.inputDevices,v=e.inputDeviceId,m=e.inputVolume,_=e.outputDeviceId,g=e.outputDevices,y=e.outputVolume,C=e.speaking,A=o.default.first(c),M=null!=A&&A.disabled,R=o.default.first(g),L=null!=R&&R.disabled,D=[{value:T.InputModes.VOICE_ACTIVITY,name:O.default.Messages.INPUT_MODE_VAD},{value:T.InputModes.PUSH_TO_TALK,name:O.default.Messages.INPUT_MODE_PTT}];return t=r===T.InputModes.PUSH_TO_TALK?P(a.Fragment,{},void 0,P(E.default,{title:O.default.Messages.FORM_LABEL_SHORTCUT,className:N.default.marginBottom20},void 0,P(I.default,{defaultValue:l,onChange:function(e){return i.default.setMode(r,{shortcut:e},n)}})),P(E.default,{title:O.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY,className:N.default.marginBottom8},void 0,P(h.default,{initialValue:u,onValueChange:function(e){return i.default.setMode(r,{delay:e},n)},onValueRender:function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+"ms"},maxValue:T.MAX_PTT_RELEASE_DELAY}))):P(b,{speaking:C,inputMode:r,threshold:s,autoThreshold:d,onThresholdChange:function(e,t){return i.default.setMode(r,{threshold:e,autoThreshold:t},n)}}),P(a.Fragment,{},void 0,P(E.default,{title:O.default.Messages.FORM_LABEL_INPUT_DEVICE,className:N.default.marginBottom20},void 0,P(p.default,{value:v,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return i.default.setInputDevice(t,"Voice Settings")},options:o.default.map(c,function(e){return{value:e.id,label:e.name}}),disabled:M})),P(E.default,{title:O.default.Messages.FORM_LABEL_INPUT_VOLUME,className:N.default.marginBottom20},void 0,P(h.default,{initialValue:(0,S.amplitudeToPerceptual)(m),asValueChanges:function(e){return i.default.setInputVolume((0,S.perceptualToAmplitude)(e))}})),P(E.default,{title:O.default.Messages.FORM_LABEL_OUTPUT_DEVICE,className:N.default.marginBottom20},void 0,P(p.default,{value:_,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return i.default.setOutputDevice(t,"Voice Settings")},options:o.default.map(g,function(e){return{value:e.id,label:e.name}}),disabled:L})),P(E.default,{title:O.default.Messages.FORM_LABEL_OUTPUT_VOLUME,className:N.default.marginBottom20},void 0,P(h.default,{initialValue:(0,S.amplitudeToPerceptual)(y)/2,onValueRender:function(e){return(2*e).toFixed(0)+"%"},asValueChanges:function(e){return i.default.setOutputVolume((0,S.perceptualToAmplitude)(2*e))}})),P(E.default,{title:O.default.Messages.FORM_LABEL_INPUT_MODE,className:N.default.marginBottom20},void 0,P(f.default,{onChange:function(e){var t=e.value;return i.default.setMode(t,{},n)},options:D,value:r})),t)};L.displayName="Content";var D=l.default.connectStores([s.default],function(e){var t=e.mediaEngineContext;return{inputVolume:s.default.getInputVolume(),outputVolume:s.default.getOutputVolume(),inputDeviceId:s.default.getInputDeviceId(),inputDevices:s.default.getInputDevices(),outputDevices:s.default.getOutputDevices(),outputDeviceId:s.default.getOutputDeviceId(),inputMode:s.default.getMode(t),shortcut:s.default.getModeOptions(t).shortcut,vadThreshold:s.default.getModeOptions(t).threshold,vadAutoThreshold:s.default.getModeOptions(t).autoThreshold,delay:s.default.getModeOptions(t).delay}})(L),w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props.onClose;(0,u.closeModal)(),null!=e&&e()},t}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.mediaEngineContext,n=e.title;return P(g.default,{},void 0,P(g.default.Header,{},void 0,P(c.default.Child,{},void 0,P(y.default,{tag:y.default.Tags.H2,className:N.default.marginReset},void 0,O.default.Messages.VOICE_SETTINGS),P(m.default,{size:m.default.Sizes.SMALL,color:m.default.Colors.PRIMARY,className:C.default.title},void 0,n)),P(c.default.Child,{grow:0},void 0,P(g.default.CloseButton,{onClick:this.close}))),P(g.default.Content,{},void 0,P(D,{mediaEngineContext:t})))},t}(a.PureComponent);t.default=w,w.displayName="VoiceSettingsModal",w.modalConfig={closable:!0,store:d.default}},7391:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l,i=d(n(3)),u=d(n(2)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(){a=null,r=null,o=null,null!=l&&(l(),l=null)}var f=new(function(e){var t,n;function l(){return e.apply(this,arguments)||this}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=l.prototype;return i.isOpen=function(){var e=__OVERLAY__?s.AppContext.OVERLAY:s.AppContext.APP;return null!=a&&r===e},i.getProps=function(){return{mediaEngineContext:a,title:o}},l}(i.default.Store))(u.default,{VOICE_SETTINGS_MODAL_OPEN:function(e){a=e.mediaEngineContext,r=e.appContext,o=e.title,l=e.resolve},VOICE_SETTINGS_MODAL_CLOSE:function(e){return c()},RPC_APP_DISCONNECTED:function(e){return c()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==r)&&(c(),!0)}});t.default=f},7392:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MESSAGE_SOUND_VOLUME=t.MESSAGE_SOUND=void 0;var r=y(n(3)),a=y(n(2)),o=y(n(140)),l=y(n(494)),i=y(n(15)),u=n(6717),s=y(n(978)),d=y(n(13)),c=y(n(36)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(467)),p=y(n(14)),h=y(n(864)),v=y(n(39)),m=y(n(160)),_=y(n(11)),g=n(1),E=y(n(4));function y(e){return e&&e.__esModule?e:{default:e}}var S="message1";t.MESSAGE_SOUND=S;var I=.4;t.MESSAGE_SOUND_VOLUME=I;var T="message2",O=.4,N=d.default.hasFocus(),C=new(function(){function e(){this._channels={}}var t=e.prototype;return t.track=function(e,t){var n=this._channels[e];for(null==n&&(n=[],this._channels[e]=n),n.push(t);n.length>5;)n.shift().close()},t.clearChannel=function(e){var t=this._channels[e];null!=t&&(delete this._channels[e],t.forEach(function(e){return e.close()}))},e}());var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(_.default,p.default,h.default)},r}(r.default.Store))(a.default,__OVERLAY__?{}:{NOTIFICATIONS_SET_PERMISSION_STATE:function(e){e.enabled!==g.NotificationPermissionTypes.ENABLED||d.default.embedded||s.default.showNotification(n(965),E.default.Messages.NOTIFICATION_TITLE_DISCORD,E.default.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{sound:S,volume:I,tag:"hello",onClick:function(){window.focus()}})},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,r=e.body,a=e.options;return h.default.getDesktopType()!==g.DesktopNotificationTypes.NEVER&&(m.default.getStatus()!==g.StatusTypes.DND&&(s.default.showNotification(t,n,r,a),!1))},WINDOW_FOCUS:function(e){if(N=e.focused){var t=v.default.getChannelId();null!=t&&C.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,r=e.message,o=p.default.getChannel(t),d=_.default.getUser(r.author.id);if(null==o||null==d)return!1;if(!(0,u.shouldNotify)(r,t))return!1;var m=n(484).default,E=n(224).default;if(null!=m.getFocusedPID()&&E.getTextChatNotificationMode()===g.OverlayNotificationTextChatTypes.ENABLED)return!1;if(N&&t===v.default.getChannelId())return!1;var y=(0,u.makeTextChatNotification)(o,r,d),T=y.icon,O=y.title,A=y.body;a.default.dirtyDispatch({type:g.ActionTypes.RPC_NOTIFICATION_CREATE,channelId:o.id,message:r,icon:T,title:O,body:A});var M=!h.default.isSoundDisabled(S);if(h.default.getDesktopType()===g.DesktopNotificationTypes.NEVER)return M&&f.playSound(S,I),!1;var P=s.default.showNotification(T,O,A,{tag:o.id,sound:M?S:null,volume:I,onClick:function(){i.default.track(g.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:g.ActionTypes.MESSAGE_CREATE,notif_user_id:r.author.id,message_id:r.id,message_type:r.type,channel_id:o.id,channel_type:o.type,guild_id:o.guild_id}),c.default.transitionTo(g.Routes.CHANNEL(o.getGuildId()||g.ME,o.id)),l.default.clickedNotification()}});null!=P&&C.track(o.id,P)},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&C.clearChannel(t),!1},MESSAGE_ACK:function(e){var t=e.channelId;return C.clearChannel(t),!1},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(h.default.getDesktopType()===g.DesktopNotificationTypes.NEVER)return!1;if(m.default.getStatus()===g.StatusTypes.DND)return!1;switch(n.type){case g.ActivityTypes.PLAYING:var r=_.default.getUser(t);if(null==r)return!1;var a=r.toString(),l=n.name,u=r.getAvatarURL(),d=E.default.Messages.NOTIFICATION_TITLE_START_GAME,c=E.default.Messages.NOTIFICATION_BODY_START_GAME.format({username:a,gameName:l});return s.default.showNotification(u,d,c,{sound:T,playSoundIfDisabled:!1,volume:O,onClick:function(){i.default.track(g.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:g.ActionTypes.ACTIVITY_START,activity_type:g.ActivityTypes.PLAYING,notif_user_id:t,activity_name:l}),o.default.openPrivateChannel(_.default.getCurrentUser().id,t)}}),!1;default:return!1}},RELATIONSHIP_ADD:function(e){var t=e.relationship,n=t.type,r=t.user.id,a=e.shouldNotify;if(n!==g.RelationshipTypes.FRIEND||!a)return!1;var l=_.default.getUser(r);if(null==l)return!1;var u=l.toString(),d=l.getAvatarURL(),c=E.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST;s.default.showNotification(d,u,c,{onClick:function(){i.default.track(g.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:g.ActionTypes.RELATIONSHIP_ADD,notif_user_id:l.id}),o.default.openPrivateChannel(_.default.getCurrentUser().id,l.id)}})}});t.default=A},7508:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(27)),o=d(n(2)),l=d(n(10)),i=d(n(14)),u=d(n(160)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f="IncomingCallStore",p={width:240,height:340},h=10,v=new Set,m=Object.freeze({}),_={},g=new Set,E=0,y=0,S=!1;function I(e){return null!=e&&(null!=_[e]&&(delete _[e],_=c({},_),void(g=new Set(g)).delete(e)))}function T(e){var t=e.channelId,n=e.ringing.includes(l.default.getId());if(!g.has(t)&&n){var r,a=i.default.getChannel(t);if(null==a)return!1;var o=h*g.size;_=c({},_,((r={})[t]={channel:a,x:E+o,y:y+o},r)),(g=new Set(g)).add(t)}else{if(!g.has(t)||n)return!1;I(t)}}function O(){S=u.default.getStatus()===s.StatusTypes.DND}!function(){var e=a.default.get(f);if(e)E=+e.x,y=+e.y;else{var t=n(185).default.windowSize();E=t.width/2-p.width/2,y=t.height/2-p.height/2}}();var N=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(i.default,u.default),this.syncWith([u.default],O)},a.getIncomingCalls=function(){return S?m:_},a.getIncomingCallChannelIds=function(){return S?v:g},a.getFirstIncomingCallId=function(){return S?null:g.values().next().value},a.hasIncomingCalls=function(){return!S&&g.size>0},r}(r.default.Store))(o.default,{CALL_CREATE:T,CALL_UPDATE:T,CALL_DELETE:function(e){return I(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return I(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;return E=t,y=n,a.default.set(f,{x:E,y:y}),!1},CHANNEL_DELETE:function(e){return I(e.channel.id)}});t.default=N},7707:function(e,t,n){"use strict";t.__esModule=!0,t.fetchPromotions=function(e){return d.apply(this,arguments)},t.ackPromotion=function(e,t){return r.default.put({url:i.Endpoints.PROMOTION_ACK,body:{ack_key:e,ack_type:t}})};var r=u(n(12)),a=u(n(2)),o=u(n(234)),l=n(154),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function d(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=null),a.default.dispatch({type:i.ActionTypes.PROMOTIONS_FETCH_START}),e.prev=2,n={url:i.Endpoints.PROMOTIONS,query:null!=t?{context:t}:{}},e.next=6,(0,l.httpGetWithCountryCodeQuery)(n);case 6:r=e.sent,a.default.dispatch({type:i.ActionTypes.PROMOTIONS_FETCH_SUCCESS,promotions:r.body}),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(2),u=new o.default(e.t0),a.default.dispatch({type:i.ActionTypes.PROMOTIONS_FETCH_FAIL,error:u}),u;case 15:case"end":return e.stop()}},e,null,[[2,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,i,"next",e)}function i(e){s(o,r,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}},7767:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=U(n(8)),l=U(n(3)),i=n(29),u=U(n(6577)),s=U(n(107)),d=n(195),c=U(n(294)),f=U(n(986)),p=U(n(201)),h=U(n(197)),v=U(n(6560)),m=U(n(39)),_=U(n(886)),g=U(n(476)),E=U(n(458)),y=U(n(6639)),S=U(n(66)),I=U(n(456)),T=U(n(15)),O=n(296),N=U(n(331)),C=U(n(6753)),A=U(n(6943)),M=U(n(8804)),P=U(n(8818)),R=n(6870),b=n(1),L=U(n(4)),D=U(n(6018)),w=U(n(6305));function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var B=500,j=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={popoutStaysOpen:!1,isPopoutHovered:!1},n.keepPopoutOpen=function(){n.setState({popoutStaysOpen:!0})},n.closePopout=function(){n.setState({popoutStaysOpen:!1})},n.trackHover=function(){var e=n.props,t=e.loadId,r=e.analyticsContext,a=n.props.party.partiedMembers;T.default.track(b.AnalyticEvents.HOVER_MENU_OPENED,{location:k({},r.location,{object:b.AnalyticsObjects.HOVER_MENU}),load_id:t,num_users:a.length})},n.startPopoutHover=function(){n.context.isDiscover&&n.setState({isPopoutHovered:!0})},n.endPopoutHover=function(){n.context.isDiscover&&n.setState({isPopoutHovered:!1})},n.handleMouseEnter=function(){n.hoverTimeout.start(B,n.trackHover),n.startPopoutHover()},n.handleMouseLeave=function(){n.hoverTimeout.stop(),n.endPopoutHover()},n.renderPopout=function(){var e,t=n.state,r=t.popoutStaysOpen,a=t.isPopoutHovered,l=n.context.isDiscover;return G(N.default,{section:b.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_HOVER_POPOUT},void 0,G(M.default,{party:n.props.party,className:(0,o.default)(D.default.popout,(e={},e[w.default.popout]=l,e)),keepOpen:n.keepPopoutOpen,visibleOnMouseLeave:r||a,closeOnLeave:n.closePopout,onMouseEnter:n.startPopoutHover,onMouseLeave:n.endPopoutHover}))},n.hoverTimeout=new i.Timeout,n}F(t,e);var r=t.prototype;return r.componentWillUnmount=function(){this.hoverTimeout.stop()},r.getNumberOfGameActivities=function(e){return e.reduce(function(e,t){var n=t.activity;return null!=n&&(0,f.default)(n)?e+1:e},0)},r.getPartyActivitySize=function(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0),n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}},r.getHeaderTitle=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map(function(e){return e.user.id})),a=n.filter(function(e){return!r.has(e.id)}),o=t[0].user.toString(),l=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:l});default:return L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:l,extras:n.length-2})}},r.getHeaderDetails=function(e){var t=e.priorityMembers,r=e.partiedMembers,a=e.voiceChannels,o=e.currentActivities,l=this.props.onApplicationContextMenu,i=this.props.analyticsContext.location,u=t.length,s=u+(r.length-u)===1,d=o[0];if(s&&null!=d){var c=d.activity,f=d.game,h=d.startedPlayingTime;if(null==c)return{subtitle:null,icon:null};switch(c.type){case b.ActivityTypes.PLAYING:return(0,p.default)(c)?{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:G(A.default.Header.Icon,{src:A.default.Header.Icon.Src.XBOX})}:{subtitle:G(g.default,{start:h,location:g.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:c.name}}),icon:null!=f?G(A.default.Header.Icon,{src:null!=f.getIconURL(64)?f.getIconURL(64):n(7068),onClick:function(e){return(0,R.toggleGamePopout)(e,f,i)},onContextMenu:function(e){return l(e,f)}}):null};case b.ActivityTypes.STREAMING:return{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=f&&null!=f.getIconURL(64)?G(A.default.Header.Icon,{src:f.getIconURL(64)}):null};case b.ActivityTypes.LISTENING:return{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:G(A.default.Header.Icon,{src:A.default.Header.Icon.Src.SPOTIFY})};case b.ActivityTypes.WATCHING:return{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=f&&null!=f.getIconURL(64)?G(A.default.Header.Icon,{src:f.getIconURL(64),onClick:function(e){return(0,R.toggleGamePopout)(e,f,i)},onContextMenu:function(e){return l(e,f)}}):null};default:return{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}var v=this.getNumberOfGameActivities(o);if(0===v){if(a.length>0)return{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};if(o.length>0){if(null==d)throw new Error("Invalid Activity State - AF 2.0: numGameActivities is 0 and voiceChannels is 0, unknown case.");var m=d.activity;if(null!=m&&m.type===b.ActivityTypes.LISTENING)return{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:G(A.default.Header.Icon,{src:A.default.Header.Icon.Src.SPOTIFY})}}}else if(1===v&&null!=d){var _=d.activity,E=d.game,y=d.startedPlayingTime;if(null==_)throw new Error("Invalid Activity State - AF 2.0: No activity");return{subtitle:G(g.default,{start:y,location:g.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:_.name}}),icon:null!=E&&null!=E.getIconURL(64)?G(A.default.Header.Icon,{src:E.getIconURL(64),onClick:_.type===b.ActivityTypes.PLAYING?function(e){return(0,R.toggleGamePopout)(e,E,i)}:null,onContextMenu:function(e){return l(e,E)}}):null}}return{subtitle:L.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:G(A.default.Header.Icon,{src:A.default.Header.Icon.Src.MULTIPLE})}},r.renderHeader=function(){var e=this.props,t=e.party,n=e.onUserContextMenu,r=e.analyticsContext,a=t.priorityMembers[0],o=this.getHeaderTitle(t),l=this.getHeaderDetails(t),i=l.subtitle,u=l.icon;return G(A.default.Header,{priorityUser:a,title:o,subtitle:i,icon:u,onContextMenu:function(e){return n(e,a.user)},analyticsContext:r})},r.renderBody=function(){var e=this,t=this.props,n=t.onChannelContextMenu,r=t.onApplicationContextMenu,a=t.analyticsContext,o=this.props.party,l=o.voiceChannels,i=o.currentActivities,f=o.isSpotifyActivity,v=o.partiedMembers,_=o.applicationStreams,g=[],E=function(e){var t=g.length;if(0!==t){var n=g[t-1],r=""+(e.key||""),a=(""+(n.key||"")).startsWith("game")&&r.startsWith("rich-presence");g.push(G(A.default.Separator,{inset:a},"sep-"+r)),g.push(e)}else g.push(e)};l.length>0&&l.forEach(function(t){var r=t.members,a=t.channel,o=t.guild;E(G(A.default.VoiceSection,{guild:o,channel:a,members:r,partySize:e.getPartyActivitySize(r),onChannelContextMenu:n,onGuildClick:function(){var e=m.default.getChannelId(o.id);u.default.selectChannel(o.id,e),u.default.flushSelection(!0)}},"voice-"+a.id))}),_.length>0&&_.forEach(function(e){var t=e.stream,n=e.streamUser,r=e.activity;E(G(A.default.ApplicationStreamingSection,{user:n,activity:r,applicationStream:t,onPreviewClick:function(){s.default.selectVoiceChannel(t.channelId),(0,d.watchStreamAndTransitionToStream)(t)},analyticsContext:a},"application-stream-"+t.ownerId))});var y=this.getNumberOfGameActivities(i);return i.forEach(function(e,t){var n=e.activity,a=e.game,o=e.playingMembers,i=e.activityUser;if(null==n||null==n.type)return null;if(y>1&&null!=a&&E(G(A.default.GameSection,{icon:a.getIconURL(64),name:a.name,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},members:o,onIconClick:function(e){return(0,R.toggleGamePopout)(e,a,location)},onIconContextMenu:function(e){return r(e,a)}},"game-"+(n.session_id||t)+"-"+(n.application_id||t))),!f&&(0,c.default)(n)&&n.type===b.ActivityTypes.PLAYING&&E(G(A.default.RichPresenceSection,{activity:n,getAssetImage:O.getAssetImage},"rich-presence-"+(n.session_id||t)+"-"+i.id)),(0,h.default)(n)){var u=l.length>0&&l[0].members.length>1,s=o.length>1;E(G(A.default.TwitchSection,{activity:n,user:u||s?i:null,getAssetImage:O.getAssetImage},"streaming-"+(n.session_id||t)))}else f?E(G(A.default.SpotifySection,{activity:n,partySize:{knownSize:v.length,unknownSize:0,totalSize:v.length},getAssetImage:O.getAssetImage,members:v},"spotify-"+(n.session_id||t)+"-"+i.id)):(0,p.default)(n)&&E(G(A.default.XboxSection,{title:a.name},"xbox-"+(n.session_id||t)))}),g.length>0?G(A.default.Body,{},void 0,g):null},r.renderNowPlayingItem=function(){var e,t=this.context.isDiscover,n=this.renderHeader(),r=this.renderBody();return null!=n||null!=r?G("div",{className:(0,o.default)(D.default.popoutContainer,(e={},e[w.default.homepage]=t,e[D.default.homepage]=t,e)),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n,r,t?null:this.renderPopout()):null},r.render=function(){var e=this,t=this.context.isDiscover,n=this.state,r=n.popoutStaysOpen,a=n.isPopoutHovered;return t?G(E.default,{position:E.default.Positions.LEFT,renderPopout:this.renderPopout,spacing:32,shouldShow:a||r},void 0,function(){return e.renderNowPlayingItem()}):this.renderNowPlayingItem()},t}(a.PureComponent);j.displayName="ItemCard",j.contextType={isDiscover:!1},j.contextType=v.default;var H=(0,C.default)(j),V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).renderNowPlayingCard=function(e,n){var r,l=t.props.loadId,i=t.context.isDiscover;if(e.type===b.ActivityCardTypes.GAME)return null;var u=e.party;return G(a.Fragment,{},u.id,n>0?G(A.default.Separator,{className:(0,o.default)(w.default.itemSeparator,(r={},r[w.default.homepageSeparator]=i,r))}):null,G(H,{party:u,loadId:l}))},t}return F(t,e),t.prototype.render=function(){var e,t=this.props,n=t.nowPlayingCards,r=t.className,l=t.isWrapped,i=this.context.isDiscover,u=null;return u=n.length>0?l&&!i?G(A.default,{className:r},void 0,G(I.default,{size:I.default.Sizes.SIZE_16,className:w.default.formTitleInCard},void 0,L.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),n.map(this.renderNowPlayingCard)):G(A.default,{className:r},void 0,n.map(this.renderNowPlayingCard)):G(P.default,{className:(0,o.default)(r,w.default.emptyCard)}),l&&!i?G(y.default,{padded:!1},void 0,u):G(a.Fragment,{},void 0,i?G(I.default,{size:I.default.Sizes.SIZE_20,className:(0,o.default)(w.default.header,(e={},e[w.default.homepagePadding]=i,e))},void 0,L.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE):G(S.default,{className:w.default.header},void 0,L.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),u)},t}(a.PureComponent);V.displayName="NowPlaying",V.contextType={isDiscover:!1},V.contextType=v.default;var x=l.default.connectStores([_.default],function(){return{nowPlayingCards:_.default.nowPlayingCards,loadId:_.default.loadId}})(V);t.default=x},7768:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(6)),l=p(n(260)),i=p(n(42)),u=p(n(223)),s=p(n(328)),d=p(n(343)),c=n(1),f=p(n(6297));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.member,n=e.empty,r=e.analyticsContext;if(n)return v("div",{className:f.default.partyMemberEmpty});if(null==t)return v("div",{className:f.default.partyMemberUnknown},void 0,v(i.default,{name:i.default.Names.UNKNOWN_USER,className:f.default.partyMemberUnknownIcon}));var o={location:h({},r.location,{object:c.AnalyticsObjects.AVATAR})};return v("div",{className:f.default.partyMemberKnown},void 0,v(u.default,{render:function(e){return a.createElement(d.default,h({},e,{userId:t.id,analyticsParams:o}))},position:u.default.Positions.LEFT,closeOnScroll:!1},void 0,v(s.default,{src:t.getAvatarURL(),"aria-label":t.username,size:s.default.Sizes.SIZE_24,className:f.default.partyMember})))};m.displayName="PartyMember";var _=(0,l.default)(m),g=function(e){var t=e.partySize,n=e.members,r=e.maxAvatarsShown,a=void 0===r?2:r,l=t.unknownSize,i=t.totalSize,u=t.knownSize;if(0===i)return null;for(var s=(0,o.default)(n).filter(function(e){return null!=e}).take(a).map(function(e){return v(_,{member:e},e.id)}).value(),d=0;d<l&&s.length<a;d++)s.push(v(_,{},"unknown-member-"+d));for(var c=i-u-l,p=0;p<c&&s.length<a;p++)s.push(v(_,{empty:!0},"empty-member-"+p));var h=Math.max(Math.min(i-s.length,99),0);if(1===h){var m=n[a];s.push(v(_,{member:m},m.id))}return v("div",{className:f.default.wrapper},void 0,v("div",{className:f.default.partyMembers},void 0,s,h>1?v("div",{className:f.default.partyMemberOverflow},void 0,"+",h):null))};g.displayName="PartyAvatars";var E=g;t.default=E},7769:function(e,t,n){e.exports=n.p+"fca407c93df12dfd038d02eaad376d89.svg"},7770:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(8)),l=y(n(6)),i=y(n(3)),u=y(n(260)),s=y(n(6560)),d=y(n(492)),c=y(n(8827)),f=y(n(6639)),p=y(n(66)),h=y(n(456)),v=n(270),m=n(163),_=n(1),g=y(n(4)),E=y(n(6311));function y(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=Object.freeze({SMALL:36,NORMAL:43,LARGE:46});var O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.launchGame=function(e){var t=this.props,n=t.applications,r=t.analyticsContext;(0,m.playApplication)(e.id,e.libraryApplication,{analyticsParams:{location:I({},r.location,{section:_.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER}),num_launcher_applications:n.length}})},a.renderApps=function(){var e=this,t=this.props,n=t.layout,r=t.applications,a=n===_.FeedLayouts.TWO_COL;if(0===r.length)return S(s.default.Consumer,{},void 0,function(e){var t,n=e.isDiscover;return S("div",{className:(0,o.default)(E.default.emptyCard,(t={},t[E.default.homepage]=n,t))},void 0,S("div",{className:E.default.emptyContent},void 0,g.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT_V2))});var i=T.LARGE;return S("div",{className:E.default.grid},void 0,r.map(function(t,n){return n<6?S(c.default,{size:i,icon:t.icon,alt:t.name,running:t.running,type:a?c.default.Types.WRAPPED:c.default.Types.UNWRAPPED,onClick:function(){return e.launchGame(t)}},t.name):null}),l.default.times(6-r.length,function(){return S(c.default,{size:i,type:a?c.default.Types.WRAPPED:c.default.Types.UNWRAPPED})}))},a.render=function(){return this.props.isWrapped?S(f.default,{className:E.default.wrappedCard},void 0,S(h.default,{size:h.default.Sizes.SIZE_16,className:E.default.formTitleInCard},void 0,g.default.Messages.QUICK_LAUNCHER_HEADER),this.renderApps()):S("div",{className:this.props.className},void 0,S(s.default.Consumer,{},void 0,function(e){return e.isDiscover?S(h.default,{size:h.default.Sizes.SIZE_20,className:E.default.homepageHeader},void 0,g.default.Messages.QUICK_LAUNCHER_HEADER):S(p.default,{},void 0,g.default.Messages.QUICK_LAUNCHER_HEADER)}),this.renderApps())},r}(a.PureComponent);O.displayName="QuickLauncher";var N=(0,v.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,r=e.isLaunching,a=e.isRunning,o=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:o,libraryApplication:t,icon:n.getIconURL(60),running:r||a}})}),C=(0,u.default)(i.default.connectStores([d.default],function(e){var t=e.layout;return{applications:N(d.default.launchableApplicationViewItems),isWrapped:t===_.FeedLayouts.TWO_COL}})(O));t.default=C},7771:function(e){e.exports=JSON.parse('{"gaming":["302094807046684672","393088095840370689","322850917248663552","116173324647661575","423618425009471488","178281233233608705","253581140072464384","541484311354933258","150074202727251969","251072485095636994","152517096104919042","125440014904590336","441477431501783060","111504456838819840","74287487459004416","583165155454746654","77176186148499456","361862930062639105","146435968746913792","207018395139309569"],"comics_heroes":["242386172536422401","246056996292395008","320248755125354526","255836366661877760","249584260841865218","312775053391429633","186372777916235776","281648235557421056","221809357321535490","360856296846524426","463912183663951872"],"anime":["290843998296342529","440600468776026152","268110187183865856","200664629645410304","164970986284777473","191706902172925952","292277485310312448","198345795576135682","345652342332588033","320043986821840896","343202616395694083","176028172729450497","464863670019817480","248949500113059841","364704870177046531","165599448288722946","160966337122926592"],"music":["297142682894073856","186610204023062528","217520546437529600","306900170258513920","229624492622610434","441805394323439646","281116750169505793","132532010135584768","432353433882722307","452229516320964618","287698336029474816","306302741754675200","312579024352313354","133741089575141377","294202543972679680","260324986089111552","302520538734002177","408694834249859082"],"esports":["377653828016668682","329623990618423296","203963357047422976","461754875932311552","245585553104306176","142123758709112832","384773487048261642","383722763053170688","351960203215896578","408366212599513098","138430437637881856","382699390755930114","275628879463448576","235531949916028929"],"featured":["114211522384756737","423075122610700288","212316585333882880","595427828690976769","585165441790509094","302094807046684672","579700549780242492","471722331820130324"]}')},7772:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(0)),a=n(939),o=s(n(6584)),l=s(n(7773)),i=d(n(6776)),u=s(n(7211));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t=e.index,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["index"]),s=e.guild.id,d=(0,o.default)(),f=(0,a.useAnalyticsContext)(),p=r.useContext(u.default),h=p.activeGuildId,v=p.setActiveGuildId,m=p.addSeenGuildId,_=h===s,g=r.useCallback(function(){v(s),i.viewGuild(s,t,f)},[s,t,f,v]),E=r.useCallback(function(){m(s)},[s,m]);return r.createElement(l.default,c({},n,{isLoadingGuild:_,theme:d,onView:g,onGuildCardSeen:E}))};f.displayName="DiscoverGuildCard";var p=f;t.default=p},7773:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(8)),l=n(6638),i=y(n(88)),u=n(229),s=y(n(21)),d=y(n(58)),c=y(n(6559)),f=y(n(65)),p=y(n(271)),h=y(n(257)),v=n(1),m=y(n(4)),_=y(n(6313)),g=y(n(6897)),E=y(n(6898));function y(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={loaded:!1,hasBeenSeen:!1,isVisible:!1},t.handleClickView=function(e){var n=t.props,r=n.onView,a=n.guild;e.stopPropagation(),null!=r&&r(a.id)},t.handleVisibilityChange=function(e){var n=t.props,r=n.onGuildCardSeen,a=n.guild;null!=a&&!t.state.hasBeenSeen&&e&&(t.setState({hasBeenSeen:e}),null!=r&&r(a.id))},t.setIsVisible=function(e){t.setState({isVisible:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getDefaultSplashURL=function(e){switch(e){case v.ThemeTypes.DARK:return g.default;case v.ThemeTypes.LIGHT:return E.default}},a.render=function(){var e,t=this,n=this.props,r=n.guild,a=n.isLoadingGuild,g=n.className,E=n.theme,y=this.state,I=y.loaded,T=y.hasBeenSeen,O=y.isVisible,N=r.name,C=r.description,A=r.presenceCount,M=r.memberCount,P=i.default.getGuildSplashURL({id:r.id,splash:r.splash,size:256*(0,u.getDevicePixelRatio)()}),R=null!=P?P:this.getDefaultSplashURL(E),b=i.default.getGuildIconURL({id:r.id,icon:r.icon,size:50});return S(l.VisibilitySensor,{active:!O,onChange:this.setIsVisible,threshold:.1},void 0,O?S(l.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!T,threshold:.55},void 0,S("div",{className:(0,o.default)(g,(e={},e[_.default.loaded]=I,e[_.default.loading]=!I,e))},void 0,S(d.default,{onClick:this.handleClickView,className:_.default.card},void 0,S("div",{className:_.default.cardHeader},void 0,S("div",{className:_.default.splash},void 0,S(p.default,{mask:p.default.Masks.VERTICAL_FADE,width:256,height:144},void 0,S("img",{src:R,alt:"",className:_.default.splashImage,onLoad:function(){return t.setState({loaded:!0})}}))),S("div",{className:_.default.guildIcon},void 0,S(p.default,{mask:p.default.Masks.SQUIRCLE,width:50,height:50},void 0,S("img",{src:b,alt:"",className:_.default.avatar}))),S(s.default,{className:_.default.viewButton,color:s.default.Colors.BRAND,size:s.default.Sizes.SMALL,submitting:a,onClick:this.handleClickView,tabIndex:-1},void 0,m.default.Messages.GUILD_DISCOVERY_VIEW_BUTTON)),S("div",{className:_.default.guildInfo},void 0,S("div",{className:_.default.title},void 0,S(c.default,{className:_.default.verifiedIcon,guild:r,tooltipColor:f.default.Colors.BLACK,badgeColor:v.Colors.PRIMARY_DARK}),S(h.default,{className:_.default.guildName,size:h.default.Sizes.SIZE_16},void 0,S("span",{},void 0,N))),S(h.default,{className:_.default.description,size:h.default.Sizes.SIZE_14},void 0,S("span",{},void 0,C)),S("div",{className:_.default.memberInfo},void 0,null!=A&&S("div",{className:_.default.memberCount},void 0,S("div",{className:_.default.dotOnline}),S(h.default,{size:h.default.Sizes.SIZE_12},void 0,m.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:A}))),null!=M&&S("div",{className:_.default.memberCount},void 0,S("div",{className:_.default.dotOffline}),S(h.default,{size:h.default.Sizes.SIZE_12},void 0,m.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:M})))))))):S("div",{className:_.default.card}))},r}(a.PureComponent);I.displayName="GuildDiscoveryCard",I.Placeholder=function(e){return S("div",{className:(0,o.default)(e.className,_.default.cardPlaceholder)})},I.defaultProps={isLoadingGuild:!1};var T=I;t.default=T},7774:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(0)),o=g(n(8)),l=g(n(6)),i=E(n(924)),u=g(n(6560)),s=g(n(6789)),d=g(n(257)),c=n(15),f=E(n(875)),p=g(n(8834)),h=g(n(7775)),v=n(1),m=g(n(4)),_=g(n(5933));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=3,I=12,T=(f.AnalyticsContexts,l.default.throttle(f.trackSearchResultsViewed,1e3,{leading:!1,trailing:!0})),O=function(){return y(u.default.Consumer,{},void 0,function(e){var t,n=e.isDiscover;return y("div",{className:(0,o.default)(_.default.emptySearchResults,(t={},t[_.default.discover]=n,t))},void 0,y("div",{className:_.default.emptySearchImage}),y("h1",{className:_.default.emptySearchTitle},void 0,m.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_TITLE),y("div",{className:_.default.emptySearchDescription},void 0,m.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_DESCRIPTION))})};O.displayName="EmptySearchResults";var N=y(O,{}),C=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._searchRef=a.createRef(),n.canSearch=function(e){return e.length>=S},n.doSearch=function(e,t){var r=n.state,a=r.query,o=r.selectedLanguage.code;i.searchGuildDiscovery(a,o,e,t)},n.handleSearchFocused=function(e){var t=n.props.onSearchFocus;n.setState({isUpdatingSearch:!0}),t&&t()},n.handleSearchBlurred=function(e){var t=n.state.query,r=n.props.onSearchBlur;n.setState({isUpdatingSearch:!1,isSearching:t.length>0}),r&&r()},n.handleSearchKeyPress=function(e){var t=n.props,r=t.onSearchStarted,a=t.onSearchCleared,o=n.state,l=o.query,i=o.queryHasChanged;n.canSearch(l)&&i&&e.charCode===v.KeyboardKeys.ENTER?(n.doSearch(0,I),n.setState({searchId:f.makeAnalyticsID(),queryHasChanged:!1,isSearching:!0,isUpdatingSearch:!1},function(){r(n._searchRef)})):0===l.length&&e.charCode===v.KeyboardKeys.ENTER&&n.setState({isSearching:!1,isUpdatingSearch:!1},function(){a(n._searchRef)})},n.handleQueryChanged=function(e){var t=n.props.onSearchCleared,r=n.state.query;n.setState({query:e,queryHasChanged:!0,isUpdatingSearch:!0},function(){0!==r.length&&0===e.length&&t()})},n.handleQueryCleared=function(){var e=n.props.onSearchCleared;n.setState({query:"",queryHasChanged:!0,isUpdatingSearch:!1,isSearching:!1},function(){null!=e&&e(n._searchRef)})},n.handleLanguageChange=function(e){var t=e.value;n.setState({selectedLanguage:t},function(){return n.doSearch(0,I)})},n.handleGuildSelected=function(e,t,r){var a=n.props,o=a.loadId,l=a.searchResults,i=a.onViewGuild,u=n.state.searchId;i(e,t,r),f.trackSearchResultSelected(o,u,t,l.guilds.length)},n.state={searchId:f.makeAnalyticsID(),selectedLanguage:t.defaultLanguage,query:"",queryHasChanged:!1,isSearching:!1,isUpdatingSearch:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,a=n.isFetchingSearch,o=n.searchResults,l=n.onResultsSeen,i=this.state,u=i.isSearching,s=i.searchId,d=i.query,c=this.context,p=e.isFetchingSearch&&!a;if(u&&p&&T(r,s,d,o.guilds,c),!t.isSearching&&u&&f.trackSearchStarted(r,c),null!=o&&null!=l){var h=o.loading,v=o.guilds;h||null==v||""===d||!e.searchResults.loading&&null!=e.searchResults.guilds||l()}},l.renderSearch=function(){var e=this,t=this.props.availableLanguages,n=this.state,r=n.isUpdatingSearch,l=n.query,i=n.selectedLanguage;return y(u.default.Consumer,{},void 0,function(n){var u,c,f,h=n.isDiscover;return y("div",{className:(0,o.default)(_.default.searchSection,(u={},u[_.default.discover]=h,u))},void 0,y("div",{className:_.default.search},void 0,y("div",{className:(0,o.default)(_.default.searchBox,(c={},c[_.default.discover]=h,c))},void 0,a.createElement(s.default,{ref:e._searchRef,searchTerm:l,className:_.default.searchBoxInput,label:m.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:m.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER,onChange:e.handleQueryChanged,onClear:e.handleQueryCleared,onFocus:e.handleSearchFocused,onBlur:e.handleSearchBlurred,onKeyPress:e.handleSearchKeyPress,autoFocus:!h}),y(d.default,{className:(0,o.default)(_.default.searchHelpText,(f={},f[_.default.searchHelpTextVisible]=r&&e.canSearch(l),f)),color:d.default.Colors.MUTED},void 0,m.default.Messages.GUILD_DISCOVERY_SEARCH_PRESS_ENTER.format())),h?null:y(p.default,{className:_.default.languageSelector,languages:t,selectedLanguage:i,onLanguageChange:e.handleLanguageChange})))})},l.renderSearchResults=function(){var e=this,t=this.props,n=t.scroller,r=t.loadingGuildId,a=t.searchResults,o=t.mostRecentQuery,l=t.isFetchingSearch,i=t.theme,s=t.onViewGuild,d=t.onGuildCardSeen,c=m.default.Messages.GUILD_DISCOVERY_HEADER_SEARCH_RESULTS.format({count:a.total,query:o}),p=m.default.Messages.LOADING;return a.total<=0?N:y(u.default.Consumer,{},void 0,function(t){var o=t.isDiscover;return y(h.default,{title:l?p:c,guildsData:a,loadingGuildId:r,maxPerPage:I,scroller:n,fetchGuilds:e.doSearch,analyticsContext:f.AnalyticsContexts.SEARCH,onGuildCardSeen:d,theme:i,onViewGuild:s,includeSeparator:!o,faded:e.state.isUpdatingSearch})})},l.render=function(){var e=this,t=this.props.isFetchingSearch,n=this.state.isSearching;return y(u.default.Consumer,{},void 0,function(r){var o=r.isDiscover;return y(a.Fragment,{},void 0,e.renderSearch(),n||o&&n&&!t?y(a.Fragment,{},void 0,e.renderSearchResults(),o?null:y("hr",{className:_.default.sectionSeparator})):null)})},r}(a.PureComponent);C.displayName="GuildDiscoverySearch",C.contextType=c.AnalyticsContext;var A=C;t.default=A},7775:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(0)),o=f(n(8)),l=f(n(6)),i=f(n(6560)),u=p(n(875)),s=f(n(8835)),d=f(n(8837)),c=f(n(5933));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=48,m=(u.AnalyticsContexts,function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._sectionRef=a.createRef(),t._uniqueId=l.default.uniqueId("GuildDiscovery"),t.scrollToSectionTop=function(){var e=t.props.scroller;null!=e&&null!=t._sectionRef.current&&e.scrollIntoView(t._sectionRef.current,!0,{top:v,bottom:0})},t.handlePageChange=function(e){var n=t.props,r=n.maxPerPage;(0,n.fetchGuilds)((e-1)*r,r),t.scrollToSectionTop()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props;(0,e.fetchGuilds)(0,e.maxPerPage)},i.render=function(){var e=this,t=this.props,n=t.title,r=t.loadingGuildId,l=t.guildsData,i=t.maxPerPage,u=t.renderWhenEmpty,f=t.renderFirstLoad,p=t.includeSeparator,v=t.analyticsContext,m=t.theme,_=t.onViewGuild,g=t.onGuildCardSeen,E=t.faded,y=this.context.isDiscover,S=l.guilds,I=l.total,T=l.loading,O=l.isFirstLoad;if(!T&&0===I&&!u)return null;if(O&&!f)return null;var N=h(d.default,{guilds:S,loading:T,loadingPlaceholderCount:i,onViewGuild:_,loadingGuildId:r,analyticsContext:v,theme:m,onGuildCardSeen:g});return h(a.Fragment,{},void 0,h(s.default,{pageSize:i,totalCount:I,onPageChange:this.handlePageChange},void 0,function(t){var r,l,i=t.controller;return a.createElement("section",{ref:e._sectionRef,"aria-labelledby":e._uniqueId,className:(0,o.default)((r={},r[c.default.discoverResults]=y,r[c.default.faded]=E,r))},h("h3",{id:e._uniqueId,className:(0,o.default)(c.default.sectionHeader,(l={},l[c.default.discover]=y,l))},void 0,n),N,i)}),p?h("hr",{className:c.default.sectionSeparator}):null)},r}(a.PureComponent));m.displayName="GuildDiscoverySection",m.contextType={isDiscover:!1},m.defaultProps={maxPerPage:24,renderWhenEmpty:!1,renderFirstLoad:!0,includeSeparator:!1},m.contextType=i.default;var _=m;t.default=_},7776:function(e,t,n){"use strict";t.__esModule=!0,t.isEligibleForServerIntentExperiment=function(e){var t=i.default.getCurrentUser();if(null==t)return!1;if(!f.includes(e))return!1;if(!(Date.now()-new Date(t.createdAt)<864e5))return!1;var n=Object.keys(l.default.getGuilds());return!!(0===n.length||1===n.length&&n.includes(e))&&!0!==a.default.get(p)},t.setHasSeenServerIntentExperiment=function(){a.default.set(p,!0)},t.trackServerIntentEvent=function(e,t){u.default.track(d.AnalyticEvents.NUO_TRANSITION_KEY,{flow_type:"Large Game Server NUX First Server",from_step:e,to_step:t,skip:!1})},t.getSelectableGuildChannels=h,t.transitionToFirstLfgChannel=function(e){var t=r.default.find(h(e),function(e){var t=e.channel;return t.type===d.ChannelTypes.GUILD_TEXT&&(t.name.includes("lfg")||t.name.includes("find")||t.name.includes("looking"))});null!=t&&s.default.transitionToGuild(e,t.channel.id)},t.transitionToFirstAnnouncementChannel=function(e){var t=r.default.find(h(e),function(e){return e.channel.type===d.ChannelTypes.GUILD_ANNOUNCEMENT});null!=t&&s.default.transitionToGuild(e,t.channel.id)},t.transitionToGeneralChannel=function(e){var t=h(e),n=r.default.find(t,function(e){var t=e.channel;return t.type===d.ChannelTypes.GUILD_TEXT&&t.name.includes("general")});null==n&&(n=r.default.find(t,function(e){var t=e.channel;return t.type===d.ChannelTypes.GUILD_TEXT&&(t.name.includes("chat")||t.name.includes("minecraft"))}));null!=n&&s.default.transitionToGuild(e,n.channel.id)},t.GuildJoinIntentLocations=void 0;var r=c(n(6)),a=c(n(27)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(87)),l=c(n(19)),i=c(n(11)),u=c(n(15)),s=c(n(36)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}t.GuildJoinIntentLocations={LFG:"Channel - LFG",NEWS:"Channel - Announcement",STRATEGY:"Channel - Game Strategy",GENERAL:"Channel - General",CREATE_GUILD:"Create Server"};var f=["322850917248663552","302094807046684672","393088095840370689","309400144967761931","251072485095636994"],p="hasSeenServerIntentExperiment";function h(e){var t=o.default.getChannels(e);return null!=t?t[o.GUILD_SELECTABLE_CHANNELS_KEY]:[]}},7777:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=E(n(8)),l=E(n(197)),i=E(n(8847)),u=E(n(932)),s=E(n(58)),d=E(n(42)),c=E(n(8848)),f=E(n(65)),p=y(n(328)),h=E(n(6946)),v=E(n(929)),m=n(1),_=E(n(4)),g=E(n(6323));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.handleMouseEnter=function(){t.setState({hovered:!0})},t.handleMouseLeave=function(){t.setState({hovered:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var E=r.prototype;return E.renderActivity=function(){var e=this.props,t=e.activities,n=e.applicationStream,r=e.user,a=e.channel,o=this.state.hovered,l=null!=t?t.find(function(e){return e.type===m.ActivityTypes.CUSTOM_STATUS}):null,u=null!=l&&null!=r&&(0,i.default)(l,r,a);return I(v.default,{className:g.default.activity,textClassName:g.default.activityText,emojiClassName:g.default.activityEmoji,activities:t,applicationStream:n,animate:o,hideEmoji:!u,hideTooltip:!0})},E.renderOwner=function(){var e=this.props,t=e.ownerTooltipText,n=e.isOwner;return null!=n&&n?I(f.default,{text:t},void 0,function(e){return a.createElement(d.default,S({},e,{name:d.default.Names.CROWN,className:g.default.ownerIcon}))}):null},E.renderPremium=function(){var e=this.props,t=e.premiumSince,n=e.onClickPremiumGuildIcon;return null==t?null:I(f.default,{text:_.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TOOLTIP.format({date:t})},void 0,function(e){return I(s.default,{onClick:n},void 0,a.createElement(d.default,S({},e,{name:d.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,className:g.default.premiumIcon})))})},E.renderBot=function(){var e=this.props.user;return null!=e&&e.bot?I(u.default,{className:g.default.botTag}):null},E.renderDecorators=function(){return a.createElement(a.Fragment,null,this.renderBot(),this.renderOwner(),this.renderPremium())},E.renderAvatar=function(e,t){var n=this.props,r=n.status,a=n.isMobile,o=n.shouldAnimateStatus,i=n.isTyping,u=n.activities,s=o?p.AnimatedAvatar:p.default,d=(0,l.default)(u)?m.StatusTypes.STREAMING:r;return d=t?null:d,I(s,{size:p.Sizes.SIZE_32,src:e.getAvatarURL()||"",isMobile:a,isTyping:i,status:d,"aria-label":e.username,statusTooltip:!0})},E.render=function(){var e,t=this.props,n=t.colorString,r=t.nick,a=t.user,l=t.status,i=t.onClick,u=t.onContextMenu,s=t.selected,d=l===m.StatusTypes.OFFLINE;return null!=a?I(h.default,{selected:s,className:(0,o.default)(g.default.member,(e={},e[g.default.offline]=d&&!s,e)),onClick:i,onContextMenu:u,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,name:I("span",{className:g.default.roleColor,style:{color:n}},void 0,r||a.username),avatar:this.renderAvatar(a,d),subText:this.renderActivity(),decorators:this.renderDecorators(),"aria-controls":this.props["aria-controls"],"aria-expanded":this.props["aria-expanded"]}):I(c.default,{avatarSize:p.Sizes.SIZE_32,className:g.default.placeholder})},r}(a.PureComponent);T.displayName="MemberListItem",T.defaultProps={selected:!1,shouldAnimateStatus:!1,isTyping:!1,ownerTooltipText:_.default.Messages.GUILD_OWNER};var O=T;t.default=O},7778:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.BackgroundTransition=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=h(n(8)),i=h(n(6)),u=h(n(118)),s=n(29),d=h(n(263)),c=h(n(24)),f=n(1),p=h(n(6329));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _=((r={})[f.ChannelLayouts.NORMAL]=p.default.normal,r[f.ChannelLayouts.MINIMUM]=p.default.minimum,r[f.ChannelLayouts.NO_CHAT]=p.default.noChat,r[f.ChannelLayouts.FULL_SCREEN]=p.default.fullScreen,r),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={animation:new u.default.Value(0)},n}m(t,e);var n=t.prototype;return n.componentDidAppear=function(){this.state.animation.setValue(1)},n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0),u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)},n.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)},n.render=function(){return v(u.default.div,{className:p.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)},t}(o.PureComponent);t.BackgroundTransition=g,g.displayName="BackgroundTransition";var E=function(e){function t(t){var n;return(n=e.call(this,t)||this)._timeout=new s.Timeout,n.state={idle:!1,backgroundAnimation:new u.default.Value(0),layoutProp:t.layout},i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleMouseEvent"]),n}m(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0),document.addEventListener("mousemove",this.handleMouseEvent,!0)},n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0),document.removeEventListener("mousemove",this.handleMouseEvent,!0),this._timeout.stop()},t.getDerivedStateFromProps=function(e,t){return e.layout!==t.layoutProp?t.idle?{idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null},n.componentDidUpdate=function(e){this.props.layout!==e.layout&&this._timeout.stop()},n.handleMouseEvent=function(){var e=this,t=this.props.layout;t!==f.ChannelLayouts.FULL_SCREEN&&t!==f.ChannelLayouts.NO_CHAT||(this._timeout.start(3e3,function(){return e.setState({idle:!0})}),this.state.idle&&this.setState({idle:!1}))},n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(n||"");return v(d.default,{className:p.default.videoBackground,component:"div"},void 0,v(g,{},r,t))},n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,i=n.layout,u=n.focused,s=this.state.idle;return v(c.default,{className:(0,l.default)(p.default.video,_[i],(e={},e[p.default.idle]=s,e)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,v(c.default,{className:p.default.videoWrapper,direction:c.default.Direction.VERTICAL},void 0,this.renderBackground(),v(c.default,{className:(0,l.default)(p.default.videoInner,(t={},t[p.default.focused]=u,t)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,v(c.default,{className:p.default.videoTop,grow:0},void 0,r),v(c.default,{className:p.default.videoCenter},void 0,a),v(c.default,{className:p.default.videoBottom,grow:0},void 0,o))))},n.render=function(){var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return v("div",{className:(0,l.default)(p.default.videoHeight,_[n],r,(e={},e[p.default.animated]=a,e))},void 0,this.renderContents())},t}(o.PureComponent);E.displayName="Video",E.defaultProps={layout:f.ChannelLayouts.MINIMUM,animated:!0};var y=E;t.default=y},7779:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=m(n(0)),l=v(n(8)),i=v(n(58)),u=v(n(42)),s=v(n(65)),d=v(n(6949)),c=n(382),f=m(n(271)),p=n(1),h=v(n(6336));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=((r={})[p.ChannelModes.VIDEO]=h.default.video,r[p.ChannelModes.VOICE]=h.default.voice,r),y=function(){return o.createElement(o.Fragment,null,g("div",{className:(0,l.default)(h.default.ripple,h.default.ripple0)}),g("div",{className:(0,l.default)(h.default.ripple,h.default.ripple1)}),g("div",{className:(0,l.default)(h.default.ripple,h.default.ripple2)}))},S=g(y,{}),I=g(y,{}),T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderVideo=function(){var e=this.props,t=e.selected,n=e.streamId,r=e.hasVideo,a=e.mirror,o=e.videoComponent,l=e.poorConnection;return t||l?g("div",{className:h.default.callAvatarOverlay},void 0,g(u.default,l?{className:h.default.poorConnectionIcon,width:24,height:24,color:p.Colors.WHITE,name:u.default.Names.CAMERA_OFF}:{className:h.default.cameraIcon,width:36,height:36,color:p.Colors.WHITE,name:u.default.Names.VIDEO_CAMERA})):r&&null!=o?g("div",{className:h.default.callAvatarVideo},void 0,g(d.default,{mirror:a,streamId:n,videoComponent:o,fit:d.default.Fit.COVER})):null},a.renderStatus=function(){var e=this.props,t=e.mode,n=e.muted,r=e.deafen;return n||r?g(u.default,{className:(0,l.default)(h.default.callAvatarStatus,E[t]),name:r?u.default.Names.DEAFENED:u.default.Names.MUTED},"status"):null},a.renderBorder=function(){var e,t=this.props,n=t.mode,r=t.speaking,a=t.soundsharing,o=t.selected;return g("div",{className:(0,l.default)(h.default.callAvatarBorder,E[n],(e={},e[h.default.selected]=o,e[h.default.soundsharing]=a,e[h.default.notSoundsharing]=!a,e[h.default.speaking]=r,e[h.default.notSpeaking]=!r,e))},"border")},a.renderVoiceCallAvatar=function(){var e=this.props,t=e.src,n=e.disabled,r=e.muted,a=e.deafen,o=e.size,l=(0,c.getAvatarSize)(o),i=g("img",{src:t,alt:" ",className:h.default.callAvatarVoice});return n?i:g(f.default,{className:h.default.callAvatarMask,width:l,height:l,mask:r||a?f.MaskIDs.AVATAR_STATUS_ROUND_32:f.MaskIDs.AVATAR_DEFAULT},void 0,i,r||a?this.renderStatus():this.renderBorder())},a.renderVideoCallAvatar=function(){var e=this.props,t=e.src,n=e.disabled;return o.createElement(o.Fragment,null,g("img",{src:t,alt:" ",className:h.default.callAvatarVideo}),n?null:o.createElement(o.Fragment,null,this.renderVideo(),this.renderBorder(),this.renderStatus()))},a.render=function(){var e=this.props,t=e.mode,n=e.size,r=e.id,a=e.onClick,u=e.onContextMenu,d=e.className,f=e.disabled,v=e.name,m=e.ringing,y=t===p.ChannelModes.VOICE?this.renderVoiceCallAvatar():this.renderVideoCallAvatar(),T=(0,l.default)(h.default.callAvatarWrapper,E[t],d),O=(0,c.getAvatarSize)(n),N={height:O,width:f&&t===p.ChannelModes.VIDEO?O*c.VIDEO_RATIO:O},C=function(e){return u&&u(e,r)},A=function(e){return null!=a?o.createElement(i.default,_({},e,{style:N,onClick:function(e){return a(r,e)},onContextMenu:C,className:T}),m?S:null,y):o.createElement("div",_({},e,{style:N,onContextMenu:C,className:T}),m?I:null,y)};return t===p.ChannelModes.VOICE||f?A():g(s.default,{text:null!=v?v:null,position:s.default.Positions.LEFT},void 0,function(e){return o.createElement(A,e)})},r}(o.PureComponent);T.displayName="CallAvatar",T.defaultProps={mode:p.ChannelModes.VOICE,size:c.Sizes.DEPRECATED_SIZE_100,selected:!1,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,poorConnection:!1};var O=T;t.default=O},7780:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Rows=t.Row=void 0;var r=v(n(6)),a=v(n(3)),o=v(n(2)),l=v(n(285)),i=v(n(52)),u=v(n(98)),s=v(n(53)),d=v(n(19)),c=v(n(68)),f=v(n(51)),p=v(n(11)),h=n(1);function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function E(e){var t=p.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function y(e){return{status:c.default.getStatus(e),activities:c.default.getActivities(e),applicationStream:u.default.getStreamForUser(e)}}var S=function(e){function t(t){var n;return(n=e.call(this)||this).key=t.key,n.type=t.type,n.status=t.status,n.activities=t.activities,n.applicationStream=t.applicationStream,n.user=t.user,n.usernameLower=t.usernameLower,n.mutualGuildsLength=t.mutualGuildsLength,n.mutualGuilds=t.mutualGuilds,n}var n,r,a;return g(t,e),n=t,(r=[{key:"comparator",get:function(){return[this.type,this.usernameLower]}}])&&_(n.prototype,r),a&&_(n,a),t}(i.default);t.Row=S;var I=function(){function e(e){void 0===e&&(e=[]),this._rows=e}var t=e.prototype;return t.reset=function(){return new e(r.default.map(f.default.getRelationships(),function(e,t){return new S(m({key:t,type:e},E(t),y(t),function(e){var t=[];return(0,r.default)(s.default.memberOf(e)).map(d.default.getGuild).sortBy(function(e){return null!=e?e.name.toLowerCase():null}).forEach(function(e){null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}(t)))}))},t.clone=function(){return new e(this._rows)},t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r,this._rows[n]=a}return t},t.filter=function(e){return(0,r.default)(this._rows).filter(function(e){return null!=e.user}).filter(function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}}).sortBy(function(e){return e.comparator}).value()},t.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[h.RelationshipTypes.BLOCKED]=0,e);return this._rows.forEach(function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}),t},e}();t.Rows=I;var T=!0,O=!1,N=h.FriendsSections.ONLINE,C=new I,A=!0;function M(e){void 0===e&&(e=!1),T&&(e||N!==h.FriendsSections.ONLINE&&N!==h.FriendsSections.ADD_FRIEND)&&!O&&(T=!1,O=!0,l.default.fetchRelationships())}function P(){T=!0,A?O=!1:M();var e=(C=C.reset()).getRelationshipCounts();N=0===e[h.RelationshipTypes.FRIEND]?0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND:h.FriendsSections.ONLINE}function R(){C=A?new I:C.reset()}function b(e){return function(){return!A&&(!!C.update(e)&&(C=C.clone(),!0))}}var L=new(function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.initialize=function(){this.waitFor(f.default,c.default,p.default,d.default,s.default,u.default),this.syncWith([f.default],R),this.syncWith([p.default],b(E)),this.syncWith([c.default,u.default],b(y)),P()},n.getState=function(){return{fetching:O,section:N,pendingCount:f.default.getPendingCount(),rows:C}},t}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){P()},FRIENDS_SET_SECTION:function(e){N=e.section,M()},CHANNEL_SELECT:function(e){var t=e.channelId;return A=null!=t,R(),!A},LOAD_RELATIONSHIPS_SUCCESS:function(e){O=!1},LOAD_RELATIONSHIPS_FAILURE:function(e){return T=!0,void(O=!0)},DRAWER_SELECT_TAB:function(e){var t=e.tab;return A=t!==h.DrawerTabTypes.FRIENDS,R(),!A}});t.default=L},7781:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(473)),l=p(n(260)),i=p(n(6549)),u=p(n(36)),s=p(n(6530)),d=n(1),c=p(n(4)),f=p(n(6357));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=h(s.default.Divider,{}),_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleItemSelect=function(e){var n=t.props,r=n.analyticsContext;e!==n.currentRoute&&u.default.transitionTo(e,{state:{analyticsSource:v({},r.location,{section:d.AnalyticsSections.TABS,object:d.AnalyticsObjects.NAVIGATION_LINK})}})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.renderToolbar,n=e.currentRoute,r=null!=t?t():null;return h(s.default,{className:f.default.libraryHeader,toolbar:null!=r?r:null},void 0,h(s.default.Icon,{name:o.default.LIBRARY}),h(s.default.Title,{},void 0,c.default.Messages.LIBRARY),m,h(i.default,{type:i.default.Types.TOP_PILL,selectedItem:n,onItemSelect:this.handleItemSelect},void 0,h(i.default.Item,{id:d.Routes.APPLICATION_LIBRARY},void 0,c.default.Messages.APPLICATION_LIBRARY_MY_GAMES),h(i.default.Item,{id:d.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,c.default.Messages.APPLICATION_LIBRARY_INVENTORY)))},r}(a.PureComponent);_.displayName="ApplicationLibraryHeader";var g=(0,l.default)(_);t.default=g},7782:function(e,t,n){"use strict";t.__esModule=!0,t.fetchRedeemedGamePassPromotionCode=function(){return u.apply(this,arguments)},t.redeemGamePassPromotion=function(e){return s.apply(this,arguments)};var r,a=(r=n(12))&&r.__esModule?r:{default:r},o=n(1);function l(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)})}}function u(){return(u=i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.get(o.Endpoints.XBOX_GAME_PASS_PROMOTION);case 2:return t=e.sent,n=t.body.code,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(){return(s=i(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.post({url:o.Endpoints.XBOX_GAME_PASS_PROMOTION_REDEEM,body:{platform:t}});case 2:return n=e.sent,r=n.body.code,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},7783:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(8)),l=u(n(24)),i=u(n(6359));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.children,n=e.className,r=e.splashArtURL;return s(l.default,{className:(0,o.default)(i.default.header,n),align:l.default.Align.CENTER},void 0,s("div",{className:i.default.splashArt,style:null!=r?{backgroundImage:"url("+r+")"}:null}),t)};d.displayName="ActivityFeedCardHeader";var c=function(e){var t=e.children,n=e.className;return s("div",{className:(0,o.default)(i.default.body,n)},void 0,t)};c.displayName="ActivityFeedCardBody";var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave;return s("div",{className:(0,o.default)(i.default.card,n),onMouseEnter:r,onMouseLeave:a},void 0,t)},r}(a.PureComponent);f.displayName="ActivityFeedCard",f.Header=d,f.Body=c;var p=f;t.default=p},7784:function(e,t,n){"use strict";t.__esModule=!0,t.sortList=function(e,t){a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})},t.updateLibraryFilter=function(e){a.default.dispatch({type:o.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})},t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},7785:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(27)),o=u(n(2)),l=u(n(120)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d="channelNotices",c="lastHiddenChannelNotice",f={},p=0,h=!1,v=0;function m(){a.default.set(d,f),a.default.set(c,p)}var _=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){var e=a.default.get(d)||{};p=a.default.get(c)||0,Object.keys(i.ChannelNoticeTypes).forEach(function(e){return f[e]=!0}),Object.keys(e).forEach(function(t){f[t]&&"boolean"==typeof e[t]&&(f[t]=e[t])}),m()},o.getState=function(){return h?{connected:h,noticeStates:f,lastHidden:p}:{connected:h,noticeStates:{},lastHidden:0}},o.shouldShowInviteNotice=function(){return a.default.get("showInviteNotice")||!1},o.getVersion=function(){return v},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){return h=!0,void(v+=1)},CONNECTION_CLOSED:function(e){return h=!1,void(v+=1)},CHANNEL_NOTICE_HIDE:function(e){var t=e.noticeType;f[t]=!1,f=s({},f),t!==i.ChannelNoticeTypes.MFA_WARNING&&(p=Date.now()),m(),l.default.trackWithMetadata(i.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:t}),v+=1}});t.default=_},7786:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.StatusItem=t.PopoutMenuSeparator=t.PopoutMenuItemLabel=t.PopoutMenuItem=t.PopoutMenuIcon=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=d(n(8)),o=d(n(58)),l=d(n(42)),i=n(951),u=n(931),s=d(n(6371));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.name,n=e.className,r=e.children;return c("div",{className:s.default.iconContainer},void 0,c(l.default,{name:t,className:(0,a.default)(n,s.default.icon)}),r)};t.PopoutMenuIcon=f,f.displayName="PopoutMenuIcon",f.Names=l.default.Names;var p=function(e){var t=e.type,n=e.className,r=e.onClick,l=e.children;return c(o.default,{className:(0,a.default)(s.default.item,n,null!=t?s.default[t]:null),onClick:r},void 0,l)};t.PopoutMenuItem=p,p.displayName="PopoutMenuItem";var h=function(e){var t=e.children;return c("div",{className:s.default.label},void 0,t)};t.PopoutMenuItemLabel=h,h.displayName="PopoutMenuItemLabel";var v=function(){return c("div",{className:s.default.separator})};t.PopoutMenuSeparator=v,v.displayName="PopoutMenuSeparator";var m=function(e){var t=e.status,n=e.children,r=e.onSelect;return c(o.default,{onClick:function(){return r(t)},className:s.default.statusItem},void 0,c("div",{className:s.default.statusIconText},void 0,c(i.Status,{status:t,className:s.default.status,size:10}),c("div",{},void 0,(0,u.humanizeStatus)(t))),null!=n?c("div",{className:s.default.helper},void 0,n):null)};t.StatusItem=m,m.displayName="StatusItem";var _=function(e){var t=e.className,n=e.id,r=e.children;return c("div",{className:(0,a.default)(t,s.default.menu),id:n},void 0,r)};_.displayName="PopoutMenu";var g=_;t.default=g},7788:function(e,t,n){"use strict";t.__esModule=!0,t.ClearAfterValues=t.STATUS_MAX_LENGTH=void 0;t.STATUS_MAX_LENGTH=128;var r=Object.freeze({MINUTES_30:18e5,HOURS_4:144e5,TODAY:"TODAY"});t.ClearAfterValues=r},7789:function(e,t,n){"use strict";t.__esModule=!0,t.getUserSettingsSections=function(e){return ee(e).filter(function(e){var t=e.section;return t!==T.SectionTypes.HEADER&&t!==T.SectionTypes.CUSTOM&&t!==T.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})},t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=X(n(3)),l=X(n(853)),i=X(n(6847)),u=n(264),s=X(n(30)),d=X(n(329)),c=X(n(120)),f=X(n(856)),p=X(n(903)),h=X(n(40)),v=X(n(484)),m=X(n(1014)),_=X(n(25)),g=X(n(11)),E=X(n(71)),y=X(n(13)),S=X(n(331)),I=X(n(6701)),T=n(6546),O=X(n(155)),N=X(n(8972)),C=X(n(8973)),A=X(n(8990)),M=X(n(8994)),P=X(n(8996)),R=X(n(9001)),b=X(n(9004)),L=X(n(9007)),D=X(n(9009)),w=X(n(9010)),U=X(n(9013)),G=X(n(9016)),k=X(n(9033)),F=X(n(9036)),B=X(n(9038)),j=X(n(9039)),H=X(n(6956)),V=X(n(9040)),x=X(n(9047)),Y=X(n(9048)),W=X(n(9050)),z=X(n(9051)),K=X(n(9062)),$=n(1),Q=X(n(4));function X(e){return e&&e.__esModule?e:{default:e}}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Z=K.default;function ee(e){var t=e.user;return[{section:T.SectionTypes.HEADER,label:Q.default.Messages.USER_SETTINGS},{section:$.UserSettingsSections.ACCOUNT,label:Q.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:C.default},{section:$.UserSettingsSections.PRIVACY_AND_SAFETY,label:Q.default.Messages.PRIVACY_AND_SAFETY,element:x.default},{section:$.UserSettingsSections.AUTHORIZED_APPS,label:Q.default.Messages.AUTHORIZED_APPS,element:P.default},{section:$.UserSettingsSections.CONNECTIONS,label:Q.default.Messages.CONNECTIONS,element:b.default},{section:$.UserSettingsSections.BILLING,label:Q.default.Messages.BILLING,element:R.default},{section:T.SectionTypes.DIVIDER},{section:$.UserSettingsSections.PREMIUM,label:t.hasPremiumSubscription?Q.default.Messages.SUBSCRIPTIONS_TITLE:Q.default.Messages.PREMIUM_TITLE,element:H.default,color:$.Colors.BRAND},{section:$.UserSettingsSections.PREMIUM_GUILD_SUBSCRIPTION,label:Q.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:V.default},{section:$.UserSettingsSections.HYPESQUAD_ONLINE,label:Q.default.Messages.USER_SETTINGS_HYPESQUAD,element:G.default},{section:T.SectionTypes.DIVIDER},{section:T.SectionTypes.HEADER,label:Q.default.Messages.APP_SETTINGS},{section:$.UserSettingsSections.VOICE,label:Q.default.Messages.VOICE_AND_VIDEO,element:z.default,predicate:function(){return h.default.isSupported()}},{section:$.UserSettingsSections.OVERLAY,label:Q.default.Messages.OVERLAY,element:j.default,predicate:function(){return v.default.isSupported()}},{section:$.UserSettingsSections.NOTIFICATIONS,label:Q.default.Messages.NOTIFICATIONS,element:B.default},{section:$.UserSettingsSections.KEYBINDS,label:Q.default.Messages.KEYBINDS,element:k.default,predicate:function(){return y.default.embedded||!1}},{section:$.UserSettingsSections.GAME_ACTIVITY,label:Q.default.Messages.USER_SETTINGS_GAME_ACTIVITY,element:w.default,predicate:function(){return y.default.embedded||!1}},{section:$.UserSettingsSections.ACTIVITY_FEED,label:Q.default.Messages.USER_SETTINGS_ACTIVITY_FEED,element:A.default},{section:$.UserSettingsSections.GAME_LIBRARY,label:Q.default.Messages.USER_SETTINGS_GAME_LIBRARY,element:U.default,predicate:function(){return y.default.isWindows()||!1}},{section:$.UserSettingsSections.TEXT,label:Q.default.Messages.TEXT_AND_IMAGES,element:W.default},{section:$.UserSettingsSections.APPEARANCE,label:Q.default.Messages.APPEARANCE,element:M.default},{section:$.UserSettingsSections.STREAMER_MODE,label:Q.default.Messages.STREAMER_MODE,element:Y.default},{section:$.UserSettingsSections.LOCALE,label:Q.default.Messages.LANGUAGE,element:F.default},{section:$.UserSettingsSections.WINDOWS,label:Q.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:K.default,predicate:function(){return y.default.embedded&&y.default.isWindows()}},{section:$.UserSettingsSections.LINUX,label:Q.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:Z,predicate:function(){return y.default.embedded&&y.default.isLinux()}},{section:T.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return i.default.showChangeLog()},label:Q.default.Messages.CHANGE_LOG},{section:$.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:D.default,predicate:function(){return p.default.isDeveloper}},{section:$.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:L.default,predicate:function(){return p.default.isDeveloper}},{section:T.SectionTypes.DIVIDER},{section:"logout",onClick:function(){s.default.push(function(e){return a.createElement(O.default,q({header:Q.default.Messages.LOGOUT,confirmText:Q.default.Messages.LOGOUT,cancelText:Q.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}},e),J(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,Q.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},label:Q.default.Messages.LOGOUT,color:$.Colors.STATUS_RED},{section:T.SectionTypes.DIVIDER},{section:T.SectionTypes.CUSTOM,element:N.default}]}function te(e,t){void 0===t&&(t=null),c.default.trackWithMetadata($.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e})}var ne=o.default.connectStores([g.default,m.default,_.default,f.default],function(){return{user:g.default.getCurrentUser(),theme:_.default.theme,sidebarTheme:f.default.darkSidebar?$.ThemeTypes.DARK:void 0,section:m.default.getSection()}})(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){te(this.props.section)},a.componentDidUpdate=function(e){var t=e.section,n=this.props.section;n!==t&&te(n,t)},a.generateSections=function(){return ee({user:this.props.user})},a.render=function(){var e=this.props,t=e.theme,n=e.sidebarTheme,r=e.section;return J(S.default,{root:!0,page:$.AnalyticsPages.USER_SETTINGS},void 0,J(I.default,{theme:t,sidebarTheme:n,section:r,onSetSection:d.default.setSection,onClose:u.popLayer,sections:this.generateSections()}))},r}(a.PureComponent));t.default=ne},7790:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(2)),o=i(n(11)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={avatar:null,discriminator:"",username:"",email:"",password:"",newPassword:null},d=l.FormStates.CLOSED,c=null,f=null,p=u({},s),h=!1,v=null,m=null,_=null;function g(){d=l.FormStates.OPEN,c={},f=o.default.getCurrentUser(),p=u({},s),h=null!=f.email,v=f.verified,_=!1,h?m=!1:E({isEditingProfile:!0})}function E(e){(m=e.isEditingProfile)&&null!=f?p={avatar:f.avatar,discriminator:f.discriminator,username:f.username,email:f.email,password:"",newPassword:null}:(d=l.FormStates.OPEN,p=u({},s),c={},_=!1)}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getState=function(){return{formState:d,errors:c,user:f,accountInfo:p,claimed:h,verified:v,isEditingProfile:m,isEditingPassword:_}},r}(r.default.Store))(a.default,{USER_SETTINGS_ACCOUNT_INIT:function(e){return g()},USER_SETTINGS_MODAL_INIT:function(e){return g()},USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS:function(e){return g()},USER_SETTINGS_MODAL_SET_SECTION:function(e){return e.section===l.UserSettingsSections.ACCOUNT&&g()},USER_SETTINGS_ACCOUNT_CLOSE:function(e){return d=l.FormStates.CLOSED,c=null,f=null,p=u({},s),h=!1,v=null,m=null,void(_=null)},USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PROFILE:E,USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PASSWORD:function(e){var t=null;(_=e.isEditingPassword)&&(t=""),p=u({},p,{newPassword:t})},USER_SETTINGS_ACCOUNT_UPDATE_INFO:function(e){var t=e.update;p=u({},p,t)},USER_SETTINGS_ACCOUNT_SUBMIT:function(e){return d=l.FormStates.SUBMITTING,void(c={})},USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE:function(e){if(d!==l.FormStates.SUBMITTING)return!1;d=l.FormStates.OPEN,c=e.errors||{}},CURRENT_USER_UPDATE:function(e){var t=e.user;h=null!=t.email;var n=!v;v=t.verified,n&&v&&E({isEditingProfile:!1})}});t.default=y},7791:function(e,t,n){"use strict";t.__esModule=!0,t.generateTotpSecret=function(){return void 0===e&&(e=10),t=o.getRandomValues(new Uint8Array(e)),a.default.encode(t).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e;var t},t.encodeTotpSecret=i,t.encodeTotpSecretAsUrl=function(e,t,n){void 0===n&&(n="Discord");return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+i(t)+"&issuer="+encodeURIComponent(n)},t.hasCrypto=void 0;var r,a=(r=n(8975))&&r.__esModule?r:{default:r};var o=window&&window.crypto||window.msCrypto,l=o&&"getRandomValues"in o&&"Uint8Array"in window;function i(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}t.hasCrypto=l},7792:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(8977),o=i(n(109)),l=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.getFileContents=function(){var e=this.props.fileContents;return"function"==typeof e&&(e=e()),e},u.handleFileDownload=function(e){e.preventDefault();var t=this.getFileContents(),n=this.props.fileName;l.default.embedded?this.downloadNative(t,n):this.downloadHtml5(t,n)},u.downloadNative=function(e,t){o.default.fileManager.saveWithDialog(e,t)},u.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,a.saveAs)(n,t)},u.render=function(){var e=this.props.children,t=r.Children.only(e);return r.cloneElement(t,{onClick:this.handleFileDownload.bind(this)})},i}(r.Component);t.default=u,u.displayName="FileDownloader"},7793:function(e,t,n){e.exports=n.p+"0694f38cb0b10cc3b5b89366a0893768.svg"},7794:function(e,t,n){"use strict";t.__esModule=!0,t.getHouseNameFromHouseID=t.getQuestions=t.getRandomHouse=void 0;var r=l(n(16)),a=n(1),o=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}t.getRandomHouse=function(){var e=Object.keys(a.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]};t.getQuestions=function(){var e=[a.HypeSquadHouses.HOUSE_1,a.HypeSquadHouses.HOUSE_2,a.HypeSquadHouses.HOUSE_3,a.RANDOM_HYPESQUAD_HOUSE],t=[o.default.Messages.HYPESQUAD_QUESTION_0_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_1_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_2_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_3_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_4_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_5_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_6_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_7_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_8_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_9_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_10_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_11_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_12_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_13_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]];return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map(function(a){var o=t[a],l=n[a];return(0,r.default)(null!=o&&null!=l,"Invalid HypeSquad quiz question index"),{prompt:o,options:l.map(function(t,n){var a=e[n];return(0,r.default)(null!==a,"Invalid HypeSquad quiz question option index"),{copy:t,house:a}})}})};t.getHouseNameFromHouseID=function(e){var t;return((t={})[a.HypeSquadHouses.HOUSE_1]=o.default.Messages.HYPESQUAD_HOUSE_1,t[a.HypeSquadHouses.HOUSE_2]=o.default.Messages.HYPESQUAD_HOUSE_2,t[a.HypeSquadHouses.HOUSE_3]=o.default.Messages.HYPESQUAD_HOUSE_3,t)[e]}},7795:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=u(n(12)),o=u(n(2)),l=n(237),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[i.HypeSquadHouses.HOUSE_1]=1,r[i.HypeSquadHouses.HOUSE_2]=2,r[i.HypeSquadHouses.HOUSE_3]=3,r),d={joinHypeSquadOnline:function(e){return a.default.post({url:i.Endpoints.HYPESQUAD_ONLINE,body:{house_id:s[e.houseID]}}).then(function(){return o.default.dispatch({type:i.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})}).catch(function(e){throw new l.APIError(e)})},leaveHypeSquadOnline:function(){return a.default.delete({url:i.Endpoints.HYPESQUAD_ONLINE}).then(function(){return o.default.dispatch({type:i.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})}).catch(function(e){throw new l.APIError(e)})}};t.default=d},7796:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={addKeybind:function(){a.default.dispatch({type:o.ActionTypes.KEYBINDS_ADD_KEYBIND})},setKeybind:function(e){a.default.dispatch({type:o.ActionTypes.KEYBINDS_SET_KEYBIND,keybind:e})},deleteKeybind:function(e){a.default.dispatch({type:o.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){a.default.dirtyDispatch({type:o.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}};t.default=l},7797:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(6963)),i=c(n(900)),u=n(6534),s=n(1),d=c(n(6412));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderIcon=function(e){return e===s.PremiumGuildTiers.NONE?f(i.default,{tier:s.PremiumGuildTiers.TIER_1,className:d.default.gemWithoutLabel}):f(i.default,{tier:e,className:d.default.gemWithLabel})},a.render=function(){var e=this.props,t=e.className,n=e.subscriberCount,r=(0,u.getGuildTierFromSubscriberCount)(n),a=(0,u.getNextGuildTierFromSubscriberCount)(n),i=null!=a?s.PremiumGuildSubscriptionsRequired[a]:null,c=null!=i&&i>0?n/i*100:100;return f(l.default,{background:d.default.progressBackground,percent:c,strokeSize:l.default.StrokeSizes.SMALL,className:(0,o.default)(d.default.gemIndicatorProgressCircle,t)},void 0,f("div",{className:d.default.gemIndicatorContainer},void 0,this.renderIcon(r),f("div",{className:d.default.tierLabel},void 0,(0,u.getTierName)(r))))},r}(a.Component);p.displayName="PremiumGuildGemIndicator";var h=p;t.default=h},7798:function(e,t,n){"use strict";t.__esModule=!0,t.getSanitizedRestrictedGuilds=function(){var e=o.default.restrictedGuilds;0===r.default.totalUnavailableGuilds&&(e=e.filter(function(e){return null!=a.default.getGuild(e)}));return e},t.computeFlags=function(){var e,t,n=o.default.friendSourceFlags;return n[i.FriendSourceFlagKeys.ALL]?((t={})[i.FriendSourceFlagKeys.ALL]=!0,t[i.FriendSourceFlagKeys.FRIENDS]=!0,t[i.FriendSourceFlagKeys.GUILDS]=!0,t):((e={})[i.FriendSourceFlagKeys.ALL]=!1,e[i.FriendSourceFlagKeys.FRIENDS]=!!n[i.FriendSourceFlagKeys.FRIENDS],e[i.FriendSourceFlagKeys.GUILDS]=!!n[i.FriendSourceFlagKeys.GUILDS],e)},t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()},t.trackPaneViewed=function(e){l.default.track(i.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",destination_pane:e})};var r=u(n(273)),a=u(n(19)),o=u(n(25)),l=u(n(15)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s=864e5*i.REQUEST_DATA_LIMIT_DAYS},7799:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=d(n(3)),o=d(n(2)),l=d(n(73)),i=d(n(6715)),u=d(n(14)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p,h,v=new Set,m=s.FormStates.CLOSED,_=!1,g=null,E=null,y=null,S=null,I=null,T=null;function O(){if(y=i.default.getChannel(),S=i.default.getCategory(),null==y)return!1;var e=y.getGuildId();E=g=function(e){var t=e.getGuildId(),n=f({},e.permissionOverwrites);return null!=t&&null==n[t]&&(n[t]=l.default.makeEveryoneOverwrite(t)),n}(y),null==g[I]&&(I=e),h=null!=S,p=l.default.areChannelsLocked(y,S),T=null,_=!1,m=s.FormStates.CLOSED,v.clear()}var N=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,l,s=r.prototype;return s.initialize=function(){this.waitFor(i.default,u.default)},s.hasChanges=function(){return _},s.showNotice=function(){return this.hasChanges()},s.getPermissionOverwrite=function(e){return g&&g[e]},a=r,(o=[{key:"editedPermissionIds",get:function(){return Array.from(v)}},{key:"permissionOverwrites",get:function(){return g}},{key:"selectedOverwriteId",get:function(){return I}},{key:"formState",get:function(){return m}},{key:"isLockable",get:function(){return h}},{key:"locked",get:function(){return p}},{key:"channel",get:function(){return y}},{key:"category",get:function(){return S}}])&&c(a.prototype,o),l&&c(a,l),r}(a.default.Store))(o.default,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=y||t!==s.ChannelSettingsSections.PERMISSIONS)return!1;O()},CHANNEL_SETTINGS_PERMISSIONS_INIT:function(e){return O()},CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t,n=e.id,a=e.allow,o=e.deny,i=g&&g[n];if(null==i||null==y)return!1;i=f({},i,{allow:a,deny:o}),g=f({},g,((t={})[n]=i,t)),v.add(n),m=s.FormStates.OPEN,_=!r.default.isEqual(g,E),p=l.default.areChannelsLocked(y,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=g&&null!=g[t])I=t;else{if(null==y)return!1;T=t}},CHANNEL_SETTINGS_CLOSE:function(e){return m=s.FormStates.CLOSED,g=null,E=null,y=null,S=null,_=!1,v.clear(),I=null,void(T=null)},CHANNEL_UPDATE:function(e){return function(e){if(null==y||y.id!==e)return!1;if(null==(y=u.default.getChannel(e)))return!1;S=i.default.getCategory();var t=y.getGuildId();if(null==t)return!1;var n={};v.forEach(function(e){null!=g&&(n[e]=g[e])}),null==n[t]&&null==y.permissionOverwrites[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));null==(g=f({},y.permissionOverwrites,n))[I]?I=t:T&&g[T]&&(I=T,T=null);p=l.default.areChannelsLocked(y,S)}(e.channel.id)},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(e){m=s.FormStates.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){return m=s.FormStates.CLOSED,void O()}});t.default=N},7800:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(0)),o=f(n(8)),l=f(n(24)),i=f(n(42)),u=f(n(332)),s=p(n(258)),d=n(1),c=f(n(5950));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=["firCount","nackCount"],m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderValueIcon=function(){var e=this.props.label;return v.includes(e)?h(i.default,{name:i.default.Names.WARNING_BOX,color:d.Colors.STATUS_YELLOW,className:c.default.valueIcon}):null},a.render=function(){var e=this.props,t=e.children,n=e.className,r=e.valueRendered,a=e.section,i=e.label,d=e.renderGraph;return h(l.default,{className:(0,o.default)(c.default.item,n),direction:l.default.Direction.VERTICAL,basis:"50%"},void 0,h(l.default,{align:l.default.Align.START},void 0,h(l.default.Child,{},void 0,h("h3",{className:c.default.title},void 0,t)),Array.isArray(r)?h(l.default.Child,{grow:1},void 0,r):h(l.default.Child,{grow:0,shrink:0},void 0,this.renderValueIcon(),h("span",{className:c.default.itemValue},void 0,r))),d&&h(l.default.Child,{className:c.default.graph},null!=a?a+"-"+i:i,h(s.default,{type:s.Types.DESCRIPTION},void 0,d())),h(u.default,{className:c.default.divider}))},r}(a.PureComponent);t.default=m,m.displayName="RTCDebugItem"},7801:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={open:function(){a.default.dispatch({type:o.ActionTypes.EMAIL_VERIFICATION_MODAL_OPEN})},close:function(){a.default.dispatch({type:o.ActionTypes.EMAIL_VERIFICATION_MODAL_CLOSE})}};t.default=l},7802:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(8)),l=p(n(15)),i=p(n(21)),u=p(n(24)),s=p(n(223)),d=n(1),c=p(n(4)),f=p(n(6438));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _=Object.freeze({WAVES:"waves",SHAPES:"shapes"}),g=Object.freeze({CENTER:"center",LEFT:"left"}),E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={confirmed:!1},t.handleDismiss=function(){var e=t.props.onClickComplete;t.setState({confirmed:!0},function(){return e&&e()})},t}m(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.uniqueId;l.default.track(d.AnalyticEvents.SHOW_TUTORIAL,{tutorial:e})},n.componentWillUnmount=function(){l.default.track(d.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})},n.render=function(){var e,t,n=this.props,r=n.background,l=n.renderMedia,s=n.textAlign,p=n.isLongText,h=n.title,m=n.body,E=n.forceTheme,y=n.onClickSkipAll,S=function(e){switch(e){case _.SHAPES:return O;case _.WAVES:default:return C}}(r),I="string"==typeof m?"p":"div",T=s===g.LEFT||p,N=s===g.CENTER||!T;return v(a.Fragment,{},void 0,v(S,{width:p?400:340}),null!=l&&v(u.default,{className:f.default.mediaContainer,justify:T?u.default.Justify.START:u.default.Justify.CENTER},void 0,l()),v("h4",{className:(0,o.default)((e={},e[f.default.titleCenter]=N,e[f.default.titleLeft]=T,e))},void 0,h),v(I,{className:(0,o.default)((t={},t[f.default.bodyCenter]=N,t[f.default.bodyLeft]=T,t))},void 0,m),v(u.default,{className:f.default.buttonContainer,justify:T?u.default.Justify.BETWEEN:u.default.Justify.CENTER},void 0,v(i.default,{onClick:this.handleDismiss},void 0,c.default.Messages.TUTORIAL_CLOSE),v(i.default,{look:i.default.Looks.BLANK,onClick:y,color:E===d.ThemeTypes.LIGHT?i.default.Colors.PRIMARY:i.default.Colors.WHITE,className:T?f.default.buttonSkipLeftAlign:f.default.buttonSkipCenterAlign},void 0,c.default.Messages.SKIP_ALL_TIPS)))},t}(a.PureComponent);E.displayName="TutorialPopoutContent";var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).popoutRef=a.createRef(),t.onClickComplete=function(){t.popoutRef.current&&t.popoutRef.current.close(),t.props.onComplete()},t.onClickSkipAll=function(){var e=t.props,n=e.onSkipAll,r=e.uniqueId;t.popoutRef.current&&t.popoutRef.current.close(),n(),l.default.track(d.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:r})},t.renderChildren=function(){return a.createElement(E,h({},t.props,{onClickComplete:t.onClickComplete,onClickSkipAll:t.onClickSkipAll}))},t}return m(t,e),t.prototype.render=function(){var e,t=this.props,n=(t.background,t.renderMedia),r=(t.textAlign,t.onComplete,t.onSkipAll,t.isLongText),l=(t.title,t.body,t.forceTheme),i=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["background","renderMedia","textAlign","onComplete","onSkipAll","isLongText","title","body","forceTheme"]),u=null!=n;return a.createElement(s.default,h({forceTheme:l,ref:this.popoutRef},i,{render:this.renderChildren,containerClass:(0,o.default)((e={},e[f.default.topArrow]=i.position===s.default.Positions.BOTTOM,e[f.default.contentNarrowNoMedia]=!r&&!u,e[f.default.contentNarrowWithMedia]=!r&&u,e[f.default.contentWideNoMedia]=r&&!u,e[f.default.contentWideWithMedia]=r&&u,e[f.default.leftArrow]=i.position===s.default.Positions.RIGHT,e[f.default.rightArrow]=i.position===s.default.Positions.LEFT,e))}))},t}(a.PureComponent);t.default=y,y.displayName="TutorialPopout",y.Backgrounds=_,y.TextAlignments=g,y.defaultProps={background:_.WAVES,textAlign:g.LEFT};var S=v("ellipse",{cx:"247.455621",cy:"59",rx:"12.0710059",ry:"12"}),I=v("path",{d:"M23.258803 91.8945393v63.2274477H.106085V91.8945393zM55.3254436 73l15.0887576 14.9990739-15.0887576 14.9990741-15.0887572-14.9990741zM301.830473 108.016525l19.167752 19.053824-19.167752 19.053824-19.167751-19.053824zM310.106491 12.7308797L347.250401 0l73.222972 211.677377-37.14391 12.73088c-5.669616 1.943231-11.84832-1.056472-13.800527-6.700024-1.105801-3.19672-.64499-6.724348 1.245323-9.53328 7.52592-11.183222 4.519219-26.321932-6.715649-33.813255-1.853129-1.235653-3.86719-2.21346-5.986296-2.90629l-1.266377-.414034c-11.577042-3.78505-17.879527-16.195341-14.076994-27.719162.763673-2.314364 1.908841-4.486137 3.388596-6.426376 7.368113-9.660951 5.473231-23.438275-4.23234-30.772514-1.949201-1.472958-4.131001-2.61286-6.456051-3.373023l-2.532755-.828069c-11.577041-3.7850497-17.879527-16.1953414-14.076994-27.7191616.763673-2.3143643 1.908841-4.4861373 3.388602-6.4263759 7.368107-9.6609513 5.473225-23.4382753-4.232346-30.7725142-1.949195-1.4729574-4.131001-2.61286-6.456051-3.3730228l-1.266377-.4140345c-5.696874-1.8625623-8.798225-7.9694667-6.927065-13.6401535 1.059897-3.2120905 3.568845-5.7453686 6.780329-6.8460878z"}),T=v("g",{transform:"translate(21.12426 38)"},void 0,v("ellipse",{cx:"43.7573964",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"29.6745562",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"16.5976331",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"2.5147929",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"56.8343195",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"70.9171598",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"83.9940828",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"43.7573964",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"29.6745562",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"16.5976331",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"2.5147929",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"56.8343195",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"70.9171598",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"83.9940828",cy:"15.5",rx:"2.5147929",ry:"2.5"})),O=function(e){var t=e.width,n=void 0===t?340:t;return v("svg",{width:n,height:127*n/340,xmlns:"http://www.w3.org/2000/svg",className:f.default.background,viewBox:"0 0 340 127"},void 0,v("g",{transform:"translate(-7.04142 -38)",fill:"currentColor",fillRule:"evenodd",opacity:".05",viewBox:"0 0 340 127"},void 0,S,I,T))};O.displayName="BackgroundShapes";var N=v("g",{fill:"currentColor",fillRule:"evenodd",opacity:".05"},void 0,v("path",{d:"M280.695615-49.9359481l36.925416-12.73087973L390.41328 149.01055l-36.925417 12.730879c-5.636265 1.943231-11.778624-1.056472-13.719347-6.700024-1.099296-3.19672-.641196-6.724348 1.237998-9.53328 7.481649-11.183222 4.492635-26.321932-6.676146-33.813255-1.842228-1.235652-3.844441-2.21346-5.951082-2.90629l-1.258928-.414034c-11.508941-3.78505-17.774353-16.195341-13.994188-27.719162.759181-2.314364 1.897613-4.486137 3.368664-6.426376 7.32477-9.660951 5.441035-23.438275-4.207445-30.772514-1.937735-1.472957-4.106701-2.61286-6.418074-3.373023l-2.517856-.828069c-11.508941-3.78505-17.774353-16.1953413-13.994188-27.7191614.75918-2.3143643 1.897612-4.4861373 3.368669-6.4263759 7.324765-9.6609514 5.441029-23.4382753-4.20745-30.7725142-1.937729-1.4729574-4.106701-2.61286-6.418075-3.3730229l-1.258928-.4140344c-5.663362-1.8625623-8.74647-7.9694667-6.886317-13.6401535 1.053663-3.2120906 3.547852-5.7453687 6.740445-6.8460878zM-68.01869077 79.49585842l-20.12990526-33.47160903L103.76876345-69.18751479l20.1299054 33.47160828c3.07261115 5.10907886 1.4155271 11.7408859-3.70119977 14.81255967-2.89830828 1.7399104-6.44409251 2.02525587-9.582349.77113657-12.49436526-4.9930352-26.68080717 1.07817647-31.68630566 13.56042624-.82563028 2.0588776-1.36578616 4.22063593-1.60548107 6.42528824l-.1432415 1.31750012C75.87059765 13.2154035 65.0341537 21.92414581 52.97621631 20.62252338c-2.42163296-.26140655-4.78264084-.92342409-6.98632868-1.95893093-10.97274225-5.15608238-24.05734793-.4490438-29.22528443 10.51346677-1.03789209 2.20163593-1.70193171 4.5602038-1.96492152 6.97911517l-.28648198 2.63500013C13.20370582 50.83557372 2.36726115 59.54431607-9.69067645 58.24269359c-2.42163243-.26140738-4.78264026-.92342472-6.98632986-1.95893691-10.97274063-5.1560767-24.05734639-.4490385-29.22528288 10.51347247-1.03789322 2.20163034-1.70193166 4.56020379-1.9649215 6.97911506l-.14324096 1.31750011c-.64438158 5.92685282-5.9768212 10.21228442-11.91033757 9.57178193-3.36096731-.362806-6.35745842-2.27579363-8.09790155-5.16976783z"})),C=function(e){var t=e.width,n=void 0===t?340:t;return v("svg",{width:n,height:156*n/340,xmlns:"http://www.w3.org/2000/svg",className:f.default.background,viewBox:"0 0 340 156"},void 0,N)};C.displayName="BackgroundWaves"},7803:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(333));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,a(n(6711)).default)(r.default.NITRO_RETENTION_MODAL,"Nitro Retention: Modal",["Control: Shows no modal","Treatment 1: Shows a generic modal to subscriptions past due","Treatment 2: Shows a modal focusing on boosting, custom tag, or custom emoji based on usage to subscriptions past due"]);t.default=o},7804:function(e,t,n){"use strict";t.__esModule=!0,t.nextStep=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.HOMEPAGE_NUF_NEXT,isSkip:e,autoAdvance:t})},t.dismiss=function(e){void 0===e&&(e=!1);a.default.dispatch({type:o.ActionTypes.HOMEPAGE_NUF_DISMISS,isSkip:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},7805:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LHeading=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=T(n(8)),l=T(n(5)),i=T(n(6847)),u=T(n(878)),s=T(n(7017)),d=n(6637),c=T(n(24)),f=T(n(71)),p=T(n(66)),h=T(n(869)),v=T(n(15)),m=T(n(9155)),_=T(n(6628)),g=n(6614),E=T(n(6951)),y=n(1),S=T(n(4)),I=T(n(6452));function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=u.default.reactParserFor(m.default.getDefaultRules());t.LHeading=function(e){var t,n=e.level,r=e.children,l=e.className;return a.createElement("h"+n,{className:o.default.apply(void 0,(t=l,null==t?[]:t.split(" ").map(function(e){return I.default[e]})))},r)};var A={},M=function(e){var t,r;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).getScrollerRef=function(e){t._scrollerNode=null!=e?e._scroller:null},t.handleScroll=function(){if(null!=t._scrollerNode){var e=t._scrollerNode.getScrollData(),n=e.offsetHeight,r=e.scrollHeight,a=e.scrollTop/(r-n);t.maxScrolledPercentage=Math.max(t.maxScrolledPercentage,a)}},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=o.prototype;return u.close=function(){i.default.hideChangeLog()},u.track=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var r=s.default.changeLog;if(r){var a=r.id,o=r.date,l=N({change_log_id:(a||o)+":"+r.revision},t);n||(l=N({seconds_open:Math.round((Date.now()-this.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(this.maxScrolledPercentage.toPrecision(4),10)},l)),v.default.track(e,l)}},u.joinEligibleExperiment=function(){var e=s.default.changeLog;null!=e&&e.experiment_names&&_.default.triggerFirstEligibleUserExperiment(e.experiment_names)},u.componentDidMount=function(){var e=s.default.changeLog,t=s.default.changeLogSource;if(null==e)return this.close();this.mountedAt=Date.now(),this.maxScrolledPercentage=0,this.joinEligibleExperiment(),this.track(y.AnalyticEvents.CHANGE_LOG_OPENED,N({},t),!0)},u.componentWillUnmount=function(){this.track(y.AnalyticEvents.CHANGE_LOG_CLOSED)},u.renderHeader=function(){var e=s.default.changeLog;return null==e?null:O(c.default.Child,{grow:1,shrink:1},void 0,O(p.default,{tag:p.default.Tags.H4},void 0,S.default.Messages.WHATS_NEW),O(f.default,{size:f.default.Sizes.SMALL,color:f.default.Colors.PRIMARY,className:I.default.date},void 0,S.default.Messages.WHATS_NEW_DATE.format({date:e.date?(0,l.default)(e.date).toDate():new Date})))},u.renderFooter=function(){return O(f.default,{size:f.default.Sizes.SMALL,color:f.default.Colors.PRIMARY},void 0,S.default.Messages.MISSED_AN_UPDATE.format({link:"https://blog.discordapp.com/tagged/changelog"}))},u.renderVideo=function(){var e=s.default.changeLog;if(null==e)return null;var t=e.youtube_video_id,r=e.video,a=e.image;if(t)return O(d.EmbedVideo,{className:I.default.video,allowFullScreen:!1,href:"https://youtu.be/"+t,thumbnail:{url:"https://i.ytimg.com/vi/"+t+"/maxresdefault.jpg",width:451,height:254},video:{url:"https://www.youtube.com/embed/"+t+"?vq=large&rel=0&controls=0&showinfo=0",width:451,height:254},maxWidth:451,maxHeight:254,renderVideoComponent:g.renderVideoComponent,renderImageComponent:g.renderImageComponent,renderLinkComponent:g.renderMaskedLinkComponent});if(r){var o=r.startsWith("https://")?r:n(7376)("./"+r);return O(h.default,{src:o,poster:a,width:451,height:254,loop:!0,muted:!0,autoPlay:!0,className:I.default.video})}return a?O("img",{alt:"",src:n(7376)("./"+a),width:451,height:254}):null},u.render=function(){var e=s.default.changeLog||{};return a.createElement(E.default,{className:I.default.container,ref:this.getScrollerRef,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},this.renderVideo(),C(e.body,!1,{changeLog:this,interpolations:A}))},o}(a.PureComponent);M.displayName="ChangeLog",M.modalConfig={store:s.default,center:!0};var P=M;t.default=P},8248:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(2)),a=n(167),o=s(n(384)),l=s(n(10)),i=s(n(50)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var d=new(function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){var e=l.default.isGuest();i.default.fetched||e||(0,a.fetchLibrary)()},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s._initialize=function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)},s._terminate=function(){r.default.unsubscribe(u.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)},o}(o.default));t.default=d},8249:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(29),a=p(n(2)),o=p(n(107)),l=p(n(384)),i=p(n(98)),u=p(n(19)),s=p(n(397)),d=p(n(191)),c=p(n(13)),f=n(1);function p(e){return e&&e.__esModule?e:{default:e}}var h=new r.Timeout,v=new r.Timeout,m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l._initialize=function(){a.default.subscribe(f.ActionTypes.IDLE,this.handleIdleUpdate)},l._terminate=function(){h.stop(),v.stop(),a.default.unsubscribe(f.ActionTypes.IDLE,this.handleIdleUpdate)},l.handleIdleUpdate=function(){var e=s.default.getIdleSince();if(c.default.embedded){h.stop(),v.stop();var t=i.default.getActiveStream();if((null==t||t.state===f.ApplicationStreamStates.ENDED)&&null!=e&&!d.default.isDisabled()){var n=d.default.getChannelId();if(null!=n){v.start(18e6,function(){o.default.selectVoiceChannel(null)});var r=u.default.getGuild(d.default.getGuildId());null!=r&&null!=r.afkChannelId&&r.afkChannelId!==n&&null!=r.afkTimeout&&h.start(e+1e3*r.afkTimeout-Date.now(),function(){null!=(r=u.default.getGuild(d.default.getGuildId()))&&null!=r.afkChannelId&&o.default.selectVoiceChannel(r.afkChannelId)})}}}},r}(l.default));t.default=m},8251:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=I(n(16)),l=I(n(8252)),i=I(n(6629)),u=I(n(6542)),s=n(80),d=I(n(8295)),c=I(n(8297)),f=I(n(8298)),p=I(n(9074)),h=I(n(9075)),v=I(n(9079)),m=I(n(9101)),_=I(n(9111)),g=I(n(9117)),E=I(n(9118)),y=n(1),S=I(n(1054));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=T(f.default,{}),N=T(g.default,{}),C=T(d.default,{}),A=T(c.default,{}),M=T(l.default,{}),P=T(p.default,{}),R=T(m.default,{}),b=T(_.default,{}),L=T(h.default,{}),D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).shakeableRef=a.createRef(),t.shake=function(e){var n=e.duration,r=e.intensity,a=t.shakeableRef.current;(0,o.default)(null!=a,"Shakeable is shaken when not mounted"),a.shake(n,r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){s.ComponentDispatch.subscribe(y.ComponentActions.SHAKE_APP,this.shake),u.default.setLayout(i.default),u.default.enable()},l.componentWillUnmount=function(){s.ComponentDispatch.unsubscribe(y.ComponentActions.SHAKE_APP,this.shake),u.default.disable()},l.render=function(){return a.createElement(E.default,{ref:this.shakeableRef,className:S.default.app},T(v.default,{className:S.default.layers},void 0,O),N,C,A,M,P,R,b,L)},r}(a.Component);D.displayName="Chat";var w=D;t.default=w},8252:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=S(n(0)),a=y(n(6)),o=y(n(3)),l=n(108),i=y(n(6737)),u=y(n(98)),s=y(n(14)),d=y(n(19)),c=y(n(40)),f=y(n(864)),p=y(n(191)),h=y(n(39)),v=y(n(354)),m=y(n(11)),_=y(n(72)),g=S(n(467)),E=n(1);function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var I=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){var t=this;if(e.selfDeaf!==this.props.selfDeaf?this.playSound(this.props.selfDeaf?"deafen":"undeafen"):e.selfMute!==this.props.selfMute&&this.playSound(this.props.selfMute?"mute":"unmute"),e.voiceDisconnected&&e.voiceDisconnected!==this.props.voiceDisconnected&&this.playSound("user_join"),e.voiceDisconnected||e.voiceDisconnected===this.props.voiceDisconnected||this.playSound("disconnect"),e.speaking!==this.props.speaking&&(c.default.getMode()!==E.InputModes.PUSH_TO_TALK||this.props.selfMute||this.playSound(this.props.speaking?"ptt_start":"ptt_stop")),e.tempMuted!==this.props.tempMuted&&(c.default.getMode()!==E.InputModes.VOICE_ACTIVITY||this.props.selfMute||this.playSound(this.props.tempMuted?"ptt_stop":"ptt_start")),e.voiceChannelId===this.props.voiceChannelId&&!this.isAFK()){var n=e.voiceChannelUserCount,r=this.props.voiceChannelUserCount,a=e.activeStreamViewerCount,o=this.props.activeStreamViewerCount,l=null!=this.props.activeStreamKey&&e.activeStreamKey===this.props.activeStreamKey,i=Array.from(this.props.streamingUserIds).some(function(t){return!e.streamingUserIds.has(t)}),u=Array.from(e.streamingUserIds).some(function(n){return(n===t.props.currentUserId||null!=e.activeStream&&e.activeStream.ownerId===n)&&!t.props.streamingUserIds.has(n)});i?this.playSound("stream_started"):u?this.playSound("stream_ended"):l&&o>a?this.playSound("stream_user_joined"):r>n?this.playSound("user_join"):r<n?this.playSound("user_leave"):l&&o<a&&this.playSound("stream_user_left")}this.props.userHasBeenMovedVersion!==e.userHasBeenMovedVersion&&this.playSound("user_moved")},a.isAFK=function(){var e=s.default.getChannel(this.props.voiceChannelId);if(null==e)return!1;var t=e.getGuildId();if(null==t)return!1;var n=d.default.getGuild(t);return null!=n&&n.afkChannelId===e.id},a.playSound=function(e){f.default.isSoundDisabled(e)||g.playSound(e,.4)},a.render=function(){return null},r}(r.PureComponent);I.displayName="SoundPlayer";var T=o.default.connectStores([c.default,p.default,v.default,_.default,h.default,u.default],function(){var e=h.default.getVoiceChannelId(),t=u.default.getActiveStream(),n=m.default.getNullableCurrentUser(),r=null!=n?n.id:null,o=0,d=new Set,f=null,g=0,E=!1;if(null!=e){var y=s.default.getChannel(e);null!=y&&(a.default.forEach(_.default.getVoiceStateMapForChannel(y),function(t,n){n!==r&&t.channelId===e&&o++}),d=new Set((0,i.default)(y,u.default,_.default).map(function(e){return e.ownerId})))}return null!=t&&(f=(0,l.encodeStreamKey)(t),g=u.default.getViewerIds(f).filter(function(e){return e!==r}).length,E=t.ownerId===r),{userHasBeenMovedVersion:_.default.userHasBeenMovedVersion,selfMute:c.default.isSelfMute(),selfDeaf:c.default.isSelfDeaf(),voiceDisconnected:p.default.isDisconnected(),speaking:v.default.isCurrentUserSpeaking(),tempMuted:c.default.isSelfMutedTemporarily(),voiceChannelId:e,voiceChannelUserCount:o,streamingUserIds:d,activeStream:t,activeStreamKey:f,activeStreamViewerCount:g,isStreamer:E,currentUserId:r}})(I);t.default=T},8295:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=h(n(8296)),o=h(n(41)),l=h(n(3)),i=h(n(6541)),u=h(n(7508)),s=h(n(864)),d=h(n(51)),c=h(n(20)),f=h(n(13)),p=n(1);function h(e){return e&&e.__esModule?e:{default:e}}var v=new Set(["Blink","Gecko","WebKit"]),m=p.NOOP;if(f.default.embedded)m=function(e){return c.default.setBadge(e)};else if(v.has(o.default.layout)){var _=new a.default({animation:"none"});m=function(e){try{_.badge(-1===e?"•":e)}catch(e){}}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.componentDidUpdate()},a.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;m(t),n&&!this.cancelBounce?this.cancelBounce=c.default.bounceDock("critical"):!n&&this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},a.componentWillUnmount=function(){m(0),this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},a.render=function(){return null},r}(r.PureComponent);g.displayName="AppBadge";var E=function(){return null};m!==p.NOOP&&(E=l.default.connectStores([i.default,u.default,d.default,s.default],function(){var e=i.default.getTotalMentionCount(),t=d.default.getPendingCount(),n=i.default.hasAnyUnread(),r=s.default.getDisableUnreadBadge(),a=e+t;return 0===a&&n&&!r&&(a=-1),{badge:a,hasIncomingCalls:u.default.hasIncomingCalls()}})(g));var y=E;t.default=y},8297:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=_(n(82)),o=_(n(3)),l=_(n(189)),i=_(n(329)),u=_(n(6541)),s=_(n(40)),d=_(n(864)),c=_(n(191)),f=_(n(51)),p=_(n(354)),h=_(n(20)),v=_(n(13)),m=n(1);function _(e){return e&&e.__esModule?e:{default:e}}var g=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),E=v.default.isOSX(),y=v.default.isLinux(),S=E?null:g.DEFAULT,I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).getIcon=function(){var e=t.props,n=e.deafened,r=e.muted,a=e.speaking,o=e.connected,l=e.unread,i=S;return E&&!o?i:y||!o?(l&&(i=g.UNREAD),i):i=n?g.DEAFENED:r?g.MUTED:a?g.SPEAKING:g.CONNECTED},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){h.default.setSystemTrayIcon(this.getIcon())},a.componentDidUpdate=function(){h.default.setSystemTrayIcon(this.getIcon())},a.componentWillUnmount=function(){h.default.setSystemTrayIcon(S)},a.render=function(){return null},r}(r.PureComponent);I.displayName="AppTray";var T=function(){return null};v.default.embedded&&(h.default.on("SYSTEM_TRAY_TOGGLE_MUTE",l.default.toggleSelfMute),h.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",l.default.toggleSelfDeaf),h.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",function(){i.default.open(m.UserSettingsSections.VOICE)}),T=o.default.connectStores([c.default,s.default,p.default,u.default,f.default,d.default],function(){var e=u.default.getTotalMentionCount(),t=u.default.hasAnyUnread(),n=f.default.getPendingCount(),r=!d.default.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:c.default.isConnected(),speaking:p.default.isCurrentUserSpeaking(),muted:!s.default.isEnabled()||s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:r}})(I));var O=T;t.default=O},8298:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=x(n(0)),o=V(n(8)),l=n(259),i=x(n(3)),u=x(n(6633)),s=x(n(6579)),d=V(n(331)),c=V(n(6856)),f=V(n(8299)),p=n(184),h=V(n(280)),v=V(n(856)),m=V(n(10)),_=V(n(14)),g=V(n(860)),E=V(n(273)),y=V(n(276)),S=V(n(7054)),I=V(n(39)),T=V(n(340)),O=V(n(8841)),N=n(266),C=V(n(8842)),A=V(n(8913)),M=V(n(8915)),P=V(n(8926)),R=V(n(8934)),b=V(n(8935)),L=V(n(1053)),D=V(n(8949)),w=V(n(8953)),U=V(n(7326)),G=V(n(8966)),k=V(n(6968)),F=V(n(9069)),B=V(n(9072)),j=n(1),H=V(n(6427));function V(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var W=function(e){var t=e.match,n=(0,i.useStateFromStores)([_.default,I.default],function(){var e=I.default.getChannelId();return _.default.getChannel(e)});if(null!=n&&n.type===j.ChannelTypes.GUILD_STORE){var r=t.params.messageId;return Y(A.default,{channel:n,inputSkuId:r},n.id)}return Y(C.default,{},null!=n?n.guild_id||n.id:"empty-channel")};W.displayName="ChannelRenderer";var z=i.default.connectStores([T.default,E.default,y.default,m.default,h.default],function(){var e=h.default.getUserExperimentDescriptor(c.default.id),t=null==e||e.bucket===p.ExperimentBuckets.NOT_ELIGIBLE||e.bucket===p.ExperimentBuckets.CONTROL;return{guildFolders:T.default.guildFolders,totalUnavailableGuilds:E.default.totalUnavailableGuilds,isLurking:null!=y.default.lurkingGuildId(),isGuest:m.default.isGuest(),shouldShowGuildDiscovery:t}})(U.default),K=Y(R.default,{}),$=a.memo(function(e){var t=e.location,n=e.history,r=(0,i.useStateFromStores)([g.default],function(){return g.default.getGuildId()});return null!=r?Y(w.default,{guildId:r,location:t,history:n},r):K}),Q=i.default.connectStores([g.default],function(){return{guildId:g.default.getGuildId()}})(k.default),X=Y(f.default,{}),q=function(){return X};q.displayName="renderActivityFeed";var J=function(e){var t=e.match;return Y(W,{match:t})};J.displayName="renderChannel";var Z=Y(D.default,{}),ee=function(){return Z};ee.displayName="renderGuildDiscovery";var te=Y(b.default,{}),ne=function(){return te};ne.displayName="renderApplicationLibrary";var re=Y(L.default,{}),ae=function(){return re};ae.displayName="renderLazyApplicationStore";var oe=Y(M.default,{}),le=function(){return oe};function ie(){return window.location.pathname.startsWith(j.Routes.APPLICATION_STORE)}le.displayName="renderFriends";var ue=Y(F.default,{}),se=Y(B.default,{}),de=Y(G.default,{}),ce=Y(P.default,{}),fe=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderChannelSidebar=function(e){var n,r=e.location,a=e.history,l=t.props,i=l.isGuest,u=l.hasNotice,s=l.sidebarTheme,c=ie()?H.default.hiddenOnMobileStore:null;return window.location.pathname.startsWith(j.Routes.GUILD_DISCOVERY)?null:Y("div",{className:(0,o.default)(H.default.sidebar,c,(0,N.getThemeClass)(s),(n={},n[H.default.hasNotice]=u,n))},void 0,Y($,{location:r,history:a}),Y("div",{className:H.default.panels},void 0,ue,Y(d.default,{section:j.AnalyticsSections.ACTIVITY_PANEL},void 0,Y(Q,{className:H.default.activityPanel})),se,Y(d.default,{section:j.AnalyticsSections.ACCOUNT_PANEL},void 0,i?null:de)))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleLogin=function(){u.open()},a.handleRegister=function(){s.open()},a.renderGuestGuard=function(){return this.props.isGuest?Y(O.default,{onLogin:this.handleLogin,onRegister:this.handleRegister}):null},a.render=function(){var e=this.props.sidebarTheme,t=ie()?H.default.hiddenOnMobileStore:null;return Y("div",{className:H.default.container},void 0,Y(z,{className:(0,o.default)(H.default.guilds,t),themeOverride:e}),Y("div",{className:H.default.base},void 0,ce,Y("div",{className:H.default.content},void 0,Y(l.Route,{render:this.renderChannelSidebar}),Y(l.Switch,{},void 0,Y(l.Route,{path:j.Routes.ACTIVITY,render:q}),Y(l.Route,{path:j.Routes.APPLICATION_LIBRARY,render:ne}),Y(l.Route,{path:j.Routes.APPLICATION_STORE,render:ae}),Y(l.Route,{path:j.Routes.ME,exact:!0,render:le}),Y(l.Route,{path:[j.Routes.CHANNEL(j.ME,":channelId"),j.Routes.CHANNEL(":guildId",":channelId?",":messageId?")],render:J}),Y(l.Route,{path:j.Routes.GUILD_DISCOVERY,render:ee})),this.renderGuestGuard())))},r}(a.PureComponent);fe.displayName="AppView";var pe=i.default.connectStores([m.default,S.default,v.default],function(){return{isGuest:m.default.isGuest(),hasNotice:S.default.hasNotice(),sidebarTheme:v.default.darkSidebar?j.ThemeTypes.DARK:void 0}})(fe);t.default=pe},8299:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a,o=f(n(8300)),l=f(n(7771)),i=n(184),u=f(n(6544)),s=f(n(6856)),d=f(n(8829)),c=n(1);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=((r={})[i.ExperimentBuckets.TREATMENT_2]=[{name:"Esports",guildIds:l.default.esports,section:c.AnalyticsSections.DISCOVER_COLLECTION_ESPORTS},{name:"Gaming",guildIds:l.default.gaming,section:c.AnalyticsSections.DISCOVER_COLLECTION_GAMING},{name:"Comics, Cartoons, and Superheroes",guildIds:l.default.comics_heroes,section:c.AnalyticsSections.DISCOVER_COLLECTION_COMICS_HEROES},{name:"Music",guildIds:l.default.music,section:c.AnalyticsSections.DISCOVER_COLLECTION_MUSIC},{name:"Anime",guildIds:l.default.anime,section:c.AnalyticsSections.DISCOVER_COLLECTION_ANIME}],r[i.ExperimentBuckets.TREATMENT_3]=[{name:"Gaming",guildIds:l.default.gaming,section:c.AnalyticsSections.DISCOVER_COLLECTION_GAMING},{name:"Esports",guildIds:l.default.esports,section:c.AnalyticsSections.DISCOVER_COLLECTION_ESPORTS},{name:"Anime",guildIds:l.default.anime,section:c.AnalyticsSections.DISCOVER_COLLECTION_ANIME},{name:"Music",guildIds:l.default.music,section:c.AnalyticsSections.DISCOVER_COLLECTION_MUSIC},{name:"Comics, Cartoons, and Superheroes",guildIds:l.default.comics_heroes,section:c.AnalyticsSections.DISCOVER_COLLECTION_COMICS_HEROES}],r[i.ExperimentBuckets.TREATMENT_4]=[{name:"Anime",guildIds:l.default.anime,section:c.AnalyticsSections.DISCOVER_COLLECTION_ANIME},{name:"Music",guildIds:l.default.music,section:c.AnalyticsSections.DISCOVER_COLLECTION_MUSIC},{name:"Comics, Cartoons, and Superheroes",guildIds:l.default.comics_heroes,section:c.AnalyticsSections.DISCOVER_COLLECTION_COMICS_HEROES},{name:"Gaming",guildIds:l.default.gaming,section:c.AnalyticsSections.DISCOVER_COLLECTION_GAMING},{name:"Esports",guildIds:l.default.esports,section:c.AnalyticsSections.DISCOVER_COLLECTION_ESPORTS}],r),v=p(o.default,{}),m=function(){var e=(0,u.default)(s.default),t=h[e]||[];switch(e){case i.ExperimentBuckets.TREATMENT_1:case i.ExperimentBuckets.TREATMENT_2:case i.ExperimentBuckets.TREATMENT_3:case i.ExperimentBuckets.TREATMENT_4:return p(d.default,{experimentCollections:t});case i.ExperimentBuckets.CONTROL:default:return v}};t.default=m},8300:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(0)),o=g(n(339)),l=g(n(3)),i=E(n(368)),u=E(n(6738)),s=g(n(473)),d=g(n(886)),c=g(n(942)),f=g(n(331)),p=g(n(6530)),h=g(n(8531)),v=n(1),m=g(n(4)),_=g(n(6312));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=y(h.default,{}),I=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){i.mount(),u.setHomeLink(v.Routes.ACTIVITY)},a.componentWillUnmount=function(){i.unmount()},a.renderCustomMessage=function(){return y("div",{},void 0,y("p",{},void 0,m.default.Messages.ERRORS_ACTIVITY_FEED_CRASH),y("p",{},void 0,m.default.Messages.ERRORS_ACTION_TO_TAKE))},a.render=function(){var e=this.props.loadId;return y(c.default,{renderCustomMessage:this.renderCustomMessage},void 0,y(f.default,{page:v.AnalyticsPages.ACTIVITY_FEED,loadId:e,root:!0},void 0,y("div",{className:_.default.activityFeed},void 0,y(o.default,{title:m.default.Messages.ACTIVITY}),y(p.default,{},void 0,y(p.default.Icon,{name:s.default.ACTIVITY}),y(p.default.Title,{},void 0,m.default.Messages.ACTIVITY)),S)))},r}(a.PureComponent);I.displayName="ActivityFeed";var T=l.default.connectStores([d.default],function(){return{loadId:d.default.loadId}})(I);t.default=T},8531:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=w(n(6)),l=w(n(3)),i=n(29),u=n(6638),s=w(n(2)),d=n(6642),c=n(7707),f=n(293),p=w(n(331)),h=n(6526),v=w(n(22)),m=w(n(479)),_=w(n(125)),g=w(n(25)),E=w(n(185)),y=w(n(1040)),S=w(n(886)),I=w(n(24)),T=w(n(8532)),O=w(n(152)),N=w(n(182)),C=w(n(15)),A=n(190),M=n(472),P=n(8533),R=n(8828),b=n(7209),L=n(1),D=w(n(6019));function w(e){return e&&e.__esModule?e:{default:e}}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=(0,A.cssValueToNumber)(D.default.feedBreakpointNormal),F=(0,A.cssValueToNumber)(D.default.guildFriendListWidth),B=(0,A.cssValueToNumber)(D.default.gutterWidthSmall),j=1e3;function H(e){return e<k?L.FeedLayouts.TWO_COL:L.FeedLayouts.THREE_COL}function V(e){return e.key}var x=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleNewsVisibilityChange=function(e,t){e&&!n.viewedNewsIds.has(t.id)&&(n.viewedNewsIds.add(t.id),n.tracked||n.loadingTimeout.start(j,n.trackLoaded))},n.sharedMetaData=function(){var e=n.props,t=e.loadId,r=e.gameIDsToShow;return{load_id:t,feed_layout:n.state.layout,subscribed_games:Array.from(r),window_width:window.innerWidth,window_height:window.innerHeight}},n.trackLoaded=function(){if(!n.tracked){n.tracked=!0;var e=n.props.news,t=(0,b.getDataFromRecentlyPlayed)(m.default.gamesByUser),r=(0,b.getSortedApplicationIds)(t),a=(0,b.getSortedItemsFromData)(r,t).length,o=G({},n.sharedMetaData(),{num_cards_game_news:e.length,num_users_subscribed:_.default.feedUserIDs.size,num_items_now_playing:S.default.nowPlayingCards.length,num_items_recently_played:a,news_ids_viewed:n.viewedNewsIds});C.default.track(L.AnalyticEvents.ACTIVITY_FEED_LOADED,o)}},n.trackExited=function(){var e=Math.floor((Date.now()-n.openedTimestamp)/1e3),t=n.state,r=t.sidebarContent,a=t.feedContent,o=G({},n.sharedMetaData(),{seconds_spent:e,num_cards_total:a.length+r.length,news_ids_viewed:n.viewedNewsIds});C.default.track(L.AnalyticEvents.ACTIVITY_FEED_EXITED,o)},n.renderCardContext=function(e){return U(R.FeedLayoutContext.Consumer,{},V(e),function(t){return n.renderCard(e,t)})};var r=H(t.width);return n.state={calculatedWidth:t.width,layout:r,feedContent:S.default.getFeed(r),sidebarContent:S.default.getSidebar(r),isFullScreen:E.default.isElementFullScreen()},n.openedTimestamp=Date.now(),n.loadingTimeout=new i.Timeout,n.viewedNewsIds=new Set,C.default.track(L.AnalyticEvents.ACTIVITY_FEED_VIEWED),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.tracked=!1,this.fullscreenTimeout=new i.Timeout;var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,r=e.loaded;t&&null!=n&&s.default.wait(function(){return(0,f.scanForLocalApplications)()}),y.default.shouldFetch()&&s.default.wait(function(){return(0,c.fetchPromotions)()}),(0,d.fetchActivityStatistics)(),r&&this.loadingTimeout.start(1500,this.trackLoaded),(0,h.trackAppUIViewed)("activity_feed")},r.getDerivedStateFromProps=function(e,t){if((0,M.isFullScreen)()&&!t.isFullScreen)return{isFullScreen:!0};if(t.isFullScreen)return null;var n=H(e.width);return{calculatedWidth:e.width,layout:n,feedContent:S.default.getFeed(n),sidebarContent:S.default.getSidebar(n)}},a.componentWillUnmount=function(){this.trackExited(),this.loadingTimeout.stop(),this.fullscreenTimeout.stop()},a.componentDidUpdate=function(e,t){var n=this,r=this.props,a=r.news,l=r.currentActivityParties,i=r.loaded,u=l.map(function(e){return e.id}),s=e.currentActivityParties.map(function(e){return e.id});a.length===e.news.length&&0===o.default.difference(u,s).length&&i===e.loaded||this.tracked||this.loadingTimeout.start(j,this.trackLoaded),!this.state.isFullScreen&&t.isFullScreen&&this.fullscreenTimeout.start(100,function(){return n.setState({isFullScreen:!1})})},a.renderCard=function(e,t){var n=this;switch(e.type){case L.FeedCardTypes.NEWS:var r=e.data.news;return U(u.VisibilitySensor,{onChange:function(e){return n.handleNewsVisibilityChange(e,r)}},void 0,(0,P.renderNewsCard)(e,t));case L.FeedCardTypes.PROMOTION:return(0,P.renderPromotionCard)(e,t);case L.FeedCardTypes.GDPR:return(0,P.renderGDPRCard)(e,t);case L.FeedCardTypes.GDPR_SIDE_BAR:return(0,P.renderGDPRSidebarCard)(e,t);case L.FeedCardTypes.NO_GAMES:return(0,P.renderNoGamesCard)(e,t);case L.FeedCardTypes.FIRST_TIME_USER:return(0,P.renderFirstTimeUserCard)(e,t);case L.FeedCardTypes.SIDE_BAR:return(0,P.renderSidebarCard)(e,t);case L.FeedCardTypes.PLACEHOLDER:return(0,P.renderPlaceholderCard)(e,t);case L.FeedCardTypes.NO_NEWS:return(0,P.renderNoNewsCard)(e,t);default:return null}},a.renderLatestNews=function(){var e=this.state,t=e.calculatedWidth,n=e.feedContent;return U(T.default,{width:t,items:n,gutterWidth:B,renderItem:this.renderCardContext,maxColumns:2,getItemId:V,desiredItemWidth:200,maxItemWidth:320})},a.render=function(){var e=this.props.loaded,t=this.state,n=t.layout,r=t.sidebarContent;if(!e)return U(I.default,{align:I.default.Align.CENTER,justify:I.default.Justify.CENTER,className:D.default.container},void 0,U(N.default,{className:D.default.spinner}));var a=null;return n===L.FeedLayouts.THREE_COL&&(a=U(p.default,{section:L.AnalyticsSections.ACTIVITY_FEED_2_SIDE_BAR},void 0,U("aside",{className:D.default.sidebar},void 0,r.map(this.renderCardContext)))),U(R.FeedLayoutContext.Provider,{value:n},void 0,U(O.default,{outerClassName:D.default.container,className:D.default.layout},void 0,U(p.default,{section:L.AnalyticsSections.ACTIVITY_FEED_2_FEED},void 0,this.renderLatestNews()),a))},r}(a.PureComponent);x.displayName="Feed";var Y=l.default.connectStores([S.default,g.default,v.default,E.default,y.default],function(){return{width:E.default.windowSize().width-F,importGamesEnabled:g.default.importGamesEnabled,gamesDBLastFetched:v.default.lastFetched,gameIDsToShow:_.default.gameIDsToShow,news:S.default.news,currentActivityParties:S.default.currentActivityParties,loadId:S.default.loadId,loaded:S.default.loaded}})(x);t.default=Y},8532:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=g,t.MasonryNodeInsertedEmitter=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(60)),l=c(n(6)),i=c(n(59)),u=n(7033),s=c(n(24)),d=c(n(6292));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v=function(e){function t(){var t;return(t=e.call(this)||this).node=document.createElement("div"),t}h(t,e);var n=t.prototype;return n.getNode=function(){return this.node},n.componentWillUnmount=function(){(0,u.removeNode)(this.node)},n.render=function(){return i.default.createPortal(this.props.children,this.node)},t}(a.Component);v.displayName="MasonryItem";var m=new o.default;t.MasonryNodeInsertedEmitter=m,m.setMaxListeners(0);var _=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._didMount=!1,e._columnNodes={},e._itemNodes={},e._columns=[],e._itemHeightsForRender={},e.debouncedUpdateColumns=l.default.debounce(function(){e.updateColumns(e.props)}),e.setColumnRef=function(t,n){null!=n&&(e._columnNodes[t]=n)},e.setMeasurementSectionRef=function(t){null!=t&&(e._measurementNode=t)},e}h(n,t);var r=n.prototype;return r.componentDidMount=function(){this._didMount=!0,this.updateColumns(this.props)},r.componentDidUpdate=function(e){var t=this,n=this.props.items.map(this.props.getItemId),r=e.items.map(this.props.getItemId);l.default.isEqual(n,r)||(l.default.difference(r,n).forEach(function(e){delete t._itemHeightsForRender[e]}),this.debouncedUpdateColumns())},r.componentWillUnmount=function(){var e=this;this.debouncedUpdateColumns.cancel(),Object.keys(this._columnNodes).forEach(function(t){return e._columnNodes[t]=null}),this._measurementNode=null},r.getItemWidth=function(e){var t=e.maxItemWidth,n=e.width,r=e.gutterWidth,a=e.numColumns,o=r*(a-1);return Math.floor(Math.min(n/a,t))-Math.ceil(o/a)},r.updateColumns=function(e){for(var t=this,n=e.items,r=e.getItemId,a=e.onColumnChange,o=e.numColumns,i=l.default.times(o,function(){return[]}),u=l.default.times(o,function(e){return{index:e,height:0}}),s=0;s<n.length;s++){var d=r(n[s]);if(null!=this._itemHeightsForRender[d]){var c=l.default.minBy(u,function(e){return e.height}).index;u[c].height+=this._itemHeightsForRender[d],i[c].push(d)}}this._columns=i,i.forEach(function(e,n){e.forEach(function(e){null!=t._itemNodes[e]&&t._columnNodes[n].appendChild(t._itemNodes[e])})}),null!=a&&a()},r.setMeasurementRef=function(t,n){if(null!=n){var r=n.getNode();this._itemNodes[t]=r,null==r.parentNode&&(this._measurementNode.appendChild(r),e(function(){return m.emit("change",{node:r})})),this._itemHeightsForRender[t]=r.offsetHeight,this._didMount&&this.debouncedUpdateColumns()}},r.render=function(){var e=this,t=this.props,n=t.gutterWidth,r=t.items,o=t.getItemId,l=t.renderItem,i=t.renderHeader,u=t.className,c=t.renderEmpty,f=t.numColumns,h=this.getItemWidth(this.props),m=n-n/f;return p("div",{className:u},void 0,p(s.default,{direction:s.default.Direction.VERTICAL},void 0,null!=i?i():null,null!=c&&0===r.length?c():null,p(s.default,{justify:s.default.Justify.CENTER},void 0,0!==r.length?Array(f).fill().map(function(t,r){return a.createElement("div",{className:d.default.column,style:{width:"calc("+100/f+"% - "+m+"px)",marginLeft:0!==r?n:0},key:r,ref:e.setColumnRef.bind(e,r)})}):null)),a.createElement("div",{className:d.default.measureWrapper,style:{width:h},ref:this.setMeasurementSectionRef}),r.map(function(t,n){var r=o(t);return a.createElement(v,{id:r,ref:null==e._itemHeightsForRender[r]?e.setMeasurementRef.bind(e,r):null,key:r},l(t,h,n))}))},n}(a.PureComponent);function g(e){var t=e.width,n=e.desiredItemWidth,r=e.maxColumns,o=Math.max(Math.floor(t/n),1),l=Math.min(o,r);return a.createElement(_,f({key:l,numColumns:l},e))}_.displayName="MasonryLayout",_.defaultProps={maxColumns:1/0,maxItemWidth:1/0},g.displayName="MasonryLayoutWrapper"}).call(this,n(43).setImmediate)},8533:function(e,t,n){"use strict";t.__esModule=!0,t.renderSidebarCard=t.renderNoNewsCard=t.renderPlaceholderCard=t.renderFirstTimeUserCard=t.renderNoGamesCard=t.renderGDPRSidebarCard=t.renderGDPRCard=t.renderPromotionCard=t.AnalyticsConnectedPromotionCard=t.renderNewsCard=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(124),l=x(n(3)),i=x(n(100)),u=x(n(30)),s=n(7707),d=n(465),c=x(n(329)),f=x(n(8534)),p=x(n(260)),h=x(n(862)),v=x(n(22)),m=x(n(25)),_=x(n(185)),g=x(n(886)),E=x(n(21)),y=x(n(7696)),S=x(n(8536)),I=n(6879),T=x(n(15)),O=x(n(13)),N=x(n(36)),C=n(6614),A=x(n(331)),M=x(n(6753)),P=x(n(954)),R=x(n(7767)),b=x(n(7209)),L=x(n(8820)),D=x(n(8821)),w=x(n(8823)),U=x(n(8824)),G=x(n(8825)),k=x(n(8826)),F=x(n(7770)),B=n(6870),j=n(1),H=x(n(4)),V=x(n(6019));function x(e){return e&&e.__esModule?e:{default:e}}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var K="premium",$=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePostShare=function(e,n){var r=t.props,o=r.loadId,l=r.analyticsContext;u.default.push(function(e){return a.createElement(f.default,W({},e,{news:n,loadId:o,analyticsContext:l}))})},t.handlePostClick=function(e,n){var r=t.props,a=r.analyticsContext,o=r.application,l=r.loadId;T.default.track(j.AnalyticEvents.GAME_NEWS_OPENED,{location:a.location,load_id:l,game_id:null!=o?o.id:null,game_name:null!=o?o.name:null,news_url:n.url,news_id:n.id}),e.stopPropagation(),window.open(n.url)},t}return z(t,e),t.prototype.render=function(){var e=this.props,t=e.news,n=e.application,r=e.onApplicationContextMenu,a=e.analyticsContext,o=e.gifAutoPlay,l=e.isFocused,i=a.location;return Y(y.default,{className:V.default.card,news:t,application:n,onApplicationClick:function(e){return(0,B.toggleGamePopout)(e,n,W({},i,{object:j.AnalyticsObjects.CARD}))},onClick:this.handlePostClick,onShare:null!=n?this.handlePostShare:null,onApplicationContextMenu:null!=n?function(e){return r(e,n)}:null,autoPlay:o,shouldAnimate:l,renderVideoComponent:C.renderVideoComponent,renderImageComponent:C.renderImageComponent,renderLinkComponent:C.renderMaskedLinkComponent})},t}(a.Component);$.displayName="NewsCardWrapper";var Q=(0,M.default)(l.default.connectStores([g.default,_.default,v.default,m.default],function(e){var t=e.applicationId;return{loadId:g.default.loadId,application:v.default.getGame(t),isFocused:_.default.isFocused(),gifAutoPlay:m.default.gifAutoPlay}})($)),X=function(e,t){var n=e.data,r=n.news,a=n.applicationId;return Y(Q,{news:r,applicationId:a})};t.renderNewsCard=X,X.displayName="renderNewsCard";var q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPromotionButtons=function(e,t){return e.destination.type===j.PromotionTypes.GENERAL?e.destination.linkUrl.startsWith(j.Routes.APPLICATION_STORE)||null!=e.ctaButtonLabel?Y(E.default,{size:E.default.Sizes.SMALL,color:E.default.Colors.WHITE,innerClassName:V.default.whiteButton},void 0,e.ctaButtonLabel||H.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK):null:null==t?null:Y(P.default,{application:t,size:E.default.Sizes.SMALL,onClick:function(t){(0,s.ackPromotion)(e.ackKey,j.PromotionAckTypes.CLICK),t.stopPropagation()},color:E.default.Colors.WHITE,hover:E.default.Colors.WHITE,innerClassName:V.default.whiteButton,source:j.AnalyticsLocations.PROMOTION_CARD,storeListingAnalyticsProperties:{promotionId:e.id}})},t.handlePromoClick=function(e){var n=t.props,r=n.promotion,a=n.analyticsContext,l=j.AnalyticsLocations.PROMOTION_CARD;if(r.destination.type===j.PromotionTypes.GENERAL){var i=r.destination.linkUrl;if(i.startsWith("/")){var u=(0,o.parse)(i);u.pathname===j.Routes.SETTINGS(K)?(c.default.open(j.UserSettingsSections.PREMIUM),T.default.track(j.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:W({},a.location,{object:j.AnalyticsObjects.CARD,location_promotion_id:r.id})})):null!=u.pathname&&N.default.transitionTo(u.pathname,{hash:u.hash,search:u.search,state:{analyticsLocation:l,analyticsSource:W({},a.location,{promotionId:r.id})}}),e.preventDefault()}else window.open(i,"_blank")}else if(r.destination.type===j.PromotionTypes.GAME){var f=r.destination.sku;(0,d.goToSKUStoreListing)(f.id,{slug:f.slug,analyticsSource:W({},a.location),analyticsProperties:{source_promotion_id:r.id}}),e.preventDefault()}(0,s.ackPromotion)(r.ackKey,j.PromotionAckTypes.CLICK)},t}z(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.promotion,n=e.loadId;null==e.application&&t.destination.type===j.PromotionTypes.GAME&&i.default.fetchApplication(t.destination.sku.applicationId),T.default.track(j.AnalyticEvents.PROMOTION_VIEWED,W({load_id:n,promotion_id:""+t.id,promotion_type:t.destination.type,promotion_url:t.destination.type===j.PromotionTypes.GENERAL?t.destination.linkUrl:null,location_page:j.AnalyticsPages.ACTIVITY_FEED},t.destination.type===j.PromotionTypes.GAME?(0,h.default)(t.destination.sku):null)),(0,s.ackPromotion)(t.ackKey,j.PromotionAckTypes.IMPRESSION)},n.render=function(){var e=this.props,t=e.promotion,n=e.disablePlay,r=e.gifAutoPlay,a=e.application;return null==a&&t.destination.type===j.PromotionTypes.GAME?null:Y(S.default,{className:V.default.card,promotion:t,disablePlay:n,autoPlay:r,application:a,renderButtons:this.renderPromotionButtons,onClick:this.handlePromoClick,shouldAnimate:!n})},t}(a.PureComponent);q.displayName="ConnectedPromotionCard";var J=l.default.connectStores([_.default,m.default,v.default],function(e){var t=function(e){var t=e.destination;if(t.type!==j.PromotionTypes.GAME)return null;var n=t.sku;return v.default.getGame(n.applicationId)}(e.promotion);return{disablePlay:!_.default.isFocused(),loadId:g.default.loadId,gifAutoPlay:m.default.gifAutoPlay,application:t}})((0,p.default)(q));t.AnalyticsConnectedPromotionCard=J;var Z=function(e,t){var n=e.data;return Y(J,{promotion:n})};t.renderPromotionCard=Z,Z.displayName="renderPromotionCard";var ee=Y(D.default,{}),te=function(e,t){return ee};t.renderGDPRCard=te,te.displayName="renderGDPRCard";var ne=Y(w.default,{}),re=function(e,t){return ne};t.renderGDPRSidebarCard=re,re.displayName="renderGDPRSidebarCard";var ae=Y(U.default,{}),oe=function(e,t){return ae};t.renderNoGamesCard=oe,oe.displayName="renderNoGamesCard";var le=Y(L.default,{}),ie=function(e,t){return le};t.renderFirstTimeUserCard=ie,ie.displayName="renderFirstTimeUserCard";var ue=Y(k.default,{}),se=function(e,t){return ue};t.renderPlaceholderCard=se,se.displayName="renderPlaceholderCard";var de=Y(G.default,{}),ce=function(e,t){return de};t.renderNoNewsCard=ce,ce.displayName="renderNoNewsCard";var fe=function(e,t){return Y(a.Fragment,{},void 0,O.default.isWindows()?Y(A.default,{section:j.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,Y(F.default,{className:V.default.card,layout:t})):null,Y(A.default,{section:j.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING},void 0,Y(R.default,{className:V.default.card,isWrapped:(0,I.isTwoColumnLayout)(t)})),Y(A.default,{section:j.AnalyticsSections.ACTIVITY_FEED_RECENTLY_PLAYED},void 0,Y(b.default,{className:V.default.card,isWrapped:(0,I.isTwoColumnLayout)(t)})))};t.renderSidebarCard=fe,fe.displayName="renderSidebarCard"},8534:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(8535),l=y(n(120)),i=y(n(22)),u=y(n(21)),s=y(n(24)),d=y(n(138)),c=y(n(75)),f=y(n(66)),p=y(n(15)),h=n(272),v=y(n(6877)),m=n(1),_=y(n(4)),g=y(n(455)),E=y(n(6293));function y(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=1e3,O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={copied:!1},t.close=function(){var e=t.props.onClose;null!=e&&e()},t.sendToChannel=function(e){var n=t.props,r=n.news,a=n.onClose,i=n.analyticsContext,u=e.record.id;(0,o.sendToChannel)(u,r.url).then(a,a),l.default.trackWithMetadata(m.AnalyticEvents.NEWS_LINK_SHARED,I({source:I({},i.location,{section:m.AnalyticsLocations.SHARE_NEWS_MODAL}),news_url:r.url,news_id:r.id,guild_id:e.record.guild_id,channel_id:u},t.getApplicationMetadata()))},t.sendToUser=function(e){var n=t.props,r=n.news,a=n.onClose,l=n.analyticsContext,i=e.record.id;(0,o.sendToUser)(i,r.url).then(a,a),p.default.track(m.AnalyticEvents.NEWS_LINK_SHARED,I({source:I({},l.location,{section:m.AnalyticsLocations.SHARE_NEWS_MODAL}),news_url:r.url,news_id:r.id},t.getApplicationMetadata(),{recipient_id:i}))},t.handleCopy=function(){var e=t.props,n=e.news,r=e.analyticsContext;(0,h.copy)(n.url),t.setState({copied:!0}),clearTimeout(t.timeout),t.timeout=setTimeout(function(){return t.setState({copied:!1})},T),p.default.track(m.AnalyticEvents.NEWS_LINK_COPIED,I({location:I({},r.location,{section:m.AnalyticsLocations.SHARE_NEWS_MODAL,object:m.AnalyticsObjects.BUTTON_CTA}),news_url:n.url,news_id:n.id},t.getApplicationMetadata()))},t.renderFooter=function(){var e=t.props.news,n=t.state.copied;return S(c.default.Footer,{direction:s.default.Direction.VERTICAL},void 0,S(f.default,{tag:f.default.Tags.H5,className:g.default.marginBottom8},void 0,_.default.Messages.ACTIVITY_FEED_SHARE_MODAL_FOOTER_TITLE),S("div",{className:E.default.buttonInput},void 0,S(d.default,{className:E.default.copyInput,inputClassName:n?E.default.emphasizeInput:null,name:"url",value:e.url,editable:!1,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),h.SUPPORTS_COPY?S("div",{className:E.default.copyButton},void 0,S(u.default,{size:u.default.Sizes.SMALL,color:n?u.default.Colors.GREEN:u.default.Colors.BRAND,onClick:t.handleCopy},void 0,n?_.default.Messages.COPIED:_.default.Messages.COPY)):null))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.analyticsContext,n=e.loadId;p.default.track(m.AnalyticEvents.OPEN_MODAL,{location:t.location,type:m.AnalyticsLocations.SHARE_NEWS_MODAL,load_id:n})},a.componentWillUnmount=function(){clearTimeout(this.timeout)},a.getApplicationMetadata=function(){var e=this.props.news,t=null!=e.application_id?i.default.getGame(e.application_id):null;return null!=t?{application_id:t.id,application_name:t.name}:null},a.render=function(){return S(v.default,{title:_.default.Messages.ACTIVITY_FEED_SHARE_MODAL_HEADER,renderFooter:this.renderFooter,sendToChannel:this.sendToChannel,sendToUser:this.sendToUser,onClose:this.close})},r}(a.PureComponent);t.default=O,O.displayName="ActivityFeedShareModal"},8535:function(e,t,n){"use strict";t.__esModule=!0,t.sendToChannel=function(e,t){return new Promise(function(n,a){var i=r.default.getChannel(e);if(null!=i){switch(i.type){case s.ChannelTypes.DM:case s.ChannelTypes.GROUP_DM:l.default.transitionTo(s.Routes.CHANNEL(s.ME,i.id));break;case s.ChannelTypes.GUILD_TEXT:l.default.transitionTo(s.Routes.CHANNEL(i.guild_id,i.id));break;case s.ChannelTypes.GUILD_VOICE:case s.ChannelTypes.GUILD_CATEGORY:default:return a(new Error("ActivityFeedShareModalActionCreators.sendToChannel: Invalid channel type"))}setTimeout(function(){return n(u.default.sendMessage(i.id,o.default.parse(i,t)))},c)}})},t.sendToUser=function(e,t){return new Promise(function(n,l){i.default.openPrivateChannel(a.default.getCurrentUser().id,e).then(function(e){var a=r.default.getChannel(e);if(null==a)return l(new Error("ActivityFeedShareModalActionCreators.sendToUser: Invalid channel"));n(u.default.sendMessage(a.id,o.default.parse(a,t)))})})};var r=d(n(14)),a=d(n(11)),o=d(n(278)),l=d(n(36)),i=d(n(140)),u=d(n(141)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}var c=200},8536:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(456)),i=c(n(257)),u=c(n(7697)),s=c(n(6639)),d=c(n(6294));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={play:!1},t.handleClick=function(e){var n=t.props;(0,n.onClick)(e,n.promotion,n.application)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this.playTimeout=setTimeout(function(){return e.setState({play:!0})},this.props.playDelay)},a.componentWillUnmount=function(){clearTimeout(this.playTimeout)},a.renderAsset=function(){var e=this.props,t=e.promotion,n=e.disablePlay,r=e.autoPlay,a=e.shouldAnimate,o=this.state.play;return f(u.default,{url:t.imageUrl,width:1280,height:720,videoUrl:t.videoUrl,play:!n&&o,className:d.default.cardAsset,autoPlay:r,shouldAnimate:a})},a.renderContent=function(){var e=this.props,t=e.promotion,n=e.renderButtons,r=e.application;return f("div",{className:(0,o.default)(d.default.padded,d.default.coloredBackground)},void 0,f(l.default,{size:l.default.Sizes.SIZE_16,className:(0,o.default)(d.default.title,d.default.coloredText)},void 0,t.title),f(i.default,{size:i.default.Sizes.SIZE_14,className:(0,o.default)(d.default.contentBottomMargin,d.default.coloredText)},void 0,t.description),null!=n?f("div",{className:d.default.ctaButtons},void 0,n(t,r)):null)},a.render=function(){var e=this.props.className;return f(s.default,{padded:!1,className:(0,o.default)(e,d.default.card),onClick:this.handleClick},void 0,this.renderAsset(),this.renderContent())},r}(a.Component);p.displayName="PromotionCard",p.defaultProps={disablePlay:!1,playDelay:500};var h=p;t.default=h},8803:function(e,t,n){e.exports=n.p+"1747132724e5e5d09278618b69f79233.svg"},8804:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(8)),l=f(n(6753)),i=f(n(6943)),u=f(n(8805)),s=f(n(8816)),d=n(1),c=f(n(6303));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=p(i.default.Separator,{inset:!1}),v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleUserContextMenu=function(e,n){var r=t.props,a=r.onUserContextMenu,o=r.closeOnLeave;(0,r.keepOpen)(),a(e,n,d.ContextMenuTypes.USER_GENERIC_LIST,o)},t.handleMouseEnter=function(){var e=t.props.onMouseEnter;e&&e()},t.handleMouseLeave=function(){var e=t.props.onMouseLeave;e&&e()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.renderActions=function(){var e=this.props.party,t=p(u.default,{party:e});return p(a.Fragment,{},void 0,p("div",{className:c.default.actionsContainer},void 0,t),h)},l.render=function(){var e=this.props,t=e.className,n=e.keepOpen,r=e.closeOnLeave,a=e.visibleOnMouseLeave,l=this.props.party,i=l.currentActivities,u=l.priorityMembers,d=l.partiedMembers;return p("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:(0,o.default)(t,a?c.default.keepOpen:c.default.hideOnMouseLeave)},void 0,this.renderActions(),p(s.default,{currentActivities:i,priorityMembers:u,partiedMembers:d,onPopoutOpen:n,onSubMenuClose:r,onUserContextMenu:this.handleUserContextMenu}))},r}(a.PureComponent);v.displayName="NowPlayingPopout";var m=(0,l.default)(v);t.default=m},8805:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(477)),l=g(n(201)),i=g(n(8806)),u=g(n(8807)),s=g(n(8808)),d=g(n(8809)),c=g(n(8810)),f=g(n(8811)),p=g(n(8812)),h=g(n(8813)),v=g(n(8814)),m=g(n(8815)),_=n(1);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderActivityActions=function(e,t,n,r){var i=e.activityUser,s=e.activity,d=e.game;if(n&&null!=s){var c=e.activityUser;return E(a.Fragment,{},r,E(h.default,{user:c,activity:s}),E(v.default,{user:c,activity:s}))}if((0,l.default)(s))return E(m.default,{},r);if(null==s||null==s.type)return null;var g=s.type===_.ActivityTypes.PLAYING;return E(a.Fragment,{},r,(0,o.default)(s,_.ActivityFlags.JOIN)&&g&&E(u.default,{user:i,activity:s,showContext:t}),(0,o.default)(s,_.ActivityFlags.SPECTATE)&&g&&E(p.default,{user:i,activity:s,showContext:t}),E(f.default,{application:d,showContext:t}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=r.prototype;return g.renderSocialActions=function(){var e,t=this.props.party,n=this.props.party,r=n.voiceChannels,o=n.partiedMembers,l=n.priorityMembers,u=n.applicationStreams,f=r[0],p=1===o.length&&1===l.length,h=null;if(null!=f){var v=f.guild,m=f.channel;h=E(a.Fragment,{},void 0,E(d.default,{guildId:v.id,channelId:m.id,party:t}),E(s.default,{guildId:v.id,party:t}))}return e=u.map(function(e){var t=e.stream,n=e.streamUser;return E(i.default,{streamUser:n,stream:t},"application-stream-action-"+t.ownerId)}),E(a.Fragment,{},void 0,p&&E(c.default,{party:t,recipientIds:l.map(function(e){return e.user.id}),hasUnknownRecipients:o.length-l.length>0},"message-"+l[0].user.id),h,e)},g.render=function(){var e=this,t=this.props.party,n=t.currentActivities,r=t.isSpotifyActivity,o=n.length>1,l=n.map(function(t,n){return e.renderActivityActions(t,o,r,n)});return E(a.Fragment,{},void 0,this.renderSocialActions(),l)},r}(a.PureComponent);t.default=y,y.displayName="NowPlayingPopoutActions"},8806:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(107)),o=n(195),l=u(n(6586)),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.streamUser,n=e.stream;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{onClick:function(){a.default.selectVoiceChannel(n.channelId),(0,o.watchStreamAndTransitionToStream)(n)}},void 0,i.default.Messages.WATCH_USER_STREAM.format({streamerName:t.toString()}))}},8807:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=E(n(3)),l=n(501),i=E(n(502)),u=E(n(161)),s=E(n(69)),d=E(n(22)),c=E(n(50)),f=E(n(51)),p=E(n(65)),h=n(165),v=E(n(13)),m=E(n(6586)),_=n(1),g=E(n(4));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.isFriend,n=e.game,r=e.user,a=e.request,o=e.showContext,i=e.activity,u=e.launchable,s=r.toString(),d=function(e,t,n,r){if(null==e)return r?g.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:n}):g.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN;switch(e.state){case _.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:t,username:n});case _.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:return g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:t,username:n});case _.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:n});case _.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:n});case _.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:n});default:return null}}(a,n,s,o),c=null;t?v.default.embedded?u||(c=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:i.name})):c=g.default.Messages.ACTIVITY_FEED_POPOUT_DESKTOP_APP_REQUIRED:c=g.default.Messages.ACTIVITY_FEED_POPOUT_NOT_FRIENDS_TOOLTIP.format({name:s});var f=null!=a&&a.state!==_.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED;return y(p.default,{text:c,position:p.default.Positions.LEFT},void 0,function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return y(m.default,{disabled:null!=c||f,onClick:function(){return(0,l.request)(r,i)},onMouseEnter:t,onMouseLeave:n},void 0,d)})},r}(a.PureComponent);S.displayName="AskToJoinAction",S.defaultProps={showContext:!1};var I=o.default.connectStores([f.default,i.default,c.default,d.default,s.default,u.default],function(e){var t=e.user,n=e.activity;return{request:i.default.getRequest(t.id),isFriend:f.default.isFriend(t.id),launchable:null!=n.application_id&&(0,h.isLaunchable)(c.default,d.default,s.default,u.default,n.application_id)}})(S);t.default=I},8808:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(6577)),o=f(n(260)),l=f(n(120)),i=f(n(39)),u=n(6879),s=f(n(6586)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=(0,o.default)(function(e){var t=e.guildId,n=e.analyticsContext,o=e.party;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{onClick:function(){var e=i.default.getChannelId(t);a.default.selectChannel(t,e),a.default.flushSelection(!0),l.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,p({source:p({},n.location,{object:d.AnalyticsObjects.LIST_ITEM}),guild_id:t,af_recently_played:!1},(0,u.getPartyMetadata)(o)))}},void 0,c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER)});t.default=h},8809:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=p(n(6577)),o=p(n(107)),l=p(n(260)),i=p(n(120)),u=p(n(39)),s=n(6879),d=p(n(6586)),c=n(1),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=(0,l.default)(function(e){var t=e.guildId,n=e.channelId,l=e.analyticsContext,p=e.party;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{onClick:function(){var e=u.default.getChannelId(t);a.default.selectChannel(t,e),a.default.flushSelection(!0),o.default.selectVoiceChannel(n),i.default.trackWithMetadata(c.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,h({source:h({},l.location,{object:c.AnalyticsObjects.LIST_ITEM}),guild_id:t,channel_id:n},(0,s.getPartyMetadata)(p)))}},void 0,f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL)});t.default=v},8810:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(140)),o=f(n(260)),l=f(n(120)),i=f(n(10)),u=n(6879),s=f(n(6586)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=(0,o.default)(function(e){var t=e.recipientIds,n=e.hasUnknownRecipients,o=e.analyticsContext,f=e.party;return n?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{onClick:function(){a.default.openPrivateChannel(i.default.getId(),t).then(function(e){return l.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,p({source:p({},o.location,{object:d.AnalyticsObjects.LIST_ITEM}),channel_id:e,recipient_id:"string"==typeof t?t:t[0],af_recently_played:!1},(0,u.getPartyMetadata)(f)))})}},void 0,c.default.Messages.SEND_DM)});t.default=h},8811:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=_(n(3)),o=_(n(260)),l=_(n(161)),i=_(n(69)),u=_(n(22)),s=_(n(50)),d=_(n(54)),c=_(n(65)),f=n(165),p=n(163),h=_(n(6586)),v=n(1),m=_(n(4));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e){var t=e.application,n=e.libraryApplication,r=e.canPlay,a=e.isRunning,o=e.isLaunching,l=e.showContext,i=void 0!==l&&l,u=e.analyticsContext;if(!r)return null;var s=null;return a?s=m.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:t.name}):o&&(s=m.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:t.name})),g(c.default,{text:s,position:c.default.Positions.LEFT},void 0,function(e){var r=e.onMouseEnter,a=e.onMouseLeave;return g(h.default,{onClick:function(){(0,p.playApplication)(t.id,n,{analyticsParams:{location:E({},u.location,{object:v.AnalyticsObjects.LIST_ITEM})}})},disabled:null!=s,onMouseEnter:r,onMouseLeave:a},void 0,i?m.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:t.name}):m.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH)})};y.displayName="PlayGameAction";var S=a.default.connectStores([d.default,s.default,u.default,i.default,l.default],function(e){var t=e.application,n=s.default.getActiveLibraryApplication(t.id);return{canPlay:(0,f.isLaunchable)(s.default,u.default,i.default,l.default,t.id,null!=n?n.branchId:null),isLaunching:u.default.launchingGames.has(t.id),isRunning:d.default.getRunningVerifiedApplicationIds().includes(t.id),libraryApplication:n}})(y),I=(0,o.default)(S);t.default=I},8812:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=E(n(3)),o=E(n(100)),l=E(n(477)),i=E(n(161)),u=E(n(69)),s=E(n(22)),d=E(n(50)),c=E(n(11)),f=E(n(532)),p=E(n(65)),h=n(165),v=E(n(13)),m=E(n(6586)),_=n(1),g=E(n(4));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=a.default.connectStores([c.default,f.default],function(e){var t=e.activity,n=e.user;return{spectateState:null!=t.application_id?f.default.getState(t.application_id,_.ActivityActionTypes.SPECTATE):null,currentUser:c.default.getCurrentUser(),isLaunchable:null!=t.application_id&&(0,h.isLaunchable)(d.default,s.default,u.default,i.default,t.application_id),canSpectate:null!=n.id&&null!=t&&null!=t.session_id&&null!=t.application_id&&(0,l.default)(t,_.ActivityFlags.SPECTATE)}})(function(e){var t=e.user,n=e.activity,r=e.isLaunchable,a=e.currentUser,l=e.spectateState,i=e.canSpectate,u=e.showContext,s=void 0!==u&&u,d=!v.default.embedded,c=l===_.ActivityActionStates.FAILED,f=a.id===t.id,h=s?g.default.Messages.USER_ACTIVITY_ACTION_SPECTATE_USER.format({name:t.toString()}):g.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,E=null;return c?E=g.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH:f?E=g.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:d?E=g.default.Messages.ACTIVITY_FEED_POPOUT_DESKTOP_APP_REQUIRED:r||(E=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:n.name})),i?y(p.default,{text:E},void 0,function(e){var r=e.onMouseEnter,a=e.onMouseLeave;return y(m.default,{onClick:function(){null!=n.session_id&&null!=n.application_id&&o.default.spectate(t.id,n.session_id,n.application_id)},disabled:null!=E||l===_.ActivityActionStates.LOADING||c,onMouseEnter:r,onMouseLeave:a},void 0,c?g.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH:h)}):null});t.default=S},8813:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(0));var r,a=u(n(65)),o=s(n(510)),l=u(n(6586)),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.activity,n=e.user;return d(o.default,{activity:t,user:n,type:o.SpotifyActionTypes.USER_ACTIVITY_PLAY},void 0,function(e){var t=e.tooltip,n=void 0===t?null:t,r=e.disabled,o=e.onClick;return d(a.default,{text:r?n:null},void 0,function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return d(l.default,{onClick:o,disabled:r,onMouseEnter:t,onMouseLeave:n},void 0,i.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY)})})};c.displayName="SpotifyPlayAction";var f=c;t.default=f},8814:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(0));var r,a=u(n(65)),o=s(n(510)),l=u(n(6586)),i=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.activity,n=e.user;return d(o.default,{activity:t,user:n,type:o.SpotifyActionTypes.USER_ACTIVITY_SYNC},void 0,function(e){var t=e.tooltip,n=void 0===t?null:t,r=e.disabled,o=e.onClick;return d(a.default,{text:r?n:null},void 0,function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return d(l.default,{onClick:o,disabled:r,onMouseEnter:t,onMouseLeave:n},void 0,i.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG)})})};c.displayName="SpotifySyncAction";var f=c;t.default=f},8815:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),l=f(n(329)),i=f(n(76)),u=f(n(378)),s=f(n(6586)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}var p=i.default.get(d.PlatformTypes.XBOX).name,h=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){l.default.open(d.UserSettingsSections.CONNECTIONS)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return this.props.notConnected?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{onClick:this.handleClick},void 0,c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:p})):null},a}(a.Component);h.displayName="XboxConnectAction";var v=o.default.connectStores([u.default],function(){return{notConnected:!u.default.getAccounts().some(function(e){return e.type===i.default.get(d.PlatformTypes.XBOX).type})}})(h);t.default=v},8816:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(6)),l=f(n(456)),i=f(n(7208)),u=f(n(6943)),s=f(n(8817)),d=f(n(4)),c=f(n(6302));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){return p(l.default,{size:l.default.Sizes.SIZE_12,className:c.default.memberListHeader},void 0,e)}function v(e,t){return p("div",{className:c.default.memberListContainer},void 0,e,t)}h.displayName="renderMemberListHeader",v.displayName="renderMemberList";var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).createMemberList=function(e,n,r,a){var o=t.props,l=o.onUserContextMenu,u=o.onPopoutOpen,d=o.onSubMenuClose,c=[];if(e.map(function(e){var t=e.user,n=e.status;return c.push(p(i.default,{user:t,status:n,onPopoutClose:d,onPopoutOpen:u,onContextMenu:function(e){return l(e,t)}},t.id))}),n.map(function(e){return c.push(p(i.default,{user:e,onPopoutClose:d,onPopoutOpen:u,onContextMenu:function(t){return l(t,e)}},e.id))}),null!=r&&null!=r.party&&null!=r.party.size)for(var f=r.party.size[0]-a,h=0;h<f;h++)c.push(p(s.default,{},"unknown-"+h));return c},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getExtraMembers=function(){var e=this.props,t=e.currentActivities,n=e.partiedMembers,r=(0,o.default)(t).flatMap(function(e){return e.playingMembers}).map(function(e){return e.id}).value();return n.filter(function(e){return!r.includes(e.id)})},l.renderSingleActivityMemberList=function(){var e=this.props,t=e.partiedMembers,n=e.priorityMembers,r=new Set(n.map(function(e){return e.user.id})),a=t.filter(function(e){return!r.has(e.id)}),o=this.props.currentActivities[0],l=null;return null!=o&&(l=o.activity),v(t.length>1?h(d.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:t.length})):null,this.createMemberList(n,a,l,t.length))},l.renderMultiActivityMemberList=function(){var e=this,t=this.props,n=t.priorityMembers,r=t.currentActivities,a=new Set(n.map(function(e){return e.user.id}));return r.map(function(t){var r=t.playingMembers,o=t.game,l=t.activity,i=new Set(r.map(function(e){return e.id})),u=h(o.name+" - "+r.length),s=n.filter(function(e){var t=e.user;return i.has(t.id)}),d=r.filter(function(e){return!a.has(e.id)});return v(u,e.createMemberList(s,d,l,r.length))})},l.renderExtraMemberList=function(){var e=this.props.priorityMembers,t=this.getExtraMembers(),n=e.map(function(e){return e.user.id}),r=t.map(function(e){return e.id}),a=e.filter(function(e){var t=e.user;return r.includes(t.id)}),o=t.filter(function(e){return!n.includes(e.id)}),l=this.createMemberList(a,o,null,t.length);return v(h(d.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+t.length),l)},l.render=function(){var e=this.props.currentActivities,t=this.getExtraMembers();if(e.length<=1&&0===t.length)return this.renderSingleActivityMemberList();var n=this.renderMultiActivityMemberList(),r=n.map(function(e,r){return p(a.Fragment,{},r,e,r!==n.length-1||t.length>0?p(u.default.Separator,{className:c.default.separator}):null)}),o=this.renderExtraMemberList();return p(a.Fragment,{},void 0,r,t.length>0?o:null)},r}(a.PureComponent);m.displayName="MemberList";var _=m;t.default=_},8817:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(24)),o=u(n(257)),l=u(n(4)),i=u(n(6301));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){return s(a.default,{align:a.default.Align.CENTER,className:i.default.item},void 0,s("div",{className:i.default.partyMemberUnknown}),s(o.default,{className:i.default.tag},void 0,l.default.Messages.GAME_FEED_UNKNOWN_PLAYER))}},8818:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(6654)),o=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:t,imgSrc:n(7769),header:o.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER,body:o.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY})}},8819:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(456)),i=c(n(7208)),u=c(n(6753)),s=n(1),d=c(n(6306));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleUserContextMenu=function(e,n){var r=t.props,a=r.onUserContextMenu,o=r.closeOnLeave;(0,r.keepOpen)(),a(e,n,s.ContextMenuTypes.USER_GENERIC_LIST,o)},t.handleMouseEnter=function(){var e=t.props.onMouseEnter;e&&e()},t.handleMouseLeave=function(){var e=t.props.onMouseLeave;e&&e()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.className,a=t.members,u=t.keepOpen,s=t.closeOnLeave,c=t.visibleOnMouseLeave;return f("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:(0,o.default)(r,c?d.default.keepOpen:d.default.hideOnMouseLeave)},void 0,f(l.default,{size:l.default.Sizes.SIZE_12,className:d.default.memberListHeader},void 0,n),f("div",{},void 0,a.map(function(t){return f(i.default,{user:t,onContextMenu:function(n){return e.handleUserContextMenu(n,t)},onPopoutOpen:u,onPopoutClose:s},t.id)})))},r}(a.PureComponent);p.displayName="RecentlyPlayedPopout";var h=(0,u.default)(p);t.default=h},8820:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(329)),l=d(n(21)),i=d(n(6654)),u=n(1),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderButtons=function(){return c(l.default,{size:l.default.Sizes.SMALL,onClick:t.handleFollowGames},void 0,s.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=a.prototype;return d.handleFollowGames=function(){o.default.open(u.UserSettingsSections.GAME_ACTIVITY)},d.render=function(){return c(i.default,{imgSrc:n(6788),header:s.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_HEADER,body:s.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_BODY,renderButtons:this.renderButtons})},a}(a.Component);f.displayName="FirstTimeUserCard";var p=f;t.default=p},8821:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(7210),l=n(953),i=p(n(329)),u=p(n(21)),s=p(n(6654)),d=n(1),c=p(n(4)),f=p(n(6308));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderButtons=function(){return h(a.Fragment,{},void 0,h(u.default,{size:u.default.Sizes.SMALL,onClick:t.handleAllowPersonalization,look:u.default.Looks.INVERTED},void 0,c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),h(u.default,{className:f.default.noButton,size:u.default.Sizes.MIN,look:u.default.Looks.LINK,color:u.default.Colors.WHITE,onClick:t.handleDismiss},void 0,c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_NO))},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var v=p.prototype;return v.handleClickPrivacy=function(){i.default.open(d.UserSettingsSections.PRIVACY_AND_SAFETY)},v.handleAllowPersonalization=function(){(0,o.setConsents)([d.Consents.PERSONALIZATION],[])},v.handleDismiss=function(){(0,l.dismissPersonalizationNotice)()},v.render=function(){return h(s.default,{className:f.default.gdprWrapper,imgSrc:n(8822),header:c.default.Messages.ACTIVITY_FEED_CARD_GDPR_HEADER,body:c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BODY.format({onClickPrivacy:this.handleClickPrivacy}),renderButtons:this.renderButtons})},p}(a.Component);v.displayName="GDPRCard";var m=v;t.default=m},8822:function(e,t,n){e.exports=n.p+"363100986010f8b6b340e23ffcd54b14.svg"},8823:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(6654)),o=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:t,imgSrc:n(7769),header:o.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER,body:o.default.Messages.ACTIVITY_FEED_CARD_GDPR_NONE_PLAYING_BODY})}},8824:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(953),l=c(n(329)),i=c(n(21)),u=c(n(6654)),s=n(1),d=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClose=function(){(0,o.dismissNoGamesNotice)()},t.renderButtons=function(){return f(i.default,{size:i.default.Sizes.SMALL,onClick:t.handleFollowGames},void 0,d.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=a.prototype;return c.handleFollowGames=function(){l.default.open(s.UserSettingsSections.ACTIVITY_FEED)},c.render=function(){return f(u.default,{imgSrc:n(6788),header:d.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_HEADER,body:d.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_BODY,renderButtons:this.renderButtons,onClose:this.handleClose})},a}(a.Component);p.displayName="NoGamesCard";var h=p;t.default=h},8825:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(6654)),o=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{imgSrc:n(6936),header:o.default.Messages.ACTIVITY_FEED_CARD_NO_NEWS_HEADER,body:o.default.Messages.ACTIVITY_FEED_CARD_NO_NEWS_BODY})};i.displayName="NoNewsCard";var u=i;t.default=u},8826:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(6654)),o=l(n(6309));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:o.default.placeholderWrapper})};i.displayName="PlaceholderCard";var u=i;t.default=u},8827:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(8)),l=d(n(6560)),i=d(n(58)),u=d(n(42)),s=d(n(6310));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(){return c(u.default,{name:u.default.Names.ACTIVITY,className:s.default.running})};f.displayName="RunningIcon";var p=Object.freeze({EMPTY:s.default.empty,WRAPPED:s.default.wrapped,UNWRAPPED:s.default.unwrapped}),h=c(f,{}),v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.size,n=e.type,r=e.icon,a=e.onClick,u=e.onContextMenu,d=e.alt,f=e.running;return c(l.default.Consumer,{},void 0,function(e){var l,v=e.isDiscover;return c(i.default,{className:(0,o.default)(s.default.container,null==r?p.EMPTY:n,(l={},l[s.default.clickable]=null!=a&&!f,l[s.default.discover]=v,l)),style:{width:t,height:t},onClick:f?null:a,onContextMenu:u},void 0,null!=r?c("img",{src:r,className:(0,o.default)(s.default.icon,f?s.default.iconRunning:null),alt:d}):null,f&&null!=r?h:null)})},r}(a.Component);v.displayName="LaunchableIcon",v.Types=p,v.defaultProps={type:p.UNWRAPPED,size:46,running:!1};var m=v;t.default=m},8828:function(e,t,n){"use strict";t.__esModule=!0,t.FeedLayoutContext=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(1);var o=r.createContext(a.FeedLayouts.TWO_COL);t.FeedLayoutContext=o},8829:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=_(n(368)),l=n(6738),i=m(n(331)),u=m(n(6530)),s=m(n(42)),d=n(6526),c=m(n(8830)),f=m(n(8840)),p=n(1),h=m(n(4)),v=m(n(6319));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=E(f.default,{}),S=function(e){var t=e.experimentCollections,n={page:p.AnalyticsPages.DISCOVER_HOMEPAGE};return a.useEffect(function(){(0,l.setHomeLink)(p.Routes.ACTIVITY),o.mount(),(0,d.trackAppUIViewed)("discover_homepage")},[]),a.createElement(i.default,g({},n,{root:!0}),E("div",{className:v.default.outerContainer},void 0,E(u.default,{},void 0,E(u.default.Icon,{name:s.default.Names.ACTIVITY}),E(u.default.Title,{},void 0,h.default.Messages.DISCOVER_COMMUNITIES)),E("div",{className:v.default.container},void 0,E("div",{className:v.default.discoveryFeed},void 0,E(c.default,{experimentCollections:t})),E("div",{className:v.default.activityFeed},void 0,y))))};S.displayName="Discover";var I=S;t.default=I},8830:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=w(n(0)),o=D(n(8)),l=n(3),i=n(924),u=n(6642),s=D(n(331)),d=n(939),c=D(n(495)),f=D(n(945)),p=D(n(232)),h=D(n(152)),v=D(n(352)),m=D(n(456)),_=w(n(875)),g=n(184),E=D(n(6544)),y=w(n(6899)),S=D(n(6856)),I=w(n(6776)),T=D(n(7211)),O=D(n(6900)),N=D(n(8831)),C=D(n(8832)),A=D(n(8833)),M=n(1),P=D(n(4)),R=D(n(6317)),b=D(n(8838)),L=D(n(8839));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var G=function(e){var t,n=e.name,r=e.guilds,a=e.faded,l=e.isFetchingSearch;return U("div",{className:(0,o.default)(R.default.section,(t={},t[R.default.faded]=a,t[R.default.fetching]=l,t))},void 0,U("div",{className:R.default.sectionHeader},void 0,U(m.default,{size:m.default.Sizes.SIZE_20,className:R.default.header},void 0,n)),U(C.default,{className:R.default.grid,guilds:r,faded:a,fetching:l}))};G.displayName="GridSection";var k=function(e){var t=e.experimentCollections,n=(0,E.default)(S.default),r=(0,d.useAnalyticsContext)(),o=a.useContext(v.default),m=a.useRef(null),C=a.useState(!1),D=C[0],w=C[1],k=a.useState(),F=k[0],B=k[1],j=a.useRef(new Set),H=a.useCallback(function(e){j.current.add(e)},[j]),V={activeGuildId:F,setActiveGuildId:B,seenGuildIds:j.current,addSeenGuildId:H},x=a.useState(!1),Y=x[0],W=x[1],z=(0,l.useStateFromStoresObject)([f.default],function(){return{discoverableGuilds:f.default.getDiscoverableGuilds(),isFetchingSearch:f.default.isFetchingSearch()}},[]),K=z.discoverableGuilds,$=z.isFetchingSearch,Q=(0,l.useStateFromStores)([p.default,c.default],function(){var e=p.default.applicationStatistics,t=Object.keys(e);return c.default.hasConsented(M.Consents.PERSONALIZATION)&&t.length>0});a.useEffect(function(){return(0,i.fetchPopularGuilds)(0,24),(0,u.fetchActivityStatistics)(),function(){return _.trackDiscoveryExited(r.loadId,Array.from(j.current))}},[]),a.useEffect(function(){var e=t.map(function(e){return e.guildIds});e.forEach(function(e){I.fetchDiscoverableGuilds(e)});var n=[];e.forEach(function(e){return n=n.concat(e)}),y.trackDiscoveryViewed(n,r)},[t]),a.useEffect(function(){Q&&(0,i.fetchGamesYouPlayGuilds)()},[Q]);var X=Q?K[M.GuildDiscoverySections.GAMES_YOU_PLAY].guilds:[],q=K[M.GuildDiscoverySections.POPULAR].guilds,J=[g.ExperimentBuckets.TREATMENT_2,g.ExperimentBuckets.TREATMENT_3,g.ExperimentBuckets.TREATMENT_4].includes(n)?q.slice(0,12):q.slice(0,24),Z=(0,l.useStateFromStoresArray)([O.default],function(){return t.map(function(e){var t=e.name,n=e.section,r=e.guildIds;return{name:t,section:n,guilds:O.default.getGuilds(r)}})},[t]);return U(T.default.Provider,{value:V},void 0,a.createElement(h.default,{ref:m,track:!0},U("img",{className:R.default.backgroundFill,alt:"",src:o===M.ThemeTypes.LIGHT?L.default:b.default}),U("div",{className:R.default.container},void 0,U(s.default,{section:M.AnalyticsSections.DISCOVER_SEARCH},void 0,U(A.default,{scroller:m.current,setViewingResults:w,setFocus:W})),Z.map(function(e){var t=e.name,n=e.section,r=e.guilds;return null==r||0===r.length||D?null:U(s.default,{section:n},t,U(N.default,{name:t,carouselClassName:R.default.carousel,guilds:r,faded:Y,isFetchingSearch:$}))}),X.length>0&&!D?U(s.default,{section:M.AnalyticsSections.DISCOVER_GAMES_YOU_PLAY},void 0,U(N.default,{name:P.default.Messages.DISCOVER_RECOMMENDED,carouselClassName:R.default.carousel,guilds:X,faded:Y,isFetchingSearch:$})):null,D?null:U(s.default,{section:M.AnalyticsSections.DISCOVER_POPULAR},void 0,U(G,{name:P.default.Messages.GUILD_DISCOVERY_HEADER_POPULAR_SERVERS,guilds:J,faded:Y&&!D,isFetchingSearch:$})))))};k.displayName="DiscoverFeed";var F=k;t.default=F},8831:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(8)),l=m(n(6)),i=n(3),u=m(n(185)),s=m(n(21)),d=m(n(58)),c=m(n(42)),f=n(152),p=m(n(456)),h=m(n(7772)),v=m(n(6314));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n,r,m=e.name,g=e.guilds,E=e.className,y=e.carouselClassName,S=e.faded,I=e.isFetchingSearch,T=a.useRef(),O=a.useRef(),N=a.useState(!0),C=N[0],A=N[1],M=a.useState(!1),P=M[0],R=M[1],b=(0,i.useStateFromStores)([u.default],function(){var e=null!=T.current?T.current.getScrollerNode():null;return null!=e&&e.scrollWidth>e.clientWidth},[g]),L=a.useCallback(function(){var e=T.current,t=O.current;if(null!=e&&null!=t){var n=e.getScrollData().scrollLeft,r=e.getScrollerNode();null!=r&&(null!=r.scrollTo?r.scrollTo({left:n-t.offsetWidth,behavior:"smooth"}):r.scrollLeft=n-t.offsetWidth)}},[T,O]),D=a.useCallback(function(){var e=T.current,t=O.current;if(null!=e&&null!=t){var n=e.getScrollData().scrollLeft,r=e.getScrollerNode();null!=r&&(null!=r.scrollTo?r.scrollTo({left:n+t.offsetWidth,behavior:"smooth"}):r.scrollLeft=n+t.offsetWidth)}},[T,O]),w=a.useCallback(function(){var e=T.current;if(null!=e){var t=e.getScrollerNode();null!=t&&(C&&0!==t.scrollLeft&&A(!1),C||0!==t.scrollLeft||A(!0),P&&t.scrollLeft!==t.scrollWidth-t.clientWidth&&R(!1),P||t.scrollLeft!==t.scrollWidth-t.clientWidth||R(!0))}},[T,C,P]);return _("div",{className:(0,o.default)(v.default.section,E,(t={},t[v.default.faded]=S,t[v.default.fetching]=I,t))},void 0,a.createElement("div",{ref:O,className:v.default.sectionHeader},_(p.default,{size:p.default.Sizes.SIZE_20,className:v.default.header},void 0,m),b?_("nav",{className:v.default.sectionNav},void 0,_(s.default,{className:v.default.scrollButton,look:s.default.Looks.BLANK,size:s.default.Sizes.ICON,color:s.default.Colors.WHITE,onClick:L,disabled:C},void 0,_(c.default,{width:16,height:16,className:v.default.scrollIcon,name:c.default.Names.LEFT_CARET})),_(s.default,{className:v.default.scrollButton,look:s.default.Looks.BLANK,size:s.default.Sizes.ICON,color:s.default.Colors.WHITE,onClick:D,disabled:P},void 0,_(c.default,{width:16,height:16,className:v.default.scrollIcon,name:c.default.Names.RIGHT_CARET}))):null),_("div",{className:v.default.carouselContainer},void 0,_(d.default,{className:(0,o.default)(v.default.leftFade,(n={},n[v.default.showPeek]=!C,n)),onClick:L},void 0,_(c.default,{className:v.default.leftPeek,width:32,height:32,name:c.default.Names.LEFT_CARET})),a.createElement(f.HorizontalScroller,{fade:!0,track:b,ref:T,theme:f.HorizontalScroller.Themes.HIDDEN,className:(0,o.default)(v.default.carousel,y),outerClassName:v.default.displayContents,onScroll:w},l.default.map(g,function(e,t){return _(h.default,{className:v.default.carouselItem,guild:e,index:t},e.id)})),_(d.default,{className:(0,o.default)(v.default.rightFade,(r={},r[v.default.showPeek]=!P,r)),onClick:D},void 0,_(c.default,{className:v.default.rightPeek,height:32,width:32,name:c.default.Names.RIGHT_CARET}))))};g.displayName="DiscoverCarousel";var E=g;t.default=E},8832:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(8)),o=u(n(6)),l=u(n(7772)),i=u(n(6315));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.guilds,n=e.className,r=e.faded,u=e.fetching;return s("div",{className:(0,a.default)(i.default.grid,n)},void 0,o.default.map(t,function(e,t){var n;return s(l.default,{className:(0,a.default)(i.default.gridItem,(n={},n[i.default.faded]=r,n[i.default.fetching]=u,n)),guild:e,index:t},e.id)}))};d.displayName="DiscoverGrid";var c=d;t.default=c},8833:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=m(n(6)),l=n(3),i=m(n(7774)),u=n(939),s=_(n(945)),d=m(n(25)),c=m(n(352)),f=_(n(875)),p=m(n(7211)),h=m(n(6560)),v=m(n(4));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t=e.scroller,n=e.setViewingResults,r=e.setFocus,m=a.useContext(c.default),_=(0,u.useAnalyticsContext)(),E=v.default.getLanguages(),y=_.loadId||"",S=a.useContext(p.default),I=S.activeGuildId,T=S.setActiveGuildId,O=S.addSeenGuildId,N=(0,l.useStateFromStoresObject)([s.default],function(){return{guilds:s.default.getDiscoverableGuilds(),isFetchingSearch:s.default.isFetchingSearch()}},[]),C=N.guilds,A=N.isFetchingSearch,M=(0,l.useStateFromStores)([d.default],function(){return o.default.find(E,{code:d.default.locale})},[E]),P=C.search,R=C.mostRecentQuery,b=null!=P[R]?P[R]:s.EMPTY_DISCOVERABLE_GUILDS_SECTION;return g(h.default.Provider,{value:{isDiscover:!0}},void 0,g(i.default,{loadId:y,isFetchingSearch:A,searchResults:b,mostRecentQuery:R,loadingGuildId:I,availableLanguages:E,defaultLanguage:M,scroller:t,theme:m,onViewGuild:function(e,t){e!==I&&(T(e),f.viewGuild(y,e,t,_))},onGuildCardSeen:function(e){O(e)},onSearchStarted:function(e){null!=e&&null!=e.current&&e.current.blur()},onSearchCleared:function(e){n(!1),null!=e&&null!=e.current&&e.current.blur()},onSearchFocus:function(){return r(!0)},onSearchBlur:function(){return r(!1)},onResultsSeen:function(){n(!0)}}))};E.displayName="DiscoverSearch";var y=E;t.default=y},8834:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(0));var r,a,o=s(n(460)),l=(r=n(71))&&r.__esModule?r:{default:r},i=n(486),u=n(1);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=c({},o.DEFAULT_SELECT_STYLES,{container:function(e,t){return c({},e,{height:"100%",backgroundColor:t.theme.colors.menuBackground,boxShadow:"0 2px 5px 0 "+(0,i.hexOpacityToRgba)(u.Colors.BLACK,.2),borderRadius:3,pointerEvents:null})},control:function(e,t){return c({},e,{height:"100%",border:"none",backgroundColor:"transparent",boxShadow:null,color:t.theme.colors.text,fontWeight:500,fontSize:16,cursor:"pointer","&:hover":{border:"none",boxShadow:null}})},menu:function(e,t){var n=t.theme.colors;return c({},e,{backgroundColor:n.menuBackground,border:"none",borderTop:"1px solid "+n.menuBorder,borderRadius:"0 0 3px 3px",boxShadow:"0 1px 5px 0 "+n.neutral20,color:n.text,marginTop:-1,marginBottom:-1})}}),p=c({},o.LIGHT_THEME_COLORS,{text:u.Colors.PRIMARY_LIGHT_500,selectedOptionBackground:u.Colors.PRIMARY_DARK_100,menuBorder:u.Colors.PRIMARY_DARK_200}),h=c({},o.DARK_THEME_COLORS,{menuBackground:u.Colors.PRIMARY_DARK_500}),v=function(e){var t=e.value;return d(l.default,{},void 0,t.name)};v.displayName="LanguageOption";var m=function(e){var t=e.languages,n=e.selectedLanguage,r=e.className,a=e.onLanguageChange,l=t.map(function(e){return{value:e}});return d(o.default,{className:r,value:n,options:l,onChange:a,searchable:!1,optionRenderer:v,valueRenderer:v,styleOverrides:f,lightThemeColorOverrides:p,darkThemeColorOverrides:h})};m.displayName="GuildDiscoveryLanguageSelector";var _=m;t.default=_},8835:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(0)),o=h(n(8)),l=h(n(6560)),i=h(n(21)),u=h(n(58)),s=h(n(42)),d=v(n(8836)),c=h(n(71)),f=h(n(4)),p=h(n(6316));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={currentPage:1},t.handlePageChange=function(e){var n=t.props.onPageChange;t.setState({currentPage:e}),null!=n&&n(e)},t.renderBack=function(e){var t=e.key,n=e.disabled,r=e.navigateToPage;return m(i.default,{className:p.default.endButton,innerClassName:p.default.endButtonInner,look:i.default.Looks.FILLED,color:i.default.Colors.TRANSPARENT,onClick:r,disabled:n,rel:"prev"},t,m(s.default,{className:p.default.iconCaret,name:s.default.Names.LEFT_CARET,"aria-hidden":!0}),m("span",{},void 0,f.default.Messages.BACK))},t.renderNext=function(e){var t=e.key,n=e.disabled,r=e.navigateToPage;return m(i.default,{className:p.default.endButton,innerClassName:p.default.endButtonInner,look:i.default.Looks.FILLED,color:i.default.Colors.TRANSPARENT,onClick:r,disabled:n,rel:"next"},t,m("span",{},void 0,f.default.Messages.NEXT),m(s.default,{className:p.default.iconCaret,name:s.default.Names.RIGHT_CARET,"aria-hidden":!0}))},t.renderPage=function(e){var t;return m(u.default,{className:(0,o.default)(p.default.roundButton,(t={},t[p.default.activeButton]=e.selected,t)),onClick:e.selected?null:e.navigateToPage,"aria-label":f.default.Messages.PAGINATION_PAGE_LABEL.format({pageNumber:e.targetPage}),"aria-current":e.selected?"page":null},e.key,m("span",{},void 0,e.targetPage))},t.renderGap=function(e){return m(c.default,{className:(0,o.default)(p.default.gap),disabled:!0,"aria-hidden":!0},e.key,"…")},t.renderPaginator=function(e){var n,r=e.pages;if(!e.hasMultiplePages)return null;var a=t.context.isDiscover;return m("div",{className:(0,o.default)(p.default.pageControlContainer,(n={},n[p.default.discover]=a,n))},void 0,m("nav",{className:p.default.pageControl},void 0,r.map(function(e){switch(e.type){case d.PaginationTypes.BACK:return t.renderBack(e);case d.PaginationTypes.PAGE:return t.renderPage(e);case d.PaginationTypes.GAP:return t.renderGap(e);case d.PaginationTypes.NEXT:return t.renderNext(e);default:return null}})))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.totalCount,n=e.pageSize,r=e.children,a=this.state.currentPage,o=Math.ceil(t/n);return r({controller:m(d.default,{totalPageCount:o,selectedPage:a,onPageChange:this.handlePageChange},void 0,this.renderPaginator)})},r}(a.PureComponent);_.displayName="GuildDiscoveryPaginator",_.contextType={isDiscover:!1},_.contextType=l.default;var g=_;t.default=g},8836:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PaginationTypes=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=l(n(82)),o=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var i=(0,a.default)({PAGE:null,GAP:null,BACK:null,NEXT:null});t.PaginationTypes=i;var u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).changePageTo=function(e){var n=t.props,r=n.selectedPage,a=n.onPageChange;r!==e&&null!=a&&a(e)},t.handleForward=function(){t.changePageTo(Math.min(t.props.selectedPage+1,t.props.totalPageCount))},t.handleBackward=function(){t.changePageTo(Math.max(t.props.selectedPage-1,1))},t.handleJump=function(e){t.changePageTo(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getNeighborBounds=function(){var e=this.props,t=e.totalPageCount,n=e.maxVisiblePages,r=e.selectedPage,a=Math.ceil(n/2),o=Math.floor(n/2),l=r<=a?[1,n]:r>t-o?[t-n+1,t]:[r-a+1,r+o],i=l[0],u=l[1];return[Math.max(i,1),Math.min(u,t)]},a.getPageList=function(){var e=this,t=this.props,n=t.totalPageCount,r=t.selectedPage,a=this.getNeighborBounds(),l=a[0],u=a[1],s={type:i.BACK,key:"back",disabled:1===r,selected:!1,navigateToPage:this.handleBackward},d={type:i.NEXT,key:"next",disabled:r===n,selected:!1,navigateToPage:this.handleForward},c=[],f=[];l>1&&(c=[{type:i.PAGE,key:"page-1",targetPage:1,navigateToPage:function(){return e.handleJump(1)}},{type:i.GAP,key:"left-gap"}],l+=2),u<n&&(f=[{type:i.GAP,key:"right-gap"},{type:i.PAGE,key:"page-"+n,targetPage:n,navigateToPage:function(){return e.handleJump(n)}}],u-=2);var p=o.default.range(l,u+1).map(function(t){return{type:i.PAGE,key:"page-"+t,targetPage:t,selected:t===r,disabled:!1,navigateToPage:function(){return e.handleJump(t)}}});return[s].concat(c,p,f,[d])},a.render=function(){var e=this.props,t=e.totalPageCount;return(0,e.children)({pages:this.getPageList(),hasMultiplePages:t>1})},r}(r.PureComponent);u.displayName="PaginationController",u.defaultProps={maxVisiblePages:9};var s=u;t.default=s},8837:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(6560)),i=s(n(7773)),u=s(n(5933));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(e){var n=t.props,r=n.guilds,a=n.analyticsContext,o=n.onViewGuild,l=r.findIndex(function(t){return t.id===e});o(e,l,a)},t.renderGuild=function(e,n){var r=t.props,a=r.loadingGuildId,o=r.onGuildCardSeen,l=r.theme;return d(i.default,{guild:e,isLoadingGuild:e.id===a,onView:t.handleViewGuild,theme:l,className:u.default.guildCard,onGuildCardSeen:o},n)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push(d(i.default.Placeholder,{},n));return t},a.render=function(){var e,t=this.props,n=t.guilds,r=t.loading,a=this.context.isDiscover;return d("div",{className:(0,o.default)(u.default.guildList,(e={},e[u.default.discover]=a,e))},void 0,r||null==n?this.renderPlaceholders():n.map(this.renderGuild))},r}(a.PureComponent);c.displayName="GuildList",c.contextType={isDiscover:!1},c.defaultProps={loadingPlaceholderCount:12},c.contextType=l.default;var f=c;t.default=f},8838:function(e,t,n){e.exports=n.p+"c486dc65ce2877eeb18e4c39bb49507a.svg"},8839:function(e,t,n){e.exports=n.p+"8c1fd3ecbbf620ec49cecda2aa53f256.svg"},8840:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(0)),o=n(3),l=n(29),i=S(n(331)),u=S(n(7767)),s=I(n(7209)),d=S(n(7770)),c=n(939),f=S(n(479)),p=S(n(125)),h=S(n(886)),v=S(n(152)),m=S(n(15)),_=S(n(13)),g=S(n(6560)),E=n(1),y=S(n(6318));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=T(u.default,{}),N=function(){var e=(0,c.useAnalyticsContext)(),t=(0,o.useStateFromStoresObject)([h.default],function(){return{loaded:h.default.discoverLoaded,nowPlayingCount:h.default.nowPlayingCards.length}}),n=t.loaded,r=t.nowPlayingCount,u=(0,o.useStateFromStores)([p.default],function(){return p.default.feedUserIDs.size}),S=(0,o.useStateFromStores)([f.default],function(){var e=s.getDataFromRecentlyPlayed(f.default.gamesByUser),t=s.getSortedApplicationIds(e);return s.getSortedItemsFromData(t,e).length});a.useEffect(function(){m.default.track(E.AnalyticEvents.ACTIVITY_FEED_VIEWED,{location:e.location});var t=Date.now();return function(){m.default.track(E.AnalyticEvents.ACTIVITY_FEED_EXITED,{location:e.location,load_id:e.loadId,seconds_spent:Math.floor((Date.now()-t)/1e3)})}},[]);var I=a.useRef(new l.Timeout),N=a.useState(!1),C=N[0],A=N[1];return a.useEffect(function(){n&&!C&&I.current.start(1200,function(){m.default.track(E.AnalyticEvents.ACTIVITY_FEED_LOADED,{location:e.location,load_id:e.loadId,num_users_subscribed:u,num_items_now_playing:r,num_items_recently_played:S}),A(!0)})},[n,C,r,u,S,e]),T(v.default,{theme:v.default.Themes.GHOST_HAIRLINE_CHANNELS,className:y.default.container},void 0,T(g.default.Provider,{value:{isDiscover:!0}},void 0,_.default.isWindows()?T(i.default,{section:E.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,T(d.default,{className:y.default.quickLauncher})):null,T(i.default,{section:E.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING},void 0,O),T(i.default,{section:E.AnalyticsSections.ACTIVITY_FEED_RECENTLY_PLAYED},void 0,T(s.default,{className:y.default.nowPlaying}))))};N.displayName="DiscoverGameActivity";var C=N;t.default=C},8841:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(21)),o=u(n(71)),l=u(n(4)),i=u(n(5947));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.onLogin,r=e.onRegister;return s("div",{className:i.default.wrapper},void 0,s("div",{className:i.default.content},void 0,s("img",{alt:"",src:n(6788),className:i.default.image}),s("div",{},void 0,s(o.default,{className:i.default.header},void 0,l.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),s(o.default,{className:i.default.subHeader},void 0,l.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY))),s("div",{className:i.default.buttonContainer},void 0,s(a.default,{className:i.default.button,size:a.default.Sizes.MEDIUM,onClick:t,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE},void 0,l.default.Messages.LOGIN),s(a.default,{className:i.default.button,size:a.default.Sizes.MEDIUM,onClick:r},void 0,l.default.Messages.REGISTER)))};d.displayName="GuestLurkerGuard";var c=d;t.default=c},8842:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Ce(n(0)),o=Ne(n(8)),l=Ne(n(16)),i=Ne(n(339)),u=n(3),s=Ne(n(960)),d=n(35),c=Ne(n(6736)),f=Ne(n(141)),p=Ne(n(927)),h=Ne(n(356)),v=Ne(n(137)),m=n(7776),_=Ne(n(8843)),g=Ne(n(8844)),E=n(6526),y=Ne(n(98)),S=Ne(n(10)),I=Ne(n(344)),T=Ne(n(6862)),O=Ne(n(14)),N=Ne(n(6852)),C=Ne(n(7676)),A=Ne(n(273)),M=Ne(n(6744)),P=Ne(n(19)),R=Ne(n(276)),b=Ne(n(194)),L=Ne(n(463)),D=Ne(n(64)),w=Ne(n(68)),U=Ne(n(6636)),G=Ne(n(39)),k=Ne(n(153)),F=Ne(n(25)),B=Ne(n(11)),j=Ne(n(72)),H=Ne(n(21)),V=Ce(n(6524)),x=Ne(n(182)),Y=n(7701),W=n(265),z=n(908),K=n(80),$=Ne(n(278)),Q=Ne(n(36)),X=n(266),q=n(472),J=Ne(n(8846)),Z=Ne(n(6747)),ee=Ne(n(8849)),te=Ne(n(7213)),ne=Ne(n(7216)),re=Ne(n(7226)),ae=Ne(n(8853)),oe=Ne(n(8855)),le=Ne(n(7232)),ie=Ne(n(8857)),ue=Ne(n(331)),se=Ce(n(6547)),de=Ne(n(6543)),ce=Ne(n(459)),fe=Ne(n(8892)),pe=Ne(n(8893)),he=Ne(n(8894)),ve=Ne(n(6530)),me=n(7240),_e=Ne(n(8898)),ge=Ne(n(7245)),Ee=Ne(n(6948)),ye=Ne(n(8902)),Se=Ne(n(7253)),Ie=n(1),Te=Ne(n(4)),Oe=Ne(n(5948));function Ne(e){return e&&e.__esModule?e:{default:e}}function Ce(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Re(e){e.preventDefault()}var be=/^\+(?!\w+):?(?!:)(\w+)?:?$/,Le=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).channelTextAreaRef=a.createRef(),t.state={textValue:N.default.getDraft(t.props.channel.id),value:""},t.draftDidChange=function(e){void 0===e&&(e=t.props);var n=t.state.textValue,r=N.default.getDraft(e.channel.id);n!==r&&t.setState({textValue:r},function(){if(n!==r){var e=t.props.onFocus;e&&e()}})},t.handleKeyDown=function(e){if(!(e.which!==Ie.KeyboardKeys.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===t.state.textValue.length){e.preventDefault();var n=t.props.channel,r=b.default.getLastEditableMessage(n.id);r&&f.default.startEditMessage(n.id,r.id,r.content)}},t.handleTextareaChange=function(e,n){var r=t.props.channel.id;c.default.changeDraft(r,t.state.value),""===n||be.test(n)?""===n&&p.default.stopTyping(r):p.default.startTyping(r),I.default.getLayout(r)===Ie.ChannelLayouts.NO_CHAT&&s.default.updateLayout(r,Ie.ChannelLayouts.NORMAL),t.setState({textValue:n})},t.handleSendMessage=function(e){if(0===e.length)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var n=t.props.channel;return null!=t.channelTextAreaRef.current?(0,z.applyChatRestrictions)(t.channelTextAreaRef.current,e,n).then(function(r){var a=r.valid,o=r.failureReason;return a?(f.default.sendMessage(n.id,$.default.parse(n,e)),t.setState({textValue:""}),{shouldClear:!0,shouldRefocus:!0}):o===Ie.MessageRestrictionTypes.SLOWMODE_COOLDOWN?(K.ComponentDispatch.dispatch(Ie.ComponentActions.SHAKE_APP,{duration:200,intensity:2}),K.ComponentDispatch.dispatch(Ie.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1}}):Promise.resolve({shouldClear:!1,shouldRefocus:!1})},t}Pe(t,e);var n=t.prototype;return n.componentDidMount=function(){N.default.addChangeListener(this.draftDidChange)},n.componentWillUnmount=function(){N.default.removeChangeListener(this.draftDidChange)},n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props)},n.render=function(){var e=this.props,t=e.channel,n=e.focused,r=e.onResize,o=e.onBlur,l=e.onFocus,i=Te.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:(0,v.default)(t,!0)}),u=t.isPrivate()?te.default:ne.default;return Me("form",{onSubmit:Re,className:Oe.default.form},void 0,Me(u,{channel:t},void 0,Me(se.default,{tutorialId:"writing-messages",position:se.TutorialIndicatorPositions.TOP,offsetY:30},void 0,a.createElement(Z.default,{ref:this.channelTextAreaRef,value:this.state.textValue,focused:n,className:Oe.default.channelTextArea,channel:t,placeholder:i,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:r,onFocus:l,onBlur:o,onKeyDown:this.handleKeyDown,shouldRenderPremiumGiftButton:!0}))),Me(le.default,{channel:t}))},t}(a.PureComponent);Le.displayName="ChannelTextAreaForm";var De=Me(fe.default,{},"members"),we=Me(fe.default,{},"members"),Ue=Me(Y.ChatLayerContainer,{}),Ge=Me(ee.default,{}),ke=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={topicExpanded:!1,textAreaFocused:!1,currentChannelId:t.props.channelId,showGuildJoinIntentModal:!1},t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null;switch(e.type){case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:return ue.default.Pages.GUILD_CHANNEL;case Ie.ChannelTypes.GROUP_DM:case Ie.ChannelTypes.DM:return ue.default.Pages.DM_CHANNEL;default:return null}},t.resizeChat=function(){K.ComponentDispatch.dispatch(Ie.ComponentActions.CHAT_RESIZE)},t.handleInputFocus=function(){(0,q.isFullScreen)()||t.setState({textAreaFocused:!0})},t.handleInputBlur=function(){(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1})},t.handleTitleClick=function(){var e=t.props.channel;null!=e&&e.isDM()&&t.openUserProfile()},t.handleContextMenu=function(e){var n=t.props.channel;switch((0,l.default)(null!=n,"Missing channel in Channel.handleContextMenu"),n.type){case Ie.ChannelTypes.GUILD_VOICE:case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:t.openChannelContextMenu(e);break;case Ie.ChannelTypes.DM:t.openUserContextMenu(e)}},t.handleJumpToPresent=function(){var e=t.props.channel;null!=e&&b.default.getMessages(e.id).hasMoreAfter&&K.ComponentDispatch.dispatch(Ie.ComponentActions.SCROLLTO_PRESENT)},t.renderHeaderToolbar=function(){var e=t.props,n=e.channel,r=e.isLurking;(0,l.default)(null!=n,"Missing channel in Channel.renderHeaderToolbar");var a=[];if(n.isSystemDM())return a;switch(n.type){case Ie.ChannelTypes.DM:a.push(Me(_e.default,{channel:n},"calls")),a.push(Me(he.default,{channel:n},"pins")),a.push(Me(ge.default,{channel:n,tooltip:Te.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Ie.ChannelTypes.GROUP_DM:if(a.push(Me(_e.default,{channel:n},"calls")),a.push(Me(he.default,{channel:n},"pins")),!n.isManaged()){var o=Te.default.Messages.GROUP_DM_ADD_FRIENDS;a.push(Me(ge.default,{channel:n,tooltip:o},"invite"))}a.push(De);break;case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:r||a.push(Me(pe.default,{channel:n},"mute")),a.push(Me(he.default,{channel:n},"pins")),a.push(we)}return a},t.renderFollowButton=function(){var e=t.props,n=e.showFollowButton,r=e.channel;return n?Me(H.default,{size:H.default.Sizes.MIN,color:H.default.Colors.PRIMARY,className:Oe.default.followButton,onClick:function(){return(0,W.openModal)(function(e){return a.createElement(Ee.default,Ae({channel:r},e))})}},void 0,Te.default.Messages.FOLLOW):null},t}Pe(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.channelId,r=e.channel;return n!==t.currentChannelId?{textAreaFocused:null!=r&&D.default.can(Ie.Permissions.SEND_MESSAGES,r),currentChannelId:n}:null};var r=t.prototype;return r.componentDidMount=function(){var e=this.props.guildId;null!=e&&(0,m.isEligibleForServerIntentExperiment)(e)&&this.setState({showGuildJoinIntentModal:!0}),K.ComponentDispatch.subscribe(Ie.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),K.ComponentDispatch.subscribe(Ie.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur),(0,E.trackAppUIViewed)("guild_channel")},r.componentDidUpdate=function(e){if(this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus()),this.props.channel&&null==e.channel){var t=this.props,n=t.channel,r=t.stream;null!=n&&n.type===Ie.ChannelTypes.GUILD_VOICE&&null==r&&Q.default.replaceWith(Ie.Routes.CHANNEL(n.guild_id)),(0,m.isEligibleForServerIntentExperiment)(n.guild_id)&&this.setState({showGuildJoinIntentModal:!0})}this.props.channel&&e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.props.section!==e.section&&this.resizeChat();var a=this.props,o=a.channel,l=a.hasCall,i=a.stream,u=!l&&e.hasCall,s=null==i&&null!=e.stream;null!=o&&o.type===Ie.ChannelTypes.GUILD_VOICE&&(u||s)&&Q.default.replaceWith(Ie.Routes.CHANNEL(o.guild_id))},r.componentWillUnmount=function(){K.ComponentDispatch.unsubscribe(Ie.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),K.ComponentDispatch.unsubscribe(Ie.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur)},r.openUserProfile=function(){var e=this.props.channel;(0,l.default)(null!=e,"Missing channel in Channel.openUserProfile"),h.default.open(e.getRecipientId(),e.guild_id)},r.openChannelContextMenu=function(e){var t=this.props,n=t.guild,r=t.channel;(0,l.default)(null!=r,"Missing channel in Channel.openChannelContextMenu"),(0,d.openContextMenu)(e,function(e){return a.createElement(de.default,Ae({},e,{type:Ie.ContextMenuTypes.CHANNEL_TITLE,channel:r,guild:n}))})},r.openUserContextMenu=function(e){var t=this.props.channel;(0,l.default)(null!=t,"Missing channel in Channel.openUserContextMenu");var n=B.default.getUser(t.getRecipientId());(0,l.default)(null!=n,"Missing user in Channel.openUserContextMenu"),(0,d.openContextMenu)(e,function(e){return a.createElement(ce.default,Ae({},e,{type:Ie.ContextMenuTypes.USER_CHANNEL_TITLE,user:n,selected:!0,channelId:t.id}))})},r.renderHeaderBar=function(){var e=this.props,t=e.channel,n=e.guild,r=e.guildId,a=e.isGuest,i=e.hasCall,u=e.hasVideo,s=e.isMobile,d=e.inCall;return(0,l.default)(null!=t,"Missing channel in Channel.renderHeaderBar"),Me(ve.default,{guildId:r,channelId:t.id,toolbar:this.renderHeaderToolbar(),className:(0,o.default)(Oe.default.title,u&&d?(0,X.getThemeClass)(Ie.ThemeTypes.DARK):null),isGuest:a,transparent:i},"header-"+t.id,(0,me.renderTitle)({channel:t,hasVideo:u,isMobile:s,handleContextMenu:this.handleContextMenu,handleClick:this.handleTitleClick,renderFollowButton:this.renderFollowButton}),(0,me.renderTopic)(t,n))},r.renderCall=function(){var e=this.props.channel;switch((0,l.default)(null!=e,"Missing channel in Channel.renderCall"),e.type){case Ie.ChannelTypes.GUILD_VOICE:case Ie.ChannelTypes.DM:case Ie.ChannelTypes.GROUP_DM:return Me(ie.default,{channel:e,onResize:this.resizeChat},"call-"+e.id);default:return null}},r.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,r=e.guild,a=this.state.textAreaFocused;return(0,l.default)(null!=t,"Missing channel in Channel.renderChat"),t.type===Ie.ChannelTypes.GUILD_VOICE?null:!n&&t.isNSFW()?Me(Se.default,{guild:r}):Me(ue.default,{page:this.getAnalyticsPage()},"messages-"+t.id,Me(Y.ChatLayerProvider,{},void 0,Me("div",{className:Oe.default.chatContent},void 0,Me(re.default,{channel:t}),Me(Le,{focused:a,channel:t,guild:r,onResize:this.resizeChat,handleJumpToPresent:this.handleJumpToPresent,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}),Ue)))},r.renderSidebar=function(){var e=this.props,t=e.searchId,n=e.channel,r=e.section,a=e.theme,o=e.guild;if((0,l.default)(null!=n,"Missing channel in Channel.renderSidebar"),r===Ie.ChannelSections.MEMBERS)switch(n.type){case Ie.ChannelTypes.GROUP_DM:return Me(ae.default,{channel:n,theme:a},"private-channel-recipients-"+n.id);case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:return Me(J.default,{channel:n,theme:a,hideMemberList:null!=o&&o.hasFeature(Ie.GuildFeatures.MEMBER_LIST_DISABLED)},"channel-members-"+n.id)}else if(r===Ie.ChannelSections.SEARCH)return Me(oe.default,{searchId:t});return null},r.renderEmptyChannel=function(){var e;return e=null!=this.props.channelId?Me(x.default,{type:x.default.Type.SPINNING_CIRCLE}):Me(V.EmptyStateText,{note:Te.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,Te.default.Messages.CHANNELS_UNAVAILABLE_TITLE),Me("div",{className:Oe.default.noChannel},void 0,Me(V.default,{theme:this.props.theme},void 0,Me(V.EmptyStateImage,{darkSrc:n(8911),lightSrc:n(8912),width:272,height:222}),e))},r.render=function(){var e=this,t=this.props,n=t.channel,r=t.hasCall,a=t.stream,o=t.guildId,l=t.isUnavailable,u=t.hasModalOpen,s=this.state.showGuildJoinIntentModal;return null!=n&&null!=a?Me(ye.default,{channel:n,stream:a},"stream-"+n.id):l?Ge:null==n||n.type===Ie.ChannelTypes.GUILD_VOICE&&!r?this.renderEmptyChannel():Me("div",{className:Oe.default.chat},void 0,Me(i.default,{title:(0,v.default)(n,!0)}),this.renderHeaderBar(),this.renderCall(),Me("div",{className:Oe.default.content},void 0,this.renderChat(),this.renderSidebar()),s&&!u&&null!=o&&Me(_.default,{guildId:o,onClose:function(){return e.setState({showGuildJoinIntentModal:!1})}}),u||null==o?null:Me(g.default,{guildId:o}))},t}(a.PureComponent);ke.displayName="Channel";var Fe=a.memo(function(){var e=(0,u.useStateFromStores)([G.default],function(){return G.default.getChannelId()}),t=(0,u.useStateFromStores)([k.default],function(){return k.default.getGuildId()}),n=(0,u.useStateFromStores)([I.default],function(){return I.default.getParticipants(e)},[e]),r=(0,u.useStateFromStores)([O.default],function(){return O.default.getChannel(e)},[e]),o=(0,u.useStateFromStores)([y.default],function(){return y.default.getActiveStream()}),l=(0,u.useStateFromStores)([P.default],function(){return P.default.getGuild(t)},[t]);return a.createElement(ke,Ae({theme:(0,u.useStateFromStores)([F.default],function(){return F.default.theme}),guildId:t,channelId:e,channel:r,isEditing:null!=(0,u.useStateFromStores)([C.default],function(){return C.default.getEditingMessageId()}),hasModalOpen:(0,u.useStateFromStores)([L.default],function(){return L.default.hasModalOpen()}),section:(0,u.useStateFromStores)([T.default],function(){return T.default.getSection()}),guild:l,searchId:(0,u.useStateFromStores)([U.default],function(){return U.default.getCurrentSearchId()}),hasCall:null!=n&&n.length>0,nsfwAgree:(0,u.useStateFromStores)([M.default],function(){return M.default.didAgree(t)}),isMobile:(0,u.useStateFromStores)([w.default],function(){return(null==r?void 0:r.type)===Ie.ChannelTypes.DM&&w.default.isMobileOnline(r.getRecipientId())},[r]),isLurking:(0,u.useStateFromStores)([R.default],function(){return null!=t&&R.default.isLurking(t)},[t]),isGuest:(0,u.useStateFromStores)([S.default],function(){return S.default.isGuest()}),isUnavailable:(0,u.useStateFromStores)([A.default],function(){return null!=t&&A.default.isUnavailable(t)},[t]),stream:null!=o&&o.channelId===e?o:null,showFollowButton:(null==r?void 0:r.type)===Ie.ChannelTypes.GUILD_ANNOUNCEMENT&&(null==l?void 0:l.hasFeature(Ie.GuildFeatures.NEWS))||!1},(0,u.useStateFromStoresObject)([j.default],function(){return{hasVideo:null!=r&&j.default.hasVideo(r),inCall:null!=r&&j.default.isInChannel(r)}},[r])))});t.default=Fe},8843:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.guildId,n=e.onClose;return(0,y.default)(A)===_.ExperimentBuckets.TREATMENT_1?C(h.default,{renderModal:function(e){var r=e.transitionState;return C(P,{guildId:t,transitionState:r,onClose:n})}}):null};var r,a=N(n(0)),o=O(n(6590)),l=n(7776),i=O(n(19)),u=O(n(21)),s=O(n(24)),d=O(n(6521)),c=O(n(42)),f=O(n(332)),p=O(n(292)),h=N(n(220)),v=O(n(456)),m=O(n(257)),_=n(184),g=n(330),E=O(n(333)),y=O(n(6544)),S=n(1),I=O(n(4)),T=O(n(6320));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=(0,g.registerUserExperiment)({id:E.default.LARGE_GAME_SERVER_JOIN_INTENT,title:"Large Game Server Intent Learning Experiment",description:["Whether a new user is presented with options asking why they have joined a large server","Control: Do not show prompt","Treatment 1: Show prompt"],buckets:[_.ExperimentBuckets.CONTROL,_.ExperimentBuckets.TREATMENT_1]}),M=function(e){var t=e.icon,n=e.text,r=e.onClick;return C(u.default,{className:T.default.optionButton,innerClassName:T.default.optionContentWrapper,look:u.default.Looks.BLANK,size:u.default.Sizes.LARGE,onClick:r},void 0,C("span",{className:T.default.optionIcon},void 0,t),C(m.default,{size:m.default.Sizes.SIZE_16,className:T.default.optionText},void 0,n),C(c.default,{className:T.default.caretIcon,name:c.default.Names.CARET,direction:p.default.Directions.RIGHT}))};M.displayName="IntentModalRow";var P=function(e){var t=e.guildId,n=e.onClose,r=e.transitionState,c=i.default.getGuild(t);a.useEffect(function(){(0,l.setHasSeenServerIntentExperiment)(),(0,l.trackServerIntentEvent)(S.AnalyticsLocations.REGISTRATION,S.AnalyticsLocations.LARGE_SERVER_INTENT_DISCOVERY)},[]);var p=a.useCallback(function(){(0,l.transitionToFirstLfgChannel)(t),n(),(0,l.trackServerIntentEvent)(S.AnalyticsLocations.LARGE_SERVER_INTENT_DISCOVERY,l.GuildJoinIntentLocations.LFG)},[t,n]),_=a.useCallback(function(){(0,l.transitionToFirstAnnouncementChannel)(t),n(),(0,l.trackServerIntentEvent)(S.AnalyticsLocations.LARGE_SERVER_INTENT_DISCOVERY,l.GuildJoinIntentLocations.NEWS)},[t,n]),g=a.useCallback(function(){n(),(0,l.trackServerIntentEvent)(S.AnalyticsLocations.LARGE_SERVER_INTENT_DISCOVERY,l.GuildJoinIntentLocations.STRATEGY)},[n]),E=a.useCallback(function(){(0,l.transitionToGeneralChannel)(t),n(),(0,l.trackServerIntentEvent)(S.AnalyticsLocations.LARGE_SERVER_INTENT_DISCOVERY,l.GuildJoinIntentLocations.GENERAL)},[t,n]),y=a.useCallback(function(){o.default.open(S.CreateGuildModalScreens.CreateGuild,null,S.AnalyticsLocations.LARGE_SERVER_INTENT_DISCOVERY),(0,l.trackServerIntentEvent)(S.AnalyticsLocations.LARGE_SERVER_INTENT_DISCOVERY,l.GuildJoinIntentLocations.CREATE_GUILD),n()},[n]);return null==c?null:C(h.ModalRoot,{className:T.default.modal,transitionState:r},void 0,C(h.ModalContent,{outerClassName:T.default.container},void 0,C(d.default,{className:T.default.icon,guild:c,size:d.default.Sizes.XLARGE,animate:!0}),C(v.default,{tag:v.default.Tags.H1,size:v.default.Sizes.SIZE_24},void 0,I.default.Messages.GUILD_JOIN_WELCOME_TO_SERVER.format({guildName:c.name})),C(m.default,{color:m.default.Colors.STANDARD,size:m.default.Sizes.SIZE_16,className:T.default.subtitle},void 0,I.default.Messages.GUILD_JOIN_WHAT_ARE_YOU_LOOKING_TO_DO),C(s.default,{className:T.default.optionsContainer,direction:s.default.Direction.VERTICAL},void 0,C(M,{icon:"💬",text:I.default.Messages.GUILD_JOIN_INTENT_CHAT,onClick:E}),C(f.default,{className:T.default.divider}),C(M,{icon:"🔍",text:I.default.Messages.GUILD_JOIN_INTENT_LFG,onClick:p}),C(f.default,{className:T.default.divider}),C(M,{icon:"🎮",text:I.default.Messages.GUILD_JOIN_INTENT_NEWS,onClick:_}),C(f.default,{className:T.default.divider}),C(M,{icon:"🎲",text:I.default.Messages.GUILD_JOIN_INTENT_GAME_HELP,onClick:g}),C(f.default,{className:T.default.divider}),C(M,{icon:"🙌",text:I.default.Messages.GUILD_JOIN_INTENT_CHAT_FRIENDS,onClick:y})),C(u.default,{className:T.default.skipButton,look:u.default.Looks.BLANK,onClick:n},void 0,I.default.Messages.GUILD_JOIN_INTENT_SKIP)))};P.displayName="GuildJoinIntentModal"},8844:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t,n,r=e.guildId,a=(0,E.default)(b,r),l=(0,E.default)(L,r),i=(0,E.default)(D,r),u=(0,E.default)(w,r);(0,E.default)(U,r)===v.ExperimentBuckets.TREATMENT_1?(t="85RCQ8D",n=y.SIZE_BUCKETS.XLARGE):u===v.ExperimentBuckets.TREATMENT_1?(t="85RCQ8D",n=y.SIZE_BUCKETS.LARGE):i===v.ExperimentBuckets.TREATMENT_1?(t="85RCQ8D",n=y.SIZE_BUCKETS.MEDIUM):l===v.ExperimentBuckets.TREATMENT_1?(t="85RCQ8D",n=y.SIZE_BUCKETS.SMALL):a===v.ExperimentBuckets.TREATMENT_1&&(t="QDCWW56",n=y.SIZE_BUCKETS.XSMALL);return null!=t&&null!=n?P(c.default,{renderModal:function(e){return o.createElement(k,M({},e,{surveyId:t,sizeBucket:n,guildId:r}))},onCloseRequest:function(){}}):null};var r,a,o=A(n(0)),l=C(n(27)),i=C(n(6584)),u=C(n(19)),s=C(n(11)),d=C(n(21)),c=A(n(220)),f=C(n(456)),p=C(n(257)),h=C(n(73)),v=n(184),m=n(330),_=C(n(333)),g=C(n(6867)),E=C(n(6655)),y=n(8845),S=n(1),I=C(n(4)),T=C(n(6321)),O=C(n(6702)),N=C(n(6703));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=(0,g.default)([s.default,u.default],function(e){var t=e.guildId,n=s.default.getNullableCurrentUser(),r=u.default.getGuild(t);return!l.default.get(y.PUBLIC_GUILD_SURVEY_MODAL_KEY)&&null!=n&&null!=r&&y.US_REGIONS.has(r.region)&&h.default.can(S.Permissions.ADMINISTRATOR,n,r)}),b=(0,m.registerGuildExperiment)({id:_.default.PUBLIC_GUILD_SURVEY_XSMALL_GUILDS,title:"Extra Small Public Guild Survey Experiment",clientFilter:R,description:["Show server admins of extra small public or private guilds a survey asking about their guild","Control: Do not show modal","Treatment 1: Show modal"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]}),L=(0,m.registerGuildExperiment)({id:_.default.PUBLIC_GUILD_SURVEY_SMALL_GUILDS,title:"Small Public Guild Survey Experiment",clientFilter:R,description:["Show server admins of small public guilds a survey asking about their guild","Control: Do not show modal","Treatment 1: Show modal"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]}),D=(0,m.registerGuildExperiment)({id:_.default.PUBLIC_GUILD_SURVEY_MEDIUM_GUILDS,title:"Medium Public Guild Survey Experiment",clientFilter:R,description:["Show server admins of medium public guilds a survey asking about their guild","Control: Do not show modal","Treatment 1: Show modal"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]}),w=(0,m.registerGuildExperiment)({id:_.default.PUBLIC_GUILD_SURVEY_LARGE_GUILDS,title:"Large Public Guild Survey Experiment",clientFilter:R,description:["Show server admins of large public guilds a survey asking about their guild","Control: Do not show modal","Treatment 1: Show modal"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]}),U=(0,m.registerGuildExperiment)({id:_.default.PUBLIC_GUILD_SURVEY_XLARGE_GUILDS,title:"Extra Large Public Guild Survey Experiment",clientFilter:R,description:["Show server admins of extra large public guilds a survey asking about their guild","Control: Do not show modal","Treatment 1: Show modal"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]}),G=((r={})[S.ThemeTypes.LIGHT]=N.default,r[S.ThemeTypes.DARK]=O.default,r),k=function(e){var t=e.transitionState,n=e.onClose,r=e.surveyId,a=e.guildId,o=e.sizeBucket,u=(0,i.default)(),s=G[u],h=function(){l.default.set(y.PUBLIC_GUILD_SURVEY_MODAL_KEY,!0),n()};return P(c.ModalRoot,{transitionState:t},void 0,P(c.ModalContent,{className:T.default.modal},void 0,P("img",{alt:"",src:s,className:T.default.image}),P(f.default,{size:f.default.Sizes.SIZE_24,className:T.default.followSuccessHeader},void 0,I.default.Messages.PUBLIC_GUILD_SURVEY_MODAL_HEADER),P(p.default,{color:p.default.Colors.MUTED,size:p.default.Sizes.SIZE_16,className:T.default.body},void 0,I.default.Messages.PUBLIC_GUILD_SURVEY_MODAL_BODY)),P(c.ModalFooter,{},void 0,P(d.default,{onClick:function(){window.open("https://www.surveymonkey.com/r/"+r+"?guild_id="+a+"&bucket="+o,"_blank"),h()}},void 0,I.default.Messages.OKAY),P(d.default,{onClick:h,look:d.default.Looks.LINK},void 0,I.default.Messages.NO_THANKS)))};k.displayName="PublicGuildSurveyModal"},8845:function(e,t,n){"use strict";t.__esModule=!0,t.SIZE_BUCKETS=t.PUBLIC_GUILD_SURVEY_MODAL_KEY=t.US_REGIONS=void 0;var r=new Set(["us-central","us-south","us-east","us-west","vip-us-east","vip-us-west"]);t.US_REGIONS=r;t.PUBLIC_GUILD_SURVEY_MODAL_KEY="publicGuildSurveyModalSeen";var a=Object.freeze({XSMALL:"0",SMALL:"200",MEDIUM:"1000",LARGE:"10000",XLARGE:"100000"});t.SIZE_BUCKETS=a},8846:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(0)),o=M(n(8)),l=M(n(6)),i=M(n(3)),u=M(n(121)),s=n(35),d=n(1034),c=M(n(120)),f=P(n(985)),p=M(n(6656)),h=M(n(458)),v=n(871),m=M(n(6657)),_=M(n(257)),g=M(n(20)),E=M(n(6945)),y=M(n(7777)),S=P(n(6547)),I=M(n(459)),T=M(n(343)),O=M(n(6616)),N=n(1),C=M(n(4)),A=M(n(6023));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var D=g.default.getEnableHardwareAcceleration(),w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderUserContextMenu=function(e){(0,s.openContextMenu)(e,function(e){return a.createElement(I.default,b({},e,{type:N.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id}))})},t.openGuildSubscriptionModal=function(e){var n=t.props.guildId;null!=n&&(e.stopPropagation(),(0,v.openFullScreenLayer)(function(e){var t=e.transitionState,r=e.closeLayer;return R(O.default,{layerTransitionState:t,close:r,guildId:n,locationSection:N.AnalyticsSections.MEMBER_LIST})}))},t.renderUserPopout=function(e){return a.createElement(T.default,b({},e,{userId:t.props.user.id,guildId:t.props.guildId,channelId:t.props.channel.id}))},t}L(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return!(0,u.default)(this.props,e,["channelId"])},n.render=function(){var e=this,t=this.props,n=t.colorString,r=t.isOwner,o=t.nick,l=t.user,i=t.activities,u=t.applicationStream,s=t.status,d=t.channel,c=t.guildId,f=t.isTyping,p=t.isMobile,v=t.premiumSince,m=null!=v?new Date(v):null;return R(h.default,{renderPopout:this.renderUserPopout,position:h.default.Positions.LEFT,spacing:16},void 0,function(t,h){return a.createElement(y.default,b({onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:D,user:l,nick:o,status:s,activities:i,applicationStream:u,isOwner:r,premiumSince:m,colorString:n,isTyping:f,channel:d,guildId:c,isMobile:p,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:h},t))})},t}(a.Component);w.displayName="ChannelMember";var U=i.default.connectStores([p.default],function(e){var t=e.channel,n=e.user;return{isTyping:p.default.isTyping(t.id,n.id)}})(w),G=function(e){var t=e.id,n=e.title,r=e.count;return t===N.StatusTypes.UNKNOWN?R("div",{className:A.default.membersGroup},void 0,R("div",{className:A.default.memberGroupsPlaceholder})):R(m.default,{className:A.default.membersGroup},void 0,n,"—",r)},k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).setList=function(e){t._list=e},t.renderSection=function(e){var n=t.props.groups[e];return 0===e?R(S.default,{tutorialId:"whos-online",position:S.TutorialIndicatorPositions.LEFT,offsetX:5,offsetY:10},e,a.createElement(G,n)):a.createElement(G,b({},n,{key:e}))},t.getRowProps=function(e,n){var r=t.props,a=r.groups;return r.rows[a[e].index+1+n]},t.renderRow=function(e,n){var r=t.props.channel,a=t.getRowProps(e,n);if(null!=a&&a.type===f.MemberListRowTypes.MEMBER&&"user"in a){var o=a.colorString,l=a.user,i=a.status,u=a.isOwner,s=a.isMobile,d=a.nick,c=a.activities,p=a.applicationStream,h=a.premiumSince;return R(U,{colorString:o,user:l,status:i,isOwner:u,nick:d,activities:c,applicationStream:p,channel:r,guildId:r.guild_id,premiumSince:h,isMobile:s},a.user.id)}return R(y.default,{},e+":"+n)},t.handleScroll=function(){return t.updateSubscription()},t.updateSubscription=l.default.debounce(function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,d.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}},50),t.handleScrollerStateUpdate=function(e){var n=e.items;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){var r=t.getDimensions().rowsVisible;if(0!==r){var a=n.map(function(e){var n=e.section,r=e.row;return t.getRowProps(n,r)}).slice(0,r+1).filter(Boolean);if(0!==a.length){var o=a.reduce(function(e,t){return t.type!==f.MemberListRowTypes.MEMBER?e:(e.num_users_visible++,t.isMobile&&e.num_users_visible_with_mobile_indicator++,null!=t.activities&&t.activities.length>0&&(e.num_users_visible_with_activity++,t.activities.some(function(e){return e.type===N.ActivityTypes.PLAYING})&&e.num_users_visible_with_game_activity++),e)},{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});t.lastReportedAnalyticsChannel=t.props.channel.id,c.default.trackWithMetadata(N.AnalyticEvents.MEMBER_LIST_VIEWED,b({},o))}}}},t}L(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version},n.componentDidMount=function(){this.updateSubscription()},n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription()},n.getDimensions=function(){var e=this._list;if(null==e)return{};var t=e.props.rowHeight;if("function"==typeof t)return{};var n=e.getScrollData().offsetHeight;return{height:n,rowHeight:t,rowsVisible:Math.floor(n/t),y:e.getScrollTop()}},n.renderHiddenMemberList=function(){return R(_.default,{className:A.default.hiddenText},void 0,C.default.Messages.MEMBER_LIST_HIDDEN)},n.render=function(){var e=this.props,t=e.groups,n=e.listId,r=e.theme,l=e.hideMemberList;return R("div",{className:(0,o.default)(A.default.membersWrap,A.default.hiddenMembers)},void 0,l?this.renderHiddenMemberList():a.createElement(E.default,{key:n,ref:this.setList,className:A.default.members,fade:!0,paddingTop:0,theme:E.default.Themes.GHOST_HAIRLINE,sectionHeight:40,rowHeight:44,renderSection:this.renderSection,renderRow:this.renderRow,sections:t.map(function(e){return e.count}),onScroll:this.handleScroll,onScrollerStateUpdate:this.handleScrollerStateUpdate,outerClassName:A.default.scrollerWrap,backgroundColor:r===N.ThemeTypes.LIGHT?N.Colors.PRIMARY_LIGHT_130:N.Colors.PRIMARY_DARK_630}))},t}(a.Component);k.displayName="ChannelMembers";var F=i.default.connectStores([f.default],function(e){var t=e.channel;return b({},f.default.getProps(t.guild_id,t.id))})(k);t.default=F},8847:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){if(e.type!==l.ActivityTypes.CUSTOM_STATUS||null==e.emoji)return!1;var i=e.emoji;if(null==i.id||null==n||!(0,r.isGuildTextChannelType)(n.type))return!0;var u=a.default.getCustomEmojiById(i.id),s=null==u||u.guildId!==n.getGuildId(),d=o.default.can(l.Permissions.USE_EXTERNAL_EMOJIS,t,n);return!s||d};var r=n(67),a=i(n(196)),o=i(n(73)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}},8848:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=d(n(8)),i=d(n(24)),u=n(328),s=d(n(6322));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=Object.freeze({SINGLE_AVATAR:"1",MULTIPLE_AVATAR:"2"}),p=((r={})[u.Sizes.SIZE_32]=s.default.avatarSmall,r[u.Sizes.SIZE_40]=s.default.avatarLarge,r),h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).placeholderMaxWidth=Math.floor(40*Math.random())+40+"%",t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.type,n=e.avatarSize,r=e.className;return t===f.MULTIPLE_AVATAR?c("div",{className:(0,l.default)(s.default.multiplePlaceholder,r)},void 0,c(i.default,{},void 0,c("div",{className:(0,l.default)(s.default.placeholderAvatar,p[n],s.default.avatarMasked)}),c("div",{className:(0,l.default)(s.default.placeholderAvatar,p[n],s.default.avatarMasked)}),c("div",{className:(0,l.default)(s.default.placeholderAvatar,p[n])})),c(i.default,{grow:1,className:s.default.mulitplePlaceholderUsername,style:{maxWidth:this.placeholderMaxWidth}})):c(i.default,{className:(0,l.default)(s.default.placeholder,r)},void 0,c("div",{className:(0,l.default)(s.default.placeholderAvatar,p[n])}),c(i.default,{grow:1,className:s.default.placeholderUsername,style:{maxWidth:this.placeholderMaxWidth}}))},r}(o.Component);h.displayName="PlaceholderAvatarWithMessage",h.defaultProps={type:f.SINGLE_AVATAR},h.Types=f;var v=h;t.default=v},8849:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(3),i=I(n(6584)),u=I(n(120)),s=n(184),d=I(n(6544)),c=I(n(8850)),f=I(n(19)),p=I(n(153)),h=I(n(42)),v=I(n(257)),m=I(n(6530)),_=n(1),g=I(n(4)),E=I(n(6324)),y=I(n(8851)),S=I(n(8852));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=((r={})[_.ThemeTypes.DARK]=y.default,r[_.ThemeTypes.LIGHT]=S.default,r),N=T(o.Fragment,{}),C=function(){var e=(0,i.default)(),t=(0,d.default)(c.default),n=(0,l.useStateFromStores)([p.default,f.default],function(){return f.default.getGuild(p.default.getGuildId())}),r=null!=n&&t===s.ExperimentBuckets.TREATMENT_1&&n.hasFeature(_.GuildFeatures.MEMBER_LIST_DISABLED);return o.useEffect(function(){u.default.trackWithMetadata(_.AnalyticEvents.GUILD_OUTAGE_VIEWED,{})},[]),T("div",{className:E.default.container},void 0,T(m.default,{toolbar:N},void 0,T(m.default.Icon,{name:h.default.Names.CHANNEL_TEXT}),T(m.default.Title,{},void 0,g.default.Messages.GUILD_UNAVAILABLE_HEADER)),T("div",{className:E.default.content},void 0,T("img",{alt:"",className:E.default.splashImage,src:O[e]}),T(v.default,{className:E.default.splashHeader,size:v.default.Sizes.SIZE_24},void 0,r?g.default.Messages.GUILD_UNAVAILABLE_TITLE_ALT:g.default.Messages.GUILD_UNAVAILABLE_TITLE),T(v.default,{className:E.default.splashText,size:v.default.Sizes.SIZE_16},void 0,r?g.default.Messages.GUILD_UNAVAILABLE_BODY_ALT:g.default.Messages.GUILD_UNAVAILABLE_BODY)))};C.displayName="ChannelUnavailable";var A=C;t.default=A},8850:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=n(184),o=n(330),l=(r=n(333))&&r.__esModule?r:{default:r};var i=(0,o.registerUserExperiment)({id:l.default.LARGE_GUILD_LURKER_EXPERIMENT,title:"Large Guild Lurker Experiment",description:["Forced lurker mode & alternative unavailable guild copy for large guilds","Control: No changes","Treatment 1: Force guild joins into Lurker Mode, use alternative copy when guild is unavailable"],buckets:[a.ExperimentBuckets.CONTROL,a.ExperimentBuckets.TREATMENT_1]});t.default=i},8851:function(e,t,n){e.exports=n.p+"2ceb472e89545af8543aa44b072b910d.svg"},8852:function(e,t,n){e.exports=n.p+"0e88c0d5ad220379d8e2438dd6444222.svg"},8853:function(e,t,n){"use strict";t.__esModule=!0,t.default=A;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),l=n(35),i=I(n(68)),u=I(n(51)),s=I(n(6656)),d=I(n(11)),c=I(n(152)),f=I(n(223)),p=I(n(6657)),h=I(n(20)),v=n(8854),m=I(n(7777)),_=I(n(459)),g=I(n(343)),E=n(1),y=I(n(4)),S=I(n(6023));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=h.default.getEnableHardwareAcceleration();function C(e){var t=e.user,n=e.channel,r=(0,o.useStateFromStoresObject)([u.default,d.default,i.default],function(){return u.default.isFriend(t.id)||t===d.default.getCurrentUser()?{status:i.default.getStatus(t.id),activities:i.default.getActivities(t.id)}:{}}),c=r.status,p=r.activities,h=(0,o.useStateFromStores)([s.default],function(){return null!=s.default.getTypingUsers(n.id)[t.id]}),v=(0,o.useStateFromStores)([i.default],function(){return i.default.isMobileOnline(t.id)});return T(f.default,{closeOnScroll:!1,render:function(e){return a.createElement(g.default,O({},e,{userId:t.id,channelId:n.id}))},position:f.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,T(m.default,{user:t,isOwner:t.id===n.ownerId,ownerTooltipText:y.default.Messages.GROUP_OWNER,shouldAnimateStatus:N,isTyping:h,status:c,activities:p,channel:n,onContextMenu:function(e){(0,l.openContextMenu)(e,function(e){return a.createElement(_.default,O({},e,{type:E.ContextMenuTypes.USER_GROUP_DM,user:t,channelId:n.id}))})},isMobile:v},t.id))}function A(e){var t=e.channel,n=e.theme,r=(0,o.useStateFromStores)([d.default],function(){return(0,v.getRecipients)(t.recipients)},[t.recipients]);return T("div",{className:S.default.membersWrap},void 0,T(c.default,{className:S.default.members,fade:!0,theme:c.default.Themes.GHOST_HAIRLINE,backgroundColor:n===E.ThemeTypes.LIGHT?"#f3f3f3":E.Colors.PRIMARY_DARK_630,outerClassName:S.default.scrollerWrap},void 0,T(p.default,{className:S.default.membersGroup},void 0,y.default.Messages.MEMBERS+"—"+r.length),r.map(function(e){return a.createElement(C,O({},e,{channel:t}))})))}C.displayName="PrivateChannelRecipient",A.displayName="PrivateChannelRecipients"},8854:function(e,t,n){"use strict";t.__esModule=!0,t.getRecipients=function(e){return(0,r.default)(e).map(a.default.getUser).filter(function(e){return null!=e}).unshift(a.default.getCurrentUser()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return{key:e.id,user:e}}).value()};var r=o(n(6)),a=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}},8855:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(0)),o=L(n(8)),l=L(n(6)),i=L(n(3)),u=L(n(142)),s=L(n(269)),d=L(n(141)),c=D(n(7053)),f=L(n(120)),p=L(n(137)),h=L(n(14)),v=L(n(51)),m=L(n(6636)),_=L(n(39)),g=L(n(25)),E=L(n(106)),y=L(n(58)),S=L(n(152)),I=L(n(8856)),T=L(n(182)),O=L(n(65)),N=L(n(223)),C=L(n(183)),A=L(n(36)),M=L(n(6691)),P=n(1),R=L(n(4)),b=L(n(6326));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var k=function(e){var t,n,r=e.searchNext,a=e.searchPrevious,l=e.offset,i=e.totalResults,u=e.pageLength,s=Math.ceil(i/u),d=l/u+1,c=d.toLocaleString(),f=s.toLocaleString();if(1===s)return null;var p=d>1,h=d<s;return G("div",{className:b.default.pagination},void 0,G(y.default,{onClick:p?a:null,className:(0,o.default)(b.default.paginationPrevious,(t={},t[b.default.disabled]=!p,t)),"aria-label":R.default.Messages.PAGINATION_PREVIOUS}),R.default.Messages.PAGINATION_PAGE_OF.format({page:c,totalPages:f}),G(y.default,{onClick:h?r:null,className:(0,o.default)(b.default.paginationNext,(n={},n[b.default.disabled]=!h,n)),"aria-label":R.default.Messages.PAGINATION_NEXT}))};k.displayName="Pagination";var F=function(e){var t,n,r=e.searchMode,i=e.searchByMode,u=e.totalResults,s=e.isSearching,d=e.isIndexing,c=e.documentsIndexed,f=(0,l.default)(P.SearchModes).values().map(function(e){var t,n;switch(e){case P.SearchModes.NEWEST:n=R.default.Messages.SEARCH_NEWEST;break;case P.SearchModes.OLDEST:n=R.default.Messages.SEARCH_OLDEST;break;case P.SearchModes.MOST_RELEVANT:n=R.default.Messages.SEARCH_MOST_RELEVANT;break;default:n=null}return G(y.default,{className:(0,o.default)(b.default.tab,(t={},t[b.default.selected]=r===e,t)),onClick:i.bind(null,e)},e,n)}).value();if(s)t=R.default.Messages.SEARCHING;else if(d)t=G(E.default,{href:C.default.getArticleURL(P.HelpdeskArticles.SEARCH_INDEXING)},void 0,R.default.Messages.STILL_INDEXING);else{var p=u.toLocaleString();t=R.default.Messages.TOTAL_RESULTS.format({count:p})}(d||s)&&(n=G("div",{className:b.default.spinnerWrapper},void 0,G(T.default,{type:T.default.Type.SPINNING_CIRCLE,className:b.default.spinner,itemClassName:b.default.spinnerPath})));var h=d&&!s;return G("div",{className:b.default.searchHeader},void 0,G("div",{className:b.default.totalResults},void 0,h?G(O.default,{text:R.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:c})},void 0,function(e){return a.createElement("div",U({className:b.default.totalResultsWrapper},e),t,n)}):t,h?null:n),f)};F.displayName="SearchHeader";var B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){if(void 0===e&&(e=null),null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0;t.props.searchResults&&(0,l.default)(t.props.searchResults).flatten().filter(function(e){return e.hit}).forEach(function(e){var t=e.message;t.content&&(n++,/https?:\/\/[^\s]+/.test(t.content)&&o++),t.embeds&&t.embeds.length&&a++,t.attachments&&t.attachments.length&&r++}),f.default.trackWithMetadata(P.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}},t}w(t,e);var n=t.prototype;return n.componentDidMount=function(){this.autoAnalytics()},n.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)},n.render=function(){return null},t}(a.Component);B.displayName="SearchResultsViewedAutoAnalytics";var j=function(e){var t=e.children;return G("div",{className:b.default.emptyResultsWrap},void 0,G("div",{className:b.default.emptyResultsContent},void 0,t))};j.displayName="EmptyResults";var H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).messageRef=a.createRef(),t.hitRef=a.createRef(),t.state={expanded:!1},t.height=0,t.getDOMRect=function(e){return e.getClientRects()[0]},t.fixScroll=function(){if(null!=t.hitRef.current){t.state.expanded;var e=t.height;t.height=t.getDOMRect(t.hitRef.current).top;var n=t.props.scrollTo;n(e-t.height)}},t.renderControlButtons=function(e){var n=e.messages[0];return G("div",{className:b.default.actionButtons},void 0,G(y.default,{className:b.default.jumpButton,onClick:t.props.onJump.bind(null,n)},void 0,R.default.Messages.JUMP))},t.expand=function(){t.setState(function(e){var n=!e.expanded;return n&&f.default.trackWithMetadata(P.AnalyticEvents.SEARCH_RESULT_EXPANDED,{message_id:t.props.result.filter(function(e){return e.hit})[0].message.id,search_id:m.default.getAnalyticsId(t.props.searchId),limit:P.SEARCH_PAGE_SIZE,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/P.SEARCH_PAGE_SIZE)+1,page_results:t.props.pageResultsLength,result_index:t.props.index}),null!=t.hitRef.current&&(t.height=t.getDOMRect(t.hitRef.current).top),{expanded:n}})},t}w(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.expanded!==t.expanded&&this.fixScroll()},n.render=function(){var e,t=this,n=this.state.expanded,r=this.props,l=r.result,i=r.developerMode,u=r.renderEmbeds,s=!0,d=l.map(function(e,n){var r,d,c=e.message,f=e.hit,p=h.default.getChannel(c.channel_id),v=!(s=s&&!f)&&!f;return!f&&s&&l[n+1].hit?d=!0:f||s||!l[n-1].hit||(d=!0),null==p?null:a.createElement("div",{ref:f?t.hitRef:null,className:(0,o.default)(b.default.searchResultMessage,(r={},r[b.default.hit]=f,r[b.default.sibling]=d,r[b.default.before]=s,r[b.default.after]=v,r)),key:c.id},G(M.default,{className:b.default.messageGroupCozy,messages:[c],channel:p,inlineAttachmentMedia:!0,inlineEmbedMedia:!0,renderEmbeds:u,renderEmbedsSmall:!0,developerMode:i,popoutPosition:N.default.Positions.LEFT,groupOption:f?t.renderControlButtons:null,onClickAnywhere:t.expand,disableInteractionLabel:R.default.Messages.VIEW_SURROUNDING_MESSAGES,canEdit:!1}))});return a.createElement("div",{ref:this.messageRef,className:(0,o.default)(b.default.searchResult,(e={},e[b.default.expanded]=n,e))},d)},t}(a.PureComponent);H.displayName="SearchResult";var V=G(I.default,{}),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).state={searchMode:P.SearchModes.NEWEST},t.scrollerRef=a.createRef(),t.jumpToMessage=function(e){if(e.blocked)u.default.show({title:R.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:R.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:R.default.Messages.OKAY});else{var n=h.default.getChannel(e.channel_id),r=n?n.getGuildId():null;d.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:m.default.getAnalyticsId(t.props.searchId)}),A.default.transitionTo(P.Routes.CHANNEL(r,e.channel_id,e.id))}},t.scrollTo=function(e){var n=t.scrollerRef.current;if(n){var r=n.getScrollData().scrollTop-e;n.scrollTo(r)}},t.selectChannel=function(e){e!==_.default.getChannelId()&&s.default.transitionToInviteChannelSync(e)},t.searchPrevious=function(){var e=t.props,n=e.searchId;e.search.isSearching||c.searchPreviousPage(n)},t.searchNext=function(){var e=t.props,n=e.searchId;e.search.isSearching||c.searchNextPage(n)},t.searchByMode=function(e){var n=t.props,r=n.searchId,a=n.search.isSearching;e===t.state.searchMode||a||(f.default.trackWithMetadata(P.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:m.default.getAnalyticsId(r),new_sort_type:e}),c.searchByMode(r,e),t.setState({searchMode:e}))},t.toggleShowBlockedMessages=function(){var e=t.props,n=e.searchId,r=e.search.showBlockedResults;c.setShowBlockedResults(n,!r)},t.renderHeader=function(){var e=t.state.searchMode,n=t.props.search,r=n.totalResults,a=n.isSearching,o=n.isHistoricalIndexing,l=n.documentsIndexed;return G(F,{searchMode:e,searchByMode:t.searchByMode,totalResults:r,isSearching:a,isIndexing:o,documentsIndexed:l})},t.renderResults=function(){var e=t.props,n=e.renderEmbeds,r=e.developerMode,a=t.props.search,o=a.results,l=a.offset,i=a.totalResults,u=a.isSearching,s=a.showBlockedResults;if(!o)return null;var d,c,f=[],m=o.length;return o.forEach(function(e,a){var o=e.find(function(e){return e.hit});if(s||!o||!v.default.isBlocked(o.message.author.id)){var i,u=h.default.getChannel(e[0].message.channel_id);!u||d&&d.id===u.id||(i=G("div",{className:b.default.channelSeparator},"channel-separator-"+a,G(y.default,{tag:"span",className:b.default.channelName,onClick:t.selectChannel.bind(null,u.id)},void 0,u?(0,p.default)(u,!0):"???")));var c=G(H,{scrollTo:t.scrollTo,searchId:t.props.searchId,renderEmbeds:n,developerMode:r,searchOffset:l,pageResultsLength:m,result:e,index:a,onJump:t.jumpToMessage},"search-result-"+a);f.push(i,c),d=u}}),u||(c=G(k,{searchPrevious:t.searchPrevious,searchNext:t.searchNext,offset:l,totalResults:i,pageLength:P.SEARCH_PAGE_SIZE})),G("div",{className:b.default.resultsWrapper},void 0,G("div",{className:b.default.searchResults},void 0,f,t.renderResultsBlocked()),c)},t.renderResultsBlocked=function(){var e=t.props.search,n=e.resultsBlocked,r=e.showBlockedResults;if(!n)return null;var a=r?R.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:n}):R.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:n});return G("button",{className:b.default.resultsBlocked,onClick:t.toggleShowBlockedMessages},void 0,G("div",{className:b.default.resultsBlockedImage}),G("div",{className:b.default.resultsBlockedText},void 0,a))},t.renderIndexing=function(){var e=m.default.getSearchType(t.props.searchId)===P.SearchTypes.GUILD?R.default.Messages.SEARCH_GUILD_STILL_INDEXING:R.default.Messages.SEARCH_DM_STILL_INDEXING;return G(j,{},void 0,V,G("div",{className:(b.default.emptyResultsText,b.default.stillIndexing)},void 0,e))},t.renderNoResults=function(){var e,n,r=t.props.search.showNoResultsAlt,a=r?R.default.Messages.SEARCH_NO_RESULTS_ALT:R.default.Messages.SEARCH_NO_RESULTS;return G(j,{},void 0,G("div",{className:(0,o.default)(b.default.noResultsImage,(e={},e[b.default.alt]=r,e))}),G("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.noResults,(n={},n[b.default.alt]=r,n))},void 0,a))},t.renderError=function(){return G(j,{},void 0,G("div",{className:b.default.errorImage}),G("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.errorMessage)},void 0,R.default.Messages.SEARCH_ERROR))},t.renderContent=function(){var e=t.props.search,n=e.totalResults,r=e.isSearching,a=e.isIndexing;return e.hasError?t.renderError():a?t.renderIndexing():r?null:n?t.renderResults():t.renderNoResults()},t}w(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(!n)return;n.scrollToBottom()}},n.render=function(){var e=this.props,t=e.searchAnalyticsId,n=e.searchType,r=this.props.search,o=r.offset,l=r.hasError,i=r.results,u=r.totalResults,s=r.isHistoricalIndexing;return G("div",{className:b.default.searchResultsWrap},void 0,this.renderHeader(),a.createElement(S.default,{ref:this.scrollerRef,theme:S.default.Themes.GHOST,backgroundColor:this.props.theme===P.ThemeTypes.LIGHT?P.Colors.PRIMARY_DARK_100:P.Colors.PRIMARY_DARK_630,track:!0},this.renderContent()),G(B,{searchType:n,searchAnalyticsId:t,searchResults:i,searchOffset:o,searchLimit:P.SEARCH_PAGE_SIZE,searchHasError:l,searchTotalResults:u,searchIsIndexing:s}))},t}(a.PureComponent);x.displayName="SearchResults";var Y=i.default.connectStores([m.default,g.default],function(e){var t=e.searchId;return{search:m.default.getResultsState(t),theme:g.default.theme,renderEmbeds:g.default.renderEmbeds,developerMode:g.default.developerMode,searchAnalyticsId:m.default.getAnalyticsId(t),searchType:m.default.getSearchType()}})(x);t.default=Y},8856:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(41)),l=u(n(118)),i=u(n(6325));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var c=s("defs",{},void 0,s("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),f=s("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,s("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),s("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),s("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),s("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),s("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),s("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),s("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),s("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),s("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),s("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),s("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),s("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),s("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#7289DA",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),s("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),s("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),p=s("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),h=s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),v=s("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),m=s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),_=s("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),g=s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),E=s("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),y=s("path",{d:"M84 66h130v130H84z"}),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={x:new l.default.Value(0),y:new l.default.Value(0)},t._isMounted=!1,t.shouldLoop=function(){return t._isMounted},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;"Firefox"!==o.default.name&&(l.default.animate(t,{loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),l.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}))},a.componentWillUnmount=function(){this._isMounted=!1},a.render=function(){return s("div",{className:i.default.searchIndexAnimation},void 0,s("div",{className:i.default.searchIndexBackground}),s("svg",{className:i.default.searchIndexForeground,width:"320",height:"280"},void 0,c,s("g",{fill:"none",fillRule:"evenodd"},void 0,s("g",{transform:"translate(120 80)"},void 0,s("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,s(l.default.use,{style:d(this.state),className:i.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),f),s(l.default.g,{className:i.default.magnifyingGlass,style:d(this.state)},void 0,p,h,v,m,_,g,E,y))))},r}(a.Component);S.displayName="SearchIndexForeground";var I=S;t.default=I},8857:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=ue(n(0)),l=ie(n(8)),i=ie(n(6)),u=n(59),s=ie(n(3)),d=n(45),c=n(29),f=ie(n(189)),p=ie(n(960)),h=n(35),v=ie(n(30)),m=ie(n(107)),_=ie(n(329)),g=ie(n(1007)),E=ie(n(6794)),y=ie(n(10)),S=ie(n(362)),I=ie(n(344)),T=ie(n(19)),O=ie(n(40)),N=ie(n(864)),C=ie(n(868)),A=ie(n(222)),M=ie(n(54)),P=ie(n(97)),R=ie(n(25)),b=ie(n(11)),L=ie(n(72)),D=ie(n(185)),w=ie(n(6878)),U=ue(n(21)),G=ie(n(58)),k=ie(n(24)),F=ie(n(42)),B=ie(n(6784)),j=ie(n(8858)),H=ie(n(7236)),V=ie(n(8861)),x=ie(n(65)),Y=ie(n(7778)),W=ie(n(7237)),z=ie(n(8862)),K=ie(n(6949)),$=ie(n(8863)),Q=n(80),X=n(467),q=n(472),J=ie(n(345)),Z=ue(n(8864)),ee=ie(n(7238)),te=ie(n(459)),ne=ie(n(8866)),re=ie(n(7239)),ae=n(1),oe=ie(n(4)),le=ie(n(6339));function ie(e){return e&&e.__esModule?e:{default:e}}function ue(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ce(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pe=((r={})[ae.ChannelLayouts.NORMAL]=le.default.normal,r[ae.ChannelLayouts.MINIMUM]=le.default.minimum,r[ae.ChannelLayouts.NO_CHAT]=le.default.noChat,r[ae.ChannelLayouts.FULL_SCREEN]=le.default.fullScreen,r),he={grey:{screenshare:n(8872),camera:n(8873),cameraOff:n(8874),cameraOffHover:n(8875),fullScreen:n(8876),fullScreenOff:n(8877),mute:n(8878),muteHover:n(8879),muteOff:n(8880),settings:n(8881)},white:{screenshare:n(8882),camera:n(8883),cameraOff:n(8884),cameraOffHover:n(8885),fullScreen:n(8886),fullScreenOff:n(8887),mute:n(8888),muteHover:n(8889),muteOff:n(8890),settings:n(8891)}},ve=function(e){var t=e.value,n=e.activeTooltip,r=e.inactiveTooltip,a=e.activeSrc,l=e.inactiveSrc,i=e.activeSrcHover,u=e.inactiveSrcHover,s=e.onChange;return ce(x.default,{text:t?n:r},void 0,function(e){return o.createElement(V.default,fe({className:le.default.toggleButton,value:t,activeSrc:a,inactiveSrc:l,activeSrcHover:i,inactiveSrcHover:u,onChange:s},e))})};ve.displayName="ToggleButton";var me=function(e){function t(){return e.apply(this,arguments)||this}return de(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.muted,r=e.onChange;return ce(ve,{value:n,activeTooltip:oe.default.Messages.UNMUTE,inactiveTooltip:oe.default.Messages.MUTE,activeSrc:he[t].mute,activeSrcHover:he[t].muteHover,inactiveSrc:he[t].muteOff,onChange:r})},t}(o.PureComponent);me.displayName="MuteButton";var _e=s.default.connectStores([O.default],function(){return{muted:O.default.isSelfMute()||O.default.isSelfMutedTemporarily()}})(me),ge=function(e){var t=e.color,n=e.onClick;return ce(x.default,{text:oe.default.Messages.USER_SETTINGS},void 0,function(e){var r=e.onMouseEnter,a=e.onMouseLeave;return ce(B.default,{className:le.default.actionButton,src:he[t].settings,onClick:n,onMouseEnter:r,onMouseLeave:a})})};ge.displayName="SettingsButton";var Ee=function(e){function t(t){var n;return se(n=e.call(this,t)||this).handleDoubleClick=n.handleDoubleClick.bind(se(n)),se(n).handleContextMenu=n.handleContextMenu.bind(se(n)),n}de(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.className,n=e.children;return ce("div",{className:t,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,n)},n.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,r=t.id;n&&n(e,r)},n.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,r=t.id;n&&n(e,r)},t}(o.PureComponent);Ee.displayName="VideoWrapper";var ye=ce(H.default,{}),Se=ce(H.default,{}),Ie=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ringingSound=(0,X.createSound)("call_calling"),n._prevLayout=ae.ChannelLayouts.MINIMUM,n._callRef=null,n._timeout=new c.Timeout,i.default.bindAll(se(n),["handleToggleCamera","handleStartVideo","handleStartScreenShare","handleToggleSelfMute","handleConnect","handleDisconnect","handleOpenSettings","handleChangeLayout","handleToggleLayout","handleFullScreen","handleDoubleClick","handleOpenUserContextMenu","handleCameraUnavailable","handleScreenshareUnavailable","setCallRef","handleFullScreenChange"]),n}de(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener(q.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},n.componentWillUnmount=function(){this.stopRinging(),this._timeout.stop(),document.removeEventListener(q.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},n.componentDidUpdate=function(e){var t=this.props,n=t.onResize,r=t.call,a=t.participants,o=t.inCall,l=t.mode,i=t.layout;if(e.mode===ae.ChannelModes.VIDEO&&l===ae.ChannelModes.VOICE&&(0,q.isFullScreen)()){var s=(0,u.findDOMNode)(this._callRef);(0,q.exitFullScreen)(s,g.default.resized)}null!=n&&e.participants!==a&&n(),null!=n&&e.layout!==i&&(this._timeout.stop(),this._timeout.start(350,n)),null!=r&&r.ringing.length>0&&o&&1===a.filter(function(e){return!e.ringing}).length?this.startRinging():this.stopRinging()},n.handleFullScreenChange=function(){(0,q.isFullScreen)()||this.props.layout!==ae.ChannelLayouts.FULL_SCREEN||this.handleFullScreen()},n.handleFullScreen=function(){var e=(0,u.findDOMNode)(this._callRef);this.props.layout!==ae.ChannelLayouts.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(ae.ChannelLayouts.FULL_SCREEN),(0,q.requestFullScreen)(e,g.default.resized)):(this.handleChangeLayout(this._prevLayout),(0,q.exitFullScreen)(e,g.default.resized))},n.handleStartVideo=function(){f.default.setVideoEnabled(!0)},n.handleToggleCamera=function(e){e!==this.props.videoEnabled&&(f.default.setVideoEnabled(e),this.handleStartScreenShare(!1))},n.handleStartScreenShare=function(e,t){if(e!==this.props.screenSharingEnabled){var n=this.props.channel,r=M.default.getCurrentGame();e&&null==r?E.default.open(n):null!=t?(0,h.openContextMenu)(t,function(e){return o.createElement(ee.default,fe({},e,{channel:n,game:r}))}):f.default.setDesktopSource(null)}},n.handleToggleLayout=function(){this.handleChangeLayout(this.props.layout===ae.ChannelLayouts.NORMAL?ae.ChannelLayouts.NO_CHAT:ae.ChannelLayouts.NORMAL)},n.handleChangeLayout=function(e){this.props.layout!==e&&(p.default.updateLayout(this.props.channel.id,e),e===ae.ChannelLayouts.FULL_SCREEN&&Q.ComponentDispatch.dispatch(ae.ComponentActions.TEXTAREA_BLUR))},n.handleToggleSelfMute=function(){f.default.toggleSelfMute()},n.handleDisconnect=function(){this.props.layout===ae.ChannelLayouts.FULL_SCREEN&&this.handleFullScreen(),m.default.selectVoiceChannel(null)},n.handleConnect=function(e){var t=this.props.channel;m.default.selectVoiceChannel(t.id,e===j.default.Type.VIDEO)},n.handleOpenSettings=function(){_.default.open(ae.UserSettingsSections.VOICE)},n.handleOpenUserContextMenu=function(e,t){var n=this,r=b.default.getUser(t);null!=r&&(0,h.openContextMenu)(e,function(e){return o.createElement(te.default,fe({},e,{type:ae.ContextMenuTypes.USER_GROUP_DM,user:r,channelId:n.props.channel.id}))})},n.handleDoubleClick=function(e,t){var n=this.props,r=n.channel,a=n.selectedParticipantId;null==a?p.default.selectParticipant(r.id,t):a===t&&p.default.selectParticipant(r.id,null)},n.handleCameraUnavailable=function(){var e=this,t=this.props.cameraGranted;v.default.push(function(n){return o.createElement(re.default,fe({},n,{title:oe.default.Messages.CAMERA_UNAVAILABLE,description:t?oe.default.Messages.CAMERA_NO_DEVICE:oe.default.Messages.CAMERA_NO_ACCESS,confirmText:t?oe.default.Messages.OKAY:oe.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:t?v.default.pop:e.handleStartVideo}))})},n.handleScreenshareUnavailable=function(){function e(){v.default.push(J.default,{source:"Screenshare Unavailable"})}v.default.push(function(t){return o.createElement(re.default,fe({},t,{title:oe.default.Messages.SCREENSHARE_UNAVAILABLE,description:oe.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:oe.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},n.renderRegionSelect=function(){var e,t=this.props,n=t.call,r=t.channel;return t.layout===ae.ChannelLayouts.FULL_SCREEN||null==n||r.isManaged()||(e=ce(Z.default,{call:n})),ce(k.default,{justify:k.default.Justify.END,className:le.default.info},void 0,e)},n.renderParticipants=function(){var e=this.props,t=e.selectedParticipantId,n=e.participants,r=e.mode,a=e.layout,o=e.channel,l=e.inCall,i=e.videoEnabled;return a!==ae.ChannelLayouts.MINIMUM&&null==t?null:ce(ne.default,{channelId:o.id,participants:n,mode:r,layout:a,inCall:l,videoEnabled:i,onContextMenu:this.handleOpenUserContextMenu})},n.renderLeftButtonGroups=function(){var e,t=this,n=this.props,r=n.channel,a=n.mode,o=n.layout,i=n.mentionCount;if(a===ae.ChannelModes.VOICE||!r.isPrivate())return null;if(o!==ae.ChannelLayouts.FULL_SCREEN&&o!==ae.ChannelLayouts.NO_CHAT||(e=ce(w.default,{className:le.default.badge,value:i})),o===ae.ChannelLayouts.FULL_SCREEN){return ce(k.default,{className:(0,l.default)(le.default.iconsWrapper,le.default.side),align:k.default.Align.CENTER,grow:0},void 0,ce(G.default,{onClick:function(){t._prevLayout=ae.ChannelLayouts.NORMAL,t.handleFullScreen()}},void 0,ce(F.default,{className:le.default.iconButton,color:ae.Colors.WHITE,name:F.default.Names.ARROW_UP})),e)}return ce(k.default,{className:(0,l.default)(le.default.iconsWrapper,le.default.side),align:k.default.Align.CENTER,grow:0},void 0,ce(G.default,{onClick:this.handleToggleLayout},void 0,ce(F.default,{className:le.default.iconButton,color:ae.Colors.WHITE,name:o===ae.ChannelLayouts.NO_CHAT?F.default.Names.ARROW_UP:F.default.Names.ARROW_DOWN})),e)},n.renderRightButtonGroups=function(e){var t=this.props,n=t.mode,r=t.layout;return n===ae.ChannelModes.VOICE?null:ce(k.default,{className:(0,l.default)(le.default.iconsWrapper,le.default.side),align:k.default.Align.CENTER,grow:0},void 0,ce(B.default,{className:le.default.actionButton,src:r===ae.ChannelLayouts.FULL_SCREEN?he[e].fullScreenOff:he[e].fullScreen,onClick:this.handleFullScreen}))},n.renderVideoButton=function(e){var t=this,n=this.props,r=n.videoEnabled,a=n.cameraGranted,o=n.cameraDisabled;return!1===a||!0===o?ce(x.default,{text:a?oe.default.Messages.CAMERA_UNAVAILABLE:oe.default.Messages.CAMERA_NOT_ENABLED},void 0,function(n){var r=n.onMouseEnter,a=n.onMouseLeave;return ce(B.default,{className:(0,l.default)(le.default.actionButton,le.default.unavailable),src:he[e].camera,onClick:t.handleCameraUnavailable,onMouseEnter:r,onMouseLeave:a})}):ce(ve,{value:r,activeTooltip:oe.default.Messages.CAMERA_OFF,inactiveTooltip:oe.default.Messages.CAMERA_ON,activeSrc:he[e].camera,inactiveSrc:he[e].cameraOff,inactiveSrcHover:he[e].cameraOffHover,onChange:this.handleToggleCamera})},n.renderScreenshareButton=function(e){var t=this,n=this.props,r=n.cameraGranted,a=n.screenSharingEnabled,i=n.screenshareUnavailable;return n.layout===ae.ChannelLayouts.FULL_SCREEN?null:i?ce(x.default,{text:oe.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,function(n){var r=n.onMouseEnter,a=n.onMouseLeave;return ce(B.default,{className:(0,l.default)(le.default.actionButton,le.default.unavailable),src:he[e].screenshare,onClick:t.handleScreenshareUnavailable,onMouseEnter:r,onMouseLeave:a})}):!1===r?ce(x.default,{text:oe.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,function(t){return o.createElement(B.default,fe({className:(0,l.default)(le.default.actionButton,le.default.unavailable),src:he[e].screenshare},t))}):ce(ve,{value:a,activeTooltip:oe.default.Messages.SCREEN_SHARE_OPTIONS,inactiveTooltip:oe.default.Messages.SCREEN_SHARE_ON,activeSrc:he[e].screenshare,inactiveSrc:he[e].screenshare,onChange:this.handleStartScreenShare})},n.renderSettingsButton=function(e){return this.props.layout!==ae.ChannelLayouts.FULL_SCREEN?ce(ge,{color:e,onClick:this.handleOpenSettings}):null},n.renderActionButtonGroups=function(){var e=this.props,t=e.channel,n=e.mode,r=e.layout,a=e.inCall,o=e.theme,i=e.cameraGranted,u=e.cameraDisabled,s=e.video,d=t.isManaged()||!t.isPrivate();if(!a){var c=n===ae.ChannelModes.VIDEO&&i&&!u?j.default.Type.VIDEO:j.default.Type.VOICE;return ce(k.default,{className:le.default.actions,justify:k.default.Justify.CENTER},void 0,ce(j.default,{type:c,onClick:this.handleConnect,text:d?oe.default.Messages.CONNECT:oe.default.Messages.JOIN_CALL}))}var f=o===ae.ThemeTypes.LIGHT&&r===ae.ChannelLayouts.MINIMUM?"grey":"white";return s?ce(k.default,{className:le.default.actions,justify:k.default.Justify.BETWEEN},void 0,ce(k.default,{basis:"50%"},void 0,this.renderLeftButtonGroups()),ce(k.default,{className:(0,l.default)(le.default.iconsWrapper,le.default.center),align:k.default.Align.CENTER,justify:k.default.Justify.CENTER,grow:0},void 0,this.renderScreenshareButton(f),this.renderVideoButton(f),ce(U.default,{className:le.default.exitButton,color:U.ButtonColors.RED,size:U.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,d?oe.default.Messages.DISCONNECT:oe.default.Messages.LEAVE_CALL),ce(_e,{color:f,onChange:this.handleToggleSelfMute}),this.renderSettingsButton(f)),ce(k.default,{justify:k.default.Justify.END,basis:"50%"},void 0,this.renderRightButtonGroups(f))):ce(k.default,{className:le.default.actions,justify:k.default.Justify.CENTER},void 0,ce(k.default,{className:(0,l.default)(le.default.iconsWrapper,le.default.center),align:k.default.Align.CENTER,justify:k.default.Justify.CENTER,grow:0},void 0,ce(_e,{color:f,onChange:this.handleToggleSelfMute}),ce(U.default,{className:(0,l.default)(le.default.exitButton,le.default.voice),color:U.ButtonColors.RED,size:U.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,d?oe.default.Messages.DISCONNECT:oe.default.Messages.LEAVE_CALL),this.renderSettingsButton(f)))},n.calculateGridSize=function(e){var t=this.props,n=t.windowSize,r=t.layout,a=n.width,o=n.height;switch(r){case ae.ChannelLayouts.NORMAL:a-=ae.LEFT_PANEL_WIDTH,o/=2;break;case ae.ChannelLayouts.NO_CHAT:a-=ae.LEFT_PANEL_WIDTH}o=Math.max(o,275),o-=120;var l=e<4?1:2,i=Math.floor(e/l)+(l>1&&e%2!=0?2:0),u=a>o?z.default.Mode.LANDSCAPE:z.default.Mode.PORTRAIT;if(u===z.default.Mode.PORTRAIT){var s=l;l=i,i=s}var d=1*i/l,c=o*(16/9*i/l);return c<a?{mode:u,style:{width:c/a*100+"%",height:"100%"}}:(c=o*d)<a?{mode:u,style:{width:"100%",height:"100%"}}:{mode:u,style:{width:"100%",height:a/d/o*100+"%"}}},n.renderBackground=function(){var e=this,t=this.props,n=t.layout,r=t.selectedParticipantId,a=t.videoEnabled,l=t.participants,i=O.default.getMediaEngine().Video,u=y.default.getId();if(n===ae.ChannelLayouts.MINIMUM)return null;if(null==r){if(1===l.length&&l[0].quality===ae.RTCReceivedVideoQuality.OFF)return ye;var s=l.map(function(t){var n=t.user,r=t.voiceState,o=t.streamId,l=t.quality,s=n.id===u&&a;return ce($.default,{user:n,mirror:s,streamId:o,videoComponent:i,muted:r&&(r.mute||r.selfMute)||!1,deafen:r&&(r.deaf||r.selfDeaf)||!1,hasVideo:r&&r.selfVideo||!1,onDoubleClick:e.handleDoubleClick,onContextMenu:e.handleOpenUserContextMenu,poorConnection:l===ae.RTCReceivedVideoQuality.OFF},n.id)});return ce(k.default,{justify:k.default.Justify.CENTER,align:k.default.Align.CENTER,className:le.default.videoBackgroundWrapper},void 0,o.createElement(z.default,fe({className:le.default.videoBackground},this.calculateGridSize(s.length)),s))}var d=l.find(function(e){return e.user.id===r});if(null==d)return null;var c,f=d.voiceState,p=d.user,h=d.streamId,v=d.quality;return c=f&&f.selfVideo&&null!=i?v===ae.RTCReceivedVideoQuality.OFF?Se:ce(K.default,{streamId:h,mirror:r===u&&a,videoComponent:i}):ce(W.default,{user:p,avatarSize:W.default.AvatarSizes.DEPRECATED_SIZE_128}),ce(Ee,{className:le.default.videoBackground,id:r,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleOpenUserContextMenu},void 0,c)},n.render=function(){var e=this.props,t=e.participants,n=e.layout,r=e.selectedParticipantId,a=e.inCall,i=e.focused;return t&&t.length?o.createElement(Y.default,{ref:this.setCallRef,className:(0,l.default)(le.default.wrapper,pe[n]),animated:a,layout:n,focused:i,backgroundKey:r,background:this.renderBackground(),top:this.renderRegionSelect(),center:this.renderParticipants(),bottom:this.renderActionButtonGroups()}):null},n.setCallRef=function(e){this._callRef=e},n.startRinging=function(){this.props.disableSounds||N.default.isSoundDisabled("call_calling")||this._ringingSound.loop()},n.stopRinging=function(){this._ringingSound.stop()},t}(o.PureComponent);Ie.displayName="PrivateChannelCall";var Te=s.default.connectStores([I.default,P.default,S.default,O.default,L.default,R.default,C.default,A.default,D.default,T.default],function(e){var t=e.channel,n=O.default.supports(d.Features.VIDEO),r=I.default.getParticipants(t.id),a=L.default.isInChannel(t),o=n?I.default.getMode(t.id):ae.ChannelModes.VOICE,l=(0,i.default)(O.default.getVideoDevices()).values().first(),u=null==l||l.disabled,s=a&&o===ae.ChannelModes.VIDEO?I.default.getLayout(t.id):ae.ChannelLayouts.MINIMUM;return s!==ae.ChannelLayouts.FULL_SCREEN&&t.type===ae.ChannelTypes.GUILD_VOICE&&(s=ae.ChannelLayouts.NO_CHAT),s===ae.ChannelLayouts.NO_CHAT&&(o=ae.ChannelModes.VIDEO),{channel:t,video:n,mode:o,participants:r,selectedParticipantId:I.default.getSelectedParticipantId(t.id),call:S.default.getCall(t.id),inCall:a,layout:s,disableSounds:P.default.disableSounds,videoEnabled:O.default.isVideoEnabled(),screenSharingEnabled:O.default.isScreenSharing(),theme:R.default.theme,cameraGranted:O.default.isEnabled(),cameraDisabled:u||!O.default.isEnabled(),screenshareUnavailable:!O.default.supports(d.Features.DESKTOP_CAPTURE),focused:C.default.isOpen(Z.QUICK_REGION_SELECT_KEY),mentionCount:A.default.getMentionCount(t.id),windowSize:D.default.windowSize()}})(Ie);t.default=Te},8858:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(0)),o=f(n(6)),l=n(59),i=f(n(118)),u=p(n(21)),s=f(n(24)),d=f(n(4)),c=f(n(6327));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g={VOICE:"voice",VIDEO:"video"},E={friction:16,tension:400},y=function(e){function t(t){var n;return m(n=e.call(this,t)||this).handleClick=n.handleClick.bind(m(n)),n}_(t,e);var n=t.prototype;return n.render=function(){return v(s.default,{className:c.default.callButton,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,onClick:this.handleClick},void 0,this.props.children)},n.handleClick=function(){var e=this.props,t=e.type,n=e.onClick;n&&n(t)},t}(a.PureComponent);y.displayName="CallButton";var S=function(e){function t(t){var n;return(n=e.call(this,t)||this)._width=0,n._left=0,n.state={hovered:!1,offsetX:new i.default.Value(0)},o.default.bindAll(m(n),["handleMouseMove","handleMouseLeave","handleVoiceButtonClick"]),n}_(t,e);var r=t.prototype;return r.renderVoiceButton=function(){return v(u.default,{className:c.default.joinVoiceCallButton,size:u.ButtonSizes.SMALL,color:u.ButtonColors.GREEN,onClick:this.handleVoiceButtonClick},void 0,this.props.text)},r.renderUnderlay=function(){var e=this.state,t=e.hovered,n={transform:[{translateX:e.offsetX.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:t?1:0};return v(i.default.div,{className:c.default.underlay,style:n})},r.renderVideoButton=function(){return v("div",{className:c.default.joinVideoCallButton,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnderlay(),v(s.default,{className:c.default.inner,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER},void 0,v(y,{type:g.VIDEO,onClick:this.props.onClick},void 0,v("img",{alt:"",className:c.default.icon,src:n(8859)}),v("div",{className:c.default.buttonText},void 0,d.default.Messages.VIDEO)),v("div",{className:c.default.callDivider}),v(y,{type:g.VOICE,onClick:this.props.onClick},void 0,v("div",{className:c.default.buttonText},void 0,d.default.Messages.VOICE),v("img",{alt:"",className:c.default.icon,src:n(8860)}))))},r.render=function(){return this.props.type===g.VOICE?this.renderVoiceButton():this.renderVideoButton()},r.handleVoiceButtonClick=function(){var e=this.props.onClick;e&&e(g.VOICE)},r.handleMouseMove=function(e){var t=e.clientX;if(0===this._width){var n=(0,l.findDOMNode)(this);if(null==n||n instanceof Text)throw new Error("[UIKit]JoinCallButton.handleMouseOver(): assert failed: domNode instanceof Element");this._left=n.getBoundingClientRect().left,this._width=n.getBoundingClientRect().width}var r=Math.min(this._width/2-4,Math.max(0,t-this._left-this._width/4));i.default.spring(this.state.offsetX,h({toValue:r},E)).start(),this.state.hovered||this.setState({hovered:!0})},r.handleMouseLeave=function(){this.setState({hovered:!1})},t}(a.PureComponent);S.displayName="JoinCallButton",S.defaultProps={type:g.VOICE,text:d.default.Messages.JOIN_CALL},S.Type=g;var I=S;t.default=I},8859:function(e,t,n){e.exports=n.p+"0682cf612d4fed39efb57e0a1bcc8544.svg"},8860:function(e,t,n){e.exports=n.p+"8b47456a037cc496c55ae8f871274018.svg"},8861:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=(r=n(6784))&&r.__esModule?r:{default:r},l=n(1);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props;(0,n.onChange)(!n.value,e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.value,n=e.activeSrc,r=e.inactiveSrc,l=e.activeSrcHover,u=e.inactiveSrcHover,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","activeSrc","inactiveSrc","activeSrcHover","inactiveSrcHover"]),d=t?n:r,c=t?l:u;return a.createElement(o.default,i({},s,{onClick:this.handleClick,src:d,srcHover:c}))},r}(a.PureComponent);u.displayName="ToggleIcon",u.defaultProps={value:!1,size:o.default.Sizes.MEDIUM,onChange:l.NOOP};var s=u;t.default=s},8862:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(8)),l=u(n(455)),i=u(n(6331));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d={LANDSCAPE:"landscape",PORTRAIT:"portrait"},c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderContent=function(){var e=this.props,t=e.mode,n=e.children;if(null==n)return null;for(var r=t===d.LANDSCAPE?i.default.horizontal:i.default.vertical,a=t===d.LANDSCAPE?i.default.vertical:i.default.horizontal,u=n.length,c=u>3&&u%2>0?Math.floor(u/2):-1,f=[],p=[],h=u>3?2:1,v=0;v<u;v++)v===c?f.push(s("div",{style:{flex:2},className:i.default.flex},v,n[v])):p.push(n[v]),p.length===h&&(f.push(s("div",{style:{flex:1},className:(0,o.default)(a,l.default.marginReset)},v,p)),p=[]);return s("div",{className:(0,o.default)(r,i.default.content)},void 0,f)},a.render=function(){var e=this.props,t=e.style,n=e.className;return s("div",{className:(0,o.default)(i.default.wrapper,n),style:t},void 0,this.renderContent())},r}(a.PureComponent);c.displayName="VideoGrid",c.Mode=d,c.defaultProps={mode:d.LANDSCAPE};var f=c;t.default=f},8863:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(8)),l=f(n(42)),i=f(n(7236)),u=f(n(7237)),s=f(n(6949)),d=n(1),c=f(n(6333));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=p(i.default,{isCondensed:!0}),v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.user;r&&r(e,a.id)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.user;r&&r(e,a.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderContent=function(){var e=this.props,t=e.streamId,n=e.videoComponent,r=e.mirror,a=e.user;return e.hasVideo&&null!=n?p(s.default,{className:(0,o.default)(c.default.content,c.default.video),mirror:r,streamId:t,videoComponent:n,fit:s.default.Fit.COVER}):null!=a?p("div",{className:c.default.content},void 0,p(u.default,{user:a,avatarSize:u.default.AvatarSizes.DEPRECATED_SIZE_100})):null},a.renderOverlay=function(){var e=this.props,t=e.muted,n=e.deafen;return e.poorConnection?h:n||t?p(l.default,{className:c.default.status,width:20,height:20,color:d.Colors.WHITE,name:n?l.default.Names.DEAFENED:l.default.Names.MUTED}):null},a.render=function(){return p("div",{style:this.props.style,className:(0,o.default)(c.default.wrapper,this.props.className),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderContent(),this.renderOverlay())},r}(a.PureComponent);v.displayName="VideoTile",v.defaultProps={ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,poorConnection:!1};var m=v;t.default=m},8864:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.QUICK_REGION_SELECT_KEY=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(8)),l=v(n(3)),i=v(n(6651)),u=v(n(6608)),s=v(n(24)),d=n(223),c=v(n(8865)),f=n(6705),p=v(n(4)),h=v(n(6334));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g={position:d.Positions.BOTTOM,preventInvert:!0};t.QUICK_REGION_SELECT_KEY="quick-region-select";var E=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return m(s.default,{align:s.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,m(f.RegionFlag,{region:t,className:h.default.regionSelectFlag}),m(f.RegionName,{region:t,className:h.default.regionSelectName}),n?m("i",{className:h.default.check}):null)},t}(a.PureComponent);E.displayName="RegionItem";var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return m(E,{region:e.value,selected:t},e.value.id)},t.handleChangeVoiceRegion=function(e){var n=e.value,r=t.props.call.channelId;i.default.changeCallRegion(r,n.id)},t}_(t,e);var n=t.prototype;return n.componentDidMount=function(){null==this.props.regions&&i.default.fetchRegions(null)},n.render=function(){var e=this.props,t=e.regions,n=e.call;if(null==t)return null;var r=t.find(function(e){return e.id===n.region})||{id:"unknown",name:p.default.Messages.UNKNOWN_REGION,vip:!1,deprecated:!1},a={label:r.name,value:r},o=t.filter(function(e){return!e.deprecated}).map(function(e){return{label:e.name,value:e,key:e.id}});return m(c.default,{label:p.default.Messages.REGION,options:o,value:a,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutId:"quick-region-select",popoutClassName:h.default.regionSelectPopout})},t}(a.PureComponent);y.displayName="QuickRegionSelect";var S=l.default.connectStores([u.default],function(){return{regions:u.default.getRegions(null)}})(y);t.default=S},8865:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=s(n(0)),o=u(n(192)),l=s(n(6896)),i=u(n(223));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){var n=t.props,r=n.options,o=n.value,i=n.renderOption,u=n.popoutClassName,s=n.scroller;return a.createElement(l.QuickSelectPopout,c({},e,{scroller:s,className:u,options:r,value:o,renderOption:i,onChange:t.handleChange}))},t.handleChange=function(e){var n=t.props,r=n.popoutId,a=n.onChange;o.default.close(r),a&&a(e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,o=e.className,u=e.popoutId,s=e.popoutProps;return a.createElement(i.default,c({},s,{uniqueId:u,render:this.renderPopout}),d("div",{className:o},void 0,d(l.default,{label:t,value:n,renderValue:r})))},r}(a.PureComponent);f.displayName="QuickSelectWrapper";var p=f;t.default=p},8866:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=O(n(8)),l=O(n(118)),i=O(n(3)),u=n(29),s=O(n(263)),d=O(n(960)),c=O(n(10)),f=O(n(344)),p=O(n(40)),h=O(n(25)),v=O(n(185)),m=O(n(8867)),_=O(n(6524)),g=n(382),E=O(n(7779)),y=n(1),S=O(n(464)),I=O(n(6035)),T=O(n(6337));function O(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M=[g.Sizes.DEPRECATED_SIZE_100,g.Sizes.DEPRECATED_SIZE_60,g.Sizes.SIZE_40,g.Sizes.DEPRECATED_SIZE_30],P=23,R=17,b=26,L={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:l.default.Easing.inOut(l.default.Easing.back()),EASING_OUT:l.default.Easing.quad},D=200,w=125,U=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={scaleAnimation:new l.default.Value(0),spriteAnimation:new l.default.Value(0),spriteOpacity:new l.default.Value(0),widthAnimation:new l.default.Value(0)},n}A(t,e);var n=t.prototype;return n.componentDidMount=function(){this.componentDidAppear()},n.componentDidAppear=function(){var e=this.state,t=e.scaleAnimation,n=e.widthAnimation;t.setValue(1),n.setValue(1)},n.componentWillEnter=function(e){var t=this.state,n=t.scaleAnimation,r=t.widthAnimation;n.setValue(0),r.setValue(0),l.default.parallel([l.default.timing(n,{toValue:1,duration:L.DURATION_IN,easing:L.EASING_IN}),l.default.timing(r,{toValue:1,duration:D})]).start(e)},n.componentWillLeave=function(e){var t=this.state,n=t.scaleAnimation,r=t.spriteAnimation,a=t.spriteOpacity,o=t.widthAnimation;a.setValue(1),r.setValue(0);for(var i=[],u=0;u<P;u++)i.push(l.default.timing(r,{toValue:-b*u,duration:R}));l.default.sequence([l.default.timing(n,{toValue:0,duration:L.DURATION_OUT,easing:L.EASING_OUT}),l.default.sequence(i),l.default.timing(o,{toValue:0,duration:w})]).start(e)},n.getScaleStyle=function(){var e=this.state.scaleAnimation;return l.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[L.SCALE_MIN,L.SCALE_MAX]})}],opacity:e})},n.getSpriteStyle=function(){var e=this.state;return{backgroundPosition:e.spriteAnimation,opacity:e.spriteOpacity}},n.getWidthStyle=function(){return{width:this.state.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}},n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,i=n===y.ThemeTypes.DARK,u=(0,o.default)(T.default.sprite,((e={})[I.default.crossWhite]=i,e[I.default.crossGrey]=!i,e));return C(l.default.div,{className:(0,o.default)(T.default.transition,a),style:this.getWidthStyle()},void 0,C("div",{className:(0,o.default)(T.default.spriteWrapper,S.default.horizontal,S.default.justifyCenter,S.default.alignCenter)},void 0,C(l.default.div,{className:u,style:this.getSpriteStyle()})),C(l.default.div,{style:this.getScaleStyle()},void 0,r))},t}(a.PureComponent);U.displayName="AvatarTransition";var G={friction:10,tension:200},k=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={opacity:new l.default.Value(0),scale:new l.default.Value(0)},n}A(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.state,t=e.opacity,n=e.scale;t.setValue(1),n.setValue(1)},r.animateTo=function(e,t){var n=this.state,r=n.opacity,a=n.scale;l.default.parallel([l.default.spring(r,N({toValue:e},G)),l.default.spring(a,N({toValue:e},G))]).start(t)},r.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity,a=n.scale;r.setValue(0),a.setValue(0),clearTimeout(this._timer),this._timer=setTimeout(function(){return t.animateTo(1,e)},400)},r.componentWillLeave=function(e){var t=this.state,n=t.opacity,r=t.scale;n.setValue(1),r.setValue(1),this.animateTo(0,e)},r.componentWillUnmount=function(){clearTimeout(this._timer)},r.render=function(){var e=this.props.theme,t=this.state,r=t.opacity,a=t.scale;return C(l.default.div,{className:T.default.emptyContainer,style:{opacity:r,transform:[{scale:a},{translateZ:0}]}},void 0,C(_.default,{theme:e},void 0,C(_.default.Image,{style:{margin:0},width:210,height:92,lightSrc:n(8868),darkSrc:n(8869)})))},t}(a.Component);k.displayName="CallEmpty";var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._timeout=new u.Timeout,t.setRef=function(e){t._ref=e},t}A(t,e);var n=t.prototype;return n.componentDidMount=function(){this.delayResize()},n.componentDidUpdate=function(e){var t=this.props,n=t.windowHeight,r=t.layout;n===e.windowHeight&&r===e.layout||this.delayResize()},n.componentWillUnmount=function(){this._timeout.stop()},n.render=function(){return a.createElement(m.default,N({ref:this.setRef},this.props))},n.delayResize=function(){var e=this;this._timeout.start(400,function(){e._ref&&e._ref.resize()})},t}(a.PureComponent);F.displayName="CardStackContainer";var B=i.default.connectStores([v.default,f.default],function(){return{windowHeight:v.default.windowSize().height}})(F),j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelectParticipant=function(e){var n=t.props,r=n.layout,a=n.selectedParticipantId,o=n.channelId;d.default.selectParticipant(o,a===e?null:e),r===y.ChannelLayouts.MINIMUM&&d.default.updateLayout(o,y.ChannelLayouts.NORMAL)},t}A(t,e);var n=t.prototype;return n.calculateAvatarSize=function(){var e=this.props,t=e.layout,n=e.windowWidth,r=e.participants,a=e.mode;if(null!=e.selectedParticipantId&&a===y.ChannelModes.VIDEO&&t!==y.ChannelLayouts.MINIMUM)return g.Sizes.DEPRECATED_SIZE_60;for(var o=t===y.ChannelLayouts.FULL_SCREEN||t===y.ChannelLayouts.NORMAL?g.Sizes.DEPRECATED_SIZE_60:g.Sizes.DEPRECATED_SIZE_100,l=n-y.LEFT_PANEL_WIDTH,i=r?r.length:0,u=0;u<M.length;u++){var s=(0,g.getAvatarSize)(M[u]);if(!(s>(0,g.getAvatarSize)(o))&&(a===y.ChannelModes.VIDEO&&(s*=g.VIDEO_RATIO),l>i*(s+=16)))return M[u]}return g.Sizes.DEPRECATED_SIZE_30},n.render=function(){var e=this,t=this.props,n=t.participants,r=t.selectedParticipantId,a=t.theme,l=t.mode,i=t.inCall,u=t.layout,d=t.videoEnabled,f=t.onContextMenu,h=this.calculateAvatarSize(),v=i?n.find(function(e){return e.user.id===c.default.getId()}):null,m=null==v||v.ringing,_=l===y.ChannelModes.VIDEO&&m?(0,g.getAvatarSize)(h)*g.VIDEO_RATIO:(0,g.getAvatarSize)(h),I=n.map(function(t){var n,s=t.speaking,v=t.soundsharing,g=t.user,S=t.streamId,I=t.voiceState,O=t.ringing,N=g.id===c.default.getId()&&d,A=p.default.getMediaEngine().Video;return C(U,{width:_,theme:a,className:(0,o.default)((n={},n[T.default.avatarMargin]=l===y.ChannelModes.VOICE||m,n))},g.id,C(E.default,{id:g.id,name:g.username,selected:u!==y.ChannelLayouts.MINIMUM&&r===g.id,speaking:s,soundsharing:v,mode:l,muted:I&&(I.mute||I.selfMute),deafen:I&&(I.deaf||I.selfDeaf),ringing:O,src:g.getAvatarURL(),hasVideo:I&&I.selfVideo,streamId:i&&S,mirror:N,size:h,onClick:i&&l===y.ChannelModes.VIDEO?e.handleSelectParticipant:null,onContextMenu:f,videoComponent:A,disabled:m}))});if(0===I.length&&I.push(C(k,{theme:a},"empty")),l===y.ChannelModes.VIDEO&&!m){var O=_+8;return C(s.default,{component:B,layout:u,style:{width:O},cardWidth:O,cardHeight:O,className:(0,o.default)(T.default.wrapper,S.default.vertical,S.default.alignEnd,S.default.spacer)},void 0,I)}return C(s.default,{component:"div",className:(0,o.default)(T.default.wrapper,S.default.alignEnd,S.default.spacer,u===y.ChannelLayouts.MINIMUM?S.default.horizontal+" "+S.default.justifyCenter:S.default.vertical)},void 0,I)},t}(a.PureComponent);j.displayName="PrivateChannelCallParticipants";var H=i.default.connectStores([v.default,f.default,h.default],function(e){return N({windowWidth:v.default.windowSize().width,selectedParticipantId:f.default.getSelectedParticipantId(e.channelId),theme:h.default.theme},e)})(j);t.default=H},8867:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(8)),l=n(59),i=u(n(6335));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(t){var n;return c(n=e.call(this,t)||this).handleMouseEnter=n.handleMouseEnter.bind(c(n)),c(n).handleMouseLeave=n.handleMouseLeave.bind(c(n)),n}f(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.style,n=e.children,r=d({},t,{transform:"translate3d(0, "+e.offset+"px, 0)"});return s("div",{className:i.default.card,style:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n)},n.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},n.handleMouseLeave=function(){var e=this.props.onHover;e&&e(null)},t}(a.PureComponent);p.displayName="Card";var h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hoverIndex:null,width:0,height:0},c(n).handleHover=n.handleHover.bind(c(n)),c(n).setRef=n.setRef.bind(c(n)),c(n).resize=n.resize.bind(c(n)),n}f(t,e);var n=t.prototype;return n.renderCards=function(){var e=this,t=this.props,n=t.cardWidth,r=t.cardHeight,a=t.children,o=this.state.height,l=a.length,i=this.state.hoverIndex,u=l-1,d=l>1?(o-r)/(l-1):r,c=r*l;return a.map(function(t,a){var l=o>c?r*a:o-r-function(e){if(null==i||e===i)return d*(u-e);var t=d*(u-i);if(e>i){var n=Math.max(t-r,20);return(u-i-1>0?n/(u-i-1):0)*(u-e)}var a=o-t-2*r,l=Math.max(a,20);return o-(i>1?l/(i-1):0)*e-r-(a<20?Math.min(a,-20):0)}(a);return s(p,{index:a,offset:l,style:{width:n,height:r},onHover:e.handleHover},a,t)}).reverse()},n.render=function(){var e=this.props,t=e.className,n=e.style,r=this.state,l=r.width,u=r.height;return 0===l||0===u?a.createElement("div",{ref:this.setRef,className:t,style:n}):a.createElement("div",{ref:this.setRef,className:(0,o.default)(i.default.wrapper,t),style:n},this.renderCards())},n.handleHover=function(e){this.setState({hoverIndex:e})},n.setRef=function(e){this._ref=e,this.resize()},n.resize=function(){if(null!=this._ref){var e=(0,l.findDOMNode)(this._ref);null!=e&&e instanceof HTMLElement&&this.setState({width:e.clientWidth,height:e.clientHeight})}},t}(a.PureComponent);h.displayName="CardStack";var v=h;t.default=v},8868:function(e,t,n){e.exports=n.p+"7d12b6a6565c106a587c1d1f06690ca9.svg"},8869:function(e,t,n){e.exports=n.p+"a8fd82cc52f43902aa1113fdda7c1ef7.svg"},8870:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=s(n(0)),o=s(n(21)),l=u(n(75)),i=u(n(6338));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,r;function a(){return e.apply(this,arguments)||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.title,r=e.description,a=e.confirmText,u=e.onConfirm;return d(l.default,{size:i.default.size},void 0,d("div",{className:i.default.container},void 0,d("img",{className:i.default.image,src:n(8871),alt:""}),d("div",{className:i.default.title},void 0,t),d("div",{className:i.default.description},void 0,r)),d("div",{className:i.default.footer},void 0,d(o.default,{className:i.default.button,size:o.ButtonSizes.LARGE,onClick:u},void 0,a)))},a}(a.PureComponent);c.displayName="VideoDevicesWarningModal";var f=c;t.default=f},8871:function(e,t,n){e.exports=n.p+"261873897d8899d4e2e724efdfa21ee3.svg"},8872:function(e,t,n){e.exports=n.p+"3a773ef164b13d6a5bf37083bc1bc7f6.svg"},8873:function(e,t,n){e.exports=n.p+"894d33a7990cc82c6c470285c45f1e70.svg"},8874:function(e,t,n){e.exports=n.p+"da80b49568f5b282cd97f54f2f813441.svg"},8875:function(e,t,n){e.exports=n.p+"9f1cc64606c82356a646c04d46b0f4b4.svg"},8876:function(e,t,n){e.exports=n.p+"1c1683551c9d43dd700b1d650f30c6f6.svg"},8877:function(e,t,n){e.exports=n.p+"89f266ed023aab0906a402fe580f862a.svg"},8878:function(e,t,n){e.exports=n.p+"0e8933c13aec596f2580716cccff0374.svg"},8879:function(e,t,n){e.exports=n.p+"21dc93040f030493e978cada600d7053.svg"},8880:function(e,t,n){e.exports=n.p+"39aa9582008741a5582b87b2336f746d.svg"},8881:function(e,t,n){e.exports=n.p+"e58c46a89a6d0e207363ed2c26fef144.svg"},8882:function(e,t,n){e.exports=n.p+"b0aeca4d2129dcbf73f05feb6bb6e61f.svg"},8883:function(e,t,n){e.exports=n.p+"f67374a8fd6b116362596d65cc516747.svg"},8884:function(e,t,n){e.exports=n.p+"ea5bf2e8b48cfe21ea60588e1568aad6.svg"},8885:function(e,t,n){e.exports=n.p+"18e22cc758cd6dd220ac88b554519482.svg"},8886:function(e,t,n){e.exports=n.p+"37d23346ca73770fda04fbdcc54336e5.svg"},8887:function(e,t,n){e.exports=n.p+"24d0c1e0be789c08a641e29b113c3d61.svg"},8888:function(e,t,n){e.exports=n.p+"990826f372c3d1d1792e3f1df06609bb.svg"},8889:function(e,t,n){e.exports=n.p+"896770bf2d6ed0358ed0adefdbe96a24.svg"},8890:function(e,t,n){e.exports=n.p+"4bc527c257233fc69b94342d77bcb9ee.svg"},8891:function(e,t,n){e.exports=n.p+"d47d2c5ce2dd7d5bdaee2ebd8fde61f2.svg"},8892:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(3)),l=c(n(7502)),i=c(n(6862)),u=n(6557),s=n(1),d=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){l.default.toggleSection(s.ChannelSections.MEMBERS)},o.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.Icon,{tooltip:d.default.Messages.MEMBER_LIST,name:u.Icon.Names.NOVA_PEOPLE,onClick:this.handleClick,selected:this.props.section===s.ChannelSections.MEMBERS})},a}(a.Component);f.displayName="ChannelMembersButton";var p=o.default.connectStores([i.default],function(){return{section:i.default.getSection()}})(f);t.default=p},8893:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),l=f(n(872)),i=f(n(188)),u=f(n(42)),s=f(n(6557)),d=f(n(4)),c=f(n(6340));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.channel,r=e.isMuted;l.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!r})},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.isMuted;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default.Icon,{tooltip:e?d.default.Messages.CHANNEL_UNMUTE_TOOLTIP:d.default.Messages.CHANNEL_MUTE_TOOLTIP,name:e?u.default.Names.NOVA_BELL_OFF:u.default.Names.NOVA_BELL,foreground:e?c.default.strikethrough:null,onClick:this.handleClick,role:"switch","aria-checked":e,"aria-roledescription":d.default.Messages.CHANNEL_MUTE_ROLE_DESCRIPTION})},a}(a.PureComponent);p.displayName="ChannelMuteButton";var h=o.default.connectStores([i.default],function(e){var t=e.channel;return{isMuted:i.default.isChannelMuted(t.getGuildId(),t.id)}})(p);t.default=h},8894:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),l=h(n(6744)),i=h(n(222)),u=h(n(458)),s=n(6557),d=n(80),c=h(n(8895)),f=n(1),p=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){var t=e.channel,n=(0,o.useStateFromStores)([l.default],function(){return t.isNSFW()&&!l.default.didAgree(t.getGuildId())},[t]),h=a.useState(!1),m=h[0],_=h[1],g=(0,o.useStateFromStores)([i.default],function(){return i.default.hasUnreadPins(t.id)},[t]),E=function(){return _(function(e){return!e})};function y(e){e.shiftKey||d.ComponentDispatch.dispatch(f.ComponentActions.POPOUT_CLOSE)}return a.useEffect(function(){return d.ComponentDispatch.subscribe(f.ComponentActions.TOGGLE_CHANNEL_PINS,E),function(){d.ComponentDispatch.unsubscribe(f.ComponentActions.TOGGLE_CHANNEL_PINS,E)}},[]),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{shouldShow:m,animation:u.default.Animation.NONE,position:u.default.Positions.BOTTOM,align:u.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return _(!1)},renderPopout:function(e){return a.createElement(c.default,v({},e,{onJump:y,channel:t}))}},void 0,function(e,t){return a.createElement(s.Icon,v({},e,{onClick:E,tooltip:t?null:p.default.Messages.PINNED_MESSAGES,name:s.Icon.Names.NOVA_PIN,disabled:n,showBadge:g,selected:t}))})}m.displayName="ChannelPinsButton";var _=m;t.default=_},8895:function(e,t,n){"use strict";t.__esModule=!0,t.default=g;var r,a=v(n(0)),o=n(3),l=h(n(6863)),i=h(n(7674)),u=h(n(222)),s=h(n(11)),d=v(n(7671)),c=h(n(6876)),f=n(1),p=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _="Channel Pins";function g(e){var t=e.channel,r=e.onJump,h=(0,o.useStateFromStoresObject)([i.default],function(){var e=i.default.getPinnedMessages(t.id),n=null!=e?e.messages:null;return{messages:n,loading:null==n||null!=e&&e.loading}}),v=h.messages,g=h.loading,E=(0,o.useStateFromStores)([u.default],function(){return u.default.hasUnreadPins(t.id)}),y=(0,o.useStateFromStores)([s.default],function(){var e=s.default.getUser(t.getRecipientId());return null!=e?e.username:null});return a.useEffect(function(){E&&l.default.ackPins(t.id)},[E,t.id]),m(d.default,{onFetch:function(){l.default.ackPins(t.id),l.default.fetchPins(t.id)},channel:t,messages:v,loading:g,analyticsName:_,onCloseMessage:function(e,n){null!=e&&(n.shiftKey?l.default.unpinMessage(t,e.id):c.default.confirmUnpin(t,e))},onJump:r,getProTip:function(){return t.isPrivate()?t.type===f.ChannelTypes.DM?p.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:y}):p.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:p.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return m(d.Header,{title:p.default.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var r=p.default.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(r=p.default.Messages.NO_PINS_IN_DM);var a=e===f.ThemeTypes.LIGHT?n(8896):n(8897);return m(d.EmptyStateCenter,{msg:r,image:a},"emptystate")}})}g.displayName="ChannelPins"},8896:function(e,t,n){e.exports=n.p+"03c7541028afafafd1a9f6a81cb7f149.svg"},8897:function(e,t,n){e.exports=n.p+"6793e022dc1b065b21f12d6df02f91bd.svg"},8898:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=T(n(3)),l=n(45),i=T(n(291)),u=T(n(30)),s=T(n(107)),d=T(n(6748)),c=T(n(362)),f=T(n(344)),p=T(n(40)),h=T(n(51)),v=T(n(72)),m=T(n(42)),_=T(n(65)),g=T(n(6557)),E=T(n(345)),y=T(n(7239)),S=n(1),I=T(n(4));function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,l=o?a.getRecipientId():null;i.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,l)},t.handleJoinCall=function(e){s.default.selectVoiceChannel(t.props.channel.id,e)},t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)},t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)},t.handleJoinVideoCall=function(){t.handleJoinCall(!0)},t.handleBrowserNotSupported=function(){u.default.push(function(e){return a.createElement(y.default,N({},e,{title:I.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,description:I.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:I.default.Messages.DOWNLOAD_APP,onConfirm:t.handleDownloadApps}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===S.ChannelModes.VOICE)return null;var i,u=a.isManaged(),s=null,d=!1;return p.default.supports(l.Features.VIDEO)?n&&o===S.ChannelModes.VIDEO?(i=this.handleJoinVideoCall,s=u?I.default.Messages.CONNECT:I.default.Messages.JOIN_VIDEO_CALL):(i=this.handleStartVideoCall,s=u?I.default.Messages.CONNECT:I.default.Messages.START_VIDEO_CALL):(d=!0,i=this.handleBrowserNotSupported,s=I.default.Messages.BROWSER_NOT_SUPPORTED),O(g.default.Icon,{name:m.default.Names.NOVA_CALL_VIDEO,onClick:i,disabled:d||r,tooltip:s})},o.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel;if(t)return null;var o,l=a.isManaged(),i=null,u=!1;return r?(i=l?I.default.Messages.VOICE_UNAVAILABLE:I.default.Messages.CALL_UNAVAILABLE,o=_.default.Colors.RED,u=!0):i=n?l?I.default.Messages.CONNECT:I.default.Messages.JOIN_VOICE_CALL:l?I.default.Messages.CONNECT:I.default.Messages.START_VOICE_CALL,O(g.default.Icon,{name:m.default.Names.NOVA_CALL_JOIN,onClick:this.handleVoiceClick,disabled:u,tooltip:i,tooltipColor:o})},o.render=function(){return O(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())},o.handleDownloadApps=function(){u.default.push(E.default,{source:"Video unsupported browser"})},r}(a.PureComponent);C.displayName="PrivateChannelCallButton";var A=(0,d.default)(function(e,t){var n;return(n={})[S.ComponentActions.CALL_START]=t.handleVoiceClick.bind(t),n})(C),M=o.default.connectStores([c.default,v.default,h.default,f.default],function(e){var t=e.channel,n=v.default.isInChannel(t),r=t.getRecipientId();return{channel:t,mode:f.default.getMode(t.id),inCall:n,callActive:c.default.isCallActive(t.id),callUnavailable:c.default.isCallUnavailable(t.id),notFriend:t.type===S.ChannelTypes.DM&&null!=r&&!h.default.isFriend(r)}})(A);t.default=M},8899:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={search:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:e})},clear:function(){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:""})},select:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT,row:e})},addUser:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_ADD_USER,userId:e})},removeUser:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER,userId:e})},open:function(){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN})},close:function(){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE})}};t.default=l},8900:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(3)),o=h(n(2)),l=h(n(963)),i=h(n(67)),u=h(n(7500)),s=h(n(14)),d=h(n(51)),c=h(n(39)),f=h(n(11)),p=n(1);function h(e){return e&&e.__esModule?e:{default:e}}var v,m=1e3,_=!1,g="",E=0,y=[],S=!1,I=new Set;function T(){g="",E=0,y=[],I=new Set,_=!1}function O(e){g=e,E=0,C()}function N(){var e=c.default.getChannelId();return null!=e?s.default.getChannel(e):null}function C(){if(!_)return!1;if(0===g.trim().length)return null!=v&&v.clearQuery(),y=function(){var e=d.default.getFriendIDs(),t=N();null!=t&&(e=e.filter(function(e){return!t.recipients.includes(e)}));return e=e.reduce(function(e,t){var n=f.default.getUser(t);return null==n?e:(e.push({user:n}),e)},[]).sort(M)}(),!0;var e,t,n,r=N(),a=null!=r?r.recipients:[];return null!=v&&v.setQuery(g,{friends:!0},a,(e=u.default.getFrequently().filter(function(e){return e instanceof i.default&&e.type===p.ChannelTypes.DM}),t=Math.max.apply(Math,e.map(function(e){var t=e.id;return u.default.getScore(t)})),n={},e.forEach(function(e){var r=u.default.getScore(e.id),a=e.getRecipientId(),o=d.default.isFriend(a)?.2:0,l=s.default.getDMFromUserId(a)?.1:0;n[a]=1+r/t+o+l}),n)),!1}function A(){if(!_)return!1;var e=S;return(S=r.default.some(d.default.getRelationships(),function(e){return e===p.RelationshipTypes.FRIEND}))!==e}function M(e,t){return e.user.usernameNormalized.localeCompare(t.user.usernameNormalized)}function P(e){var t=e.results;_&&""!==g&&(y=t.map(function(e){var t=e.user,n=e.id,r=e.score,a=e.comparator;return{user:null!=t?t:f.default.getUser(n),score:r,comparator:a}}),L.emitChange())}function R(e){if(e.type!==p.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN&&e.key!==p.NEW_GROUP_DM_POPOUT_ID)return!1;_=!0,A(),v=l.default.getSearchContext(P,m),O("")}function b(e){if(e.type!==p.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE&&e.key!==p.NEW_GROUP_DM_POPOUT_ID)return!1;null!=v&&(v.destroy(),v=null),T()}var L=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default,s.default,d.default),this.syncWith([f.default,s.default],C),this.syncWith([d.default],A)},a.getResults=function(){return y},a.hasFriends=function(){return S},a.getSelectedUsers=function(){return I},a.getQuery=function(){return g},a.getState=function(){return{query:g,selectedRow:E,selectedUsers:I,results:y,hasFriends:S}},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){T()},CHANNEL_SELECT:function(e){if(null!=e.guildId)return!1;var t=_;return T(),_=t,C()},MODAL_PUSH:R,SHOW_ACTION_SHEET:R,PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN:R,MODAL_POP:b,HIDE_ACTION_SHEET:b,PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE:b,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){O(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){E=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;I.add(t),I=new Set(I)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;I.delete(t),I=new Set(I)}}),D=L;t.default=D},8901:function(e,t,n){"use strict";t.__esModule=!0,t.default=_;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=v(n(8)),o=n(3),l=v(n(68)),i=v(n(461)),u=v(n(58)),s=v(n(24)),d=v(n(71)),c=v(n(865)),f=v(n(870)),p=n(1),h=v(n(6341));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t,n=e.user,r=e.row,v=e.hideDiscriminator,_=e.comparator,g=e.selected,E=e.checked,y=e.onClick,S=e.onMouseEnter,I=(0,o.useStateFromStores)([l.default],function(){return l.default.getStatus(n.id)});return m(u.default,{onClick:function(){null!=y&&y(n.id)},onMouseEnter:function(){null!=S&&S(r)},className:h.default.friendWrapper},void 0,m(s.default,{align:s.default.Align.CENTER,className:(0,a.default)(h.default.friend,(t={},t[h.default.friendSelected]=g,t))},void 0,m(f.default,{user:n,status:I,className:h.default.avatar}),m(s.default,{className:h.default.match,align:s.default.Align.BASELINE},void 0,m(d.default,{weight:d.default.Weights.MEDIUM,className:h.default.nickname},void 0,null!=_&&_===n.tag?n.username:_||n.username),m(c.default,{user:n,hideDiscriminator:v,className:h.default.discordTag,usernameClass:h.default.weightMedium,discriminatorClass:h.default.weightMedium})),m(i.default,{color:p.Colors.PRIMARY_DARK,size:22,value:E})))}_.displayName="InviteModalUserRow"},8902:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(0)),o=S(n(339)),l=S(n(3)),i=S(n(2)),u=I(n(195)),s=n(108),d=S(n(289)),c=S(n(98)),f=S(n(22)),p=S(n(19)),h=S(n(68)),v=S(n(11)),m=S(n(72)),_=S(n(7246)),g=n(1),E=S(n(4)),y=S(n(6348));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,l,d,c=r.prototype;return c.componentWillUnmount=function(){var e=this.props.stream;null!=e&&e.state===g.ApplicationStreamStates.ENDED&&i.default.wait(function(){return u.closeStream((0,s.encodeStreamKey)(e))})},c.render=function(){var e=this.props,t=e.channel,n=e.streamer;return T("div",{className:y.default.container},void 0,T(o.default,{},void 0,T("title",{},void 0,null!=n?E.default.Messages.USERNAME_LIVE.format({username:n.username}):"#"+t.name)),T(_.default,{channel:t}))},a=r,(l=[{key:"popoutWindowActive",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}}])&&O(a.prototype,l),d&&O(a,d),r}(a.PureComponent);N.displayName="Stream";var C=l.default.connectStores([c.default,p.default,v.default,m.default,h.default,f.default,d.default],function(e){var t=e.channel,n=e.stream;return{guild:p.default.getGuild(t.guild_id),streamer:v.default.getUser(n.ownerId),popoutWindow:d.default.getWindow(g.PopoutWindowKeys.STREAM_POPOUT)}})(N);t.default=C},8903:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){if(n)return m(l.default.Messages.STREAM_SOUNDSHARE_FAILED,h.SOUNDSHARE_FAILED);if(null!=t){var r=v(t,c),a=v(t,f);if(a.numDatapoints>=p)return _(r)||_(a)}if(e===o.RTCConnectionQuality.BAD)return m(l.default.Messages.STREAM_NETWORK_QUALITY_ERROR,h.BAD_CONNECTION);return null};var r=n(270),a=i(n(13)),o=n(1),l=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=15,d=10,c=5,f=30,p=5,h=Object.freeze({PACKET_LOSS:"Packet Loss",FRAME_RATE_INPUT:"Frame Rate Input",FRAME_RATE_NETWORK:"Frame Rate Network",SOUNDSHARE_FAILED:"Soundshare Failed",BAD_CONNECTION:"Bad Connection"});function v(e,t){var n={fractionLost:0,frameRate:0,resolution:0,numDatapoints:0},r=null!=t?t:e.length,a=e.slice(-1*r).filter(Boolean);if(0===a.length)return u({type:"streamer"},n);a.forEach(function(e){n.fractionLost+=e.fractionLost,n.frameRate+=e.frameRate,n.resolution+=e.resolution});var o=a[0].type,l=a.length;return{type:o,fractionLost:n.fractionLost/l,frameRate:n.frameRate/l,resolution:n.resolution/l,numDatapoints:l}}var m=(0,r.cachedFunction)(function(e,t){return{message:e,errorType:t}});function _(e){if("streamer"===e.type){if(e.fractionLost>d)return m(l.default.Messages.STREAM_BAD_STREAMER,h.PACKET_LOSS);if(e.frameRate<=s)return m(l.default.Messages.STREAM_BAD_STREAMER,h.FRAME_RATE_INPUT)}else{if(e.fractionLost>d)return m(l.default.Messages.STREAM_BAD_SPECTATOR,h.PACKET_LOSS);if(e.frameRate<=s&&!a.default.isWeb)return m(l.default.Messages.STREAM_BAD_SPECTATOR,h.FRAME_RATE_NETWORK)}return null}},8904:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(3)),o=f(n(289)),l=f(n(185)),i=f(n(21)),u=f(n(42)),s=n(65),d=n(472),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.enabled,n=e.className,r=e.wrapperClassName,a=e.toggleFullscreen,o=t?c.default.Messages.EXIT_FULL_SCREEN:c.default.Messages.FULL_SCREEN;return p(s.TooltipContainer,{text:o,color:s.TooltipColors.GREY,className:r},void 0,p(i.default,{"aria-label":o,look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,onClick:function(){return a()}},void 0,p(u.default,{className:n,name:t?u.default.Names.NOVA_MINIMIZE_SCREEN:u.default.Names.NOVA_FULLSCREEN})))}h.displayName="FullscreenButton";var v=a.default.connectStores([l.default,o.default],function(e){var t=e.node,n=e.guestWindow;return{enabled:(0,d.isFullScreen)(t,null!=n?n.document:null)}})(h);t.default=v},8905:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(3)),o=f(n(98)),l=f(n(14)),i=f(n(11)),u=f(n(8906)),s=f(n(7246)),d=n(1),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.streamer,n=e.windowKey;return null==t?null:p(u.default,{withTitleBar:!0,windowKey:n,title:c.default.Messages.USERNAME_LIVE.format({username:t.username})},void 0,p(s.default,{appContext:d.AppContext.POPOUT}))}h.displayName="PopoutWindowStreamVideoPlayer";var v=a.default.connectStores([o.default,l.default,i.default],function(){var e=o.default.getActiveStream();return{streamer:null!=e?i.default.getUser(e.ownerId):null,channel:null!=e?l.default.getChannel(e.channelId):null}})(h);t.default=v},8906:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=S(n(8)),l=S(n(16)),i=S(n(3)),u=n(962),s=S(n(289)),d=S(n(856)),c=S(n(25)),f=S(n(1006)),p=n(145),h=n(271),v=S(n(13)),m=n(266),_=S(n(942)),g=S(n(551)),E=n(1),y=S(n(6343));function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=I(h.MaskLibrary,{}),O=I(p.AppLayerContainer,{}),N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){e.preventDefault()},t.handleKeyboardUsage=function(e){var n=t.props.guestWindow;if(null==n)throw new Error("");!0===e.ctrlKey||!0===e.altKey||!0===e.metaKey||e.keyCode!==E.KeyboardKeys.TAB||((0,u.enableKeyboardMode)(),n.addEventListener("mousedown",t.handleMouseUsage),n.removeEventListener("keydown",t.handleKeyboardUsage))},t.handleMouseUsage=function(){var e=t.props.guestWindow;(0,l.default)(e),(0,u.disableKeyboardMode)(),e.addEventListener("keydown",t.handleKeyboardUsage),e.removeEventListener("mousedown",t.handleMouseUsage)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.guestWindow,n=e.keyboardModeEnabled,r=t.document;null==r.querySelector("title")&&null!=r.head&&r.head.appendChild(r.createElement("title")),this.updateTitle(),this.updateFontScale(),this.updateLocale(),r.addEventListener("contextmenu",this.handleContextMenu,!0),n?t.addEventListener("mousedown",this.handleMouseUsage):t.addEventListener("keydown",this.handleKeyboardUsage)},a.componentDidUpdate=function(e){var t=this.props,n=t.title,r=t.fontScale,a=t.locale;e.title!==n&&this.updateTitle(),e.fontScale!==r&&this.updateFontScale(),e.locale!==a&&this.updateLocale()},a.componentWillUnmount=function(){var e=this.props.guestWindow,t=e.document;e.removeEventListener("keydown",this.handleKeyboardUsage),e.removeEventListener("mousedown",this.handleMouseUsage),t.removeEventListener("contextmenu",this.handleContextMenu,!0)},a.updateLocale=function(){var e=this.props,t=e.locale,n=e.guestWindow.document.documentElement;(0,l.default)(null!=n,"Window document element was null"),n.lang=t},a.updateTitle=function(){var e=this.props,t=e.title,n=e.guestWindow.document.querySelector("title");null!=n&&(n.innerHTML=t)},a.updateFontScale=function(){var e=this.props,t=e.fontScale,n=e.guestWindow.document.documentElement;(0,l.default)(null!=n,"Window document element was null"),n.style.fontSize=t+"%"},a.render=function(){var e=this.props,t=e.theme,n=e.focused,r=e.children,a=e.windowKey,l=e.keyboardModeEnabled,i=e.colorblindMode,u=e.fontScaleClass,s=e.withTitleBar,d=v.default.getPlatform(),c=(0,o.default)(u,{"keyboard-mode":E.EnableAccessibility&&l});return I("div",{className:(0,o.default)((0,m.getThemeClass)(t),v.default.isWindows()?"platform-win":v.default.isOSX()?"platform-osx":v.default.isLinux()?"platform-linux":v.default.isWeb()?"platform-web":"",c)},void 0,I(_.default,{},void 0,I(f.default.Provider,{value:i},void 0,T,I(p.AppLayerProvider,{},void 0,I("div",{className:y.default.popout},void 0,s&&null!=d?I(g.default,{focused:n,type:d,windowKey:a,macOSFrame:!0}):null,I("div",{className:y.default.content},void 0,r)),O))))},r}(a.Component);N.displayName="PopoutWindow",N.defaultProps={withTitleBar:!0};var C=i.default.connectStores([c.default,d.default,s.default],function(e){var t=e.windowKey,n=s.default.getWindow(t);return(0,l.default)(null!=n,"Guest window was null when popup was rendered."),{locale:c.default.locale,theme:c.default.theme,focused:s.default.getWindowFocused(t),guestWindow:n,fontScale:d.default.fontScale,keyboardModeEnabled:d.default.keyboardModeEnabled,colorblindMode:d.default.colorblindMode,fontScaleClass:d.default.fontScaleClass}})(N);t.default=C},8907:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=T(n(0)),o=I(n(8)),l=I(n(6)),i=n(29),u=n(35),s=I(n(42)),d=I(n(458)),c=T(n(152)),f=n(65),p=I(n(328)),h=I(n(456)),v=I(n(281)),m=I(n(7208)),_=I(n(331)),g=I(n(459)),E=n(1),y=I(n(4)),S=I(n(6344));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=150,A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).hidePopoutAfterDelay=new i.DelayedCall(C,function(){t.setState({popoutStaysOpen:!1})}),t.state={popoutStaysOpen:!1},t.keepPopoutOpen=function(){t.hidePopoutAfterDelay.cancel(),t.setState({popoutStaysOpen:!0})},t.closePopout=function(){t.hidePopoutAfterDelay.delay()},t.handleUserContextMenu=function(e,n){t.keepPopoutOpen(),(0,u.openContextMenu)(e,function(e){return a.createElement(g.default,N({},e,{type:E.ContextMenuTypes.USER_GENERIC_LIST,user:n}))},{onClose:t.closePopout})},t.renderSpectatorList=function(){var e=t.props,n=e.viewers,r=e.disableInteraction,a=e.stream;return O("div",{className:S.default.popoutWrapper},void 0,O(c.default,{theme:c.Themes.GHOST_HAIRLINE,outerClassName:S.default.scroller,className:S.default.popout},void 0,O(h.default,{size:h.default.Sizes.SIZE_12,className:S.default.memberListHeader},void 0,y.default.Messages.SPECTATORS.format({numViewers:n.length})),O("div",{},void 0,n.map(function(e){var n;return O(m.default,{className:(0,o.default)(S.default.memberListItem,(n={},n[S.default.popoutDisabled]=r,n)),textClassName:S.default.memberListItemText,user:e,disablePopout:r,nick:v.default.getNickname(a.guildId,a.channelId,e),onContextMenu:function(n){return r?null:t.handleUserContextMenu(n,e)}},e.id)}))))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var I=r.prototype;return I.renderOverflow=function(e){return O("div",{className:S.default.overflow},"overflow","+",e)},I.renderAvatar=function(e){return O(p.default,{src:e.avatarURL,"aria-label":e.username,size:p.default.Sizes.SIZE_24,className:S.default.viewer},e.id)},I.renderCompact=function(){var e=this.props,t=e.viewers,n=e.stream,r=e.maxVisibleViewers,a=e.className,l=y.default.Messages.LIVE_VIEWERS.format({viewers:t.length}),i=t.length<r?t.map(function(e){return O("div",{className:S.default.viewersTooltipItem},e.id,v.default.getName(n.guildId,n.channelId,e))}):l;return O(f.TooltipContainer,{text:i,"aria-label":l,color:f.TooltipColors.GREY},void 0,O("div",{className:(0,o.default)(S.default.viewers,a)},void 0,O(s.default,{className:S.default.viewersIcon,name:s.default.Names.EYE}),O("span",{"aria-hidden":"true"},void 0,t.length)))},I.render=function(){var e=this.props,t=e.viewers,n=e.compact,r=e.maxVisibleViewers,a=e.className,i=this.state.popoutStaysOpen;if(0===t.length)return null;if(n)return this.renderCompact();var u=(0,l.default)(t).take(r).map(this.renderAvatar).value();return t.length>r&&(u[u.length-1]=this.renderOverflow(t.length-r+1)),O(_.default,{section:E.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,O("div",{onMouseEnter:this.keepPopoutOpen,onMouseLeave:this.closePopout},void 0,O(d.default,{renderPopout:this.renderSpectatorList,shouldShow:i,position:d.default.Positions.TOP},void 0,function(){return O("div",{className:(0,o.default)(S.default.viewers,a)},void 0,u)})))},r}(a.PureComponent);t.default=A,A.displayName="Viewers",A.defaultProps={compact:!1,disableInteraction:!1,maxVisibleViewers:3}},8908:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=d(n(3)),o=n(45),l=d(n(189)),i=d(n(40)),u=d(n(8909)),s=n(913);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.iconClassName,n=e.currentVolume,a=e.sliderClassName,i=e.userId,d=e.currentWindow,c=e.muted;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{currentWindow:d,iconClassName:t,sliderClassName:a,initialValue:(0,s.amplitudeToPerceptual)(n),muted:c,onValueChange:function(e){return function(e,t,n){e>0&&n&&l.default.toggleLocalMute(t,o.MediaEngineContextTypes.STREAM),l.default.setLocalVolume(t,(0,s.perceptualToAmplitude)(e),o.MediaEngineContextTypes.STREAM)}(e,i,c)},onToggleMute:function(){return function(e){l.default.toggleLocalMute(e,o.MediaEngineContextTypes.STREAM)}(i)}})}c.displayName="VolumeButton";var f=a.default.connectStores([i.default],function(e){var t=e.userId;return{currentVolume:i.default.getLocalVolume(t,o.MediaEngineContextTypes.STREAM),muted:i.default.isLocalMute(t,o.MediaEngineContextTypes.STREAM)}})(c);t.default=f},8909:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(21)),l=d(n(42)),i=d(n(7694)),u=d(n(4)),s=d(n(6345));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._lastValue=t.props.initialValue,t._mediaBar=a.createRef(),t.state={value:t.props.initialValue},t.handleValueChange=function(e){var n=t.props,r=n.maxValue,a=n.onValueChange,o=e*r;t.setState({value:o}),a&&a(o)},t.handleToggleMute=function(){var e=t.props.onToggleMute;e&&e()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.componentDidMount=function(){this.updateMediaBar()},d.componentDidUpdate=function(e,t){this.state.value===t.value&&this.props.muted===e.muted||this.updateMediaBar()},d.updateMediaBar=function(){var e=this.props,t=e.muted,n=e.maxValue,r=this.state.value,a=this._mediaBar.current;null!=a&&(t?a.setGrabber(0):a.setGrabber(r/n))},d.render=function(){var e=this.props,t=e.iconClassName,n=e.sliderWrapperClassName,r=e.sliderClassName,d=e.currentWindow,f=e.muted,p=e.minValue,h=e.maxValue,v=this.state.value,m=l.default.Names.NOVA_SPEAKER;return f||v===p?m=l.default.Names.NOVA_SPEAKER_MUTED:v<h/2&&(m=l.default.Names.NOVA_SPEAKER_QUIET),c("div",{className:s.default.volumeButton},void 0,c("div",{className:s.default.volumeButtonSlider},void 0,a.createElement(i.default,{className:n,sliderClassName:r,type:i.default.Types.VOLUME,value:v/h,onDrag:this.handleValueChange,onDragStart:function(){return null},onDragEnd:function(){return null},currentWindow:d,ref:this._mediaBar})),c(o.default,{"aria-label":u.default.Messages.CONTROL_VOLUME,size:o.default.Sizes.NONE,look:o.default.Looks.BLANK,onClick:this.handleToggleMute},void 0,c(l.default,{className:t,name:m})))},r}(a.PureComponent);f.displayName="VolumeButton",f.defaultProps={minValue:0,maxValue:100,handleSize:16};var p=f;t.default=p},8910:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=I(n(8)),l=I(n(30)),i=I(n(6952)),u=n(6535),s=n(6567),d=I(n(21)),c=I(n(58)),f=I(n(24)),p=I(n(75)),h=I(n(257)),v=I(n(503)),m=I(n(6685)),_=I(n(6953)),g=I(n(6954)),E=I(n(4)),y=I(n(6346)),S=I(n(5931));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=Object.freeze({BAD:"bad",NEUTRAL:"neutral",GOOD:"good"}),N=[{className:y.default.emojiSad,rating:O.BAD},{className:y.default.emojiNeutral,rating:O.NEUTRAL},{className:y.default.emojiHappy,rating:O.GOOD}];function C(){l.default.popAll()}var A=T(m.default,{}),M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={rating:null,problem:null,dontShowAgain:!1},t.handleChanged=function(e){t.setState({problem:null!=e?e.value:null})},t.handleSubmit=function(){var e=t.props,n=e.stream,r=e.streamApplication,a=t.state,o=a.rating,d=a.problem;a.dontShowAgain&&(0,s.hideHotspot)(u.HotspotLocations.REPORT_PROBLEM_POST_STREAM),null!=o?((0,i.default)(d,n,r,"Stream End",o),null!=d?l.default.push(_.default):C()):C()},t.setRating=function(e){var n={rating:e};e===O.GOOD&&(n.problem=null),t.setState(n)},t.toggleDontShowAgain=function(){t.setState({dontShowAgain:!t.state.dontShowAgain})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var m=r.prototype;return m.renderRating=function(e,t){var n=this,r=this.state.rating;return T(c.default,{onClick:function(){return n.setRating(e)},"aria-label":e},e,T("div",{className:(0,o.default)(t,r===e?y.default.selected:null)}))},m.renderRatings=function(){var e=this;return T(a.Fragment,{},void 0,T(f.default,{justify:f.default.Justify.BETWEEN,align:f.default.Align.CENTER,className:y.default.emojis},void 0,N.map(function(t){var n=t.rating,r=t.className;return e.renderRating(n,r)})))},m.renderDismissCheckbox=function(){var e=this.state.dontShowAgain;return T(v.default,{value:e,onChange:this.toggleDontShowAgain},void 0,T(h.default,{},void 0,E.default.Messages.DONT_SHOW_AGAIN))},m.render=function(){var e,t=this.props.isStreamer,n=this.state,r=n.problem,a=n.rating;return e=t?E.default.Messages.STREAM_REPORT_RATING_BODY_STREAMER:E.default.Messages.STREAM_REPORT_RATING_BODY,T(p.default,{},void 0,A,T(p.default.Header,{className:y.default.headerContainer},void 0,T(h.default,{className:y.default.header,color:h.default.Colors.CUSTOM,size:h.default.Sizes.SIZE_24},void 0,E.default.Messages.STREAM_REPORT_A_PROBLEM_POST_STREAM),T(h.default,{color:h.default.Colors.CUSTOM,className:y.default.ratingBody},void 0,e)),T(p.default.Content,{className:S.default.content},void 0,this.renderRatings(),[null,O.GOOD].includes(a)?null:T(g.default,{onChange:this.handleChanged,isEndStream:!0,isStreamer:t,problem:r})),T(p.default.Footer,{className:y.default.footer,separator:!1},void 0,T(d.default,{color:d.default.Colors.BRAND,onClick:this.handleSubmit},void 0,E.default.Messages.DONE),this.renderDismissCheckbox()))},r}(a.PureComponent);M.displayName="ReportProblem";var P=M;t.default=P},8911:function(e,t,n){e.exports=n.p+"94b5558353f1d01035a874f6eddf6d70.svg"},8912:function(e,t,n){e.exports=n.p+"25613a647083f6b2b196f40f58732de6.svg"},8913:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(259),l=_(n(3)),i=_(n(140)),u=_(n(861)),s=n(6526),d=_(n(14)),c=_(n(855)),f=_(n(331)),p=n(5949),h=_(n(6961)),v=n(1),m=_(n(5935));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId;return null!=e?i.default.fetchChannelStoreListing(r.id,e):null!=a?i.default.fetchChannelStoreListing(r.id,a):i.default.fetchChannelStoreListing(r.id)},t.renderApplicationListing=function(e){var n=e.location,r=t.props,a=r.channel,o=r.skuId,l=r.width;return g(h.default,{channel:a,inputSkuId:o,fetchStoreListing:t.fetchStoreListing,location:n,pageSize:(0,p.getPageSize)(l)})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.fetchStoreListing(),(0,s.trackAppUIViewed)("channel_store_listing")},a.render=function(){return null!=this.props.skuId?g(f.default,{page:v.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,g("div",{className:m.default.applicationStore},void 0,g(o.Route,{path:"*",render:this.renderApplicationListing}))):null},r}(a.Component);E.displayName="ChannelStoreListing";var y=(0,u.default)(l.default.connectStores([d.default,c.default],function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:d.default.getSkuIdForChannel(t.id)}})(E));t.default=y},8915:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=te(n(0)),o=ee(n(8)),l=ee(n(6)),i=n(259),u=ee(n(118)),s=ee(n(3)),d=n(45),c=ee(n(263)),f=te(n(6738)),p=ee(n(189)),h=ee(n(140)),v=n(35),m=ee(n(1031)),_=ee(n(30)),g=ee(n(285)),E=ee(n(356)),y=ee(n(197)),S=n(6526),I=ee(n(14)),T=ee(n(40)),O=ee(n(51)),N=ee(n(39)),C=ee(n(11)),A=ee(n(185)),M=ee(n(7780)),P=ee(n(58)),R=ee(n(6521)),b=ee(n(42)),L=ee(n(152)),D=te(n(6549)),w=ee(n(71)),U=ee(n(65)),G=n(6531),k=ee(n(6657)),F=ee(n(36)),B=n(931),j=ee(n(8916)),H=ee(n(8917)),V=ee(n(929)),x=ee(n(865)),Y=ee(n(468)),W=ee(n(6950)),z=ee(n(870)),K=ee(n(459)),$=ee(n(6530)),Q=ee(n(7245)),X=ee(n(155)),q=n(1),J=ee(n(4)),Z=ee(n(6099));function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ne(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function oe(e){switch(e){case"name":return Z.default.friendsColumnName;case"status":return Z.default.friendsColumnStatus;case"guilds":return Z.default.friendsColumnGuilds;case"actions":return Z.default.friendsColumnActions;case"actions-visible":return Z.default.friendsColumnActionsVisible;default:throw new Error("Unknown column type")}}var le=function(e){var t=e.guild;return ae(U.default,{text:t.toString()},void 0,function(e){return a.createElement(i.Link,re({},e,{to:q.Routes.CHANNEL(t.id,N.default.getChannelId(t.id)),onClick:function(e){return e.stopPropagation()}}),ae(R.default,{guild:t,textScale:.8,size:R.default.Sizes.SMALL}))})};le.displayName="MutualGuild";var ie=function(e){var t=e.num,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["num"]);return a.createElement("div",re({className:Z.default.moreMutualGuildsBtn},n),"+",t)};ie.displayName="MoreMutualGuildsButton";var ue=function(e){var t=e.column,n=e.children;return null!=n?ae(k.default,{className:(0,o.default)(Z.default.friendsColumn,oe(t))},void 0,n):null};function se(e){var t=e.className,n=e.name,r=e.tooltip,l=e.onClick,i=ae(b.default,{name:n});return ae(U.default,{text:r},void 0,function(e){return a.createElement(P.default,re({},e,{"aria-label":r,onClick:l,className:(0,o.default)(Z.default.friendsAction,t,null==l?Z.default.disabled:null)}),i)})}se.displayName="Action";var de=oe("actions-visible"),ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={height:new u.default.Value(62),opacity:new u.default.Value(1),hovered:!1},t.handleOpenProfile=function(e){e.stopPropagation(),E.default.open(t.props.user.id)},t.handleOpenPrivateChannel=function(e){e.stopPropagation();var n=t.props.user,r=l.default.find(I.default.getChannels(),function(e){return e.type===q.ChannelTypes.DM&&e.getRecipientId()===n.id});null!=r?F.default.transitionTo(q.Routes.CHANNEL(q.ME,r.id)):h.default.openPrivateChannel(C.default.getCurrentUser().id,n.id)},t.handleRemoveFriend=function(e){e.stopPropagation(),_.default.push(function(e){return a.createElement(X.default,re({header:J.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.props.user.toString()}),confirmText:J.default.Messages.REMOVE_FRIEND,cancelText:J.default.Messages.CANCEL,onConfirm:t.handleRemoveRelationship},e),ae(w.default,{size:w.default.Sizes.MEDIUM,color:w.default.Colors.PRIMARY},void 0,J.default.Messages.REMOVE_FRIEND_BODY.format({name:t.props.user.toString()})))})},t.handleAddRelationship=function(e){e.stopPropagation();var n=t.props.user;g.default.addRelationship(n.id,{location:"Friends"})},t.handleRemoveRelationship=function(e){e&&e.stopPropagation(),g.default.removeRelationship(t.props.user.id,{location:"Friends"})},t.handleContextMenu=function(e,t){(0,v.openContextMenu)(e,function(e){return a.createElement(K.default,re({},e,{type:q.ContextMenuTypes.USER_FRIEND_LIST,user:t}))})},t.handleVideoCall=function(e){p.default.setVideoEnabled(!0),t.handleVoiceCall(e)},t.handleVoiceCall=function(e){e.stopPropagation(),h.default.openPrivateChannel(C.default.getCurrentUser().id,t.props.user.id,!0)},t.handleMouseEnter=function(){var e=t.props.isFocused;t.setState({hovered:e})},t.handleMouseLeave=function(){t.setState({hovered:!1})},t}ne(t,e);var n=t.prototype;return n.componentWillLeave=function(e){u.default.parallel([u.default.timing(this.state.opacity,{toValue:0,duration:200}),u.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)},n.componentWillEnter=function(e){this.state.opacity.setValue(0),this.state.height.setValue(0),u.default.parallel([u.default.timing(this.state.opacity,{toValue:1,duration:200}),u.default.timing(this.state.height,{toValue:62,duration:200})]).start(e)},n.renderActivity=function(e,t){var n=this.state.hovered;return ae(V.default,{className:Z.default.activity,textClassName:Z.default.statusText,emojiClassName:Z.default.customStatusEmoji,activities:e,applicationStream:t,animate:n})},n.render=function(){var e,t,n,r=this,l=this.props,i=l.user,s=l.type,d=l.mutualGuilds,c=l.mutualGuildsLength,f=l.status,p=l.activities,h=l.applicationStream,v=l.video,m=this.state,_=m.height,g=m.opacity,E=m.hovered,S=f,I=p.length>0?this.renderActivity(p,h):(0,B.humanizeStatus)(f),T=!0;switch(s){case q.RelationshipTypes.FRIEND:T=!1,t=a.createElement(a.Fragment,null,v?ae(se,{name:b.default.Names.NOVA_CALL_VIDEO,tooltip:J.default.Messages.START_VIDEO_CALL,onClick:this.handleVideoCall}):null,ae(se,{name:b.default.Names.NOVA_CALL_JOIN,tooltip:J.default.Messages.START_VOICE_CALL,onClick:this.handleVoiceCall}),ae(se,{name:b.default.Names.NOVA_USER_REMOVE,className:Z.default.actionDeny,tooltip:J.default.Messages.REMOVE_FRIEND,onClick:this.handleRemoveFriend}));break;case q.RelationshipTypes.BLOCKED:S=q.StatusTypes.UNKNOWN,I=J.default.Messages.BLOCKED,t=ae(se,{name:b.default.Names.NOVA_USER_REMOVE,className:Z.default.actionDeny,tooltip:J.default.Messages.UNBLOCK,onClick:this.handleRemoveRelationship});break;case q.RelationshipTypes.PENDING_INCOMING:S=f===q.StatusTypes.OFFLINE?q.StatusTypes.UNKNOWN:f,I=J.default.Messages.INCOMING_FRIEND_REQUEST,t=a.createElement(a.Fragment,null,ae(se,{name:b.default.Names.NOVA_ACCEPT,className:Z.default.actionAccept,tooltip:J.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:this.handleAddRelationship}),ae(se,{name:b.default.Names.NOVA_DENY,tooltip:J.default.Messages.FRIEND_REQUEST_IGNORE,onClick:this.handleRemoveRelationship}));break;case q.RelationshipTypes.PENDING_OUTGOING:T=!1,S=f===q.StatusTypes.OFFLINE?q.StatusTypes.UNKNOWN:f,I=J.default.Messages.OUTGOING_FRIEND_REQUEST,t=ae(se,{name:b.default.Names.NOVA_DENY,className:Z.default.actionDeny,tooltip:J.default.Messages.FRIEND_REQUEST_CANCEL,onClick:this.handleRemoveRelationship})}return c>q.MAX_MUTUAL_GUILDS&&(n=ae(ie,{num:c-q.MAX_MUTUAL_GUILDS,onClick:this.handleOpenProfile})),ae(u.default.div,{className:Z.default.friendsRow,onClick:this.handleOpenPrivateChannel,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:function(e){return r.handleContextMenu(e,i)},style:{height:_,opacity:g}},void 0,ae("div",{className:(0,o.default)(Z.default.friendsColumn,oe("name"))},void 0,ae(z.default,{user:i,className:Z.default.avatarSmall,animate:E}),ae(x.default,{user:i,className:Z.default.discordTag,usernameClass:Z.default.username,discriminatorClass:Z.default.discriminator})),ae("div",{className:(0,o.default)(Z.default.friendsColumn,oe("status"))},void 0,ae(W.default,{className:Z.default.status,defaultStatus:(0,y.default)(p)?q.StatusTypes.STREAMING:S,size:10}),ae("span",{className:Z.default.statusText},void 0,I)),ae("div",{className:(0,o.default)(Z.default.friendsColumn,oe("guilds"))},void 0,d.map(function(e){return ae(le,{guild:e},e.id)}),n),ae("div",{className:(0,o.default)(Z.default.friendsColumn,oe("actions"),(e={},e[de]=T,e))},void 0,t))},t}(a.PureComponent);ce.displayName="FriendRow";var fe=ae(ue,{column:"actions"}),pe=function(){return ae("div",{className:Z.default.friendsTableHeader},void 0,ae(ue,{column:"name"},void 0,J.default.Messages.FRIENDS_COLUMN_NAME),ae(ue,{column:"status"},void 0,J.default.Messages.FRIENDS_COLUMN_STATUS),ae(ue,{column:"guilds"},void 0,J.default.Messages.MUTUAL_GUILDS),fe)};pe.displayName="FriendsTableHeader";var he=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={addFriendError:null,addFriendSuccess:null},t.handleAddFriendSubmit=function(e,n){t.setState({addFriendError:e,addFriendSuccess:n})},t}return ne(t,e),t.prototype.render=function(){var e,t=this.state,n=t.addFriendSuccess,r=t.addFriendError,a=!1,l=!1,i=J.default.Messages.ADD_FRIEND_DESCRIPTION;return null!=n?(a=!0,i=n):null!=r&&(l=!0,i=r),ae("div",{className:Z.default.friendTableAddWrapper},void 0,ae("div",{className:Z.default.friendTableAddHeader},void 0,ae("div",{className:Z.default.friendsTableAdd},void 0,ae("h2",{className:Z.default.oldH2},void 0,J.default.Messages.ADD_FRIEND),ae("div",{className:(0,o.default)(Z.default.friendTableAddDescription,(e={},e[Z.default.success]=a,e[Z.default.error]=l,e))},void 0,i),ae(j.default,{onSubmit:this.handleAddFriendSubmit}))))},t}(a.Component);he.displayName="AddFriendHeader";var ve=ae($.default.Divider,{}),me=ae(he,{}),_e=ae(pe,{}),ge=ae($.default.Divider,{}),Ee=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderHeaderToolbar=function(){return ae(a.Fragment,{},void 0,ae(Q.default,{tooltip:J.default.Messages.NEW_GROUP_DM}),ve)},t}ne(t,e);var n=t.prototype;return n.componentDidMount=function(){f.setHomeLink(q.Routes.FRIENDS),(0,S.trackAppUIViewed)("friends")},n.handleItemSelect=function(e){m.default.setSection(e)},n.handleAddFriend=function(){m.default.setSection(q.FriendsSections.ADD_FRIEND)},n.render=function(){var e,t,n=this.props,r=n.section,o=n.rows,l=n.video,i=n.pendingCount,u=n.relationshipCount,s=n.isFocused;r===q.FriendsSections.ADD_FRIEND?(e=[],t=me):(e=o.filter(r).map(function(e){return a.createElement(ce,re({},e.toJS(),{video:l,isFocused:s}))}),t=_e);var d=0===e.length?[ae(H.default,{type:r,onClick:this.handleAddFriend},r)]:e;return d=u>=64?ae(Y.default,{className:Z.default.friendsTableBody,elementHeight:62,theme:L.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,d):ae(L.default,{className:Z.default.friendsTableBody,theme:L.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,ae(c.default,{transitionAppear:!1,component:"div"},void 0,d)),ae("div",{className:Z.default.container},void 0,ae($.default,{toolbar:this.renderHeaderToolbar()},void 0,ae($.default.Icon,{name:b.default.Names.PERSON_WAVING}),ae($.default.Title,{},void 0,J.default.Messages.FRIENDS),ge,ae(D.default,{selectedItem:r,type:D.Types.TOP_PILL,onItemSelect:this.handleItemSelect,className:Z.default.tabBar},void 0,ae(D.Item,{id:q.FriendsSections.ONLINE,className:Z.default.item},void 0,J.default.Messages.FRIENDS_SECTION_ONLINE),ae(D.Item,{id:q.FriendsSections.ALL,className:Z.default.item},void 0,J.default.Messages.FRIENDS_SECTION_ALL),ae(D.Item,{id:q.FriendsSections.PENDING,className:Z.default.item,"aria-label":J.default.Messages.FRIENDS_SECTION_PENDING},void 0,J.default.Messages.FRIENDS_SECTION_PENDING,i>0?ae(G.NumberBadge,{count:i,className:Z.default.badge,style:{paddingRight:0}}):null),ae(D.Item,{id:q.FriendsSections.BLOCKED,className:Z.default.item},void 0,J.default.Messages.BLOCKED),ae(D.Item,{"aria-label":J.default.Messages.FRIENDS_SECTION_ADD_FRIEND,className:Z.default.item,color:q.Colors.STATUS_GREEN,id:q.FriendsSections.ADD_FRIEND},void 0,ae("span",{"aria-hidden":"true"},void 0,J.default.Messages.FRIENDS_SECTION_ADD_FRIEND)))),ae("div",{className:Z.default.friendsTable},void 0,t,d))},t}(a.PureComponent);Ee.displayName="Friends";var ye=s.default.connectStores([O.default,T.default,M.default,A.default],function(){return re({relationshipCount:O.default.getRelationshipCount(),video:T.default.supports(d.Features.VIDEO),isFocused:A.default.isFocused()},M.default.getState())})(Ee);t.default=ye},8916:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(16)),l=f(n(285)),i=f(n(21)),u=n(1030),s=n(1),d=f(n(4)),c=f(n(6352));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h={canSend:!1,hint:""},v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=h,t.inputRef=a.createRef(),t.handleSubmit=function(e){e.preventDefault();var n=t.props.onSubmit;(0,o.default)(null!=t.inputRef.current,"Input is submitted when not mounted");var r=t.inputRef.current.value.trim(),a=(0,u.validateDiscordTag)(r);null!=a?n(a):(t.setState({canSend:!1}),l.default.sendRequest(r,{location:"Add Friend"}).then(function(){n(null,d.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:r})),(0,o.default)(null!=t.inputRef.current,"Input is submitting when not mounted"),t.inputRef.current.value="",t.setState(h,t.focus)},function(e){n((0,u.humanizeAbortCode)(e.body.code,r)),t.setState({canSend:!0})}))},t.handleChange=function(e){var n=e.currentTarget.value;if(n.length>0){var r=n.split("#")[1];t.setState({hint:n+s.PLACEHOLDER_TAG.slice(null!=r?r.length+1:0),canSend:!0})}else t.setState({hint:"",canSend:!1});t.props.onError&&t.props.onError(null)},t.handleKeyPress=function(e){var n=e.currentTarget.value;if(13!==e.which){var r=n.indexOf("#");if(r>-1){(0,o.default)(null!=t.inputRef.current,"Input is handling keypress when not mounted");var a=t.inputRef.current.selectionStart,l=8===e.which||37===e.which||39===e.which,i=e.which>=48&&e.which<=57;a>r&&/^(.+?#\d{4})$/.test(n)&&!l?e.preventDefault():a>r&&!i&&!l&&e.preventDefault()}}},t.focus=function(){(0,o.default)(null!=t.inputRef.current,"Input is being focussed when not mounted"),t.inputRef.current.focus()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.renderHint=function(){return p("div",{className:c.default.addFriendHint,onClick:this.focus},void 0,this.state.hint)},f.render=function(){var e=this.state.canSend;return p("form",{className:c.default.wrapper,onSubmit:this.handleSubmit},void 0,a.createElement("input",{ref:this.inputRef,className:c.default.addFriendInput,placeholder:d.default.Messages.ADD_FRIEND_PLACEHOLDER,onKeyPress:this.handleKeyPress,onChange:this.handleChange,autoFocus:!0,maxLength:37}),this.renderHint(),p(i.default,{size:i.default.Sizes.SMALL,disabled:!e,type:"submit"},void 0,d.default.Messages.ADD_FRIEND_BUTTON))},r}(a.PureComponent);v.displayName="AddFriendInput";var m=v;t.default=m},8917:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(339)),l=v(n(118)),i=v(n(3)),u=v(n(25)),s=v(n(21)),d=v(n(6524)),c=n(1),f=v(n(4)),p=v(n(455)),h=v(n(6099));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=Object.freeze({SECTION_ALL:{lightSrc:n(8918),darkSrc:n(8919),width:376,height:162,renderContent:function(e){return m(a.Fragment,{},void 0,m(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_ALL}),m(s.default,{className:p.default.marginTop20,onClick:e},void 0,f.default.Messages.ADD_FRIEND))}},SECTION_ONLINE:{lightSrc:n(8920),darkSrc:n(8921),width:421,height:218,renderContent:function(){return m(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(8922),darkSrc:n(8923),width:433,height:232,renderContent:function(){return m(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(8924),darkSrc:n(8925),width:415,height:200,renderContent:function(){return m(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_PENDING})}}});var g=m(o.default,{title:"Discord"}),E=function(e){var t=e.theme,n=f.default.Messages.FRIENDS_EMPTY_STATE_ALL,r=_.SECTION_ALL;return m(a.Fragment,{},void 0,g,m(d.default,{theme:t},void 0,m(d.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc,theme:t}),m(d.default.Text,{note:n})))};E.displayName="AddFriendEmpty";var y=m(o.default,{title:"Discord"}),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new l.default.Value(1)},t.componentWillEnter=function(e){t.state.opacity.setValue(0),l.default.timing(t.state.opacity,{toValue:1,duration:250}).start(e)},t.componentWillLeave=function(e){l.default.timing(t.state.opacity,{toValue:0,duration:250}).start(e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.theme,a={opacity:this.state.opacity},o=function(e){switch(e){case c.FriendsSections.ADD_FRIEND:case c.FriendsSections.ALL:return _.SECTION_ALL;case c.FriendsSections.ONLINE:return _.SECTION_ONLINE;case c.FriendsSections.PENDING:return _.SECTION_PENDING;case c.FriendsSections.BLOCKED:return _.SECTION_BLOCKED;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===c.FriendsSections.ADD_FRIEND?m(l.default.div,{className:h.default.friendsEmpty,style:a},void 0,m(E,{theme:r})):m(l.default.div,{className:h.default.friendsEmpty,style:a},void 0,y,m(d.default,{theme:r},void 0,m(d.default.Image,{width:o.width,height:o.height,lightSrc:o.lightSrc,darkSrc:o.darkSrc,theme:r}),o.renderContent(n)))},r}(a.PureComponent);S.displayName="FriendsEmptyState";var I=i.default.connectStores([u.default],function(){return{theme:u.default.theme}},{forwardRef:!0})(S);t.default=I},8918:function(e,t,n){e.exports=n.p+"6b7098de4cc16f7e431ad8f9aae7f6db.svg"},8919:function(e,t,n){e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},8920:function(e,t,n){e.exports=n.p+"d834d700306f3838c0facef39e7d8a38.svg"},8921:function(e,t,n){e.exports=n.p+"a12ff54c4c5c03b41006fd96a4709c29.svg"},8922:function(e,t,n){e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},8923:function(e,t,n){e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},8924:function(e,t,n){e.exports=n.p+"c84361b810ca7c10d6e8ddb6ea722ebe.svg"},8925:function(e,t,n){e.exports=n.p+"b669713872b43ca42333264abf9c858e.svg"},8926:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Z(n(0)),o=n(259),l=J(n(3)),i=n(45),u=J(n(142)),s=J(n(853)),d=n(480),c=Z(n(8927)),f=n(264),p=J(n(30)),h=J(n(515)),v=Z(n(507)),m=J(n(107)),_=J(n(7055)),g=Z(n(465)),E=J(n(6855)),y=n(8928),S=Z(n(937)),I=J(n(329)),T=J(n(76)),O=n(330),N=n(881),C=J(n(10)),A=J(n(14)),M=J(n(225)),P=J(n(22)),R=J(n(40)),b=J(n(7054)),L=J(n(39)),D=J(n(11)),w=J(n(119)),U=J(n(106)),G=J(n(58)),k=J(n(24)),F=J(n(42)),B=J(n(182)),j=J(n(15)),H=J(n(183)),V=J(n(96)),x=J(n(8929)),Y=J(n(345)),W=n(1003),z=J(n(8931)),K=Z(n(8932)),$=J(n(8933)),Q=n(1),X=J(n(4)),q=J(n(6100));function J(e){return e&&e.__esModule?e:{default:e}}function Z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=function(){return ee("div",{className:q.default.noticeDanger},void 0,ee(G.default,{className:q.default.dismiss,onClick:function(){h.default.dismiss(),p.default.push($.default)},"aria-label":X.default.Messages.DISMISS}),X.default.Messages.NOTICE_NO_INPUT_DETECTED,ee(U.default,{className:q.default.button,href:H.default.getArticleURL(Q.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,X.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};te.displayName="AudioIssueNoticeHelpdesk";var ne=function(){return ee("div",{className:q.default.noticeDanger},void 0,ee(G.default,{className:q.default.dismiss,onClick:function(){h.default.dismiss(),p.default.push($.default)},"aria-label":X.default.Messages.DISMISS}),X.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,ee(U.default,{className:q.default.button,onClick:function(){(0,f.pushLayer)(Q.Layers.USER_SETTINGS),I.default.setSection(Q.UserSettingsSections.VOICE)}},void 0,X.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};ne.displayName="AudioIssueNoticeMicTester";var re=ee(te,{}),ae=ee(ne,{}),oe=l.default.connectStores([b.default,D.default,C.default],function(){return{currentUser:D.default.getCurrentUser(),notice:b.default.getNotice(),isGuest:C.default.isGuest()}})(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.notice;null!=e&&this.trackNoticeDisplayed(e.type)},a.componentDidUpdate=function(e){var t=e.notice,n=this.props.notice;if(null==n||null!=t&&t.type===n.type||this.trackNoticeDisplayed(n.type),null!=n&&n.type===Q.NoticeTypes.SURVEY&&null!=n.metadata){var r=n.metadata;if(null==t||null==t.metadata||t.type!==Q.NoticeTypes.SURVEY||t.metadata.id!==r.id){var a=M.default.getEligibleExperiment(r.id);null!=a&&(0,O.triggerExperiment)(r.id,a)}}},a.trackNoticeDisplayed=function(e){j.default.track(Q.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})},a.dismiss=function(){h.default.dismiss()},a.render=function(){var e=this,t=this.props,n=t.notice,r=t.isGuest;if(null==n)return null;if(r)return null;switch(n.type){case Q.NoticeTypes.GENERIC:return ee("div",{className:q.default.noticeDefault},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),n.message,null!=n.buttonText?ee("button",{className:q.default.button,onClick:n.callback},void 0,n.buttonText):null);case Q.NoticeTypes.VOICE_DISABLED:return ee("div",{className:q.default.noticeDefault},void 0,ee(G.default,{className:q.default.dismiss,onClick:function(){null!=L.default.getVoiceChannelId()&&m.default.clearVoiceChannel(),e.dismiss()},"aria-label":X.default.Messages.DISMISS}),X.default.Messages.NOTICE_CONNECTION_CONFLICT,ee("button",{className:q.default.button,onClick:function(){var e=L.default.getVoiceChannelId();null!=e&&(null!=A.default.getChannel(e)&&m.default.selectVoiceChannel(e))}},void 0,X.default.Messages.RECONNECT));case Q.NoticeTypes.SPOTIFY_AUTO_PAUSED:var a=T.default.get(Q.PlatformTypes.SPOTIFY);return ee("div",{className:q.default.noticeDanger},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee("img",{alt:"",className:q.default.platformIcon,src:a.icon.white}),X.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,ee("button",{className:q.default.button,onClick:function(){return I.default.open(Q.UserSettingsSections.VOICE)}},void 0,X.default.Messages.VOICE_SETTINGS),ee(U.default,{className:q.default.textLinkSmall,href:H.default.getArticleURL(Q.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,X.default.Messages.NOTICE_WHATS_THIS));case Q.NoticeTypes.UNCLAIMED_ACCOUNT:return ee("div",{className:q.default.noticeDefault},void 0,X.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,ee("button",{className:q.default.button,onClick:function(){return(0,d.open)()}},void 0,X.default.Messages.CLAIM_ACCOUNT));case Q.NoticeTypes.UNVERIFIED_ACCOUNT:return ee("div",{className:q.default.noticeDefault},void 0,X.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,ee("button",{className:q.default.button,onClick:function(){var t=e.props.currentUser;s.default.verifyResend(),u.default.show({title:X.default.Messages.VERIFICATION_EMAIL_TITLE,body:X.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email}),minorText:X.default.Messages.CHANGE_EMAIL,onConfirmSecondary:d.open})}},void 0,X.default.Messages.RESEND));case Q.NoticeTypes.DOWNLOAD_NAG:return ee("div",{className:q.default.noticeDefault},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),X.default.Messages.NOTICE_NATIVE_APPS,ee("i",{className:q.default.iconApple}),ee("i",{className:q.default.iconAndroid}),ee("i",{className:q.default.iconWindows}),ee("button",{className:q.default.button,onClick:function(){return p.default.push(Y.default,{source:"Top Bar Nag"})}},void 0,X.default.Messages.DOWNLOAD));case Q.NoticeTypes.SCHEDULED_MAINTENANCE:return null==n.metadata?null:ee("div",{className:q.default.noticeInfo},void 0,ee(G.default,{className:q.default.dismiss,onClick:function(){return _.default.ackScheduledMaintenance()},"aria-label":X.default.Messages.DISMISS}),X.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(n.metadata),ee(U.default,{className:q.default.button,href:Q.STATUS_PAGE_ENDPOINT+"/incidents/"+n.metadata.id},void 0,X.default.Messages.LEARN_MORE));case Q.NoticeTypes.NO_INPUT_DETECTED:return R.default.supports(i.Features.LOOPBACK)?ae:re;case Q.NoticeTypes.HARDWARE_MUTE:if(null==n.metadata)return null;var l=n.metadata,f=l.vendor,h=l.model;return ee("div",{className:q.default.noticeDanger},void 0,X.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:f.name,modelName:h.name}),ee(U.default,{className:q.default.button,href:h.url,target:"_blank",rel:"noreferrer noopener"},void 0,X.default.Messages.SUPPORT));case Q.NoticeTypes.STREAMER_MODE:return ee("div",{className:q.default.noticeStreamerMode},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),X.default.Messages.NOTICE_STREAMER_MODE_TEXT,ee("button",{className:q.default.button,onClick:function(){return E.default.setEnabled(!1)}},void 0,X.default.Messages.DISABLE));case Q.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==n.metadata)return null;var O=n.metadata,C=O.skuId,M=O.applicationId,b=w.default.get(C),D=P.default.getGame(M);if(null==b||null==D)return null;var $={page:Q.AnalyticsPages.IN_APP};return ee("div",{className:q.default.noticePremiumGrandfathered},void 0,ee(G.default,{className:q.default.dismiss,onClick:function(){return c.dismiss(b.id)},"aria-label":X.default.Messages.DISMISS}),ee(F.default,{name:F.default.Names.NITRO_WHEEL,className:q.default.premiumIcon}),X.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:D.name,skuName:b.name}),ee("button",{className:q.default.button,onClick:function(){return v.openIAPPurchaseModal(D.id,b.id,function(){(0,N.openPremiumSubscriptionNewPlanModal)({planId:Q.SubscriptionPlans.PREMIUM_MONTH_TIER_2,analyticsLocation:$})},$,__OVERLAY__?Q.AppContext.OVERLAY:Q.AppContext.APP).then(function(){return c.dismiss(b.id)})}},void 0,X.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case Q.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==n.metadata)return null;var J=n.metadata,Z=J.skuId,te=J.applicationId,ne=w.default.get(Z),oe=P.default.getGame(te);return null==ne||null==oe?null:ee("div",{className:q.default.noticePremiumGrandfathered},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee(F.default,{name:F.default.Names.NITRO_WHEEL,className:q.default.premiumIcon}),X.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:oe.name,skuName:ne.name}),ee(o.Link,{className:q.default.button,onClick:this.dismiss,to:{pathname:Q.Routes.APPLICATION_STORE_LISTING_SKU(ne.id),state:{scrollRestoration:!1}}},void 0,X.default.Messages.LEARN_MORE));case Q.NoticeTypes.SURVEY:var le=n.metadata;if(null==le)return null;var ie=le.id,ue=le.noticeContent,se=le.noticeButton,de=le.noticeColor,ce=le.url;return ee("div",{className:q.default.noticeSurvey,style:null!=de?{backgroundColor:de()}:null},void 0,ee(G.default,{className:q.default.dismiss,onClick:function(){(0,y.surveyHide)(ie,!0)},"aria-label":X.default.Messages.DISMISS}),ue(),ee("button",{className:q.default.button,onClick:function(){window.open(ce(),"_blank"),(0,y.surveyHide)(ie,!1)}},void 0,se()));case Q.NoticeTypes.CORRUPT_INSTALLATION:return ee("div",{className:q.default.noticeDanger},void 0,X.default.Messages.NOTICE_CORRUPT_INSTALLATION,ee(U.default,{className:q.default.button,href:H.default.getArticleURL(Q.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,X.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case Q.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return ee("div",{className:q.default.noticeDefault},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),X.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,ee("button",{className:q.default.button,onClick:function(){return p.default.push(Y.default,{source:"Video unsupported browser"})}},void 0,X.default.Messages.DOWNLOAD));case Q.NoticeTypes.ACTIVITY_JOIN_REQUEST:return ee(x.default,{},n.type);case Q.NoticeTypes.CONNECT_SPOTIFY:return ee("div",{className:q.default.noticeSpotify},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee(F.default,{name:F.default.Names.PLATFORM_SPOTIFY,className:q.default.platformIcon}),X.default.Messages.NOTICE_CONNECT_SPOTIFY,ee("button",{className:q.default.button,onClick:function(){return(0,W.authorize)(Q.PlatformTypes.SPOTIFY,"Notice Bar")}},void 0,X.default.Messages.CONNECT));case Q.NoticeTypes.PREMIUM_PROMO:return ee("div",{className:q.default.noticePremium},void 0,ee("span",{className:q.default.premiumLogo}),ee("span",{className:q.default.premiumText},void 0,X.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),ee("button",{className:q.default.premiumAction,onClick:function(){j.default.track(Q.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:Q.AnalyticsSections.NOTIFICATION_BAR,location_object:Q.AnalyticsObjects.BUTTON_CTA}),I.default.open(Q.UserSettingsSections.PREMIUM)}},void 0,X.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),ee(G.default,{tag:"span",className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}));case Q.NoticeTypes.MFA_SMS_BACKUP:return ee("div",{className:q.default.noticeInfo},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),X.default.Messages.NOTICE_MFA_SMS_BACKUP,ee("button",{className:q.default.button,onClick:function(){return I.default.open(Q.UserSettingsSections.ACCOUNT)}},void 0,X.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case Q.NoticeTypes.DISPATCH_ERROR:if(null==n.metadata)return null;var fe=n.metadata.error;return ee("div",{className:q.default.noticeDanger},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),fe.displayMessage,ee("button",{className:q.default.button,onClick:function(){return p.default.push(z.default)}},void 0,X.default.Messages.LEARN_MORE));case Q.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==n.metadata)return null;var pe=n.metadata,he=pe.progress,ve=pe.total,me=pe.name;return ee("div",{className:q.default.noticeInfo},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee(k.default,{justify:k.default.Justify.CENTER},void 0,null!=me?X.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+me,progress:""+he,total:""+ve}):X.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+he,total:""+ve}),ee(B.default,{type:B.default.Type.PULSING_ELLIPSIS,className:q.default.ellipsis})));case Q.NoticeTypes.APPLICATION_TEST_MODE:return null==n.metadata?null:ee("div",{className:q.default.noticeDefault},void 0,ee(k.default,{justify:k.default.Justify.CENTER,align:k.default.Align.CENTER},void 0,ee("div",{},void 0,X.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:n.metadata.applicationName})),ee(K.default,{dropdownSize:K.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:q.default.testModeSKUSelector,color:K.TestModeSKUButtonEnums.Colors.WHITE,look:K.TestModeSKUButtonEnums.Looks.OUTLINED,size:K.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return g.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:Q.AnalyticsSections.NOTIFICATION_BAR,object:Q.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:n.metadata.applicationId},void 0,X.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),ee(G.default,{className:q.default.dismiss,onClick:S.reset,"aria-label":X.default.Messages.DISMISS})));case Q.NoticeTypes.PREMIUM_SUBSCRIPTION_EXTRA_SUBSCRIPTION:return ee("div",{className:q.default.noticePremiumTier1},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee(F.default,{name:F.default.Names.NITRO_WHEEL,className:q.default.premiumIcon}),X.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_EXTRA_SUBSCRIPTION_NOTICE,ee("button",{className:q.default.button,onClick:function(){return I.default.open(Q.UserSettingsSections.PREMIUM_GUILD_SUBSCRIPTION)}},void 0,X.default.Messages.LEARN_MORE));case Q.NoticeTypes.PREMIUM_XBOX_GAME_PASS_PROMOTION:return ee("div",{className:q.default.noticePremiumTier2},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee(F.default,{name:F.default.Names.NITRO_WHEEL,className:q.default.premiumIcon}),X.default.Messages.NOTICE_PREMIUM_XBOX_GAME_PASS_PROMOTION,ee(o.Link,{className:q.default.button,to:Q.Routes.APPLICATION_LIBRARY_INVENTORY,onClick:this.dismiss},void 0,X.default.Messages.NOTICE_PREMIUM_XBOX_GAME_PASS_PROMOTION_REDEEM));case Q.NoticeTypes.PREMIUM_GRANDFATHERED_ENDING:var _e=n.metadata.plan,ge=V.default.getGrandfatheredEndDate(_e),Ee=V.default.getDaysToGrandfatheredEnd(_e);return ee("div",{className:q.default.noticePremiumTier1},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee(F.default,{name:F.default.Names.NITRO_WHEEL,className:q.default.premiumIcon}),X.default.Messages.NOTICE_PREMIUM_GRANDFATHERED_ENDING.format({numDays:Ee,date:ge}));case Q.NoticeTypes.PREMIUM_GRANDFATHERED_ENDED:return ee("div",{className:q.default.noticePremiumTier1},void 0,ee(G.default,{className:q.default.dismiss,onClick:this.dismiss,"aria-label":X.default.Messages.DISMISS}),ee(F.default,{name:F.default.Names.NITRO_WHEEL,className:q.default.premiumIcon}),X.default.Messages.NOTICE_PREMIUM_GRANDFATHERED_ENDED,ee("button",{className:q.default.button,onClick:function(){j.default.track(Q.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:Q.AnalyticsSections.NOTIFICATION_BAR,location_object:Q.AnalyticsObjects.BUTTON_CTA}),I.default.open(Q.UserSettingsSections.PREMIUM)}},void 0,X.default.Messages.LEARN_MORE));default:return null}},r}(a.PureComponent));t.default=oe},8927:function(e,t,n){"use strict";t.__esModule=!0,t.dismiss=function(e){a.default.dispatch({type:o.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},8928:function(e,t,n){"use strict";t.__esModule=!0,t.surveyHide=function(e,t){r.default.dispatch({type:o.ActionTypes.SURVEY_HIDE,id:e}),a.default.track(o.AnalyticEvents.APP_NOTICE_CLOSED,{notice_type:o.NoticeTypes.SURVEY,survey_id:e,dismissed:t})};var r=l(n(2)),a=l(n(15)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},8929:function(e,t,n){"use strict";t.__esModule=!0,t.default=M;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),l=n(501),i=E(n(100)),u=E(n(502)),s=E(n(22)),d=E(n(68)),c=E(n(160)),f=E(n(21)),p=E(n(8930)),h=E(n(348)),v=n(1),m=E(n(4)),_=E(n(6354)),g=E(n(6100));function E(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=20,T=[v.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED,v.ActivityJoinRequestStates.RECEIVER_INVITE_SENT];function O(e){var t=e.joinRequest.applicationId,n=(0,o.useStateFromStores)([s.default],function(){return s.default.getGame(t)},[t]);if(null==n||null==n.icon)return null;var r=n.getIconURL(I);return null==r?null:S("div",{className:_.default.gameIcon,style:{backgroundImage:"url("+r+")"}})}function N(e){var t,n=e.joinRequest,r=n.state,a=n.user.username,o=e.activity.name;switch(r){case v.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:t=m.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:o,username:a});break;case v.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:t=m.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:o,username:a});break;case v.ActivityJoinRequestStates.SENDER_INVITE_WAITING:t=m.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:a});break;case v.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:t=m.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:a});break;case v.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:t=m.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:a})}return S("div",{className:_.default.message},void 0,t)}function C(e){return a.createElement(f.default,y({color:f.default.Colors.WHITE,look:f.default.Looks.OUTLINED,size:f.default.Sizes.MIN,className:_.default.button},e))}function A(e){var t=e.joinRequest,n=t.state,r=t.applicationId,o=t.secret,u=t.user.id,s=a.useCallback(function(){return(0,l.invite)(u,r)},[u,r]),d=a.useCallback(function(){null!=o&&i.default.joinWithSecret(r,o),(0,l.close)(u)},[r,o,u]),c=a.useCallback(function(){return(0,l.close)(u)},[u]);switch(n){case v.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return S("div",{className:_.default.buttonContainer},void 0,S(f.default,{color:f.default.Colors.GREEN,size:f.default.Sizes.MIN,className:_.default.button,onClick:s},void 0,m.default.Messages.USER_ACTIVITY_RESPOND_YEAH),S(C,{onClick:c},void 0,m.default.Messages.USER_ACTIVITY_RESPOND_NOPE));case v.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return S("div",{className:_.default.buttonContainer},void 0,S(p.default,{className:_.default.button,onClick:c},void 0,m.default.Messages.USER_ACTIVITY_NEVER_MIND));case v.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return S("div",{className:_.default.buttonContainer},void 0,S(h.default,{color:f.default.Colors.GREEN,size:f.default.Sizes.MIN,className:_.default.button,onClick:d},void 0,m.default.Messages.USER_ACTIVITY_ACCEPT_INVITE),S(C,{onClick:c},void 0,m.default.Messages.USER_ACTIVITY_NEVER_MIND));case v.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return S("div",{className:_.default.buttonContainer},void 0,S(C,{onClick:c},void 0,m.default.Messages.OKAY));default:return null}}function M(){var e,t=(0,o.useStateFromStores)([u.default],function(){return u.default.getRequest()});return null==t?null:null==(e=T.includes(t.state)?c.default.getApplicationActivity(t.applicationId):d.default.getApplicationActivity(t.user.id,t.applicationId))?null:S("div",{className:g.default.noticeRichPresence},void 0,S("div",{className:_.default.noticeInner},void 0,S(O,{joinRequest:t}),S(N,{joinRequest:t,activity:e}),S(A,{joinRequest:t})))}O.displayName="GameIcon",N.displayName="Message",C.displayName="DismissButton",M.displayName="ActivityJoinRequestNotice"},8930:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(24)),i=s(n(1013)),u=s(n(6353));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={width:null},f(n).buttonRef=n.buttonRef.bind(f(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.buttonRef=function(e){null!=e&&this.setState({width:e.offsetWidth})},s.getButtonBorderStyles=function(){var e=this.state.width;if(null==e)return null;var t=1.5*e;return{height:t,marginLeft:-t/2,marginTop:-t/2,width:t}},s.render=function(){var e=this.props,t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","className"]);return a.createElement("button",d({className:(0,o.default)(i.default.buttonWhiteOutlinedDefault,u.default.button,n),ref:this.buttonRef},r),c("div",{className:i.default.contentsOutlined},void 0,t),c("div",{className:u.default.buttonContents},void 0,c("div",{className:u.default.buttonBorder,style:this.getButtonBorderStyles()}),c(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,className:u.default.buttonInner},void 0,t)))},r}(a.PureComponent);p.displayName="ButtonWithSpinningBorder";var h=p;t.default=h},8931:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(3)),l=m(n(30)),i=m(n(7672)),u=m(n(22)),s=m(n(21)),d=m(n(24)),c=m(n(75)),f=m(n(66)),p=m(n(183)),h=m(n(4)),v=m(n(6355));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.openSupportTicket=function(){window.open(p.default.getSubmitRequestURL())},a.close=function(){l.default.pop()},a.render=function(){var e=this.props,t=e.error,n=e.applicationName;return _(c.default,{size:c.default.Sizes.SMALL},void 0,_(c.default.Header,{},void 0,_(d.default.Child,{grow:1},void 0,_(f.default,{tag:f.default.Tags.H4},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_HEADER)),_(d.default.Child,{grow:0},void 0,_(c.default.CloseButton,{onClick:this.close}))),_(c.default.Content,{},void 0,_("div",{className:v.default.body},void 0,_("div",{},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_DESCRIPTION.format({link:"https://dis.gd/dispatch-error"})),_("div",{className:v.default.supportCallToAction},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_BODY),_("div",{className:v.default.errorLabel},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_ERROR_LABEL),_("div",{className:v.default.errorDetails},void 0,_("div",{},void 0,null!=n?"Game: "+n+"\n":null,null!=t.applicationId?"Game ID: "+t.applicationId+"\n":null,null!=t.branchId&&t.applicationId!==t.branchId?"Branch ID: "+t.branchId+"\n":null,null!=t.code?"Error Code: "+t.code+"\n":null,null!=t.uuid?"Unique Case ID: "+t.uuid:null)))),_(c.default.Footer,{},void 0,_(s.default,{onClick:this.openSupportTicket},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_OPEN_TICKET),_(s.default,{look:s.default.Looks.LINK,onClick:this.close,color:v.default.closeLink},void 0,h.default.Messages.CLOSE)))},r}(a.Component);g.displayName="DispatchErrorModal";var E=o.default.connectStores([i.default,u.default],function(){var e=i.default.getLastError(),t=null;if(null!=e&&null!=e.applicationId){var n=u.default.getGame(e.applicationId);null!=n&&(t=n.name)}return{error:e,applicationName:t}})(g);t.default=E},8932:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TestModeSKUButtonEnums=void 0;var r,a=h(n(0)),o=p(n(3)),l=h(n(35)),i=p(n(22)),u=p(n(50)),s=p(n(119)),d=n(154),c=p(n(38)),f=p(n(6962));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _={DropdownSizes:f.default.DropdownSizes,Sizes:f.default.Sizes,Colors:f.default.Colors,Looks:f.default.Looks};t.TestModeSKUButtonEnums=_;var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(e){var n=e.className,r=e.style,a=t.props,o=a.skus,i=a.onSKUSelect,u=o.map(function(e){return m(c.default,{label:e.name,action:function(){l.closeContextMenu(),i&&i(e)}},e.id)});return m("div",{className:n,style:r},void 0,u)},t.handleContextMenu=function(e){e.stopPropagation(),l.openContextMenu(e,t.renderContextMenu)},t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;n&&null!=r&&n(r)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return a.createElement(f.default,v({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:null},r),n)},r}(a.PureComponent);g.displayName="TestModeSKUButton";var E=o.default.connectStores([s.default,u.default,i.default],function(e){var t=e.applicationId,n=(0,d.getPrimarySKUForApplication)(t,i.default,s.default);return{skus:(s.default.getForApplication(t)||[]).sort(function(e,t){return null!=n&&e.id===n.id?-1:null!=n&&t.id===n.id?1:e.name>=t.name?-1:1}),primarySKU:n}})(g);t.default=E},8933:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(189)),l=s(n(30)),i=s(n(342)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,a;function s(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).dontShowAgain=function(){o.default.setSilenceWarning(!1),t.okay()},t.okay=function(){l.default.pop()},t}return a=e,(t=s).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,s.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{title:u.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:u.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:u.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:this.dontShowAgain,onConfirm:this.okay,confirmText:u.default.Messages.OKAY,iconUrl:n(950)})},s}(a.Component);d.displayName="DisableSilence";var c=d;t.default=c},8934:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=F(n(0)),o=k(n(8)),l=k(n(3)),i=n(6610),u=k(n(6856)),s=n(184),d=k(n(6544)),c=k(n(98)),f=k(n(14)),p=k(n(50)),h=k(n(68)),v=k(n(51)),m=k(n(6656)),_=k(n(25)),g=k(n(11)),E=k(n(7498)),y=k(n(119)),S=k(n(6686)),I=k(n(42)),T=k(n(458)),O=k(n(65)),N=n(6531),C=k(n(6657)),A=n(466),M=F(n(7307)),P=k(n(7311)),R=k(n(6576)),b=F(n(6547)),L=k(n(6712)),D=k(n(7245)),w=n(1),U=k(n(4)),G=k(n(6356));function k(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var H=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.selected,n=e.badge;return j(M.LinkButton,{selected:t,route:w.Routes.FRIENDS,iconName:I.default.Names.PERSON_WAVING,text:U.default.Messages.FRIENDS},void 0,n>0?j(N.NumberBadge,{count:n}):null)},r}(a.Component);H.displayName="FriendsButtonInner";var V=l.default.connectStores([v.default],function(){return{badge:v.default.getPendingCount()}},{forwardRef:!0})(H),x=l.default.connectStores([f.default,g.default,h.default,m.default,c.default],function(e){var t=e.channel,n=g.default.getUser(t.getRecipientId());return{user:n,status:null!=n?h.default.getStatus(n.id):null,activities:null!=n?h.default.getActivities(n.id):null,applicationStream:null!=n?c.default.getStreamForUser(n.id):null,isTyping:null!=n?m.default.isTyping(t.id,t.getRecipientId()):null,isMobile:null!=n&&h.default.isMobileOnline(n.id)}},{forwardRef:!0})(M.default);function Y(e,t){return j(e.isMultiUserDM()?M.default:x,{channel:e,selected:t},e.id)}Y.displayName="renderChannel";var W=function(){return(0,i.show)("DM_SEARCH")};function z(e){switch(e){case w.Routes.ACTIVITY:return w.AnalyticsPages.ACTIVITY_FEED;case w.Routes.APPLICATION_LIBRARY:return w.AnalyticsPages.LIBRARY;case w.Routes.APPLICATION_LIBRARY_INVENTORY:return w.AnalyticsPages.LIBRARY_INVENTORY;case w.Routes.FRIENDS:return w.AnalyticsPages.FRIENDS_LIST}return e.startsWith(w.Routes.APPLICATION_STORE)?e===w.Routes.APPLICATION_STORE?w.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(w.Routes.APPLICATION_STORE_BROWSE)?w.AnalyticsPages.STORE_DIRECTORY_BROWSE:w.AnalyticsPages.STORE_LISTING:w.AnalyticsPages.DM_CHANNEL}var K=function(e){var t,n=e.showGames,r=e.hasLibraryApplication,l=e.homeLink,i=e.storeLink,c=e.premiumTabSelected,f=(0,d.default)(u.default),p=f===s.ExperimentBuckets.TREATMENT_1||f===s.ExperimentBuckets.TREATMENT_2||f===s.ExperimentBuckets.TREATMENT_3||f===s.ExperimentBuckets.TREATMENT_4;return j("div",{className:G.default.privateChannels},void 0,j(b.default,{tutorialId:"direct-messages",position:b.TutorialIndicatorPositions.RIGHT,offsetX:-52},void 0,j("div",{className:G.default.searchBar},void 0,j(R.default,{onFocus:W,size:R.default.Sizes.SMALL,onActivate:W,className:G.default.searchBarComponent}))),a.createElement(P.default,B({},e,{renderChannel:Y}),n?j(M.LinkButton,{selected:l===w.Routes.ACTIVITY,route:w.Routes.ACTIVITY,iconName:I.default.Names.ACTIVITY,text:p?U.default.Messages.DISCOVER:U.default.Messages.ACTIVITY}):null,r||n?j(M.LinkButton,{selected:null!=l&&l.startsWith(w.Routes.APPLICATION_LIBRARY),route:w.Routes.APPLICATION_LIBRARY,iconName:I.default.Names.LIBRARY,text:U.default.Messages.LIBRARY},void 0,j(L.default,{className:(0,o.default)(G.default.downloadProgressCircle,(t={},t[G.default.hideGameUpdateProgressIndicator]=l===w.Routes.APPLICATION_LIBRARY,t))})):null,n?j(M.LinkButton,{selected:c,route:null==i||location.pathname.startsWith(w.Routes.APPLICATION_STORE)?w.Routes.APPLICATION_STORE:i,locationState:{analyticsSource:{page:z(l),section:w.AnalyticsSections.NAVIGATION,object:w.AnalyticsObjects.NAVIGATION_LINK}},iconName:I.default.Names.NITRO_WHEEL,text:U.default.Messages.PREMIUM}):null,j(V,{selected:l===w.Routes.FRIENDS}),j(C.default,{className:(0,o.default)(G.default.header,G.default.privateChannelsHeaderContainer)},void 0,j("span",{className:G.default.headerText},void 0,U.default.Messages.DIRECT_MESSAGES),j(D.default,{tooltip:U.default.Messages.CREATE_GROUP_DM,tooltipPosition:O.default.Positions.TOP,popoutAlign:T.default.Align.LEFT,iconClassName:G.default.privateChannelRecipientsInviteButtonIcon,iconName:I.default.Names.PLUS_ALT,subscribeToGlobalHotkey:!0}))))};K.displayName="PrivateChannels";var $=l.default.connectStores([_.default,E.default,S.default,p.default,y.default],function(){var e=S.default.getHomeLink(),t=e.startsWith(w.Routes.APPLICATION_STORE_BROWSE)||e===w.Routes.APPLICATION_STORE;if(!t){var n=(0,A.getSKUIdFromURL)(e);if(null!=n){var r=y.default.get(n);t=null!=r&&r.premium}}return{theme:_.default.theme,showGames:!_.default.disableGamesTab,hasLibraryApplication:p.default.hasLibraryApplication(),storeLink:E.default.getCurrentPath(),homeLink:e,premiumTabSelected:t}})(K);t.default=$},8935:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(259),l=n(6526),i=c(n(331)),u=c(n(8936)),s=c(n(8941)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.componentDidMount=function(){(0,l.trackAppUIViewed)("application_library")},c.render=function(){return f(o.Switch,{},void 0,f(o.Route,{path:d.Routes.APPLICATION_LIBRARY_INVENTORY,exact:!0,render:function(e){return f(i.default,{page:d.AnalyticsPages.LIBRARY_INVENTORY,root:!0},void 0,a.createElement(u.default,e))}}),f(o.Route,{path:d.Routes.APPLICATION_LIBRARY,render:function(e){return f(i.default,{page:d.AnalyticsPages.LIBRARY,root:!0},void 0,a.createElement(s.default,e))}}))},r}(a.PureComponent);t.default=p,p.displayName="ApplicationLibraryPage"},8936:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(0)),o=h(n(339)),l=v(n(6738)),i=h(n(152)),u=h(n(331)),s=h(n(7781)),d=h(n(8937)),c=h(n(8938)),f=n(1),p=h(n(6363));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=m(d.default,{}),g=m(c.default,{}),E=m(o.default,{title:"Discord"}),y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){l.setHomeLink(f.Routes.APPLICATION_LIBRARY_INVENTORY)},a.renderBody=function(){return m("div",{className:p.default.body},void 0,m(u.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,_),m(u.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,g))},a.render=function(){return m("div",{className:p.default.root},void 0,E,m(s.default,{currentRoute:f.Routes.APPLICATION_LIBRARY_INVENTORY}),m(i.default,{gutterStyle:i.default.GutterStyles.STORE,theme:i.default.Themes.GHOST_HAIRLINE,className:p.default.scroller},void 0,this.renderBody()))},r}(a.PureComponent);t.default=y,y.displayName="ApplicationLibraryInventory"},8937:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(3)),l=n(876),i=_(n(260)),u=_(n(97)),s=_(n(21)),d=_(n(24)),c=_(n(138)),f=_(n(332)),p=n(284),h=n(1),v=_(n(4)),m=_(n(6358));function _(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=E(f.default,{}),T=function(e){var t,n,r,a,o;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={codeInput:"",submitting:!1,hasError:!1},t.inputRef=function(e){t._inputRef=e},t.handleChange=function(e){t.setState({codeInput:e,hasError:!1})},t.handleSubmit=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==(r=t.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(a=(0,p.processGiftCodeInput)(r))){e.next=8;break}return t.setState({hasError:!0}),e.abrupt("return");case 8:return t.setState({submitting:!0}),e.prev=9,e.next=12,(0,l.resolveGiftCode)(a);case 12:(0,l.openGiftCodeAcceptModal)(a,t.analyticsLocation),t.setState({codeInput:""}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),t.setState({hasError:!0});case 19:return e.prev=19,t.setState({submitting:!1}),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[9,16,19,22]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){y(o,r,a,l,i,"next",e)}function i(e){y(o,r,a,l,i,"throw",e)}l(void 0)})});return function(e){return n.apply(this,arguments)}}(),t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,r=t.submitting,a=t.hasError;return E("div",{className:m.default.codeRedemption},void 0,E("div",{className:m.default.header},void 0,E("h2",{},void 0,v.default.Messages.GIFT_INVENTORY_REDEEM_CODES),I),E("div",{className:m.default.inputPrompt},void 0,v.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),E("form",{onSubmit:this.handleSubmit},void 0,E(d.default,{className:m.default.codeRedemptionForm},void 0,E(c.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:h.GIFT_CODE_REDEMPTION_PLACEHOLDER,inputRef:this.inputRef,error:a?v.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:m.default.codeRedemptionInput}),E(s.default,{type:"submit",submitting:r},void 0,v.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))))},r=i,(a=[{key:"analyticsLocation",get:function(){return g({},this.props.analyticsContext.location,{object:h.AnalyticsObjects.BUTTON_CTA})}}])&&S(r.prototype,a),o&&S(r,o),i}(a.Component);T.displayName="CodeRedemption";var O=(0,i.default)(o.default.connectStores([u.default],function(){return{obscureInput:u.default.enabled}})(T));t.default=O},8938:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=P(n(6)),l=P(n(3)),i=n(350),u=P(n(329)),s=n(7782),d=P(n(22)),c=P(n(6640)),f=P(n(11)),p=P(n(346)),h=P(n(7783)),v=P(n(21)),m=P(n(24)),_=P(n(182)),g=P(n(332)),E=n(265),y=P(n(456)),S=P(n(257)),I=n(284),T=P(n(183)),O=P(n(8939)),N=P(n(8940)),C=n(1),A=P(n(4)),M=P(n(6362));function P(e){return e&&e.__esModule?e:{default:e}}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function w(){var e=a.useState(!0),t=e[0],n=e[1],r=a.useState(!1),o=r[0],l=r[1];a.useEffect(function(){var e=!1;function t(){var r;return r=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,s.fetchRedeemedGamePassPromotionCode)();case 3:e||l(!0),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:n(!1);case 9:case"end":return t.stop()}},t,null,[[0,6]])}),(t=function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function l(e){D(o,n,a,l,i,"next",e)}function i(e){D(o,n,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}},[]);var i=f.default.getNullableCurrentUser();if(null==i||i.premiumType!==C.PremiumTypes.TIER_2)return null;return b(h.default,{className:M.default.skuCard},void 0,b(h.default.Header,{},void 0,b("div",{className:M.default.xboxGamePassIcon}),b(m.default,{align:m.default.Align.CENTER},void 0,b(m.default,{direction:m.default.Direction.VERTICAL},void 0,b(y.default,{size:y.default.Sizes.SIZE_16},void 0,A.default.Messages.XBOX_GAME_PASS_PROMOTION_CARD_HEADER),b(S.default,{size:S.default.Sizes.SIZE_14,color:S.default.Colors.MUTED,className:M.default.xboxGamePassCardDescription},void 0,o?A.default.Messages.XBOX_GAME_PASS_CARD_BODY_REDEEMED.format({supportURL:T.default.getSubmitRequestURL()}):A.default.Messages.XBOX_GAME_PASS_CARD_BODY_UNREDEEMED)),o||t?null:b(v.default,{color:v.default.Colors.BRAND,onClick:function(){(0,E.openModal)(function(e){return a.createElement(O.default,L({},e,{onRedeem:function(){return l(!0)}}))})}},void 0,A.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))))}w.displayName="XboxGamePassPromotion";var U=b(g.default,{}),G=b(w,{}),k=b(g.default,{}),F=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._loadedAt=Date.now(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l,s,d,c=r.prototype;return c.componentDidMount=function(){(0,i.fetchGiftableEntitlements)()},c.handleTransitionToStore=function(){u.default.open(C.UserSettingsSections.PREMIUM)},c.renderEmptyState=function(){return b("div",{className:M.default.emptyState},void 0,b("div",{className:M.default.emptyStateImage}),b("h2",{className:M.default.emptyStateHeader},void 0,A.default.Messages.GIFT_INVENTORY_NO_GIFTS),b("p",{className:M.default.emptyStateSubtext},void 0,A.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:this.handleTransitionToStore})))},c.render=function(){var e=this.props.giftEntitlements;return this.isLoaded?a.createElement(a.Fragment,null,b("div",{className:M.default.root},void 0,b("h2",{className:M.default.header},void 0,A.default.Messages.GIFT_INVENTORY_YOUR_GIFTS),U,G),b("div",{className:M.default.root},void 0,b("h2",{className:M.default.header},void 0,A.default.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED),k,0===Object.keys(e).length?this.renderEmptyState():o.default.keys(e).map(function(t){var n=(0,I.parseComboId)(t),r=n.skuId,a=n.subscriptionPlanId;return b(N.default,{className:M.default.skuCard,skuId:r,subscriptionPlanId:a,entitlements:e[t]},t)}))):b(_.default,{className:M.default.loading})},l=r,(s=[{key:"isLoaded",get:function(){var e=this.props,t=e.applicationsLoaded,n=e.entitlementsLoadedAt;return t&&null!=n&&n>=this._loadedAt}}])&&R(l.prototype,s),d&&R(l,d),r}(a.Component);F.displayName="EntitlementGifts";var B=l.default.connectStores([p.default,c.default,d.default],function(){return{applicationsLoaded:Boolean(d.default.lastFetched),entitlementsLoadedAt:p.default.giftEntitlementsLoadedAt,giftEntitlements:o.default.groupBy(p.default.getGiftable(),function(e){return(0,I.makeComboId)(e.skuId,e.subscriptionPlanId)})}})(F);t.default=B},8939:function(e,t,n){"use strict";t.__esModule=!0,t.default=S;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(82)),l=n(7782),i=m(n(106)),u=m(n(21)),s=n(220),d=m(n(456)),c=m(n(257)),f=m(n(882)),p=m(n(6652)),h=m(n(4)),v=m(n(6360));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var E="https://redeem.microsoft.com",y=(0,o.default)({PLAN_SELECT:null,CONFIRM_PC:null,CONFIRM_XBOX:null,SUCCESS:null});function S(e){var t=e.onClose,n=e.onRedeem,r=e.transitionState,o=a.useState(!1),m=o[0],S=o[1],I=a.useState(),T=I[0],O=I[1],N=a.useState(y.PLAN_SELECT),C=N[0],A=N[1];function M(){return P.apply(this,arguments)}function P(){var e;return e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.t0=O,e.next=5,(0,l.redeemGamePassPromotion)(C===y.CONFIRM_XBOX?"xbox":"pc");case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=23;break;case 9:return e.prev=9,e.t2=e.catch(1),e.prev=11,e.t3=O,e.next=15,(0,l.fetchRedeemedGamePassPromotionCode)();case 15:e.t4=e.sent,(0,e.t3)(e.t4),e.next=23;break;case 19:return e.prev=19,e.t5=e.catch(11),S(!1),e.abrupt("return");case 23:null!=n&&n(),A(y.SUCCESS),S(!1);case 26:case"end":return e.stop()}},e,null,[[1,9],[11,19]])}),(P=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){g(o,r,a,l,i,"next",e)}function i(e){g(o,r,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}return _(s.ModalRoot,{transitionState:r,className:v.default.modalRoot},void 0,_(s.ModalHeader,{separator:!1,className:v.default.headerContainer},void 0,_("div",{className:v.default.art}),_("div",{className:v.default.header},void 0,function(){switch(C){case y.SUCCESS:return a.createElement(a.Fragment,null,_(d.default,{size:d.default.Sizes.SIZE_24},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_SUCCESS),_(c.default,{size:c.default.Sizes.SIZE_16,className:v.default.headerText},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_DESCRIPTION_SUCCESS.format({redemptionURL:E})));case y.CONFIRM_PC:return a.createElement(a.Fragment,null,_(d.default,{size:d.default.Sizes.SIZE_24},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_CONFIRM_PC),_(c.default,{size:c.default.Sizes.SIZE_16,className:v.default.headerText},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_DESCRIPTION_CONFIRM_PC));case y.CONFIRM_XBOX:return a.createElement(a.Fragment,null,_(d.default,{size:d.default.Sizes.SIZE_24},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_CONFIRM_XBOX),_(c.default,{size:c.default.Sizes.SIZE_16,className:v.default.headerText},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_DESCRIPTION_CONFIRM_XBOX));case y.PLAN_SELECT:default:return a.createElement(a.Fragment,null,_(d.default,{size:d.default.Sizes.SIZE_24},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_PLAN_SELECT),_(c.default,{size:c.default.Sizes.SIZE_16,className:v.default.headerText},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_HEADER_DESCRIPTION_PLAN_SELECT))}}()),_(s.ModalCloseButton,{onClick:t,className:v.default.modalCloseButton})),_("div",{className:v.default.modalContent},void 0,_(s.ModalContent,{},void 0,_(f.default,{step:C,steps:Object.keys(y)},void 0,function(){switch(C){case y.SUCCESS:return a.createElement(a.Fragment,null,_(d.default,{className:v.default.subHeader,size:d.default.Sizes.SIZE_12},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_CODE_HEADER),_(p.default,{value:T,buttonColor:u.default.Colors.BRAND,buttonLook:u.default.Looks.FILLED}),_(c.default,{size:c.default.Sizes.SIZE_12,className:v.default.confirmationEmail},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_CODE_DESCRIPTION));case y.CONFIRM_PC:case y.CONFIRM_XBOX:return null;case y.PLAN_SELECT:default:return a.createElement(a.Fragment,null,_(d.default,{className:v.default.subHeader,size:d.default.Sizes.SIZE_12},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_PLAN_SELECT_HEADER),_("div",{className:v.default.plan},void 0,_("div",{className:v.default.planInfoContainer},void 0,_(d.default,{size:d.default.Sizes.SIZE_20},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_PLAN_SELECT_XBOX_PLAN),_(c.default,{size:c.default.Sizes.SIZE_12,className:v.default.planDuration},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_PLAN_SELECT_PLAN_DURATION)),_(u.default,{color:u.default.Colors.BRAND,onClick:function(){return A(y.CONFIRM_XBOX)}},void 0,h.default.Messages.SELECT)),_("div",{className:v.default.plan},void 0,_("div",{className:v.default.planInfoContainer},void 0,_(d.default,{size:d.default.Sizes.SIZE_20},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_PLAN_SELECT_PC_PLAN),_(c.default,{size:c.default.Sizes.SIZE_12,className:v.default.planDuration},void 0,h.default.Messages.XBOX_GAME_PASS_MODAL_PLAN_SELECT_PLAN_DURATION)),_(u.default,{color:u.default.Colors.BRAND,onClick:function(){return A(y.CONFIRM_PC)}},void 0,h.default.Messages.SELECT)))}}()))),_(s.ModalFooter,{},void 0,function(){switch(C){case y.SUCCESS:return _(u.default,{color:u.default.Colors.BRAND,onClick:t},void 0,h.default.Messages.OKAY);case y.CONFIRM_PC:case y.CONFIRM_XBOX:return a.createElement(a.Fragment,null,_(u.default,{disabled:m,color:u.default.Colors.BRAND,onClick:M},void 0,C===y.CONFIRM_PC?h.default.Messages.XBOX_GAME_PASS_MODAL_REDEEM_BUTTON_PC:h.default.Messages.XBOX_GAME_PASS_MODAL_REDEEM_BUTTON_XBOX),_("div",{className:v.default.backButtonContainer},void 0,_(i.default,{onClick:function(){return A(y.PLAN_SELECT)},className:v.default.backButton},void 0,h.default.Messages.BACK)));case y.PLAN_SELECT:default:return _("div",{className:v.default.backButtonContainer},void 0,_(i.default,{onClick:t,className:v.default.backButton},void 0,h.default.Messages.CANCEL))}}()))}S.displayName="XboxGamePassPromotionRedemptionModal"},8940:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(0)),o=R(n(5)),l=n(259),i=R(n(3)),u=n(29),s=b(n(876)),d=R(n(10)),c=R(n(22)),f=R(n(6640)),p=R(n(97)),h=R(n(221)),v=R(n(119)),m=R(n(7783)),_=R(n(21)),g=R(n(58)),E=b(n(955)),y=R(n(24)),S=R(n(267)),I=R(n(42)),T=R(n(182)),O=R(n(292)),N=n(272),C=n(284),A=n(1),M=R(n(4)),P=R(n(6361));function R(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var G=1e3,k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._copyModeTimeout=new u.Timeout,t.state={copyMode:E.CopyInputModes.DEFAULT},t.handleCopy=function(e){var n=t.props,r=n.giftCode,a=n.sku;(0,C.trackGiftCodeCopy)(r,a);try{(0,N.copy)(e),t.setState({copyMode:E.CopyInputModes.SUCCESS})}catch(e){t.setState({copyMode:E.CopyInputModes.ERROR})}t._copyModeTimeout.start(G,function(){t.setState({copyMode:E.CopyInputModes.DEFAULT})})},t}U(t,e);var n,r,l,i=t.prototype;return i.componentWillUnmount=function(){this._copyModeTimeout.stop()},i.handleRevoke=function(e){s.revokeGiftCode(e)},i.render=function(){var e=this,t=this.props,n=t.hideCode,r=t.giftCode,l=this.state.copyMode;return D(y.default,{direction:y.default.Direction.VERTICAL,className:P.default.giftCodeRow},void 0,D(E.default,{className:P.default.codeText,value:(0,C.getGiftCodeURL)(r.code),text:this.copyButtonText,mode:l,supportsCopy:N.SUPPORTS_COPY,hideMessage:n?M.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:E.default.ButtonColors.BRAND,buttonLook:E.default.ButtonLooks.FILLED}),D("div",{className:P.default.subTextRow},void 0,null!=r.expiresAt?D(a.Fragment,{},void 0,M.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:r.expiresAt.diff((0,o.default)(),"h")})," ","— "):null,D(g.default,{tag:"a",onClick:function(){return e.handleRevoke(r.code)}},void 0,M.default.Messages.REVOKE)))},n=t,(r=[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case E.CopyInputModes.SUCCESS:return M.default.Messages.BILLING_GIFT_COPIED;case E.CopyInputModes.ERROR:return M.default.Messages.FAILED;default:return M.default.Messages.COPY}}}])&&w(n.prototype,r),l&&w(n,l),t}(a.PureComponent);k.displayName="GiftCodeRow";var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._loadedAt=null,t.state={isOpen:!1,isCreating:!1},t.handleGenerateGiftCode=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),r=t.props,a=r.skuId,o=r.subscriptionPlanId,t.setState({isCreating:!0}),e.next=5,s.createGiftCode(a,o);case 5:t.setState({isCreating:!1,isOpen:!0});case 6:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){L(o,r,a,l,i,"next",e)}function i(e){L(o,r,a,l,i,"throw",e)}l(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleToggleOpen=function(){var e=t.props,n=e.skuId,r=e.subscriptionPlanId,a=e.loadedAt,o=!t.state.isOpen;(null==a||null==t._loadedAt||a<t._loadedAt)&&o&&s.fetchUserGiftCodesForSKU(n,r),t.setState({isOpen:!t.state.isOpen})},t}U(t,e);var n=t.prototype;return n.componentDidMount=function(){this._loadedAt=Date.now()},n.renderTitle=function(){var e=this.props,t=e.sku,n=e.subscriptionPlan;return null==n?D(l.Link,{className:P.default.gameNameLink,to:A.Routes.APPLICATION_STORE_LISTING_SKU(t.id)},void 0,t.name):D("div",{className:P.default.gameName},void 0,(n.interval===A.SubscriptionIntervalTypes.MONTH?M.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:M.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:t.name,intervalCount:n.intervalCount}))},n.renderGenerateGiftCodeRow=function(){return D(y.default,{justify:y.default.Justify.BETWEEN,align:y.default.Align.CENTER,className:P.default.generateCodeRow},void 0,D("div",{className:P.default.codeText},void 0,M.default.Messages.GIFT_INVENTORY_GENERATE_HELP),D(_.default,{submitting:this.state.isCreating,size:_.default.Sizes.SMALL,color:_.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,M.default.Messages.GIFT_INVENTORY_GENERATE_LINK))},n.render=function(){var e=this.props,t=e.entitlements,n=e.application,r=e.giftCodes,o=e.className,l=e.sku,i=e.isFetching,u=e.hideCodes,s=this.state.isOpen;return D(m.default,{className:o},void 0,D(g.default,{onClick:this.handleToggleOpen,className:P.default.card},void 0,D(m.default.Header,{splashArtURL:n.getSplashURL(512)},void 0,D("div",{className:P.default.cardHeader},void 0,D(y.default,{align:y.default.Align.CENTER},void 0,D(S.default,{game:n,size:S.default.Sizes.MEDIUM,skuId:l.id}),D("div",{className:P.default.headerText},void 0,this.renderTitle(),D("div",{className:P.default.subTextHeader},void 0,M.default.Messages.GIFT_INVENTORY_COPIES.format({copies:t.length})))),D(I.default,{name:I.default.Names.CARET,direction:s?O.default.Directions.UP:O.default.Directions.DOWN,className:P.default.expandIcon})))),s?D(m.default.Body,{},void 0,i?D(T.default,{className:P.default.spinner}):D(a.Fragment,{},void 0,r.length<t.length?this.renderGenerateGiftCodeRow():null,r.map(function(e){return D(k,{giftCode:e,sku:l,hideCode:u},e.code)}))):null)},t}(a.PureComponent);F.displayName="EntitlementGiftGroupCard";var B=i.default.connectStores([c.default,d.default,v.default,f.default,p.default],function(e){var t=e.skuId,n=e.subscriptionPlanId,r=v.default.get(t);if(null==r)throw new Error("SKU was unavailable while rendering gift.");return{sku:r,hideCodes:p.default.enabled,isFetching:f.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:f.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:c.default.getGame(r.applicationId),subscriptionPlan:null!=n?h.default.get(n):null,giftCodes:f.default.getForGifterSKUAndPlan(d.default.getId(),t,n).filter(function(e){return!e.isClaimed})}})(F);t.default=B},8941:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(0)),o=y(n(8)),l=y(n(339)),i=y(n(2)),u=S(n(6738)),s=n(514),d=n(6642),c=y(n(152)),f=n(6710),p=y(n(331)),h=y(n(8942)),v=y(n(7781)),m=y(n(8943)),_=y(n(8945)),g=n(1),E=y(n(6370));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=I(h.default,{}),O=I(l.default,{title:"Discord"}),N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef(),t._scrollToPadding=0,t.state={includeUpdatesInScroller:!1},t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})},t.scrollToRow=function(e,n){var r=t._scrollerRef.current;null!=r?(e.focus(),r.scrollIntoView(e,!1,{top:n,bottom:n}),t._scrollToOnMount=null):(t._scrollToOnMount=e,t._scrollToPadding=n)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){u.setHomeLink(g.Routes.APPLICATION_LIBRARY),(0,f.deepLinkRouteIfLanded)(g.RPCDeepLinks.LIBRARY),i.default.wait(function(){return(0,s.fetchBranches)()}),(0,d.fetchActivityStatistics)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)},l.renderToolbar=function(){return T},l.renderBody=function(){var e,t=this.props.location,n=this.state.includeUpdatesInScroller,r=I("div",{},void 0,I(p.default,{section:g.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,I(_.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return I(a.Fragment,{},void 0,n?null:r,a.createElement(c.default,{outerClassName:(0,o.default)(E.default.container,(e={},e[E.default.stickyScroller]=!n,e)),ref:this._scrollerRef,gutterStyle:c.default.GutterStyles.STORE,theme:c.default.Themes.MESSAGES_THEMED_WITH_TRACK,className:E.default.scroller},n?r:null,I(p.default,{section:g.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,I(m.default,{stickyHeader:!n,scrollToRow:this.scrollToRow,location:t}))))},l.render=function(){return I("div",{className:E.default.gameLibrary},void 0,O,I(v.default,{currentRoute:g.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),this.renderBody())},r}(a.PureComponent);t.default=N,N.displayName="GameLibrary"},8942:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=E(n(8)),l=E(n(3)),i=E(n(2)),u=y(n(7784)),s=E(n(859)),d=E(n(463)),c=E(n(492)),f=E(n(976)),p=E(n(6593)),h=n(7033),v=y(n(163)),m=n(1),_=E(n(4)),g=E(n(6364));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var S=function(e){var t,n;function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null,t.state={focused:!1},t.setRef=function(e){t.searchBarRef=e},t.handleKeyDown=function(e){var n=t.props,r=n.activeRowKey,a=n.hasModalOpen,o=n.applicationViewItems,l=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).searchBarRef;if(!(a||e.ctrlKey||e.altKey||e.metaKey||null==l||document.activeElement!==l.inputRef.current&&(0,h.isInputLikeElement)(document.activeElement)))switch(e.which){case m.KeyboardKeys.ESCAPE:e.target!==l.inputRef.current?t.reset():null!=l.inputRef.current&&l.blur();break;case m.KeyboardKeys.ENTER:if(null!=r){e.preventDefault();var i=o.find(function(e){return e.key===r});if(null==i)return;var u=i.libraryApplication;v.performDefaultLibraryApplicationAction(u,{analyticsParams:{source:m.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:m.AnalyticsPages.LIBRARY,section:m.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:m.AnalyticsObjects.BUTTON_CTA}}})}break;case m.KeyboardKeys.ARROW_DOWN:case m.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),t.updateActiveRow(e.which===m.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=l.inputRef.current&&e.target!==l.inputRef.current&&l.focus()}},t}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=l.prototype;return s.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)},s.componentWillUnmount=function(){i.default.wait(function(){return u.updateActiveRowKey(null)}),document.removeEventListener("keydown",this.handleKeyDown)},s.reset=function(){u.updateActiveRowKey(null),u.updateLibraryFilter("")},s.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()},s.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex(function(e){return e.key===r}),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var l=n[o];u.updateActiveRowKey(null!=l?l.key:null,!0)},s.render=function(){var e,t=this,n=this.props.filterQuery,l=this.state.focused;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)((e={},e[g.default.libraryFilter]=!0,e[g.default.focused]=l,e))},void 0,a.createElement(p.default,{className:g.default.searchBar,ref:this.setRef,onChange:u.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},name:"filter",onClear:function(){t.reset(),t.focusInput()},maxLength:100,query:n,placeholder:_.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))},l}(a.Component);S.displayName="ApplicationLibraryFilter";var I=l.default.connectStores([c.default,s.default,d.default,f.default],function(){return{filterQuery:c.default.applicationFilterQuery,applicationViewItems:c.default.sortedFilteredLibraryApplicationViewItems,hasModalOpen:d.default.hasModalOpen()||s.default.hasLayers(),activeRowKey:f.default.activeRowKey}})(S);t.default=I},8943:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=V(n(0)),l=H(n(8)),i=H(n(3)),u=n(29),s=H(n(2)),d=n(35),c=V(n(7784)),f=V(n(293)),p=H(n(337)),h=H(n(260)),v=n(102),m=H(n(22)),_=H(n(50)),g=H(n(54)),E=H(n(25)),y=H(n(492)),S=H(n(976)),I=H(n(21)),T=H(n(24)),O=H(n(267)),N=H(n(42)),C=H(n(476)),A=H(n(6777)),M=H(n(65)),P=H(n(15)),R=n(89),b=H(n(13)),L=n(190),D=H(n(912)),w=H(n(880)),U=H(n(987)),G=H(n(1001)),k=H(n(8944)),F=n(1),B=H(n(4)),j=H(n(6365));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W=(0,L.cssValueToNumber)(j.default.rowMinHeight),z=(0,L.cssValueToNumber)(j.default.linkedToGlowDuration),K=Object.freeze(((r={})[F.GameTableListKeys.PLATFORM]="Platform",r[F.GameTableListKeys.LAST_PLAYED]="Last Played",r[F.GameTableListKeys.NAME]="Name",r));var $=function(e){var t=e.flag,n=e.name,r=e.item,a=e.tooltip,i=r.libraryApplication.hasFlag(t);return x(M.default,{text:a},void 0,function(e){var t;return o.createElement(N.default,Y({name:n,className:(0,l.default)(j.default.settingIcon,(t={},t[j.default.hidden]=!i,t))},e))})};$.displayName="FlagIcon";var Q=[{key:F.GameTableListKeys.NAME,renderHeader:function(){return B.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:j.default.nameCell,bodyCellClassName:j.default.nameBodyCell,render:function(e){return x(U.default,{game:e.application,source:F.AnalyticsLocations.APPLICATION_LIBRARY},void 0,x(T.default,{align:T.default.Align.CENTER},void 0,x(O.default,{game:e.application,size:O.default.Sizes.SMALL,className:j.default.gameIcon}),x("div",{className:j.default.nameCellInfo},void 0,x("div",{className:j.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(F.LibraryApplicationFlags.PREMIUM)?x(M.default,{text:B.default.Messages.PREMIUM_GAME},void 0,function(e){return o.createElement(N.default,Y({name:N.default.Names.NITRO_WHEEL,className:j.default.nitroIcon},e))}):null)))}},{key:F.GameTableListKeys.PLATFORM,renderHeader:function(){return B.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:j.default.platformCell,bodyCellClassName:j.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return x(U.default,{game:e.application,source:F.AnalyticsLocations.APPLICATION_LIBRARY},void 0,x(T.default,{align:T.default.Align.CENTER},void 0,null!=t?F.DistributorNames[t]:B.default.Messages.GAME_LIBRARY_NOT_APPLICABLE))}},{key:F.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return B.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:j.default.lastPlayedCell,bodyCellClassName:j.default.textCell,render:function(e){var t,n;return n=e.isRunning?B.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?B.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?x(C.default,{end:e.lastPlayed,location:C.default.Locations.GAME_LIBRARY_LAST_PLAYED}):B.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE,x(U.default,{game:e.application,source:F.AnalyticsLocations.APPLICATION_LIBRARY},void 0,x(T.default,{align:T.default.Align.CENTER,className:(0,l.default)((t={},t[j.default.lastPlayedCellNew]=e.isNew,t))},void 0,n))}},{key:F.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:j.default.actionsCell,render:function(e,t,n){var r;if(!t)throw new Error("No cell props defined.");var a,i,u=e.key===t.activeRowKey;return x(o.Fragment,{},void 0,x("div",{className:j.default.settingIcons},void 0,x($,{flag:F.LibraryApplicationFlags.PRIVATE,item:e,name:N.default.Names.EYE_HIDDEN,tooltip:B.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),x($,{flag:F.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,name:N.default.Names.OVERLAY_OFF,tooltip:B.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),x(k.default,{className:(0,l.default)(j.default.settingIcon,(r={},r[j.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),e.libraryApplication instanceof v.LibraryApplicationRecord&&!(0,R.isUserEntitledToLibraryApplication)(e.libraryApplication)?x(w.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:u?I.default.Colors.GREEN:I.default.Colors.PRIMARY,customDisabledColor:I.default.Colors.PRIMARY,size:j.default.actionButtonSize}):x(G.default,{analyticsListSort:(a=t.sortKey,i=t.sortDirection,K[a]+" "+(i===F.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:F.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:u?I.default.Colors.GREEN:I.default.Colors.PRIMARY,isPlayShiny:u&&e.defaultAction===F.LibraryApplicationActions.PLAY,size:j.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}))}}],X=function(e){var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,i=e.onMouseEnter,u=e.onMouseLeave,s=e.onContextMenu,d=e.setRef,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),f=n.key===r,p=n.key===a;return o.createElement("div",{className:(0,l.default)((t={},t[j.default.rowWrapperActive]=f&&!p,t[j.default.rowWrapperGlow]=p,t[j.default.rowWrapper]=!f&&!p,t[j.default.rowWrapperDim]=!f&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d(e,n.key)}),onMouseEnter:function(){return i(n)},onMouseLeave:u,onContextMenu:function(e){return s(e,n)}},o.createElement("div",c))};X.displayName="Row";var q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._didUnmount=!1,t._rowRefs={},t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null},t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})},t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})},t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(e.key)},t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(null)},t.setRowRef=function(e,n){t._rowRefs[n]=e},t.handleApplicationContextMenu=function(e,n){t.setActiveRowKey(n);var r=t.props.analyticsContext;(0,d.openContextMenu)(e,function(e){return o.createElement(D.default,Y({},e,{type:F.ContextMenuTypes.APPLICATION_GAME_LIBRARY,applicationId:n.libraryApplication.id,branchId:n.libraryApplication.branchId,analyticsContext:r}))},{onClose:t.clearActiveRowKey})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,r=e.fetched;t&&null!=n&&f.scanForLocalApplications(),r&&(this.handleHighlightedApplicationKey(),this.trackViewed())},a.componentWillUnmount=function(){this._didUnmount=!0},a.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||s.default.wait(function(){return f.scanForLocalApplications()}),!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];null!=n&&(s.default.wait(d.closeContextMenu),this.props.scrollToRow(n,W))}},a.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;null!=t&&null!=this._rowRefs[t]&&(this.props.scrollToRow(this._rowRefs[t],W),(new u.Timeout).start(z,function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))},a.trackViewed=function(){var e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},t=this.props,n=t.analyticsContext,r=t.applicationViewItems,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}switch(l.libraryApplication.getDistributor()){case F.Distributors.DISCORD:e.num_applications_discord++;break;case F.Distributors.STEAM:e.num_applications_steam++;break;case F.Distributors.BATTLENET:e.num_applications_battlenet++;break;case F.Distributors.TWITCH:e.num_applications_twitch++;break;case F.Distributors.UPLAY:e.num_applications_uplay++;break;case F.Distributors.ORIGIN:e.num_applications_origin++;break;case F.Distributors.GOG:e.num_applications_gog++;break;case F.Distributors.EPIC:e.num_applications_epic++}e.num_applications_total++}P.default.track(F.AnalyticEvents.LIBRARY_VIEWED,Y({},e,{load_id:n.loadId}))},a.handleSort=function(e,t){c.sortList(e,t)},a.handleEnableImportClick=function(){p.default.updateLocalSettings({importGamesEnabled:!0}),P.default.track(F.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!0})},a.handleDenyImportClick=function(){p.default.updateLocalSettings({importGamesEnabled:!1}),P.default.track(F.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!1})},a.renderImportHelp=function(){var e,t=this.props,n=t.importGamesEnabled,r=t.applicationViewItems,a=t.filterQuery,o=r.length>0,l=null==n&&b.default.isWindows()&&!a;return o&&!l?null:(e=l?B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT_ASK:""!==a?B.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:a}):n&&b.default.isWindows()?B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT:B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT,x("div",{className:o?j.default.emptyStateSmall:j.default.emptyStateLarge},void 0,x("div",{className:j.default.emptyWumpus}),x(T.default,{grow:0,shrink:o?1:0,direction:T.default.Direction.VERTICAL},void 0,x("div",{className:j.default.emptyStateText},void 0,x("h5",{className:j.default.emptyStateHeader},void 0,l?B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER_IMPORT:B.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),x("div",{className:j.default.emptyStateDescription},void 0,e)),l?x("div",{className:j.default.emptyStateButtons},void 0,x(I.default,{onClick:this.handleDenyImportClick,className:j.default.emptyStateButton,color:I.default.Colors.PRIMARY,size:I.default.Sizes.MEDIUM},void 0,B.default.Messages.APPLICATION_LIBRARY_IMPORT_DENY),x(I.default,{className:j.default.emptyStateButton,color:I.default.Colors.BRAND,size:I.default.Sizes.MEDIUM,onClick:this.handleEnableImportClick},void 0,B.default.Messages.APPLICATION_LIBRARY_IMPORT_ACCEPT)):null)))},a.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,l=e.stickyHeader,i=this.state,u=i.overflowMenuRowKey,s=i.highlightedApplicationKey;return x(o.Fragment,{},void 0,r.length>0?x(A.default,{columns:Q,data:r,sortData:!1,rowComponent:X,className:j.default.table,headerClassName:l?j.default.stickyHeader:j.default.header,headerCellClassName:j.default.headerCell,sortedHeaderCellClassName:j.default.headerCellSorted,bodyCellClassName:j.default.bodyCell,rowClassName:j.default.row,sortKey:t,sortDirection:n,stickyHeader:l,rowProps:{activeRowKey:u||a,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:u||a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())},r}(o.PureComponent);q.displayName="GameList",q.defaultProps={stickyHeader:!1};var J=i.default.connectStores([m.default,_.default,S.default,E.default,g.default,y.default],function(){return{applicationViewItems:y.default.sortedFilteredLibraryApplicationViewItems,gamesDBLastFetched:m.default.lastFetched,importGamesEnabled:E.default.importGamesEnabled,filterQuery:y.default.applicationFilterQuery,sortKey:S.default.sortKey,sortDirection:S.default.sortDirection,activeRowKey:S.default.activeRowKey,isNavigatingByKeyboard:S.default.isNavigatingByKeyboard,fetched:y.default.hasFetchedApplications}})((0,h.default)(q));t.default=J},8944:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=p(n(3)),i=n(29),u=p(n(538)),s=p(n(42)),d=p(n(65)),c=n(1),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=new Set([c.CloudSyncStateTypes.PUSHING,c.CloudSyncStateTypes.PULLING]),m=Object.freeze(((r={})[c.CloudSyncStateTypes.DONE]=s.default.Names.CLOUD,r[c.CloudSyncStateTypes.PLANNING]=s.default.Names.CLOUD,r[c.CloudSyncStateTypes.PREPARING]=s.default.Names.CLOUD,r[c.CloudSyncStateTypes.PUSHING]=s.default.Names.CLOUD_UPLOAD,r[c.CloudSyncStateTypes.PULLING]=s.default.Names.CLOUD_DOWNLOAD,r[c.CloudSyncStateTypes.CONFLICT]=s.default.Names.CLOUD,r[c.CloudSyncStateTypes.ERROR]=s.default.Names.CLOUD,r)),_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new i.Timeout,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()},l.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==c.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())},l.componentWillUnmount=function(){this._doneTimer.stop()},l.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,function(){return e.forceUpdate()})},l.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===c.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1},l.getStop=function(e,t){return t?1:e.type===c.CloudSyncStateTypes.PUSHING||e.type===c.CloudSyncStateTypes.PULLING?e.progress/e.total:0},l.getTooltip=function(e,t){switch(e.type){case c.CloudSyncStateTypes.DONE:return t?f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.CONFLICT:case c.CloudSyncStateTypes.ERROR:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.PLANNING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case c.CloudSyncStateTypes.PREPARING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case c.CloudSyncStateTypes.PUSHING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case c.CloudSyncStateTypes.PULLING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}},l.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,l=null==t?{type:c.CloudSyncStateTypes.DONE}:t,i=this.getIsRecentlySynced(),u={};return(v.has(l.type)||i)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(l,i)}),function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{text:this.getTooltip(l,i)},void 0,function(e){return o.createElement(s.default,h({className:r,name:i?s.default.Names.CLOUD_DONE:m[l.type]},u,e))})},r}(o.PureComponent);_.displayName="CloudSyncIcon";var g=l.default.connectStores([u.default],function(e){var t=e.libraryApplication;return{cloudSyncState:u.default.getState(t.id,t.branchId)}})(_);t.default=g},8945:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l,i,u=x(n(0)),s=V(n(8)),d=V(n(6)),c=V(n(3)),f=V(n(2)),p=x(n(35)),h=x(n(164)),v=V(n(260)),m=V(n(861)),_=V(n(69)),g=V(n(288)),E=V(n(22)),y=V(n(50)),S=V(n(25)),I=V(n(185)),T=V(n(21)),O=V(n(24)),N=V(n(267)),C=V(n(42)),A=n(476),M=V(n(959)),P=V(n(8946)),R=V(n(6777)),b=V(n(65)),L=n(361),D=x(n(89)),w=V(n(912)),U=V(n(987)),G=V(n(1001)),k=V(n(6814)),F=V(n(8947)),B=n(1),j=V(n(4)),H=V(n(6369));function V(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return K("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};$.displayName="Row";var Q=[B.Colors.LINK,"var(--interactive-normal)"],X=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return K(b.default,{text:t},void 0,function(e){var a=e.onMouseEnter,o=e.onMouseLeave;return K(T.default,{"aria-label":t,className:H.default.actionButton,innerClassName:H.default.actionButtonContents,color:T.default.Colors.GREY,size:T.default.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:o},void 0,K(C.default,{name:r,className:H.default.actionIcon}))})};function q(e,t){switch(t){case B.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case B.DispatchApplicationStages.PLANNING:case B.DispatchApplicationStages.FINALIZING:case B.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,L.formatSize)(e,{useKibibytes:!0})}}X.displayName="ActionButton";var J=Object.freeze(((l={})[B.LocalDispatchApplicationStates.INSTALLING]=((r={})[A.TimeUnits.NONE]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[A.TimeUnits.SECONDS]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.MINUTES]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.HOURS]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),l[B.LocalDispatchApplicationStates.UPDATING]=((a={})[A.TimeUnits.NONE]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[A.TimeUnits.SECONDS]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.MINUTES]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.HOURS]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),l[B.LocalDispatchApplicationStates.REPAIRING]=((o={})[A.TimeUnits.NONE]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[A.TimeUnits.SECONDS]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.MINUTES]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.HOURS]=function(e,t,n,r){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),l));function Z(e,t,n,r,a){var o=null!=e?e/60:null,l=J[t],i=null!=l?Object.keys(l):[],u=(0,A.getTimeAndUnit)(o,i),s=u.unit,d=u.time;if(null!=l&&null!=s){var c=l[s];return null!=c?c(n,r,a,d):null}return null}function ee(e,t,n,r,a,o){var l=q(a,t),i=q(r,t);switch(t){case B.DispatchApplicationStages.QUEUED:return 0===r?j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:i,total:l});case B.DispatchApplicationStages.PLANNING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case B.DispatchApplicationStages.ALLOCATING_DISK:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case B.DispatchApplicationStages.PATCHING:return Z(o,e,n,i,l);case B.DispatchApplicationStages.FINALIZING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case B.DispatchApplicationStages.PAUSING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:i,total:l});case B.DispatchApplicationStages.VERIFYING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:i,total:l});case B.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:i,total:l});case B.DispatchApplicationStages.REPAIRING:return e===B.LocalDispatchApplicationStates.REPAIRING?Z(o,e,n,i,l):j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:i,total:l})}throw new Error("Invalid Dispatch stage")}var te="name",ne="progress",re="actions",ae=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,l=r.total,i=r.type,u=r.readerProgress;if(null==o||null==l||null==a)return null;var s=D.calculateProgressPercentage(o,l),d=D.calculateProgressPercentage(u||0,l),c=e[e.length-1]/n*1e3,f=l-o,p=0!==c?Math.max(1,f/c):null,h=ee(i,a,Math.floor(s),o,l,p);return t.renderStackedProgress({percents:[s,d],message:h})},t}W(t,e);var n,r,a,o=t.prototype;return o.renderBody=function(e){var t=e.percent,n=e.foregroundColor,r=e.foregroundGradientColor,a=e.message;return K(O.default,{direction:O.default.Direction.VERTICAL},void 0,K(M.default,{percent:t,size:M.default.Sizes.SMALL,foregroundColor:n,foregroundGradientColor:r,animate:this.isFocused}),K("div",{className:H.default.progressCellText},void 0,null!=a?a:""))},o.renderStackedProgress=function(e){var t=e.percents,n=e.message;return K(O.default,{direction:O.default.Direction.VERTICAL},void 0,K(P.default,{percents:t,size:M.default.Sizes.SMALL,foregroundColors:Q,animate:this.isFocused}),K("div",{className:H.default.progressCellText},void 0,null!=n?n:""))},o.renderFinished=function(){var e=this.props.item;return this.renderBody({message:j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return h.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===B.ThemeTypes.LIGHT?B.Colors.PRIMARY_DARK_300:B.Colors.PRIMARY_DARK,percent:100})},o.renderQueued=function(){var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,l=r.total,i=r.stage;if(null!=o&&null!=l){var u=q(l,i),s=q(o,i);t=D.calculateProgressPercentage(o,l);var d=Math.floor(t);e=i===B.DispatchApplicationStages.PAUSING?j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:s,total:u}):j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:s,total:u})}}return null!=t&&null!=e||(t=0,e=j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION),this.renderBody({percent:t,foregroundColor:a===B.ThemeTypes.LIGHT?B.Colors.PRIMARY_DARK_300:B.Colors.PRIMARY_DARK,message:e})},o.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null;var o=D.calculateProgressPercentage(r,a),l=Math.floor(o),i=0===r&&1===a?j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:l,progress:(0,L.formatSize)(r),total:(0,L.formatSize)(a)});return this.renderBody({message:i,foregroundColor:n===B.ThemeTypes.LIGHT?B.Colors.PRIMARY_DARK_300:B.Colors.PRIMARY_DARK,percent:o})},o.renderProgressPatching=function(){return K(k.default,{getHistoricalTotalBytes:_.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)},o.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,a=e.type;if(null==t||null==n||null==r)return null;var o=D.calculateProgressPercentage(n,t),l=Math.floor(o);return this.renderBody({percent:o,message:ee(a,r,l,n,t),foregroundColor:B.Colors.LINK})},o.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case B.DispatchApplicationStages.PATCHING:case B.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}},o.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==B.LocalDispatchApplicationStates.UPDATING&&t.state.type!==B.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==B.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()},n=t,(r=[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}])&&Y(n.prototype,r),a&&Y(n,a),t}(u.PureComponent);ae.displayName="ProgressCell";var oe=function(){return K(X,{icon:C.default.Names.PLAY,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return h.resume()}})};oe.displayName="ResumeButton";var le=function(){return K(X,{icon:C.default.Names.PAUSE,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return h.pause()}})};le.displayName="PauseButton";var ie=function(e){var t=e.item;return K(X,{icon:C.default.Names.ARROW_UP,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return h.moveUp(t.applicationId,t.branchId)}})};ie.displayName="MoveUpButton";var ue=function(e){var t=e.item;return K(X,{icon:C.default.Names.CLOSE,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return h.cancel(t.applicationId,t.branchId)}})};ue.displayName="CancelButton";var se=K(oe,{}),de=[{key:te,cellClassName:H.default.nameCell,render:function(e){return K(U.default,{game:e.application,location:B.AnalyticsLocations.APPLICATION_LIBRARY},void 0,K(O.default,{align:O.default.Align.CENTER},void 0,K(N.default,{game:e.application,className:H.default.gameIcon,size:N.default.Sizes.SMALL}),K("div",{className:H.default.nameCellText},void 0,e.application.name)))}},{key:ne,cellClassName:H.default.progressCell,headerCellClassName:H.default.progressCellHeader,bodyCellClassName:H.default.progressCellBody,render:function(e,t){return K(ae,{item:e,cellProps:t})}},{key:re,cellClassName:H.default.actionsCell,render:function(e,t){var n,r;return e.finished?n=null!=e.libraryApplication?K(G.default,{libraryApplication:e.libraryApplication,size:T.default.Sizes.SMALL,className:H.default.gameActionButton,source:B.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==B.LocalDispatchApplicationStates.UP_TO_DATE&&(n=e.index>0?K(ie,{item:e}):null!=t&&t.paused?se:K(le,{item:e}),r=K(ue,{item:e})):r=K(ue,{item:e}),K(O.default,{justify:O.default.Justify.END},void 0,n,r)}}],ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1,t.isTallerThanHalfViewport=!1,t.throttledUpdateHeight=d.default.throttle(function(){if(!t.isUnmounted){var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;t.isTallerThanHalfViewport!==a&&(t.isTallerThanHalfViewport=a,r(a))}},1e3),t}W(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)},n.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()},n.componentWillUnmount=function(){this.props.applications.forEach(function(e){e.finished&&f.default.wait(function(){h.removeFinished(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0},n.render=function(){var e=this.props,t=e.applications,n=e.paused,r=e.isFocused,a=e.theme,o=e.analyticsContext;return 0===t.length?null:K("div",{className:H.default.gameUpdates},void 0,K("div",{className:H.default.headerRow},void 0,K(F.default,{className:(0,s.default)(H.default.headerCell,H.default.networkProgress),title:j.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:_.default.getHistoricalTotalBytesDownloaded,color:B.Colors.STATUS_GREEN,animate:r}),K(F.default,{className:(0,s.default)(H.default.headerCell,H.default.diskProgress),title:j.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:_.default.getHistoricalTotalBytesWritten,color:B.Colors.LINK,animate:r})),K(R.default,{hasHeader:!1,columns:de,data:t,className:H.default.table,rowClassName:H.default.row,rowComponent:$,cellProps:{paused:n,isFocused:r,theme:a},rowProps:{onContextMenu:function(e,t){return function(e,t,n){p.openContextMenu(e,function(e){return u.createElement(w.default,z({},e,{type:B.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES,application:t.applicationId,applicationId:t.branchId,analyticsContext:n}))})}(e,t,o)}},bodyCellClassName:H.default.cell}))},t}(u.PureComponent);function fe(e,t){return e.reduce(function(e,n,r){var a=n.applicationId,o=n.branchId,l=E.default.getGame(a),i=_.default.getState(a,o);return null!=l&&e.push({key:a+":"+o,applicationId:a,branchId:o,state:i,application:l,libraryApplication:y.default.getLibraryApplication(a,o),finished:t,index:r}),e},[])}ce.displayName="GameUpdates";var pe=(0,m.default)(c.default.connectStores([_.default,g.default,E.default,y.default,I.default,S.default],function(){var e=fe(g.default.activeItems,!1),t=fe(g.default.finishedItems,!0);return{applications:[].concat(e,t),paused:g.default.paused,isFocused:I.default.isFocused(),theme:S.default.theme}})((0,v.default)(ce)));t.default=pe},8946:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(8)),o=u(n(6)),l=n(1),i=u(n(6366));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),f=function(e){var t=e.className,n=e.percents,r=e.size,u=void 0===r?c.SMALL:r,f=e.foregroundColors,p=void 0===f?[l.Colors.BRAND]:f,h=e.backgroundColor,v=void 0===h?"var(--background-modifier-active)":h,m=e.animate,_=void 0===m||m,g=o.default.zip(n,p).map(function(e,t){var n,r,o=e[0],l=e[1];return r=Array.isArray(l)?{background:"linear-gradient(to right, "+l[0]+", "+l[1]+")"}:{backgroundColor:l},s("div",{className:(0,a.default)(i.default.progressBar,i.default[u],(n={},n[i.default.animating]=_,n)),style:d({transform:"translate3d("+(Math.min(Math.max(0,o),100)-100)+"%, 0, 0)"},r)},t)}).reverse();return s("div",{className:(0,a.default)(t,i.default.progress,i.default[u]),style:{backgroundColor:v}},void 0,g)};f.displayName="StackedProgress",f.Sizes=c;var p=f;t.default=p},8947:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(24)),i=c(n(8948)),u=c(n(6814)),s=c(n(4)),d=c(n(6368));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=1e3;var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){var a,u=t.props,c=u.title,h=u.className,v=u.color,m=u.animate,_=u.gradientStopColor;return f("div",{className:(0,o.default)(d.default.monitor,h)},void 0,f(l.default,{align:l.default.Align.CENTER},void 0,f(l.default,{className:d.default.text,direction:l.default.Direction.VERTICAL},void 0,f("div",{className:d.default.title},void 0,c),f("div",{className:d.default.rate},void 0,(a=e[e.length-1]/n*1e3)>p?s.default.Messages.FILE_RATE_MB.format({size:Math.round(a/p)}):s.default.Messages.FILE_RATE_KB.format({size:Math.round(a)}))),f("div",{className:d.default.overflowContainer},void 0,f(i.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.default.sparkChart,updateInterval:n,color:v,gradientStopColor:_,numUpdatesToShow:r,animate:m,pixelWidth:600,pixelHeight:48,lineWidth:4}))))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return f(u.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)},r}(a.PureComponent);h.displayName="GameUpdateActivityMonitor";var v=h;t.default=v},8948:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=s(n(0)),o=u(n(6)),l=s(n(486)),i=u(n(6367));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var d=function(e){var t,n;function u(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef(),t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,i=r.color,u=r.numUpdatesToShow,s=r.lineWidth,d=r.animate,c=r.gradientStopColor;if(!(a.length<2)){var f=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),p=n.getContext("2d"),h=t.maxValue;p.strokeStyle=i,p.lineWidth=s;var v=n.height-p.lineWidth,m=p.createLinearGradient(0,0,0,v);if(null!=c)m.addColorStop(0,c);else{var _=l.hexToRgb(i),g=_.r,E=_.g,y=_.b;m.addColorStop(0,"rgba("+g+", "+E+", "+y+", 0)")}m.addColorStop(1,t.fillColor),p.fillStyle=m;var S=a.length>=u?u:a.length;p.setTransform(1,0,0,-1,0,n.height),p.clearRect(0,0,n.width,n.height),p.translate(0,.5*p.lineWidth);var I,T,O=Math.floor(n.width/(S-3)),N=.5*O,C=O-O*f;p.translate(C,0),p.beginPath();var A=-O;a.forEach(function(e,t){I={x:A,y:v*e/h},0===t?p.moveTo(I.x,I.y):p.bezierCurveTo(T.x+N,T.y,I.x-N,I.y,I.x,I.y),T=I,A+=O}),p.stroke(),p.lineTo(A-O,0),p.lineTo(0,0),p.fill(),d&&f<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}},t}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=u.prototype;return s.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,i=n.animate,u=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(u&&(this.dataChangedAt=performance.now(),this.maxValue=null!=r?r:Math.max.apply(Math,a)),u||null==e||!e.animate&&i||e.color!==this.props.color){var s=l.hexToRgb(this.props.color);this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)",window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}},s.componentDidMount=function(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)},s.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)},s.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0},s.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,o=e.pixelHeight;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:i.default.canvas,width:n,height:o}))},u}(a.PureComponent);d.displayName="SparkChart",d.defaultProps={animate:!0};var c=d;t.default=c},8949:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=w(n(0)),o=D(n(8)),l=D(n(6)),i=D(n(339)),u=D(n(118)),s=D(n(3)),d=D(n(2)),c=n(924),f=n(6642),p=n(8950),h=D(n(7771)),v=n(184),m=n(330),_=D(n(333)),g=D(n(6544)),E=n(6526),y=D(n(495)),S=w(n(945)),I=D(n(25)),T=D(n(232)),O=D(n(152)),N=w(n(875)),C=D(n(7774)),A=D(n(7775)),M=n(1),P=D(n(4)),R=D(n(5933)),b=D(n(8951)),L=D(n(8952));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var k=N.AnalyticsContexts,F=G(i.default,{title:"Discord"}),B=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._scroller=a.createRef(),t._guildIdsSeen=new Set,t.loadId=N.makeAnalyticsID(),t.state={animatedValue:new u.default.Value(0),loadingGuildId:null,isSearching:!1},t.handleScroll=function(e){var n=t.state.animatedValue,r=e.getScrollData().scrollTop;n.setValue(Math.min(1,r/200))},t.handleViewGuild=function(e,n,r){e!==t.state.loadingGuildId&&(t.setState({loadingGuildId:e}),N.viewGuild(t.loadId,e,n,r))},t.handleGuildCardSeen=function(e){t._guildIdsSeen.add(e)},t.handleSearchStarted=function(){t.setState({isSearching:!0})},t.handleSearchCleared=function(){t.setState({isSearching:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){var e=this.props,t=e.isFetching,n=e.guilds,r=n.gamesYouPlay,a=n.popular;(0,f.fetchActivityStatistics)(),d.default.wait(function(){(0,p.markView)(M.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}),t||N.trackDiscoveryViewed(this.loadId,r.guilds,a.guilds),(0,E.trackAppUIViewed)("guild_discovery")},l.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=n.gamesYouPlay,a=n.popular,o=t.isFetching;e.isFetching&&!o&&N.trackDiscoveryViewed(this.loadId,r.guilds,a.guilds)},l.componentWillUnmount=function(){N.trackDiscoveryExited(this.loadId,Array.from(this._guildIdsSeen))},l.getAssetStyle=function(){var e=this.state.animatedValue;return{opacity:e.interpolate({inputRange:[0,1],outputRange:[1,0]}),transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%","-10%"]})}]}},l.renderSearch=function(){var e=this.props,t=e.guilds,n=t.search,r=t.mostRecentQuery,a=e.availableLanguages,o=e.defaultLanguage,l=e.isFetchingSearch,i=e.theme,u=this.state.loadingGuildId,s=null!=n[r]?n[r]:S.EMPTY_DISCOVERABLE_GUILDS_SECTION;return G(C.default,{loadId:this.loadId,isFetchingSearch:l,searchResults:s,mostRecentQuery:r,loadingGuildId:u,availableLanguages:a,defaultLanguage:o,scroller:this._scroller.current,theme:i,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onSearchStarted:this.handleSearchStarted,onSearchCleared:this.handleSearchCleared})},l.renderFeaturedGuilds=function(){var e=this.props,t=e.theme,n=e.guilds,r=e.featuredGuildIds,a=this.state.loadingGuildId,o=n[M.GuildDiscoverySections.FEATURED];if(null!=r)return G(A.default,{title:"X019 Featured Servers",guildsData:o,loadingGuildId:a,maxPerPage:24,renderFirstLoad:!1,includeSeparator:!0,scroller:this._scroller.current,analyticsContext:k.RECOMMENDED_E3,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,c.fetchGuildsForSection)(r,M.GuildDiscoverySections.FEATURED)},theme:t})},l.renderGamesYouPlay=function(){var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,r=e.theme,a=t[M.GuildDiscoverySections.GAMES_YOU_PLAY],o=this.state.loadingGuildId;return n?G(A.default,{title:P.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:a,loadingGuildId:o,maxPerPage:24,renderFirstLoad:!1,includeSeparator:!0,scroller:this._scroller.current,analyticsContext:k.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:c.fetchGamesYouPlayGuilds,theme:r}):null},l.renderPopular=function(){var e=this.props,t=e.guilds,n=e.theme,r=t[M.GuildDiscoverySections.POPULAR],a=this.state.loadingGuildId;return G(A.default,{title:P.default.Messages.GUILD_DISCOVERY_HEADER_POPULAR_SERVERS,guildsData:r,loadingGuildId:a,maxPerPage:24,renderFirstLoad:!0,scroller:this._scroller.current,analyticsContext:k.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:c.fetchPopularGuilds,theme:n})},l.render=function(){var e=this.props,t=e.theme,n=e.featuredGuildIds,r=this.state.isSearching,l=t===M.ThemeTypes.LIGHT?L.default:b.default;return G("div",{className:R.default.pageWrapper},void 0,F,G(u.default.img,{className:R.default.bg,style:this.getAssetStyle(),src:l}),a.createElement(O.default,{ref:this._scroller,track:!0,onScroll:this.handleScroll},G("div",{className:(0,o.default)(R.default.pageHeader,R.default.pageHeaderDrag)}),G("div",{className:R.default.body},void 0,G("h2",{className:R.default.mainHeader},void 0,P.default.Messages.GUILD_DISCOVERY_SEARCH_HEADER),this.renderSearch(),r||null==n?null:this.renderFeaturedGuilds(),r?null:this.renderGamesYouPlay(),this.renderPopular())))},r}(a.PureComponent);B.displayName="GuildDiscovery";var j=(0,m.registerUserExperiment)({id:_.default.XO19_FEATURED_GUILDS,title:"XO19 Featured Guilds",description:["Featured guilds in Guild Discovery","Control: No featured guilds","Treatment 1: Featured guilds"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]});function H(e){var t=null;return(0,g.default)(j)===v.ExperimentBuckets.TREATMENT_1&&(t=h.default.featured),a.createElement(B,U({},e,{featuredGuildIds:t}))}H.displayName="GuildDiscoveryContainer";var V=s.default.connectStores([S.default,I.default,y.default,T.default],function(){var e=P.default.getLanguages(),t=I.default.locale,n=l.default.find(e,{code:t}),r=T.default.applicationStatistics,a=Object.keys(r),o=y.default.hasConsented(M.Consents.PERSONALIZATION)&&a.length>0;return{isFetching:S.default.isFetching(),isFetchingSearch:S.default.isFetchingSearch(),guilds:S.default.getDiscoverableGuilds(),theme:I.default.theme,mightHaveGamesYouPlay:o,availableLanguages:e,defaultLanguage:n}})(H);t.default=V},8950:function(e,t,n){"use strict";t.__esModule=!0,t.markView=function(e){a.default.dispatch({type:o.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},8951:function(e,t,n){e.exports=n.p+"76456a67ca3d139def36fd3ba871b230.png"},8952:function(e,t,n){e.exports=n.p+"757e956c407d352bb77320c83e3c6159.png"},8953:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=J(n(0)),o=n(157),l=q(n(3)),i=n(29),u=q(n(2)),s=n(35),d=q(n(6748)),c=n(6535),f=n(6567),p=q(n(5926)),h=q(n(856)),v=q(n(10)),m=q(n(858)),_=q(n(7785)),g=q(n(6755)),E=q(n(860)),y=q(n(475)),S=q(n(273)),I=q(n(470)),T=q(n(87)),O=q(n(6541)),N=q(n(19)),C=q(n(64)),A=q(n(191)),M=q(n(39)),P=q(n(188)),R=q(n(25)),b=q(n(11)),L=q(n(6647)),D=q(n(907)),w=q(n(21)),U=q(n(458)),G=n(65),k=q(n(456)),F=q(n(257)),B=q(n(73)),j=q(n(8954)),H=q(n(8963)),V=q(n(8964)),x=J(n(6547)),Y=q(n(6564)),W=q(n(7312)),z=q(n(7325)),K=q(n(8965)),$=n(1),Q=q(n(4)),X=q(n(6375));function q(e){return e&&e.__esModule?e:{default:e}}function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Z(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ne=1e3,re=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=function(){},t.showTimeout=new i.Timeout,t.state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,shouldShowSubscribeTooltip:!1},t.handleHistoryChange=function(e){null!=e.state&&e.state.shouldShowSubscribeTooltip&&t.showTimeout.start(ne,function(){return t.setState({shouldShowSubscribeTooltip:!0})})},t.handleContextMenu=function(e){var n=t.props.guild;(0,s.openContextMenu)(e,function(e){return a.createElement(Y.default,te({},e,{type:$.ContextMenuTypes.GUILD_CHANNEL_LIST,guild:n}))})},t.handleHeaderContextMenu=function(e){var n=t.props.guild;(0,s.openContextMenu)(e,function(e){return a.createElement(Y.default,te({},e,{type:$.ContextMenuTypes.GUILD_HEADER,guild:n}))})},t.handleCloseSubscribeTooltip=function(){t.showTimeout.stop(),t.state.shouldShowSubscribeTooltip&&t.setState({shouldShowSubscribeTooltip:!1})},t.renderPopout=function(e){var n=e.closePopout;return t.props.shouldShowGuildAnalyticsTooltip&&(0,f.hideHotspot)(c.HotspotLocations.GUILD_ANALYTICS_GUILD_HEADER),ee(H.default,{onClose:n,guild:t.props.guild})},t.renderSubscribePopout=function(){return ee("div",{className:X.default.subscribeTooltipWrapper},void 0,ee(k.default,{className:X.default.subscribeTooltipHeader,size:k.default.Sizes.SIZE_16},void 0,Q.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER),ee(F.default,{className:X.default.subscribeTooltipText,size:F.default.Sizes.SIZE_14},void 0,Q.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT),ee(w.default,{className:X.default.subscribeTooltipButton,color:w.default.Colors.BRAND,look:w.default.Looks.INVERTED,onClick:t.handleCloseSubscribeTooltip},void 0,Q.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE))},t.pinBanner=function(e){null!=e&&t.setAnimatedValue(e.scrollTop)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){var t=e.guild;return null==t||null==t.banner?{renderBanner:!1,bannerVisible:!1}:null};var l=r.prototype;return l.componentDidMount=function(){var e=this,t=this.props,n=t.guildId,r=t.history,a=t.location,o=y.default.getGuildDimensions(n).scrollTop;this.setAnimatedValue(o),u.default.subscribe($.ActionTypes.LAYER_PUSH,this.handleCloseSubscribeTooltip),null!=r&&(this.historyUnlisten=r.listen(this.handleHistoryChange)),null!=a&&null!=a.state&&a.state.shouldShowSubscribeTooltip&&this.showTimeout.start(ne,function(){return e.setState({shouldShowSubscribeTooltip:!0})})},l.componentDidUpdate=function(e){var t=this.props,n=t.guild,r=t.guildId;if(e.guild!==n){var a=y.default.getGuildDimensions(r).scrollTop;this.setAnimatedValue(a)}},l.componentWillUnmount=function(){this.showTimeout.stop(),this.state.controller.destroy(),this.historyUnlisten(),u.default.unsubscribe($.ActionTypes.LAYER_PUSH,this.handleCloseSubscribeTooltip)},l.renderGuildHeaderDropdownButton=function(e){var t=this.state.shouldShowSubscribeTooltip,n=this.props.shouldShowGuildAnalyticsTooltip;return ee(U.default,{renderPopout:this.renderSubscribePopout,position:U.default.Positions.BOTTOM,align:U.default.Align.CENTER,animation:U.default.Animation.TRANSLATE,shouldShow:t&&!e},void 0,function(t,r){return!r&&n?ee(G.TooltipContainer,{disableTooltipPointerEvents:!1,text:Q.default.Messages.GUILD_ANALYTICS_GUILD_HEADER_TOOLTIP,position:G.TooltipPositions.BOTTOM,color:G.TooltipColors.BRAND,forceOpen:!0},void 0,a.createElement(V.default,te({},t,{open:e,className:X.default.dropdown}))):a.createElement(V.default,te({},t,{open:e,className:X.default.dropdown}))})},l.renderGuildHeader=function(){var e=this,t=this.props,n=t.guild,r=t.isGuest,o=this.state,l=o.controller,i=o.renderBanner,u=o.bannerVisible;return ee(U.default,{renderPopout:this.renderPopout,position:U.default.Positions.BOTTOM,align:U.default.Align.CENTER,animation:U.default.Animation.SCALE},void 0,function(t,o){var s=t.onClick,d=Z(t,["onClick"]);return a.createElement(z.default,te({guild:n,controller:l,renderBanner:i,selected:o,bannerVisible:u,onContextMenu:e.handleHeaderContextMenu,onClick:function(t){t.currentTarget.contains(t.target)&&(s&&s(),e.handleCloseSubscribeTooltip())}},r?null:d),r?null:ee(x.default,{tutorialId:"server-settings",position:x.TutorialIndicatorPositions.BOTTOM,offsetY:-4},void 0,e.renderGuildHeaderDropdownButton(o)))})},l.setAnimatedValue=function(e){var t=this.props.guild,n=this.state,r=n.controller,a=n.renderBanner,o=n.bannerVisible;null!=t&&null!=t.banner&&((e>=64&&o||e<64&&!o)&&(o=!o),(e>=88&&!a||e<88&&a)&&(a=!a),a===this.state.renderBanner&&o===this.state.bannerVisible||this.setState({renderBanner:a,bannerVisible:o}),r.update({value:Math.min(1,Math.max(0,1-e/88)),immediate:!0}).start())},l.renderNotice=function(){var e=this.props.guild;return ee(j.default,{guild:e})},l.render=function(){var e=this.props.guild,t=this.props,n=(t.channelNoticeVersion,t.isGuest,t.isUnavailable),r=(t.shouldShowGuildAnalyticsTooltip,t.history,t.location,Z(t,["channelNoticeVersion","isGuest","isUnavailable","shouldShowGuildAnalyticsTooltip","history","location"]));return ee("div",{className:X.default.container,onContextMenu:this.handleContextMenu},void 0,null!=e&&this.renderGuildHeader(),null!=e&&this.renderNotice(),n?ee(K.default,{withBannerPadding:null!=e&&null!=e.banner}):a.createElement(W.default,te({},r,{onScroll:null!=e&&null!=e.banner?this.pinBanner:null})))},r}(a.PureComponent);re.displayName="GuildSidebar";var ae=(0,d.default)(function(e,t){var n;return(n={})[$.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE]=function(){return t.forceUpdate()},n})(re),oe=l.default.connectStores([C.default,E.default,y.default,S.default,T.default,O.default,N.default,A.default,M.default,D.default,P.default,g.default,_.default,I.default,m.default,v.default,R.default,L.default,b.default,p.default,h.default],function(e){var t=e.guildId,n=N.default.getGuild(t),r=T.default.getChannels(t),a=I.default.getCategories(t),o=P.default.getMutedChannels(t),l=D.default.getVoiceStates(t),i=g.default.getCollapsed(),u=P.default.isGuildCollapsed(t),s=O.default.getGuildChangeSentinel(t),d=y.default.getGuildDimensions(t).scrollTo,f=E.default.getChannelId(t),w=A.default.isDisabled()?null:M.default.getVoiceChannelId(),U=C.default.getGuildVersion(t),G=_.default.getVersion(),k=m.default.version;return{guild:n,channels:r,categories:a,mutedChannels:o,scrollToChannel:d,selectedChannelId:f,selectedVoiceChannelId:w,voiceStates:l,collapsedChannels:i,collapseMuted:u,isGuest:v.default.isGuest(),isUnavailable:S.default.isUnavailable(t),theme:h.default.darkSidebar?$.ThemeTypes.DARK:R.default.theme,guildReadStateSentinel:s,permissionVersion:U,channelNoticeVersion:G,categoryCollapseVersion:k,shouldShowGuildAnalyticsTooltip:null!=n&&L.default.hasGuildAnalytics(n.id)&&B.default.can($.Permissions.VIEW_GUILD_ANALYTICS,b.default.getCurrentUser(),n)&&p.default.hasHotspot(c.HotspotLocations.GUILD_ANALYTICS_GUILD_HEADER)}})(ae);t.default=oe},8954:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=S(n(6)),l=S(n(3)),i=n(6815),u=S(n(8955)),s=S(n(120)),d=S(n(7785)),c=S(n(6851)),f=S(n(8956)),p=S(n(8957)),h=S(n(8958)),v=n(80),m=S(n(8959)),_=S(n(8960)),g=S(n(8961)),E=S(n(8962)),y=n(1);function S(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){e.stopPropagation()}var N=T(m.default,{}),C=T(E.default,{}),A=new u.default([{type:y.ChannelNoticeTypes.MFA_WARNING,store:f.default,renderNotice:function(){return N}},{type:y.ChannelNoticeTypes.INVITE,store:p.default,renderNotice:function(e){return T(_.default,{guild:e})}},{type:y.ChannelNoticeTypes.QUICKSWITCHER,store:c.default,renderNotice:function(){return C}},{type:y.ChannelNoticeTypes.PREMIUM_GUILD_SUBSCRIPTIONS,store:h.default,renderNotice:function(e){return T(g.default,{guild:e})}}]),M=o.default.debounce(s.default.trackWithMetadata,500),P=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.guild,n=e.notice;null!=n&&((0,i.showNotice)(n.type,t),M(y.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:n.type,guild_id:t.id}))},a.componentDidUpdate=function(e){var t=this.props,n=t.guild,r=t.notice;null==r||e.guild.id===n.id&&null!=e.notice&&e.notice.type===r.type||((0,i.showNotice)(r.type,n),M(y.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:r.type,guild_id:n.id})),r!==e.notice&&v.ComponentDispatch.dispatch(y.ComponentActions.CHANNEL_LIST_RECALCULATE)},a.render=function(){var e=this.props,t=e.guild,n=e.notice;return!e.connected||null==n||null!=t.banner&&null!=n&&n.type!==y.ChannelNoticeTypes.MFA_WARNING?null:T("div",{onContextMenu:O},void 0,n.renderNotice(t))},r}(a.PureComponent);P.displayName="ChannelNotices";var R=l.default.connectStores([d.default].concat(A.getStores()),function(e){var t=e.guild,n=d.default.getState(),r=n.noticeStates,a=n.lastHidden;return I({},n,{notice:A.getNotice(r,t,a)})})(P);t.default=R},8955:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(e){this.notices=e}var t=e.prototype;return t.getStores=function(){return this.notices.map(function(e){return e.store})},t.getNotice=function(e,t,n){return this.notices.find(function(r){var a=r.store,o=r.type;return a.channelNoticePredicate(e[o],t,n)})},e}();t.default=r},8956:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(2)),a=u(n(87)),o=u(n(11)),l=u(n(6853)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s=null;function d(){var e=o.default.getCurrentUser();if(null==e||e.mfaEnabled===s)return!1;s=e.mfaEnabled}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.initialize=function(){this.waitFor(o.default,a.default),this.syncWith([o.default,a.default],d)},l.channelNoticePredicate=function(e,t){return t.mfaLevel===i.MFALevels.ELEVATED&&!1===s&&a.default.hasElevatedPermissions(t.id)},r}(l.default))(r.default,{CONNECTION_OPEN:function(e){return d()},GUILD_UPDATE:function(e){return!0}});t.default=c},8957:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(2)),a=s(n(73)),o=s(n(64)),l=s(n(11)),i=s(n(6853)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.initialize=function(){this.waitFor(o.default),this.syncWith([o.default],d)},i.channelNoticePredicate=function(e,t,n){var r=Date.now()-n>=u.CHANNEL_NOTICE_SHOW_DELAY,o=l.default.getCurrentUser();return null!=o&&(e&&r&&a.default.can(u.Permissions.ADMINISTRATOR,o,t))},r}(i.default))(r.default);t.default=c},8958:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(2)),a=s(n(73)),o=s(n(64)),l=s(n(11)),i=s(n(6853)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.initialize=function(){this.waitFor(o.default),this.syncWith([o.default],u.NOOP)},i.channelNoticePredicate=function(e,t,n){var r=l.default.getCurrentUser();return e&&Date.now()-n>=u.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(u.Permissions.MANAGE_GUILD,r,t)},r}(i.default))(r.default);t.default=d},8959:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(8)),l=n(6815),i=f(n(329)),u=f(n(21)),s=n(1),d=f(n(4)),c=f(n(5936));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleEnableMFA=function(){i.default.open(s.UserSettingsSections.ACCOUNT)},a.componentWillUnmount=function(){(0,l.hideNotice)(s.ChannelNoticeTypes.MFA_WARNING)},a.render=function(){return p("div",{className:(0,o.default)(c.default.channelNotice,c.default.guildMFAWarning)},void 0,p("div",{className:c.default.message},void 0,p("div",{},void 0,d.default.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE),p(u.default,{className:c.default.btn,onClick:this.handleEnableMFA},void 0,d.default.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON)))},r}(a.PureComponent);h.displayName="GuildMFAWarning";var v=h;t.default=v},8960:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(8)),l=n(6815),i=m(n(141)),u=m(n(30)),s=m(n(39)),d=m(n(21)),c=m(n(42)),f=m(n(6532)),p=n(1),h=m(n(4)),v=m(n(5936));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleInvite=function(){var e=t.props.guild;u.default.push(f.default,{guild:e,source:p.InstantInviteSources.INVITE_NOTICE})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleClose=function(){var e=s.default.getChannelId();(0,l.hideNotice)(p.ChannelNoticeTypes.INVITE),e&&i.default.sendBotMessage(e,h.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:h.default.Messages.INVITE_PEOPLE}))},a.render=function(){return _("div",{className:(0,o.default)(v.default.channelNotice,v.default.invite)},void 0,_(c.default,{name:c.default.Names.CLOSE,className:v.default.close,onClick:this.handleClose}),_("div",{className:v.default.message},void 0,_("div",{},void 0,h.default.Messages.INVITE_NOTICE_MESSAGE),_("div",{},void 0,h.default.Messages.INVITE_NOTICE_MESSAGE_PART_2),_(d.default,{className:v.default.btn,onClick:this.handleInvite},void 0,h.default.Messages.INVITE_PEOPLE)))},r}(a.PureComponent);g.displayName="InviteNotice";var E=g;t.default=E},8961:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(8)),l=m(n(3)),i=n(6815),u=m(n(275)),s=m(n(21)),d=m(n(42)),c=n(871),f=m(n(6616)),p=n(1),h=m(n(4)),v=m(n(5936));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(){(0,c.openFullScreenLayer)(function(e){var n=e.transitionState,r=e.closeLayer;return _(f.default,{layerTransitionState:n,close:r,guildId:t.props.guild.id,locationSection:p.AnalyticsSections.CHANNEL_NOTICE})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleClose=function(){(0,i.hideNotice)(p.ChannelNoticeTypes.PREMIUM_GUILD_SUBSCRIPTIONS)},a.render=function(){var e=this.props.memberCount,t=null==e||e<30;return _("div",{className:(0,o.default)(v.default.channelNotice,v.default.premiumGuildSubscription)},void 0,_(d.default,{name:d.default.Names.CLOSE,className:v.default.close,onClick:this.handleClose}),_("div",{className:v.default.message},void 0,_("div",{className:t?null:v.default.textLargeGuild},void 0,t?h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE),_(s.default,{className:v.default.btn,onClick:this.handleButtonClick},void 0,h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON)))},r}(a.PureComponent);g.displayName="PremiumGuildSubscriptionNotice";var E=l.default.connectStores([u.default],function(e){var t=e.guild;return{memberCount:u.default.getMemberCount(t.id)}})(g);t.default=E},8962:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=h(n(8)),o=n(6815),l=n(6610),i=n(7499),u=h(n(21)),s=h(n(42)),d=n(6690),c=n(1),f=h(n(4)),p=h(n(5936));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){var e=i.QUICKSWITCHER_SHOW.binds[0].split("+").map(function(e){return d.PRETTY_KEYS[e]?d.PRETTY_KEYS[e]():e}).join(" + ");return v("div",{className:(0,a.default)(p.default.channelNotice,p.default.quickswitcher)},void 0,v(s.default,{name:s.default.Names.CLOSE,className:p.default.close,onClick:function(){return(0,o.hideNotice)(c.ChannelNoticeTypes.QUICKSWITCHER)}}),v("div",{className:p.default.message},void 0,v("div",{},void 0,f.default.Messages.QUICKSWITCHER_NOTICE),v(u.default,{className:p.default.btn,onClick:function(){return(0,l.show)("CHANNEL_NOTICE")}},void 0,e)))}},8963:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=U(n(0)),o=w(n(3)),l=w(n(949)),i=w(n(6695)),u=w(n(6595)),s=U(n(924)),d=w(n(334)),c=w(n(30)),f=w(n(872)),p=w(n(6759)),h=w(n(5926)),v=w(n(10)),m=w(n(276)),_=w(n(64)),g=w(n(188)),E=w(n(11)),y=w(n(6647)),S=w(n(42)),I=w(n(71)),T=n(871),O=n(193),N=w(n(36)),C=w(n(503)),A=U(n(7786)),M=w(n(155)),P=w(n(6532)),R=w(n(6616)),b=n(1),L=w(n(4)),D=w(n(6372));function w(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=k(A.PopoutMenuSeparator,{}),B=k(A.PopoutMenuSeparator,{}),j=k(A.PopoutMenuSeparator,{}),H=k(A.PopoutMenuSeparator,{}),V=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){t.props.onClose()},t.handleOpenGuildSubscribeModal=function(){(0,T.openFullScreenLayer)(function(e){var n=e.transitionState,r=e.closeLayer;return k(R.default,{layerTransitionState:n,close:r,guildId:t.props.guild.id,locationSection:b.AnalyticsSections.GUILD_HEADER_POPOUT})}),t.close()},t.handleOpenInviteModal=function(){var e=t.props.guild;c.default.push(P.default,{guild:e,source:b.InstantInviteSources.GUILD_HEADER}),t.close()},t.handleOpenGuildSettings=function(){var e=t.props.guild;d.default.open(e.id,b.GuildSettingsSections.OVERVIEW),t.close()},t.handleCreateChannel=function(){u.default.open(null,t.props.guild.id,null,null),t.close()},t.handleCreateCategory=function(){u.default.open(b.ChannelTypes.GUILD_CATEGORY,t.props.guild.id,null,null),t.close()},t.handleOpenNotificationSettings=function(){f.default.open(t.props.guild.id),t.close()},t.handleOpenPrivacySettings=function(){p.default.open(t.props.guild.id),t.close()},t.handleOpenChangeNickname=function(){l.default.open(t.props.guild.id,v.default.getId()),t.close()},t.handleServerAnalyticsClick=function(){var e=t.props.guild;d.default.open(e.id,b.GuildSettingsSections.ANALYTICS),t.close()},t.handleLeaveGuild=function(){c.default.push(function(e){return a.createElement(M.default,G({header:L.default.Messages.LEAVE_SERVER_TITLE.format({name:t.props.guild.toString()}),confirmText:L.default.Messages.LEAVE_SERVER,cancelText:L.default.Messages.CANCEL,onConfirm:t.handleConfirmLeaveGuild},e),k(I.default,{size:I.default.Sizes.MEDIUM,color:I.default.Colors.PRIMARY},void 0,L.default.Messages.LEAVE_SERVER_BODY.format({name:t.props.guild.toString()})))})},t.handleConfirmLeaveGuild=function(){d.default.leaveGuild(t.props.guild.id)},t.handleToggleMuted=function(){i.default.toggleCollapseGuild(t.props.guild.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleStopLurking=function(){s.stopLurking(),N.default.transitionTo(b.Routes.GUILD_DISCOVERY)},o.render=function(){var e,t,n,r,o,l,i,u,s=this.props,d=s.isCollapsed,c=s.canInvite,f=s.canAccessSettings,p=s.canManageChannels,h=s.canEditNickname,v=s.isOwner,m=s.isLurking,_=s.showGuildAnalytics;return c&&(e=k(A.PopoutMenuItem,{onClick:this.handleOpenInviteModal,type:"invite"},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.INVITE_PEOPLE),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.NOVA_USER_ADD}))),f&&(t=k(A.PopoutMenuItem,{onClick:this.handleOpenGuildSettings},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.SERVER_SETTINGS),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.GEAR}))),p&&(o=k(A.PopoutMenuItem,{onClick:this.handleCreateChannel},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.CREATE_CHANNEL),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.NOVA_CIRCLE_ADD})),l=k(A.PopoutMenuItem,{onClick:this.handleCreateCategory},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.CREATE_CATEGORY),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.NOVA_FOLDER_ADD})),u=F),h&&(n=k(A.PopoutMenuItem,{onClick:this.handleOpenChangeNickname},"popout-item",k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.CHANGE_NICKNAME),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.PENCIL}))),v||(r=a.createElement(a.Fragment,null,m?null:B,k(A.PopoutMenuItem,{onClick:m?this.handleStopLurking:this.handleLeaveGuild,type:"leave"},"popout-item",k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.LEAVE_SERVER),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.NOVA_EXIT})))),_&&(i=k(A.PopoutMenuItem,{onClick:this.handleServerAnalyticsClick},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.SERVER_INSIGHTS),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.ANALYTICS_BUBBLE}))),m?k(A.default,{},void 0,r):k(A.default,{},void 0,k(A.PopoutMenuItem,{onClick:this.handleOpenGuildSubscribeModal,type:"guild_subscribe"},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.PREMIUM_GUILD_HEADER_DROPDOWN_NITRO_SERVER_SUBSCRIBE),k(A.PopoutMenuIcon,{name:S.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,className:D.default.premiumGuildIcon})),j,e,t,i,o,l,u,k(A.PopoutMenuItem,{onClick:this.handleOpenNotificationSettings},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.NOTIFICATION_SETTINGS),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.NOVA_BELL})),k(A.PopoutMenuItem,{onClick:this.handleOpenPrivacySettings},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.PRIVACY_SETTINGS),k(A.PopoutMenuIcon,{name:A.PopoutMenuIcon.Names.NOVA_SHIELD_STAR})),H,n,k(A.PopoutMenuItem,{onClick:this.handleToggleMuted},void 0,k(A.PopoutMenuItemLabel,{},void 0,L.default.Messages.HIDE_MUTED_CHANNELS),k(C.default,{checked:d,containerClassName:D.default.checkbox,onChange:this.handleToggleMuted})),r)},r}(a.PureComponent);V.displayName="GuildHeaderPopout";var x=o.default.connectStores([_.default,E.default,g.default,m.default,h.default,y.default],function(e){var t=e.guild,n=E.default.getCurrentUser();return{user:n,isCollapsed:g.default.isGuildCollapsed(t.id),canInvite:(0,O.canViewInviteModal)(t,t),canAccessSettings:_.default.can(b.Permissions.MANAGE_GUILD,t)||_.default.can(b.Permissions.MANAGE_ROLES,t)||_.default.can(b.Permissions.BAN_MEMBERS,t)||_.default.can(b.Permissions.MANAGE_NICKNAMES,t)||_.default.can(b.Permissions.MANAGE_EMOJIS,t)||_.default.can(b.Permissions.MANAGE_WEBHOOKS,t)||_.default.can(b.Permissions.VIEW_AUDIT_LOG,t),canManageChannels:_.default.can(b.Permissions.MANAGE_CHANNELS,t),canEditNickname:_.default.can(b.Permissions.CHANGE_NICKNAME,t)||_.default.can(b.Permissions.MANAGE_NICKNAMES,t),isOwner:t.isOwner(n),isLurking:m.default.isLurking(t.id),showGuildAnalytics:_.default.can(b.Permissions.VIEW_GUILD_ANALYTICS,t)&&y.default.hasGuildAnalytics(t.id)}})(V);t.default=x},8964:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(8)),o=l(n(6373));function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=i("g",{fill:"none",fillRule:"evenodd"},void 0,i("path",{d:"M0 0h18v18H0"}),i("path",{stroke:"currentColor",d:"M4.5 4.5l9 9",strokeLinecap:"round"}),i("path",{stroke:"currentColor",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})),s=function(e){var t,n=e.open,r=e.className;return i("svg",{width:"18",height:"18",className:(0,a.default)(o.default.button,r,(t={},t[o.default.open]=n,t))},void 0,u)};s.displayName="DropdownButton";var d=s;t.default=d},8965:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(8)),o=l(n(6374));function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(){return i("div",{className:o.default.spacer})};u.displayName="Spacer";var s=function(){return i("div",{className:o.default.category})};s.displayName="Category";var d=function(e){var t=e.width;return i("div",{className:o.default.channel},void 0,i("div",{className:o.default.channelIcon}),i("div",{className:o.default.channelName,style:{width:t+"px"}}))};d.displayName="Channel";var c=i(s,{}),f=i(d,{width:100}),p=i(d,{width:74}),h=i(d,{width:100}),v=i(d,{width:70}),m=i(d,{width:112}),_=i(d,{width:175}),g=i(u,{}),E=i(s,{}),y=i(d,{width:100}),S=i(d,{width:74}),I=i(d,{width:100}),T=i(d,{width:70}),O=i(d,{width:112}),N=i(d,{width:56}),C=function(e){var t,n=e.withBannerPadding;return i("div",{className:(0,a.default)(o.default.container,(t={},t[o.default.bannerPadding]=n,t))},void 0,c,f,p,h,v,m,_,g,E,y,S,I,T,O,N)};C.displayName="PlaceholderChannelList";var A=C;t.default=A},8966:function(e,t,n){"use strict";t.__esModule=!0,t.default=X;var r,a=H(n(0)),o=j(n(8)),l=n(3),i=n(29),u=j(n(189)),s=n(35),d=j(n(329)),c=j(n(1021)),f=j(n(928)),p=j(n(40)),h=j(n(160)),v=j(n(97)),m=j(n(25)),_=j(n(11)),g=j(n(58)),E=j(n(24)),y=j(n(7331)),S=j(n(42)),I=j(n(458)),T=j(n(529)),O=H(n(65)),N=j(n(6662)),C=j(n(6618)),A=j(n(6663)),M=H(n(328)),P=j(n(257)),R=n(500),b=n(272),L=j(n(20)),D=j(n(8967)),w=j(n(331)),U=H(n(6547)),G=j(n(8971)),k=n(1),F=j(n(4)),B=j(n(6423));function j(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=L.default.getEnableHardwareAcceleration()?M.AnimatedAvatar:M.default,K=2e3,$=1e3;var Q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).copiedTimeout=new i.Timeout,t.copiedDecayTimeout=new i.Timeout,t.state={webBuildOverride:null,hovered:!1,copiedStreak:0,shouldShowTooltip:!1,shouldShowCopiedFeedback:!1},t.handleToggleSelfMute=function(){u.default.toggleSelfMute()},t.handleToggleSelfDeaf=function(){u.default.toggleSelfDeaf()},t.handleOpenSettings=function(){d.default.open(k.UserSettingsSections.ACCOUNT)},t.handleOpenSettingsContextMenu=function(e){(0,s.openContextMenu)(e,function(e){return a.createElement(G.default,Y({},e,{user:t.props.currentUser,webBuildOverride:t.state.webBuildOverride}))})},t.handleMouseEnter=function(){t.setState({hovered:!0})},t.handleMouseLeave=function(){t.setState({hovered:!1})},t.handleCopyTag=function(){var e=t.props.currentUser,n=t.state,r=n.shouldShowTooltip,a=n.copiedStreak;(0,b.copy)(e.tag);var o={shouldShowCopiedFeedback:!0,shouldShowTooltip:!0};r||(o.copiedStreak=a+1),t.setState(o,function(){t.copiedTimeout.start($,function(){return t.setState({shouldShowTooltip:!1})}),t.copiedDecayTimeout.start(K,function(){return t.setState({copiedStreak:0})})})},t.renderStatusPickerPopout=function(e){var n=e.closePopout;return x(D.default,{onClose:function(){t.handleMouseLeave(),n&&n()}})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l,c,p,h=r.prototype;return h.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,R.shouldCheckForBuildOverride)()){e.next=5;break}return e.next=3,(0,R.getBuildOverride)();case 3:null!=(t=e.sent)&&this.setState({webBuildOverride:t.discord_web});case 5:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){V(o,r,a,l,i,"next",e)}function i(e){V(o,r,a,l,i,"throw",e)}l(void 0)})});return function(){return t.apply(this,arguments)}}(),h.componentWillUnmount=function(){this.copiedTimeout.stop(),this.copiedDecayTimeout.stop()},h.renderCopiedSuccess=function(){var e=this.state.copiedStreak,t=[F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,F.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return x(T.default,{isShaking:this.isCopiedStreakGodlike},void 0,t[n])},h.renderNameTag=function(){var e=this,t=this.props,n=t.customStatusActivity,r=t.hidePrivateData,l=t.currentUser,i=this.state,u=i.hovered,s=i.shouldShowTooltip,d=i.shouldShowCopiedFeedback,c=r?null:"#"+l.discriminator,p=null!=n?x(y.default,{hoverText:c,forceHover:u},void 0,x(f.default,{activity:n,emojiClassName:B.default.emoji,className:B.default.customStatus})):c,h=null,v=O.TooltipColors.BLACK;return b.SUPPORTS_COPY&&(h=F.default.Messages.ACCOUNT_CLICK_TO_COPY,d&&(h=this.renderCopiedSuccess(),v=this.isCopiedStreakGodlike?O.TooltipColors.RED:O.TooltipColors.GREEN)),x(O.default,{text:h,forceOpen:s,"aria-label":!!b.SUPPORTS_COPY&&F.default.Messages.ACCOUNT_CLICK_TO_COPY,color:v,delay:500,onAnimationRest:function(t,n){d&&!s&&n===k.SpringTransitionPhases.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})}},void 0,function(t){var n,r=t.onClick,i=t.onMouseEnter,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["onClick","onMouseEnter"]);return a.createElement(g.default,Y({},u,{onMouseEnter:function(){d?(e.copiedTimeout.stop(),e.setState({shouldShowTooltip:!1},i)):i&&i()},onClick:function(){r&&r(),e.handleCopyTag()},className:(0,o.default)(B.default.nameTag,(n={},n[B.default.canCopy]=b.SUPPORTS_COPY,n))}),x(P.default,{className:B.default.usernameContainer},void 0,x(A.default,{},void 0,l.username)),null!=p?x(C.default,{className:B.default.discriminator},void 0,p):null)})},h.render=function(){var e=this.props,t=e.currentUser,n=e.mute,r=e.deaf,o=e.streaming,l=e.status;if(null==t)return null;var i=this.state.webBuildOverride,u=n?F.default.Messages.UNMUTE:F.default.Messages.MUTE,s=r?F.default.Messages.UNDEAFEN:F.default.Messages.DEAFEN,d=x(z,{size:M.Sizes.SIZE_32,src:t.getAvatarURL("jpg"),"aria-label":t.username,status:o?k.StatusTypes.STREAMING:l,className:B.default.avatar});return x("div",{className:B.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,x(w.default,{object:k.AnalyticsObjects.AVATAR},void 0,x(I.default,{renderPopout:this.renderStatusPickerPopout,position:I.default.Positions.TOP,align:I.default.Align.LEFT,animation:I.default.Animation.SCALE,spacing:14},void 0,function(e){return a.createElement(g.default,Y({},e,{"aria-label":F.default.Messages.SET_STATUS,className:B.default.avatarWrapper}),d)})),this.renderNameTag(),x(E.default,{grow:0},void 0,x(N.default,{tooltipText:u,iconName:n?S.default.Names.NOVA_MICROPHONE_MUTE:S.default.Names.NOVA_MICROPHONE,iconForeground:n?B.default.strikethrough:null,onClick:this.handleToggleSelfMute}),x(U.default,{tutorialId:"voice-conversations",position:U.TutorialIndicatorPositions.TOP},void 0,x(N.default,{tooltipText:s,iconName:r?S.default.Names.NOVA_HEADSET_DEAFEN:S.default.Names.NOVA_HEADSET,onClick:this.handleToggleSelfDeaf,iconForeground:r?B.default.strikethrough:null})),x(N.default,{tooltipText:null!=i?F.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:i.id}):F.default.Messages.USER_SETTINGS,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu,innerClassName:null!=i?B.default.buildOverrideButton:null,iconName:S.default.Names.GEAR},void 0,null!=i?x(S.default,{name:S.default.Names.INFO,width:9,height:9,className:B.default.hasBuildOverride,"aria-hidden":!0}):null)))},l=r,(c=[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}])&&W(l.prototype,c),p&&W(l,p),r}(a.PureComponent);function X(){var e=(0,l.useStateFromStores)([_.default],function(){return _.default.getCurrentUser()}),t=(0,l.useStateFromStores)([m.default],function(){return null!=m.default.customStatus?(0,c.default)(m.default.customStatus):null}),n=(0,l.useStateFromStoresObject)([h.default],function(){return{streaming:null!=h.default.findActivity(function(e){return e.type===k.ActivityTypes.STREAMING}),status:h.default.getStatus()}}),r=n.streaming,a=n.status,o=(0,l.useStateFromStores)([v.default],function(){return v.default.enabled}),i=(0,l.useStateFromStoresObject)([p.default],function(){return{mute:!p.default.isEnabled()||p.default.isSelfMute()||p.default.isSelfMutedTemporarily(),deaf:p.default.isSelfDeaf()}}),u=i.mute,s=i.deaf;return x(Q,{hidePrivateData:o,currentUser:e,mute:u,deaf:s,status:a,streaming:r,customStatusActivity:t})}Q.displayName="Account",X.displayName="AccountConnected"},8967:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(0)),o=n(3),l=y(n(337)),i=y(n(260)),u=y(n(928)),s=y(n(233)),d=y(n(21)),c=y(n(42)),f=n(65),p=n(265),h=y(n(15)),v=S(n(7786)),m=y(n(8968)),_=n(1),g=y(n(4)),E=y(n(6378));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=I(v.PopoutMenuSeparator,{}),N=I(v.PopoutMenuSeparator,{}),C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){l.default.updateRemoteSettings({status:e}),t.props.onClose()},t.handleSetCustomStatus=function(){var e=t.props.analyticsContext;(0,p.openModal)(function(t){return a.createElement(m.default,T({},t,{sourceAnalyticsContext:e}))}),t.props.onClose()},t.handleClearCustomStatus=function(e){e.stopPropagation(),l.default.updateRemoteSettings({customStatus:null})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this.props,t=e.customStatus,n=e.analyticsContext;h.default.track(_.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:n.location})},o.render=function(){var e=this.props.customStatus,t=a.createElement(a.Fragment,null,O,I(v.PopoutMenuItem,{onClick:this.handleSetCustomStatus,className:E.default.menuItem},void 0,null!=e?I(u.default,{className:E.default.customStatus,activity:e,emojiClassName:E.default.customStatusEmoji,textClassName:E.default.customStatusText,placeholderText:g.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER}):I("div",{className:E.default.customStatusContentIcon},void 0,I("div",{className:E.default.customStatusEmojiPlaceholder}),g.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS),null!=e?I(f.TooltipContainer,{className:E.default.clearStatus,text:g.default.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS},void 0,I(d.default,{className:E.default.clearStatusButton,onClick:this.handleClearCustomStatus,look:d.default.Looks.BLANK,size:d.default.Sizes.NONE},void 0,I(c.default,{className:E.default.clearStatusIcon,name:c.default.Names.CLOSE_CIRCLE}))):null));return I(v.default,{},void 0,I(v.StatusItem,{status:_.StatusTypes.ONLINE,onSelect:this.handleSelect}),N,I(v.StatusItem,{status:_.StatusTypes.IDLE,onSelect:this.handleSelect}),I(v.StatusItem,{status:_.StatusTypes.DND,onSelect:this.handleSelect},void 0,g.default.Messages.STATUS_DND_HELP),I(v.StatusItem,{status:_.StatusTypes.INVISIBLE,onSelect:this.handleSelect},void 0,g.default.Messages.STATUS_INVISIBLE_HELPER),null!=t?t:null)},r}(a.PureComponent);C.displayName="StatusPickerPopout";var A=(0,i.default)(function(e){var t=(0,o.useStateFromStores)([s.default],function(){return s.default.getCustomStatusActivity()});return a.createElement(C,T({},e,{customStatus:t}))});t.default=A},8968:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=O(n(3)),l=n(7788),i=O(n(8969)),u=O(n(233)),s=O(n(11)),d=O(n(21)),c=O(n(7681)),f=O(n(42)),p=O(n(458)),h=O(n(347)),v=O(n(138)),m=O(n(261)),_=n(220),g=O(n(15)),E=O(n(372)),y=O(n(7062)),S=n(1),I=O(n(4)),T=O(n(6377));function O(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={emojiInfo:null!=t.props.customStatus?t.props.customStatus.emoji:null,text:null!=t.props.customStatus&&null!=t.props.customStatus.state?t.props.customStatus.state:"",clearAfter:l.ClearAfterValues.TODAY},t.handleClearStatus=function(){t.setState({emojiInfo:null,text:""})},t.handleSubmit=function(e){e.preventDefault(),t.handleSaveStatus()},t.handleStatusChange=function(e){t.setState({text:e})},t.handleEmojiChange=function(e){if(null!=e){var n=null!=e.id?{id:e.id,name:e.name,animated:e.animated}:{id:null,name:e.optionallyDiverseSequence,animated:!1};t.setState({emojiInfo:n})}},t.handleChangeClearAfter=function(e){var n=e.value;t.setState({clearAfter:n})},t.handleSaveStatus=function(){var e=t.props,n=e.sourceAnalyticsContext,r=e.onClose,a=t.state,o=a.emojiInfo,l=a.text,u=a.clearAfter;(0,i.default)(l,o,u,n),r()},t.handleKeyPress=function(e){e.which===S.KeyboardKeys.ENTER&&t.handleSaveStatus()},t.renderEmojiPicker=function(e){var n=e.closePopout;return C(y.default,{closePopout:n,onSelectEmoji:t.handleEmojiChange,allowManagedEmojis:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,u,s,O=r.prototype;return O.componentDidMount=function(){var e=this.props.sourceAnalyticsContext;g.default.track(S.AnalyticEvents.OPEN_MODAL,{source:e.location,type:S.AnalyticsSections.CUSTOM_STATUS_MODAL,load_id:e.loadId})},O.getEmojiButtonRenderer=function(){var e=this.state.emojiInfo;return e?function(){return C(E.default,{className:T.default.emoji,emojiId:e.id,emojiName:e.name,animated:Boolean(e.animated)})}:null},O.renderStatusInput=function(){var e=this,t=this.props.user,n=this.state,r=n.text,o=n.emojiInfo;return C(m.default,{className:T.default.formGroup,title:I.default.Messages.CUSTOM_STATUS_MODAL_BODY.format({username:t.username})},void 0,C("div",{className:T.default.inputContainer},void 0,C("div",{className:T.default.emojiButtonContainer},void 0,C(p.default,{renderPopout:this.renderEmojiPicker,position:p.default.Positions.LEFT,animation:p.default.Animation.NONE,align:p.default.Align.BOTTOM},void 0,function(t,n){return a.createElement(c.default,N({},t,{active:n,className:T.default.emojiButton,tabIndex:0,renderButtonContents:e.getEmojiButtonRenderer()}))})),C(v.default,{maxLength:l.STATUS_MAX_LENGTH,value:r,inputClassName:T.default.input,placeholder:I.default.Messages.CUSTOM_STATUS_MODAL_PLACEHOLDER,onChange:this.handleStatusChange,onKeyPress:this.handleKeyPress,autoFocus:!0}),r.length>0||null!=o?C(d.default,{className:T.default.clearButton,onClick:this.handleClearStatus,look:d.default.Looks.BLANK,size:d.default.Sizes.NONE},void 0,C(f.default,{className:T.default.clearIcon,name:f.default.Names.CLOSE_CIRCLE})):null))},O.renderClearAfter=function(){var e=this.state.clearAfter;return C(m.default,{className:T.default.formGroup,title:I.default.Messages.CUSTOM_STATUS_CLEAR_AFTER},void 0,C(h.default,{maxVisibleItems:4,value:e,options:this.clearAfterOptions,onChange:this.handleChangeClearAfter}))},O.render=function(){var e=this.props,t=e.transitionState,n=e.onClose;return C(_.ModalRoot,{transitionState:t,className:T.default.modalRoot},void 0,C(_.ModalHeader,{separator:!1,className:T.default.headerContainer},void 0,C("div",{className:T.default.art}),C("div",{className:T.default.header},void 0,C("h4",{className:T.default.headerText},void 0,I.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS)),C(_.ModalCloseButton,{onClick:n,className:T.default.modalCloseButton})),C(_.ModalContent,{},void 0,this.renderStatusInput(),this.renderClearAfter()),C(_.ModalFooter,{},void 0,C(d.default,{onClick:this.handleSubmit},void 0,I.default.Messages.SAVE),C(d.default,{onClick:n,look:d.default.Looks.LINK,color:T.default.cancelButton},void 0,I.default.Messages.CANCEL)))},o=r,(u=[{key:"clearAfterOptions",get:function(){return[{key:1,value:l.ClearAfterValues.TODAY,label:I.default.Messages.CUSTOM_STATUS_TODAY},{key:2,value:l.ClearAfterValues.HOURS_4,label:I.default.Messages.CUSTOM_STATUS_HOURS.format({hours:4})},{key:3,value:l.ClearAfterValues.MINUTES_30,label:I.default.Messages.CUSTOM_STATUS_MINUTES.format({minutes:30})},{key:4,value:null,label:I.default.Messages.CUSTOM_STATUS_DONT_CLEAR}]}}])&&A(o.prototype,u),s&&A(o,s),r}(a.PureComponent);M.displayName="CustomStatusModal";var P=o.default.connectStores([u.default,s.default],function(){return{customStatus:u.default.getCustomStatusActivity(),user:s.default.getCurrentUser()}},{forwardRef:!0})(M);t.default=P},8969:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,u){var d=e.trim();if(d.length>0||null!=t){var c={text:d.length>0?d:null,expiresAt:null!=n?(0,r.default)().add((0,l.default)(n),"ms").toISOString():null,emojiId:null!=t?t.id:null,emojiName:null!=t?t.name:null};a.default.updateRemoteSettings({customStatus:c}),o.default.track(i.AnalyticEvents.CUSTOM_STATUS_UPDATED,{location:null!=u?u.location:null,emoji_type:s(t),text_len:d.length,clear_after:null!=n?""+n:null})}else a.default.updateRemoteSettings({customStatus:null})};var r=u(n(5)),a=u(n(337)),o=u(n(15)),l=u(n(8970)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return null==e?null:null!=e.id?"custom":"unicode"}},8970:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(e===o.ClearAfterValues.TODAY){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+1).getTime()-t.getTime()}return(0,a.default)("number"==typeof e,"Invalid custom status clear timeout"),e};var r,a=(r=n(16))&&r.__esModule?r:{default:r},o=n(7788)},8971:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=y(n(329)),i=y(n(225)),u=n(500),s=y(n(187)),d=y(n(38)),c=y(n(287)),f=n(7789),p=y(n(9063)),h=y(n(9064)),v=y(n(9065)),m=y(n(9066)),_=y(n(9067)),g=y(n(9068)),E=n(1);function y(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){S(o,r,a,l,i,"next",e)}function i(e){S(o,r,a,l,i,"throw",e)}l(void 0)})}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=T(m.default,{},"streamer-mode"),C=T(h.default,{},"theme"),A=T(p.default,{},"messages"),M=T(_.default,{},"inputMode"),P=T(s.default,{},"volume",T(g.default,{type:"input"}),T(g.default,{type:"output"})),R=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).state={buildOverrideClearing:!1},t.renderMenuItem=function(e){var n=e.section,r=e.label,l=e.onClick,u={key:n,label:r,action:l?function(){(0,o.closeContextMenu)(),l()}:function(){return t.handleAction(n)}};switch(n){case E.UserSettingsSections.STREAMER_MODE:return a.createElement(c.default,O({},u,{render:function(){return[N]}}));case E.UserSettingsSections.APPEARANCE:return a.createElement(c.default,O({},u,{render:function(){return[C,A]}}));case E.UserSettingsSections.VOICE:return a.createElement(c.default,O({},u,{render:function(){return[M,P]}}));case E.UserSettingsSections.EXPERIMENTS:var s=i.default.getRegisteredExperiments(),f=Object.keys(s).map(function(e){return T(v.default,{id:e},e)});return a.createElement(c.default,O({},u,{render:function(){return f}}));case"logout":return null;default:return a.createElement(d.default,u)}},t.handleAction=function(e){(0,o.closeContextMenu)(),l.default.open(e)},t.handleClearBuildOverride=I(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.setState({buildOverrideClearing:!0}),e.next=4,(0,u.clearBuildOverride)();case 4:window.location.reload(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.setState({buildOverrideClearing:!1});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.className,r=t.webBuildOverride,a=t.user,o=this.state.buildOverrideClearing;return null!=r&&(e=T(s.default,{},void 0,T(d.default,{disabled:o,label:"Clear Build Override",action:this.handleClearBuildOverride,danger:!0}))),T("div",{className:n},void 0,(0,f.getUserSettingsSections)({user:a}).map(this.renderMenuItem),e)},r}(a.PureComponent);R.displayName="UserSettingsCogContextMenu";var b=R;t.default=b},8972:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=s(n(106)),o=s(n(42)),l=n(921),i=n(1),u=s(n(6379));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){return d("div",{className:u.default.socialLinks},void 0,d(a.default,{target:"_blank",rel:"author",title:"Twitter",href:(0,l.getLocalizedLink)(i.LocalizedLinks.TWITTER),className:u.default.link},void 0,d(o.default,{name:o.default.Names.TWITTER,foreground:u.default.foreground})),d(a.default,{target:"_blank",rel:"author",title:"Facebook",href:i.SOCIAL_LINKS.FACEBOOK_URL,className:u.default.link},void 0,d(o.default,{name:o.default.Names.FACEBOOK,foreground:u.default.foreground})),d(a.default,{target:"_blank",rel:"author",title:"Instagram",href:i.SOCIAL_LINKS.INSTAGRAM_URL,className:u.default.link},void 0,d(o.default,{name:o.default.Names.INSTAGRAM,foreground:u.default.foreground})))}},8973:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Y(n(0)),o=x(n(8)),l=x(n(892)),i=x(n(3)),u=n(480),s=x(n(6967)),d=x(n(30)),c=n(863),f=x(n(329)),p=x(n(19)),h=x(n(7332)),v=x(n(97)),m=x(n(7790)),_=x(n(25)),g=x(n(11)),E=Y(n(21)),y=x(n(457)),S=x(n(58)),I=x(n(24)),T=Y(n(42)),O=x(n(71)),N=x(n(138)),C=x(n(65)),A=n(136),M=x(n(15)),P=x(n(88)),R=x(n(96)),b=x(n(6536)),L=x(n(6585)),D=Y(n(870)),w=x(n(155)),U=x(n(7333)),G=x(n(6806)),k=x(n(8974)),F=n(1),B=x(n(4)),j=x(n(455)),H=x(n(499)),V=x(n(6131));function x(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=z(b.default,{}),$=function(e){var t,r;function i(t){var n;return(n=e.call(this,t)||this).onEditDiscriminator=function(){M.default.track(F.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:F.AnalyticsPages.USER_SETTINGS,location_section:F.AnalyticsSections.SETTINGS_ACCOUNT,location_object:F.AnalyticsObjects.TOOLTIP}),f.default.setSection(F.UserSettingsSections.PREMIUM)},n.handleSaveProfile=function(){var e=n.props,t=e.currentUser,r=e.accountInfo,o=r.discriminator,l=r.password,i=!1;if(R.default.canEditDiscriminator(t)&&t.discriminator!==o){if(4!==o.length?(n.setState({discriminatorError:B.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_LENGTH_ERROR}),i=!0):0===parseInt(o,10)?(n.setState({discriminatorError:B.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_ZERO_ERROR}),i=!0):n.setState({discriminatorError:null}),0===l.length?(n.setState({passwordError:B.default.Messages.PASSWORD_REQUIRED}),i=!0):n.setState({passwordError:null}),i)return;d.default.push(function(e){return a.createElement(w.default,W({header:B.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_HEADER,cancelText:B.default.Messages.CANCEL,confirmText:B.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_CONFIRM,red:!1,onConfirm:function(){return n.saveAccount()}},e),z(O.default,{size:O.default.Sizes.MEDIUM,color:O.default.Colors.PRIMARY},void 0,B.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_BODY))})}else null==n.state.discriminatorError&&null==n.state.passwordError||n.setState({discriminatorError:null,passwordError:null}),n.saveAccount()},n.debounceFocusBlur=(0,l.default)(function(e){return n.setState({multiInputFocused:e})},50),n.state={multiInputFocused:!0,discriminatorError:null,passwordError:null},n}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=i.prototype;return h.componentWillUnmount=function(){s.default.clearBackupCodes(),(0,c.accountDetailsClose)()},h.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},h.renderPasswordChanger=function(){var e=this.props,t=e.isEditingPassword,n=e.accountInfo;return t?z(A.FormItem,{className:j.default.marginTop20,title:B.default.Messages.FORM_LABEL_NEW_PASSWORD,required:!0},void 0,z(N.default,{name:"newPassword",type:"password",value:null!=n?n.newPassword:"",onChange:this.handleChangeProfileField,error:this.getError("new_password")})):z(A.FormItem,{className:j.default.marginTop20},void 0,z(E.default,{onClick:this.startEditingPassword,color:E.ButtonColors.PRIMARY,look:E.ButtonLooks.LINK,size:E.ButtonSizes.MIN},void 0,B.default.Messages.CHANGE_PASSWORD_LINK))},h.renderUsernameDiscriminator=function(){var e,t=this,n=this.props,r=n.currentUser,a=n.accountInfo,l=this.state.discriminatorError,i=this.getError("username");return l=l||this.getError("discriminator"),z(A.FormItem,{title:B.default.Messages.FORM_LABEL_USERNAME,className:j.default.marginBottom20,required:!0},void 0,z("div",{className:H.default.inputWrapper},void 0,z("div",{className:(0,o.default)(H.default.input,V.default.multiInput,(e={},e[H.default.error]=i||l,e[H.default.focused]=this.state.multiInputFocused,e))},void 0,z(N.default,{name:"username",value:a.username||"",onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},autoFocus:!0,className:V.default.multiInputFirst,inputClassName:V.default.multiInputField}),z(N.default,{name:"discriminator",maxLength:4,value:a.discriminator,onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},inputPrefix:"#",disabled:!R.default.canEditDiscriminator(r),className:V.default.multiInputLast,inputClassName:V.default.multiInputField}),R.default.canEditDiscriminator(r)?null:z(C.default,{text:B.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_TOOLTIP,position:C.default.Positions.BOTTOM},void 0,function(e){var n=e.onMouseEnter,r=e.onMouseLeave;return z(S.default,{"aria-label":B.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_TOOLTIP,tag:"span",className:V.default.questionMark,onClick:t.onEditDiscriminator,onMouseEnter:n,onMouseLeave:r},void 0,z(T.default,{name:T.IconNames.QUESTION_MARK,className:V.default.icon}))})),i?z("div",{className:H.default.errorMessage},void 0,i):null,l?z("div",{className:H.default.errorMessage},void 0,l):null))},h.renderEditing=function(e){var t,n=this;void 0===e&&(e=!0);var r=this.props,a=r.formState,l=r.accountInfo,i=r.claimed,u=r.verified,s=r.currentUser,d=this.state.passwordError,c=u&&e?this.renderPasswordChanger():null;return z(y.default,{className:(0,o.default)(V.default.userInfoEditing,(t={},t[V.default.danger]=!i,t[V.default.warning]=!u,t)),editable:!0},void 0,z(I.default,{},void 0,z(I.default.Child,{grow:0,className:V.default.avatarColumn},void 0,z(L.default,{showIcon:!0,avatar:l.avatar,size:F.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,avatarClassName:V.default.avatarUploaderInner,makeURL:function(e){var t={id:s.id,avatar:e,discriminator:s.discriminator},n=P.default.hasAnimatedAvatar(t)?"gif":"png";return P.default.getUserAvatarURL(t,n)}}),z(O.default,{color:O.default.Colors.RED,className:j.default.marginTop8},void 0,this.getError("avatar"))),z(I.default.Child,{},void 0,this.renderUsernameDiscriminator(),z(A.FormItem,{title:B.default.Messages.FORM_LABEL_EMAIL,className:j.default.marginBottom20,required:!0},void 0,z(N.default,{name:"email",value:l.email||"",onChange:this.handleChangeProfileField,error:this.getError("email")})),z(A.FormItem,{title:B.default.Messages.FORM_LABEL_CURRENT_PASSWORD,required:!0},void 0,z(N.default,{name:"password",type:"password",value:l.password||"",onChange:this.handleChangeProfileField,error:d||this.getError("password")})),c)),z(A.FormDivider,{className:(0,o.default)(j.default.marginTop20,j.default.marginBottom20)}),z(I.default,{justify:I.default.Justify.END,align:I.default.Align.CENTER},void 0,z(I.default.Child,{wrap:!0,grow:0},void 0,z(E.default,{look:E.ButtonLooks.OUTLINED,color:E.ButtonColors.RED,size:E.ButtonSizes.SMALL,onClick:function(){return n.handleDisableAccount(!0)}},void 0,B.default.Messages.DELETE_ACCOUNT)),z(I.default,{grow:1},void 0,i?z(E.default,{look:E.ButtonLooks.OUTLINED,color:E.ButtonColors.RED,size:E.ButtonSizes.SMALL,onClick:function(){return n.handleDisableAccount(!1)}},void 0,B.default.Messages.DISABLE_ACCOUNT):null),z(I.default.Child,{wrap:!0,grow:0},void 0,z("div",{},void 0,i?z(E.default,{look:E.ButtonLooks.LINK,color:E.ButtonColors.PRIMARY,size:E.ButtonSizes.MIN,onClick:this.handleCancelEditing},void 0,B.default.Messages.CANCEL):null)),z(I.default.Child,{wrap:!0,grow:0},void 0,z(E.default,{color:E.ButtonColors.GREEN,size:E.ButtonSizes.SMALL,onClick:this.handleSaveProfile,submitting:a===F.FormStates.SUBMITTING},void 0,B.default.Messages.USER_SETTINGS_SAVE))))},h.renderViewing=function(){var e,t=this.props,n=t.currentUser,r=t.verified;return z(y.default,{className:(0,o.default)(V.default.userInfoViewing,(e={},e[V.default.warning]=!r,e))},void 0,z(I.default,{},void 0,z(I.default.Child,{grow:0},void 0,z("div",{},void 0,z(D.default,{user:n,size:D.Sizes.DEPRECATED_SIZE_100,animate:!0,className:V.default.avatar}))),z(I.default.Child,{},void 0,z(A.FormItem,{className:j.default.marginBottom20},void 0,z(A.FormTitle,{faded:!0,className:j.default.marginBottom4},void 0,B.default.Messages.FORM_LABEL_USERNAME),z(O.default,{className:V.default.viewBody,selectable:!0},void 0,n.toString(),z("span",{style:{opacity:.5}},void 0,"#",n.discriminator))),z(A.FormItem,{},void 0,z(A.FormTitle,{faded:!0,className:j.default.marginBottom4},void 0,B.default.Messages.FORM_LABEL_EMAIL),z(O.default,{className:V.default.viewBody,selectable:!0},void 0,n.email)))),z(E.default,{className:V.default.userInfoViewingButton,size:E.ButtonSizes.SMALL,onClick:this.startEditingProfile},void 0,B.default.Messages.EDIT))},h.renderAccountSettings=function(){var e,t,r=this.props,a=r.verified,o=r.claimed,l=r.isEditingProfile;if(o){if(!a){var i=z("section",{},void 0,z("div",{className:j.default.marginBottom8},void 0,B.default.Messages.USER_SETTINGS_UNVERIFIED_ACCOUNT_BODY),z(G.default,{look:E.ButtonLooks.INVERTED,size:E.ButtonSizes.SMALL,color:E.default.Colors.YELLOW}));t=z(A.FormNotice,{type:A.FormNotice.Types.WARNING,className:j.default.marginBottom8,imageData:{src:n(7793),width:60,height:60},title:B.default.Messages.UNVERIFIED_ACCOUNT_TITLE,body:i})}}else t=z(A.FormNotice,{className:j.default.marginBottom8,imageData:{src:n(7793),width:60,height:60},title:B.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:B.default.Messages.UNCLAIMED_ACCOUNT_BODY.format()}),e=this.renderEditing(!1);return null==e&&(e=l?this.renderEditing():this.renderViewing()),z(A.FormSection,{tag:A.FormTitleTags.H2,title:B.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:V.default.userSettingsAccount},void 0,t,e)},h.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,r=e.currentUser,a=e.theme===F.ThemeTypes.DARK?n(8988):n(8989);return z(A.FormSection,{className:(0,o.default)(V.default.userSettingsSecurity,j.default.marginTop60),title:B.default.Messages.TWO_FA,tag:A.FormTitle.Tags.H2},void 0,z(I.default,{align:I.default.Align.STRETCH},void 0,z(I.default.Child,{wrap:!0},void 0,z(k.default,{backupCodes:t})),r.mfaEnabled?null:z(I.default,{align:I.default.Align.CENTER,basis:"323px",grow:0},void 0,z("img",{src:a,className:V.default.userSettingsSecurityImage,alt:""}))))},h.render=function(){return this.props.hide?K:z("div",{},void 0,this.renderAccountSettings(),this.renderSecuritySettings())},h.startEditingProfile=function(){(0,c.toggleEditingProfile)(!0)},h.startEditingPassword=function(){(0,c.toggleEditingPassword)(!0)},h.handleChangeProfileField=function(e,t){var n;("discriminator"===t&&(e=e.replace(/[^0-9]/,"")),null!=t)&&(0,c.updateAccountInfo)(((n={})[t]=e,n))},h.handleAvatarChange=function(e){(0,c.updateAccountInfo)({avatar:e})},h.handleCancelEditing=function(){(0,c.toggleEditingProfile)(!1)},h.saveAccount=function(){var e=this.props,t=e.claimed,n=e.currentUser,r=e.accountInfo,a=r.username,o=r.email,l=r.password,i=r.newPassword,s=r.avatar,d=r.discriminator;(0,c.saveAccountChanges)(a,o,l,s,i,R.default.canEditDiscriminator(n)?d:null).then(function(e){t||null==e||(0,u.claimSuccess)(e)})},h.handleDisableAccountError=function(e){return new Promise(function(t,n){if(e.body.code===F.AbortCodes.INVALID_PASSWORD)return n(e);d.default.push(function(n){return a.createElement(w.default,W({header:B.default.Messages.DELETE_ACCOUNT_ERROR,onConfirm:t,confirmText:B.default.Messages.OKAY,red:!1},n),z(O.default,{size:O.default.Sizes.MEDIUM,color:O.default.Colors.PRIMARY},void 0,e.body.message))})})},h.handleSubmitDisableAccount=function(e,t){return(0,c.disableAccount)(e,t).then(F.NOOP,this.handleDisableAccountError)},h.handleDisableAccount=function(e){var t=this;void 0===e&&(e=!1);var n=this.props.currentUser,r=p.default.getGuilds();Object.keys(r).filter(function(e){return r[e].ownerId===n.id}).length>0?d.default.push(function(e){return a.createElement(w.default,W({header:B.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:B.default.Messages.OKAY,red:!1},e),z(O.default,{size:O.default.Sizes.MEDIUM,color:O.default.Colors.PRIMARY},void 0,B.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}):n.isClaimed()?d.default.push(function(n){return a.createElement(U.default,W({},n,{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?B.default.Messages.DELETE_ACCOUNT:B.default.Messages.DISABLE_ACCOUNT,actionText:e?B.default.Messages.DELETE_ACCOUNT:B.default.Messages.DISABLE_ACCOUNT}),e?B.default.Messages.DELETE_ACCOUNT_BODY:B.default.Messages.DISABLE_ACCOUNT_BODY)}):d.default.push(function(e){return a.createElement(w.default,W({header:B.default.Messages.DELETE_ACCOUNT,confirmText:B.default.Messages.DELETE_ACCOUNT,cancelText:B.default.Messages.CANCEL,onConfirm:function(){return(0,c.disableAccount)("",!1)}},e),z(O.default,{size:O.default.Sizes.MEDIUM,color:O.default.Colors.PRIMARY},void 0,B.default.Messages.DELETE_ACCOUNT_BODY))})},i}(a.PureComponent);$.displayName="UserSettingsAccount";var Q=i.default.connectStores([g.default,v.default,m.default,_.default,h.default],function(){return W({},m.default.getState(),{currentUser:g.default.getCurrentUser(),backupCodes:h.default.getBackupCodes(),hide:v.default.hidePersonalInformation,theme:_.default.theme})})($);t.default=Q},8974:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=M(n(0)),o=A(n(8)),l=A(n(3)),i=A(n(6967)),u=A(n(30)),s=A(n(6791)),d=A(n(7332)),c=A(n(11)),f=A(n(106)),p=M(n(21)),h=A(n(461)),v=A(n(24)),m=n(136),_=n(7791),g=A(n(7792)),E=A(n(8980)),y=A(n(8986)),S=A(n(7333)),I=A(n(6709)),T=n(1),O=A(n(4)),N=A(n(455)),C=A(n(6131));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){var t,r;function l(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={revealed:!1},t.togglePhoneNumberVisibility=function(e){e.preventDefault(),t.setState({revealed:!t.state.revealed})},t.handleEnableMFA=function(){u.default.push(function(e){var n=e.onClose,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClose"]);return a.createElement(E.default,R({},r,{onClose:function(){null!=n&&n(),t.handleEnableMFASuccess()}}))})},t.handleEnableMFASuccess=function(){u.default.push(function(e){return a.createElement(y.default,e)})},t.handleDisableMFA=function(){i.default.disable()},t.generateBackupCodes=function(){u.default.push(function(e){return a.createElement(S.default,R({},e,{handleSubmit:function(e){return i.default.viewBackupCodes(e,!0)},title:O.default.Messages.TWO_FA_GENERATE_CODES,actionText:O.default.Messages.TWO_FA_GENERATE_CODES}),O.default.Messages.TWO_FA_GENERATE_CODES_CONFIRM_TEXT)})},t.viewBackupCodes=function(){u.default.push(function(e){return a.createElement(S.default,R({},e,{handleSubmit:function(e){return i.default.viewBackupCodes(e)},title:O.default.Messages.TWO_FA_VIEW_BACKUP_CODES,actionText:O.default.Messages.TWO_FA_VIEW_CODES}))})},t.getDownloadFileContents=function(){var e=t.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")}).join("\r\n");return O.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e},t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()},t.handleEnableSMS=function(){var e=function(){u.default.push(function(e){return a.createElement(S.default,R({},e,{handleSubmit:i.default.enableSMS,title:O.default.Messages.MFA_SMS_ENABLE}))})};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()},t.handleDisableSMS=function(){u.default.push(function(e){return a.createElement(S.default,R({},e,{handleSubmit:i.default.disableSMS,title:O.default.Messages.MFA_SMS_REMOVE}),O.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)})},t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=l.prototype;return d.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)},d.renderMFASMS=function(){var e,t,n=this.state.revealed,r=this.props,a=r.currentUser,l=r.togglingSMS,i=null!=a.phone,u=a.hasFlag(T.UserFlags.MFA_SMS);if(i||u){var s=n?a.phone:this.maskPhoneNumber(a.phone);t=P(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:N.default.marginBottom8},void 0,O.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:s}),P(f.default,{onClick:this.togglePhoneNumberVisibility,className:C.default.phoneRevealer},void 0,n?O.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:O.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(u)e=P(v.default,{className:i?"":N.default.marginTop8},void 0,P(p.default,{color:p.default.Colors.RED,look:p.default.Looks.OUTLINED,size:p.default.Sizes.SMALL,submitting:l,onClick:this.handleDisableSMS},void 0,O.default.Messages.MFA_SMS_REMOVE));else{var d=a.hasFlag(T.UserFlags.STAFF)||a.hasFlag(T.UserFlags.PARTNER);e=P(v.default,{className:i?"":N.default.marginTop8},void 0,P(p.default,{onClick:this.handleEnableSMS,size:p.default.Sizes.SMALL,submitting:l,disabled:d},void 0,d?O.default.Messages.MFA_SMS_DISABLED_PARTNER:O.default.Messages.MFA_SMS_ENABLE),i?P(p.default,{onClick:this.handleChangePhoneNumber,color:p.default.Colors.PRIMARY,size:p.default.Sizes.SMALL,look:p.default.Looks.LINK},void 0,O.default.Messages.CHANGE_PHONE_NUMBER):null)}return P(m.FormSection,{className:(0,o.default)(N.default.marginBottom40,N.default.marginTop40),title:O.default.Messages.MFA_SMS_AUTH},void 0,P(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,O.default.Messages.MFA_SMS_AUTH_SALES_PITCH),t,e)},d.renderEnabled=function(){var e,t=this.props.backupCodes,r=P(p.default,{onClick:this.viewBackupCodes,size:p.default.Sizes.SMALL},void 0,O.default.Messages.TWO_FA_VIEW_BACKUP_CODES);if(t.length){r=P(g.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",className:(0,o.default)(C.default.btn,C.default.btnPrimary)},void 0,P(p.default,{size:p.default.Sizes.SMALL},void 0,O.default.Messages.TWO_FA_DOWNLOAD_CODES));var a=function(e){return e.map(function(e){var t=e.consumed,n=e.code;return P("li",{className:N.default.marginBottom20},n,P(h.default,{readOnly:!0,className:C.default.codeCheckbox,value:t},void 0,P("span",{className:C.default.code},void 0,n.substr(0,4)+"-"+n.substr(4))))})};e=P(m.FormSection,{title:O.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,P(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:N.default.marginBottom20},void 0,O.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),P(v.default,{},void 0,P(v.default.Child,{},void 0,P("ul",{className:C.default.checkboxGroup},void 0,a(t.slice(0,t.length/2)))),P(v.default.Child,{},void 0,P("ul",{className:C.default.checkboxGroup},void 0,a(t.slice(t.length/2))))),P("div",{},void 0,P(p.default,{onClick:this.generateBackupCodes,look:p.ButtonLooks.LINK,size:p.ButtonSizes.MIN},void 0,O.default.Messages.TWO_FA_GENERATE_CODES)),P(m.FormDivider,{className:N.default.marginTop20}))}return P(m.FormSection,{},void 0,P(m.FormTitle,{className:(0,o.default)(C.default.isEnabled,N.default.marginTop4,N.default.marginBottom8)},void 0,P("img",{alt:"",className:(0,o.default)(C.default.lockIcon),src:n(8987)}),O.default.Messages.TWO_FA_ENABLED),P(v.default,{justify:v.default.Justify.START,className:N.default.marginBottom20},void 0,P(v.default.Child,{wrap:!0,grow:0},void 0,r),P(v.default.Child,{wrap:!0},void 0,P(p.default,{onClick:this.handleDisableMFA,size:p.default.Sizes.SMALL,color:p.ButtonColors.RED,look:p.ButtonLooks.OUTLINED},void 0,O.default.Messages.TWO_FA_REMOVE))),e,this.renderMFASMS())},d.renderDisabled=function(){return P(m.FormSection,{},void 0,P(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:N.default.marginBottom20},void 0,O.default.Messages.TWO_FA_SALES_PITCH),P(m.FormItem,{},void 0,P(p.default,{onClick:this.handleEnableMFA,size:p.ButtonSizes.SMALL},void 0,O.default.Messages.TWO_FA_ENABLE)))},d.render=function(){var e=this.props.currentUser;return _.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():P(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,O.default.Messages.TWO_FA_NOT_VERIFIED):P(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,O.default.Messages.TWO_FA_USE_DESKTOP_APP)},d.openPhoneVerificationModal=function(e){void 0===e&&(e={}),s.default.reset(),u.default.push(function(t){return a.createElement(I.default,R({},t,e))})},l}(a.PureComponent);b.displayName="TwoFactorAuth";var L=l.default.connectStores([c.default,d.default],function(){return{currentUser:c.default.getCurrentUser(),togglingSMS:d.default.togglingSMS}})(b);t.default=L},8980:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(6967)),l=y(n(30)),i=y(n(11)),u=y(n(21)),s=y(n(24)),d=y(n(71)),c=y(n(138)),f=y(n(75)),p=y(n(332)),h=y(n(258)),v=y(n(66)),m=n(7791),_=y(n(8981)),g=y(n(4)),E=y(n(6381));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(e){var t=e.image,n=e.label,r=e.text,a=e.children;return I(s.default,{className:E.default.spacing},void 0,I(s.default,{grow:0,shrink:0,basis:"156px",justify:s.default.Justify.CENTER,className:E.default.image},void 0,t),I(s.default,{direction:s.default.Direction.VERTICAL,justify:s.default.Justify.CENTER},void 0,I("div",{},void 0,I(v.default,{tag:v.default.Tags.H5,className:E.default.headerSpacing},void 0,n),I(h.default,{type:h.default.Types.DESCRIPTION},void 0,r),a)))};T.displayName="ModalSection";var O=function(e){var t,r;function a(t){var n;return(n=e.call(this,t)||this).handleActivateSuccess=function(){var e=n.props.onClose;null!=e&&e()},S(n).handleActivate=n.handleActivate.bind(S(n)),S(n).handleCodeChange=n.handleCodeChange.bind(S(n)),n.state={code:"",totpSecret:(0,m.generateTotpSecret)(),error:null},n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=a.prototype;return h.render=function(){var e=this.state,t=e.totpSecret,r=e.code,a=i.default.getCurrentUser().email,o=(0,m.encodeTotpSecretAsUrl)(a,t),h=I(s.default,{className:E.default.inputContainer,align:s.default.Align.START},void 0,I(c.default,{value:r,className:E.default.input,placeholder:"000 000",maxLength:7,autoComplete:"off",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),I(s.default.Child,{grow:0,shrink:0},void 0,I(u.default,{onClick:this.handleActivate},void 0,g.default.Messages.TWO_FA_ACTIVATE)));return I(f.default,{size:E.default.customWidth},void 0,I(f.default.Header,{},void 0,I(s.default.Child,{grow:1,shrink:1},void 0,I(v.default,{tag:v.default.Tags.H4},void 0,g.default.Messages.TWO_FA_ENABLE),I(d.default,{size:d.default.Sizes.SMALL,className:E.default.subHeader},void 0,g.default.Messages.TWO_FA_ENABLE_SUBHEADER)),I(s.default.Child,{grow:0},void 0,I(f.default.CloseButton,{onClick:l.default.pop}))),I(f.default.Content,{},void 0,I(T,{image:I("img",{alt:"",src:n(8984),width:100,height:100}),label:g.default.Messages.TWO_FA_DOWNLOAD_APP_LABEL,text:g.default.Messages.TWO_FA_DOWNLOAD_APP_BODY.format({googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),I(p.default,{className:E.default.divider}),I(T,{image:I(_.default,{text:o}),label:g.default.Messages.TWO_FA_QR_LABEL,text:g.default.Messages.TWO_FA_QR_BODY},void 0,I("div",{className:E.default.topSpacing},void 0,I(v.default,{tag:v.default.Tags.H5,className:E.default.headerSpacing},void 0,g.default.Messages.TWO_FA_KEY),I(d.default,{color:d.default.Colors.PRIMARY,size:d.default.Sizes.MEDIUM,family:d.default.Family.CODE,selectable:!0},void 0,t))),I(p.default,{className:E.default.divider}),I(T,{image:I("img",{alt:"",src:n(8985)}),label:g.default.Messages.TWO_FA_LOGIN_LABEL,text:g.default.Messages.TWO_FA_LOGIN_BODY},void 0,h)))},h.handleCodeChange=function(e){this.setState({code:e})},h.handleActivate=function(){var e=this,t=this.state,n=t.totpSecret,r=t.code;o.default.enable({code:r,secret:(0,m.encodeTotpSecret)(n)}).then(this.handleActivateSuccess,function(t){return e.setState({error:t.body.message})})},a}(a.PureComponent);O.displayName="MFAEnable",O.key=function(){return"mfa-enable-modal"};var N=O;t.default=N},8981:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(0)),a=o(n(8982));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var l=function(e){var t,n;function o(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).QRRef=r.createRef(),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=o.prototype;return l.componentDidMount=function(){new a.default(this.QRRef.current,this.props)},l.componentDidUpdate=function(){new a.default(this.QRRef.current,this.props)},l.render=function(){return r.createElement("div",{ref:this.QRRef,style:{padding:8,borderRadius:4,background:this.props.colorLight}})},o}(r.PureComponent);l.displayName="QRCode",l.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000",correctLevel:a.CorrectLevel.M};var i=l;t.default=i},8984:function(e,t,n){e.exports=n.p+"0b8465d21b4c248c18f7e0a44fda86cc.png"},8985:function(e,t,n){e.exports=n.p+"cdec1a78913423b428eb0013e9678244.svg"},8986:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=O(n(3)),l=O(n(6967)),i=O(n(30)),u=O(n(6791)),s=O(n(878)),d=O(n(7332)),c=O(n(11)),f=O(n(21)),p=O(n(24)),h=O(n(71)),v=O(n(75)),m=O(n(332)),_=O(n(66)),g=O(n(7792)),E=O(n(6709)),y=O(n(7333)),S=n(1),I=O(n(4)),T=O(n(6382));function O(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=function(e){var t=e.label,n=e.text,r=e.children,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["label","text","children"]);return a.createElement(p.default,N({direction:p.default.Direction.VERTICAL},o),C(_.default,{tag:_.default.Tags.H2},void 0,t),null!=n?C(h.default,{size:h.default.Sizes.MEDIUM,className:T.default.sectionBody},void 0,n):null,C(p.default.Child,{wrap:!0},void 0,r))};A.displayName="ModalSection";var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).getDownloadFileContents=function(){var e=t.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"("+I.default.Messages.TWO_FA_BACKUP_CODE_USED+")":"")}).join("\r\n");return I.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e},t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()},t.handleEnableSMS=function(){var e=function(){i.default.push(function(e){return a.createElement(y.default,N({},e,{handleSubmit:function(e){return l.default.enableSMS(e)},title:I.default.Messages.MFA_SMS_ENABLE}))})};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderSMSSection=function(){var e=this.props.currentUser,t=null!=this.props.currentUser.phone,n=e.hasFlag(S.UserFlags.MFA_SMS),r=e.hasFlag(S.UserFlags.PARTNER)||e.hasFlag(S.UserFlags.STAFF);return t?C(A,{label:I.default.Messages.MFA_SMS_ENABLE,text:I.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,C(h.default,{size:h.default.Sizes.MEDIUM,className:T.default.sectionBody},void 0,C("strong",{className:T.default.phoneNumber},void 0,I.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:e.phone})),C(f.default,{look:f.default.Looks.LINK,color:f.default.Colors.LINK,size:f.default.Sizes.MIN,className:T.default.linkButton,onClick:this.handleChangePhoneNumber},void 0,I.default.Messages.CHANGE_PHONE_NUMBER)),C(f.default,{onClick:this.handleEnableSMS,disabled:n||r,color:f.default.Colors.GREEN,size:f.default.Sizes.SMALL},void 0,r?I.default.Messages.MFA_SMS_DISABLED_PARTNER:n?I.default.Messages.MFA_SMS_ALREADY_ENABLED:I.default.Messages.MFA_SMS_ENABLE)):C(A,{label:I.default.Messages.MFA_SMS_ENABLE,text:I.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,C(f.default,{onClick:this.handleEnableSMS,color:f.default.Colors.GREEN,size:f.default.Sizes.SMALL,disabled:r},void 0,r?I.default.Messages.MFA_SMS_DISABLED_PARTNER:I.default.Messages.MFA_SMS_ADD_PHONE))},o.renderBackupCodesSection=function(){return C(A,{label:I.default.Messages.TWO_FA_DOWNLOAD_CODES,text:I.default.Messages.TWO_FA_BACKUP_CODES_SALES_PITCH},void 0,C(g.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,C(f.default,{color:f.default.Colors.GREEN,size:f.default.Sizes.SMALL},void 0,I.default.Messages.TWO_FA_DOWNLOAD_CODES)))},o.renderHeader=function(){return C(v.default.Header,{},void 0,C(p.default.Child,{grow:1,shrink:1},void 0,C(_.default,{tag:_.default.Tags.H4,className:T.default.header},void 0,s.default.parse(I.default.Messages.TWO_FA_SUCCESS_HEADER)),C(h.default,{size:h.default.Sizes.SMALL,className:T.default.subHeader},void 0,I.default.Messages.MFA_SMS_ENABLE_SUBHEADER)),C(p.default.Child,{grow:0},void 0,C(v.default.CloseButton,{onClick:i.default.pop})))},o.render=function(){return C(v.default,{className:T.default.modal},void 0,this.renderHeader(),C(v.default.Content,{className:T.default.modalInner},void 0,this.renderSMSSection(),C(m.default,{className:T.default.divider}),this.renderBackupCodesSection()))},o.openPhoneVerificationModal=function(e){void 0===e&&(e={}),u.default.reset(),i.default.push(function(t){return a.createElement(E.default,N({},t,e))})},r}(a.PureComponent);M.displayName="MFAEnableSuccess";var P=o.default.connectStores([c.default],function(){return{currentUser:c.default.getCurrentUser(),backupCodes:d.default.getBackupCodes()}})(M);t.default=P},8987:function(e,t,n){e.exports=n.p+"b73a63cb14a22dd24f0f8da07b186335.svg"},8988:function(e,t,n){e.exports=n.p+"cdea41ede63f61153e4a3c0531fa3873.svg"},8989:function(e,t,n){e.exports=n.p+"f8696a3854655998a24c219403420867.svg"},8990:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=L(n(0)),o=b(n(8)),l=b(n(3)),i=n(368),u=n(7210),s=n(953),d=b(n(329)),c=b(n(495)),f=b(n(22)),p=b(n(97)),h=b(n(125)),v=b(n(11)),m=b(n(21)),_=b(n(457)),g=b(n(42)),E=b(n(332)),y=b(n(261)),S=b(n(258)),I=L(n(66)),T=b(n(328)),O=b(n(257)),N=b(n(6536)),C=b(n(8991)),A=n(1),M=b(n(4)),P=b(n(455)),R=b(n(6384));function b(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){var n=e.getIconURL(t);return null!=n?w("img",{className:R.default.itemIcon,style:{width:t,height:t},src:n,alt:e.name}):w(g.default,{width:t,height:t,name:g.default.Names.ACTIVITY_FILLED,color:A.Colors.PRIMARY_DARK_300})}var G=function(e){function t(){return e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e,t=this.props,n=t.application,r=t.selected,a=U(n,24);return w("div",{className:(0,o.default)(R.default.searchOption,(e={},e[R.default.selected]=r,e))},void 0,w("div",{className:R.default.searchInfo},void 0,a,w(O.default,{className:R.default.searchLabel,size:O.default.Sizes.SIZE_14},void 0,n.name)),r?w(O.default,{className:R.default.searchSelect,size:O.default.Sizes.SIZE_12},void 0,M.default.Messages.USER_SETTINGS_AF_SEARCH_CTA):null)},t}(a.PureComponent);G.displayName="SearchResult";var k=function(e){function t(){return e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.name,r=e.buttonText,a=e.onButtonClick;return w("div",{className:R.default.itemContainer},void 0,t,w(O.default,{className:R.default.itemName,size:O.default.Sizes.SIZE_14},void 0,n),w(m.default,{className:R.default.unfollowButton,onClick:a,size:m.default.Sizes.MIN},void 0,r))},t}(a.PureComponent);k.displayName="Item";var F=w(N.default,{}),B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClickPrivacy=function(){d.default.open(A.UserSettingsSections.PRIVACY_AND_SAFETY)},t.handleConsent=function(){(0,u.setConsents)([A.Consents.PERSONALIZATION],[])},t.renderResult=function(e,t){return w(G,{application:e,selected:t})},t}D(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,s.fetchSettings)({includeAutosubscribedGames:!0}),(0,s.fetchUnknownUnsubscribedUsers)()},n.renderEmptyApplications=function(){return w(_.default,{className:R.default.emptyApplications,type:_.default.Types.CUSTOM},void 0,w("div",{className:R.default.emptyApplicationsImage}),w(O.default,{className:R.default.emptyApplicationsTitle,size:O.default.Sizes.SIZE_16},void 0,M.default.Messages.USER_SETTINGS_AF_APPLICATIONS_EMPTY_TITLE),w(O.default,{className:R.default.emptyApplicationsBody,size:O.default.Sizes.SIZE_14},void 0,M.default.Messages.USER_SETTINGS_AF_APPLICATIONS_EMPTY_BODY))},n.renderApplications=function(){var e=this.props.applications;if(0===e.length)return this.renderEmptyApplications();var t=[];return e.forEach(function(n,r){var o=U(n,32);t.push(w(a.Fragment,{},n.id,w(k,{icon:o,name:n.name,buttonText:M.default.Messages.USER_SETTINGS_AF_UNFOLLOW,onButtonClick:function(){return(0,i.removeGamesFromFeed)([n.id])}}),r!==e.length-1?w(E.default,{className:R.default.divider}):null))}),t},n.renderApplicationSection=function(){return w("div",{className:R.default.sectionContainer},void 0,w(I.default,{tag:I.Tags.H5,className:P.default.marginBottom8},void 0,M.default.Messages.USER_SETTINGS_AF_FOLLOWING_APPLICATIONS),w(S.default,{type:S.default.Types.DESCRIPTION,className:P.default.marginBottom20},void 0,M.default.Messages.USER_SETTINGS_AF_FOLLOWING_APPLICATIONS_DESCRIPTION),w(C.default,{renderResult:this.renderResult}),this.renderApplications())},n.renderEmptyUsers=function(){return w(_.default,{className:R.default.emptyUsers,type:_.default.Types.CUSTOM},void 0,w(O.default,{size:O.default.Sizes.SIZE_14},void 0,M.default.Messages.USER_SETTINGS_AF_HIDDEN_EMPTY))},n.renderUsers=function(){var e=this.props.unsubscribedUsers;if(0===e.length)return this.renderEmptyUsers();var t=[];return e.forEach(function(n,r){var o=w(T.default,{src:n.avatarURL,"aria-label":n.username,size:T.default.Sizes.SIZE_40});t.push(w(a.Fragment,{},n.id,w(k,{icon:o,name:n.username,buttonText:M.default.Messages.USER_SETTINGS_AF_UNBLOCK,onButtonClick:function(){return(0,i.addMembersToFeed)([n.id])}}),r!==e.length-1?w(E.default,{className:R.default.divider}):null))}),t},n.renderUserSection=function(){return w("div",{className:R.default.sectionContainer},void 0,w(I.default,{tag:I.Tags.H5,className:(0,o.default)(P.default.marginBottom8,P.default.marginTop40)},void 0,M.default.Messages.USER_SETTINGS_AF_BLOCKED_USERS),w(S.default,{type:S.default.Types.DESCRIPTION,className:P.default.marginBottom20},void 0,M.default.Messages.USER_SETTINGS_AF_BLOCKED_USERS_DESCRIPTION),this.renderUsers())},n.renderConsentCard=function(){return w(y.default,{tag:I.default.Tags.H2,title:M.default.Messages.USER_SETTINGS_ACTIVITY_FEED},void 0,w(_.default,{className:R.default.consent,type:_.default.Types.CUSTOM},void 0,w("div",{className:R.default.consentImage}),w("div",{className:R.default.consentTitle},void 0,M.default.Messages.ACTIVITY_FEED_CARD_GDPR_HEADER),w("div",{className:R.default.consentBody},void 0,M.default.Messages.ACTIVITY_FEED_CARD_GDPR_BODY.format({onClickPrivacy:this.handleClickPrivacy})),w(m.default,{className:R.default.consentButton,onClick:this.handleConsent,size:m.default.Sizes.SMALL,look:m.default.Looks.INVERTED},void 0,M.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES)))},n.render=function(){var e=this.props,t=e.hide,n=e.consented;return t?F:n?w(y.default,{tag:I.default.Tags.H2,title:M.default.Messages.USER_SETTINGS_ACTIVITY_FEED},void 0,this.renderApplicationSection(),this.renderUserSection()):this.renderConsentCard()},t}(a.PureComponent);B.displayName="UserSettingsActivityFeed";var j=l.default.connectStores([h.default,c.default,v.default],function(){return{applications:Array.from(h.default.gameIDsToShow,function(e){return f.default.getGame(e)}).filter(function(e){return null!=e}).sort(function(e,t){return e.name.localeCompare(t.name)}),unsubscribedUsers:Array.from(h.default.unsubscribedUserIds,function(e){return v.default.getUser(e)}).filter(function(e){return null!=e}).sort(function(e,t){return e.username.localeCompare(t.username)}),hide:p.default.hidePersonalInformation,consented:c.default.hasConsented(A.Consents.PERSONALIZATION)}})(B);t.default=j},8991:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(8)),l=_(n(923)),i=_(n(3)),u=n(368),s=_(n(8992)),d=_(n(8993)),c=_(n(125)),f=_(n(58)),p=_(n(6789)),h=_(n(468)),v=_(n(4)),m=_(n(6383));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=null,t.state={selectedIndex:-1},t.setScrollerRef=function(e){t._scrollerRef=e},t.onKeyDown=function(e){switch(e.keyCode){case l.default.codes.up:e.preventDefault(),t.setSelectedIndex(t.state.selectedIndex-1);break;case l.default.codes.down:e.preventDefault(),t.setSelectedIndex(t.state.selectedIndex+1);break;case l.default.codes.enter:e.preventDefault();var n=t.props.results;t.state.selectedIndex>=0&&n.length>0&&t.handleGameAdd(n[t.state.selectedIndex])}},t.setSelectedIndex=function(e){e>=0&&e<t.props.results.length&&t.setState({selectedIndex:e})},t.ensureSelectedInView=function(){null!=t._scrollerRef&&t._scrollerRef.scrollIndexIntoView(t.state.selectedIndex,!1)},t.handleGameAdd=function(e){(0,u.addGamesToFeed)([e.id]),t.handleClear()},t.handleQueryChange=function(e){s.default.setQuery(e)},t.handleClear=function(){s.default.setQuery(""),t.setState({selectedIndex:-1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidUpdate=function(e){var t=this.props,n=t.query,r=t.results;e.query!==n&&r.length>0?this.setSelectedIndex(0):0===r.length&&this.setSelectedIndex(-1),this.ensureSelectedInView()},i.renderResult=function(e,t){var n=this,r=this.props.renderResult;return g(f.default,{onClick:function(){return n.handleGameAdd(e)},onMouseOver:function(){return n.setSelectedIndex(t)},onFocus:function(){return n.setSelectedIndex(t)}},e.id,r(e,t===this.state.selectedIndex))},i.renderSearchResults=function(){var e,t=this,n=this.props,r=n.query,l=n.results;return g("div",{className:(0,o.default)(m.default.searchResultsContainer,(e={},e[m.default.resultsHidden]=""===r||0===l.length,e))},void 0,a.createElement(h.default,{ref:this.setScrollerRef,className:m.default.autocompleteScroller,paddingTop:4,paddingBottom:4,elementHeight:32,track:!1},l.map(function(e,n){return t.renderResult(e,n)})))},i.render=function(){var e=this.props.query;return g("div",{className:m.default.container,onKeyDown:this.onKeyDown},void 0,g(p.default,{className:m.default.search,inputClassName:m.default.searchInput,iconClassName:m.default.searchIcon,placeholder:v.default.Messages.USER_SETTINGS_AF_SEARCH_PLACEHOLDER,searchTerm:e,onChange:this.handleQueryChange,onClear:this.handleClear}),this.renderSearchResults())},r}(a.PureComponent);E.displayName="GameSearch";var y=i.default.connectStores([d.default,c.default],function(){var e=d.default.query,t=d.default.results(),n=c.default.subscribedGameIds;return{query:e,results:""!==e?t.filter(function(e){return!n.has(e.id)}):[]}})(E);t.default=y},8992:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={setQuery:function(e){a.default.dispatch({type:o.ActionTypes.GAME_AUTOCOMPLETE_QUERY,query:e})}};t.default=l},8993:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(6)),a=i(n(3)),o=i(n(2)),l=i(n(22));n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s="";var d=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,i,d,c=a.prototype;return c.initialize=function(){this.waitFor(l.default)},c.results=function(){return(0,r.default)(l.default.games).filter(function(e){return e.name.toLowerCase().startsWith(s.toLowerCase())}).sort(function(e,t){return e.name.localeCompare(t.name)}).value()},o=a,(i=[{key:"query",get:function(){return s}}])&&u(o.prototype,i),d&&u(o,d),a}(a.default.Store))(o.default,{GAME_AUTOCOMPLETE_QUERY:function(e){var t=e.query;s=t}});t.default=d},8994:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=G(n(0)),o=U(n(8)),l=U(n(3)),i=n(962),u=U(n(30)),s=G(n(937)),d=U(n(337)),c=U(n(6542)),f=U(n(67)),p=U(n(358)),h=U(n(856)),v=U(n(25)),m=U(n(198)),_=U(n(457)),g=U(n(24)),E=U(n(6525)),y=U(n(898)),S=U(n(852)),I=U(n(71)),T=n(136),O=n(272),N=U(n(278)),C=U(n(20)),A=U(n(13)),M=U(n(6691)),P=U(n(155)),R=U(n(8995)),b=n(1),L=U(n(4)),D=U(n(455)),w=U(n(6386));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B={COZY:"cozy",COMPACT:"compact"},j="1337",H=function(e){var t=0;return[p.default.create(F({},N.default.createMessage(j,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1),{state:b.MessageStates.SENT,id:""+t++})),p.default.create(F({},N.default.createMessage(j,e===b.ThemeTypes.DARK?L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT),{state:b.MessageStates.SENT,id:""+t++})),p.default.create(F({},N.default.createMessage(j,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3),{state:b.MessageStates.SENT,id:""+t++})),p.default.create(F({},N.default.createMessage(j,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4),{state:b.MessageStates.SENT,id:""+t++})),p.default.create(F({},N.default.createMessage(j,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5),{state:b.MessageStates.SENT,id:"4"}))]},V=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).hardwareAccelerationEnabled=C.default.getEnableHardwareAcceleration(),n.handleThemeChange=function(e){var t=e.value;d.default.updateRemoteSettings({theme:t})},n.handleMessageDisplayModeChange=function(e){var t=e.value;t!==n.props.messageDisplayCompact&&d.default.updateRemoteSettings({messageDisplayCompact:t===B.COMPACT})},n.handleTestModeChecked=function(e){e.currentTarget.checked?u.default.push(R.default):s.reset()},n.channel=new f.default({id:j}),n.darkMessages=H(b.ThemeTypes.DARK),n.lightMessages=H(b.ThemeTypes.LIGHT),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getPreviewMessage=function(e){return e===b.ThemeTypes.DARK?L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT},l.renderZoomSlider=function(){return A.default.embedded?k(T.FormItem,{title:L.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL,className:D.default.marginTop20},void 0,k(y.default,{className:(0,o.default)(D.default.marginTop20,D.default.marginBottom4),initialValue:this.props.zoom,defaultValue:b.Accessibility.ZOOM_DEFAULT,markers:b.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender}),k(T.FormText,{type:T.FormText.Types.DESCRIPTION},void 0,L.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:c.default.modKey}))):null},l.renderFontScaleSlider=function(){return k(T.FormItem,{title:L.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL},void 0,k(g.default,{align:g.default.Align.CENTER},void 0,k(g.default.Child,{className:w.default.fontScaleSmall},void 0,"Aa"),k(g.default.Child,{},void 0,k(y.default,{className:D.default.marginTop4,initialValue:this.props.fontSize,defaultValue:b.Accessibility.FONT_SIZE_DEFAULT,markers:b.Accessibility.FONT_SIZES,stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX})),k(g.default.Child,{className:w.default.fontScaleLarge},void 0,"Aa")))},l.renderPreview=function(){var e,t=this,n=this.props,r=n.messageDisplayCompact,a=n.theme===b.ThemeTypes.DARK?this.darkMessages:this.lightMessages;return k(_.default,{className:w.default.preview,outline:!0},void 0,k("div",{className:(0,o.default)(w.default.previewInner,(e={},e[w.default.previewCompact]=r,e))},void 0,a.map(function(e){return k(M.default,{channel:t.channel,messages:[e],enableInteraction:!1,compact:r},e.id)})))},l.renderThemePicker=function(){var e=this.props.theme;return k(T.FormItem,{title:L.default.Messages.THEME,className:D.default.marginTop40},void 0,k(E.default,{options:[{name:L.default.Messages.THEME_DARK,value:b.ThemeTypes.DARK},{name:L.default.Messages.THEME_LIGHT,value:b.ThemeTypes.LIGHT}],onChange:this.handleThemeChange,value:e}))},l.renderDisplayMode=function(){return k(T.FormItem,{title:L.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:D.default.marginTop40},void 0,k(E.default,{options:[{name:L.default.Messages.COZY_MODE,value:B.COZY},{name:L.default.Messages.COMPACT_MODE,value:B.COMPACT}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?B.COMPACT:B.COZY}))},l.renderColorblindMode=function(){return k(T.FormItem,{title:L.default.Messages.USER_SETTINGS_APPEARANCE_COLORS,className:D.default.marginTop40},void 0,k(S.default,{onChange:i.toggleColorblindMode,value:this.props.colorblindMode,note:L.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_DESCRIPTION},void 0,L.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_TITLE))},l.renderDeveloperMode=function(){if(O.SUPPORTS_COPY)return k(S.default,{value:this.props.developerMode,onChange:this.handleDeveloperModeChecked,note:L.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:b.MarketingURLs.API_DOCS})},void 0,L.default.Messages.DEVELOPER_MODE)},l.renderHardwareAcceleration=function(){if(A.default.embedded)return k(S.default,{value:this.hardwareAccelerationEnabled,onChange:this.handleHardwareAccelerationChecked,note:L.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,L.default.Messages.HARDWARE_ACCELERATION)},l.renderDisableGamesTab=function(){var e=this.props.disableGamesTab;return k(S.default,{value:!e,note:L.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB_NOTE,onChange:this.handleDisableGamesTabChecked},void 0,L.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB)},l.renderTestMode=function(){var e=this.props,t=e.developerMode,n=e.testModeApplicationId;return t?k(S.default,{value:null!=n,note:L.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:this.handleTestModeChecked},void 0,L.default.Messages.DEVELOPER_APPLICATION_TEST_MODE):null},l.handleDarkSidebarChecked=function(){(0,i.toggleDarkSidebar)()},l.renderAccessibility=function(){var e=this.props,t=e.theme,n=e.darkSidebar;return a.createElement(a.Fragment,null,k(T.FormTitle,{tag:T.FormTitleTags.H2,className:(0,o.default)(D.default.marginTop60,D.default.marginBottom20)},void 0,L.default.Messages.ACCESSIBILITY),k(S.default,{value:n&&t===b.ThemeTypes.LIGHT,disabled:t!==b.ThemeTypes.LIGHT,onChange:this.handleDarkSidebarChecked},void 0,L.default.Messages.ACCESSIBILITY_DARK_SIDEBAR),this.renderFontScaleSlider(),this.renderZoomSlider())},l.render=function(){return k(T.FormSection,{className:w.default.container,tag:T.FormTitleTags.H2,title:L.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderThemePicker(),this.renderDisplayMode(),this.renderAccessibility(),k(T.FormTitle,{tag:T.FormTitleTags.H2,className:(0,o.default)(D.default.marginTop60,D.default.marginBottom20)},void 0,L.default.Messages.SETTINGS_ADVANCED),this.renderDeveloperMode(),this.renderHardwareAcceleration(),this.renderDisableGamesTab(),this.renderTestMode())},l.handleDeveloperModeChecked=function(e){d.default.updateRemoteSettings({developerMode:e.currentTarget.checked})},l.handleHardwareAccelerationChecked=function(e){var t=e.currentTarget.checked;u.default.push(function(e){return a.createElement(P.default,F({header:L.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:L.default.Messages.OKAY,cancelText:L.default.Messages.CANCEL,onConfirm:function(){return C.default.setEnableHardwareAcceleration(t)},red:!0},e),k(I.default,{size:I.default.Sizes.MEDIUM,color:I.default.Colors.PRIMARY},void 0,L.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))})},l.handleDisableGamesTabChecked=function(e){d.default.updateRemoteSettings({disableGamesTab:!e.currentTarget.checked})},l.handleSliderRender=function(e){return e.toFixed(0)+"%"},l.handleSliderRenderPX=function(e){return e.toFixed(0)+"px"},l.handleFontSizeChange=function(e){(0,i.setFontSize)(e)},l.handleZoomChange=function(e){(0,i.setZoom)(e)},r}(a.Component);V.displayName="UserSettingsAppearance";var x=l.default.connectStores([h.default,v.default,m.default],function(){return{theme:v.default.theme,darkSidebar:h.default.darkSidebar,messageDisplayCompact:v.default.messageDisplayCompact,developerMode:v.default.developerMode,fontSize:h.default.fontSize,zoom:h.default.zoom,colorblindMode:h.default.colorblindMode,disableGamesTab:v.default.disableGamesTab,testModeApplicationId:m.default.testModeApplicationId}})(V);t.default=x},8995:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=E(n(3)),l=E(n(2)),i=E(n(30)),u=y(n(937)),s=E(n(198)),d=E(n(21)),c=E(n(24)),f=E(n(138)),p=E(n(75)),h=E(n(258)),v=E(n(66)),m=E(n(4)),_=E(n(455)),g=E(n(6385));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){I(o,r,a,l,i,"next",e)}function i(e){I(o,r,a,l,i,"throw",e)}l(void 0)})}}var O=/^\d+$|^$/,N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={applicationId:t.props.authorizedApplicationId||"",isValid:!0},t.handleSave=T(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.authorizeAndSetTestModeApplication(t.state.applicationId);case 2:e.sent&&t.handleClose();case 4:case"end":return e.stop()}},e)})),t.handleClear=function(){u.reset(),t.setState({applicationId:""})},t.handleInputChange=function(e){u.resetError(),t.setState({applicationId:e,isValid:O.test(e)})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){l.default.wait(function(){return u.resetError()})},a.handleClose=function(){l.default.wait(function(){return i.default.pop()})},a.render=function(){var e=this.props,t=e.authorizedApplicationId,n=e.authorizationError,r=e.authorizing,a=this.state,o=a.applicationId,l=a.isValid,i=null!=t&&t===o,u=i?this.handleClear:this.handleSave,s=null;return n?s=m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_AUTHORIZATION_ERROR:l||(s=m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID),S(p.default,{},void 0,S(p.default.Header,{},void 0,S(c.default,{align:c.default.Align.CENTER},void 0,S(v.default,{tag:v.default.Tags.H2,className:_.default.marginReset},void 0,m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),S(p.default.CloseButton,{onClick:this.handleClose}))),S(p.default.Content,{className:g.default.modalContent},void 0,S(h.default,{className:_.default.marginBottom20,type:h.default.Types.DESCRIPTION},void 0,m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),S("form",{onSubmit:function(e){e.preventDefault(),u()}},void 0,S(c.default,{align:c.default.Align.START},void 0,S("div",{className:g.default.inputWrapper},void 0,S(f.default,{value:o,maxLength:19,error:s,onChange:this.handleInputChange,disabled:r,placeholder:m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER})),S(d.default,{submitting:r,type:"submit",disabled:!l||0===o.length,color:i?d.default.Colors.RED:d.default.Colors.GREEN},void 0,i?m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))},r}(a.PureComponent);N.displayName="TestModeModal";var C=o.default.connectStores([s.default],function(){return{authorizedApplicationId:s.default.testModeApplicationId,authorizationError:s.default.error,authorizing:s.default.isFetchingAuthorization}})(N);t.default=C},8996:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),o=C(n(8)),l=C(n(6)),i=C(n(3)),u=C(n(8997)),s=C(n(30)),d=C(n(8998)),c=C(n(97)),f=C(n(25)),p=A(n(21)),h=A(n(457)),v=A(n(6524)),m=C(n(24)),_=C(n(182)),g=n(136),E=C(n(88)),y=C(n(6536)),S=C(n(342)),I=n(1),T=C(n(4)),O=C(n(455)),N=C(n(6387));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var b=i.default.connectStores([f.default],function(){return{theme:f.default.theme}})(v.default),L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).renderPermissions=function(){var e=t.props.scopes.map(function(e){var t;switch(e){case I.OAuth2Scopes.IDENTIFY:t=T.default.Messages.SCOPE_IDENTIFY;break;case I.OAuth2Scopes.EMAIL:t=T.default.Messages.SCOPE_EMAIL;break;case I.OAuth2Scopes.CONNECTIONS:t=T.default.Messages.SCOPE_CONNECTIONS;break;case I.OAuth2Scopes.GUILDS:t=T.default.Messages.SCOPE_GUILDS;break;case I.OAuth2Scopes.GUILDS_JOIN:t=T.default.Messages.SCOPE_GUILDS_JOIN;break;case I.OAuth2Scopes.GDM_JOIN:t=T.default.Messages.SCOPE_GDM_JOIN;break;case I.OAuth2Scopes.BOT:t=T.default.Messages.SCOPE_BOT;break;case I.OAuth2Scopes.RPC:t=T.default.Messages.SCOPE_RPC;break;case I.OAuth2Scopes.RPC_API:t=T.default.Messages.SCOPE_RPC_API;break;case I.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=T.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case I.OAuth2Scopes.MESSAGES_READ:t=T.default.Messages.SCOPE_MESSAGES_READ;break;case I.OAuth2Scopes.APPLICATIONS_BUILDS_UPLOAD:t=T.default.Messages.SCOPE_APPLICATIONS_BUILDS_UPLOAD;break;case I.OAuth2Scopes.APPLICATIONS_BUILDS_READ:t=T.default.Messages.SCOPE_APPLICATIONS_BUILDS_READ;break;case I.OAuth2Scopes.APPLICATIONS_STORE_UPDATE:t=T.default.Messages.SCOPE_APPLICATIONS_STORE_UPDATE;break;case I.OAuth2Scopes.APPLICATIONS_ENTITLEMENTS:t=T.default.Messages.SCOPE_APPLICATIONS_ENTITLEMENTS;break;case I.OAuth2Scopes.ACTIVITIES_READ:t=T.default.Messages.SCOPE_ACTIVITIES_READ;break;case I.OAuth2Scopes.ACTIVITIES_WRITE:t=T.default.Messages.SCOPE_ACTIVITIES_WRITE;break;case I.OAuth2Scopes.RELATIONSHIPS_READ:t=T.default.Messages.SCOPE_RELATIONSHIPS_READ;break;default:t=e}return P("li",{className:(0,o.default)(N.default.permission,O.default.marginTop8)},e,P("i",{className:N.default.permissionCheckmark}),P(g.FormText,{},void 0,t))});if(e.length)return P(g.FormItem,{faded:!0,title:T.default.Messages.PERMISSIONS,className:O.default.marginTop20},void 0,P("ul",{},void 0,e))},t.renderHeader=function(){var e=t.props.application,n=E.default.getApplicationIconURL({id:e.id,icon:e.icon}),r=n?P(m.default.Child,{className:N.default.appAvatar,grow:0},void 0,P("img",{src:n,alt:""})):null;return P(m.default,{className:(0,o.default)(N.default.header,O.default.marginBottom20)},void 0,P(m.default,{className:N.default.headerInfo},void 0,r,P(m.default.Child,{},void 0,P(g.FormText,{type:g.FormTextTypes.LABEL_BOLD},void 0,P("span",{},void 0,e.name)))),P(m.default.Child,{wrap:!0,grow:0},void 0,P(p.default,{className:N.default.deleteApp,color:p.ButtonColors.RED,look:p.ButtonLooks.OUTLINED,size:p.ButtonSizes.SMALL,onClick:t.handleDeleteApp},void 0,T.default.Messages.DEAUTHORIZE)))},t.handleDeleteApp=function(){s.default.push(function(e){return a.createElement(S.default,M({title:T.default.Messages.DEAUTHORIZE_APP,body:T.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:T.default.Messages.DEAUTHORIZE,cancelText:T.default.Messages.CANCEL,onConfirm:t.props.onDelete},e))})},t}R(t,e);var n=t.prototype;return n.renderDescription=function(){var e=this.props.application;if(e.description)return P(g.FormItem,{faded:!0,title:T.default.Messages.ABOUT_THIS_APP},void 0,P(g.FormText,{},void 0,e.description))},n.render=function(){return P(h.default,{className:(0,o.default)(N.default.authedApp,O.default.marginBottom8),outline:!0},void 0,this.renderHeader(),this.renderDescription(),this.renderPermissions())},t}(a.PureComponent);L.displayName="AuthorizedApp";var D=P(y.default,{}),w=function(e){function t(t){var n;return n=e.call(this,t)||this,l.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleDelete"]),n}R(t,e);var r=t.prototype;return r.componentDidMount=function(){u.default.fetch()},r.handleDelete=function(e){var t=e.id;u.default.delete(t)},r.renderEmpty=function(){return P(b,{className:N.default.marginTop20},void 0,P(v.EmptyStateImage,{darkSrc:n(8999),lightSrc:n(9e3),width:380,height:282}),P(v.EmptyStateText,{note:T.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,T.default.Messages.NO_AUTHORIZED_APPS))},r.renderContent=function(){var e=this,t=this.props.applications;return t?0===t.length?this.renderEmpty():t.filter(function(e){return!e.scopes.includes(I.OAuth2Scopes.RPC)}).map(function(t){return a.createElement(L,M({key:t.id,onDelete:e.handleDelete.bind(e,t)},t))}):P(_.default,{className:O.default.marginTop20,type:_.default.Type.SPINNING_CIRCLE})},r.render=function(){return this.props.hide?D:P(g.FormSection,{tag:g.FormTitleTags.H2,title:T.default.Messages.AUTHORIZED_APPS},void 0,P(g.FormNotice,{className:O.default.marginBottom40,type:h.Types.PRIMARY,title:T.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:T.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),this.renderContent())},t}(a.PureComponent);w.displayName="UserSettingsAuthedApps";var U=i.default.connectStores([d.default,c.default],function(){return{hide:c.default.hidePersonalInformation,applications:d.default.getApps()}})(w);t.default=U},8997:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(12)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i={fetch:function(){r.default.get(o.Endpoints.OAUTH2_TOKENS).then(function(e){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})},function(){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})})},delete:function(e){var t=this;r.default.delete(o.Endpoints.OAUTH2_TOKEN(e)).then(function(){t.fetch()})}};t.default=i},8998:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=c(n(6)),a=c(n(3)),o=c(n(2)),l=c(n(140)),i=c(n(144)),u=c(n(14)),s=c(n(161)),d=c(n(194));n(1);function c(e){return e&&e.__esModule?e:{default:e}}var f=864e5,p=null;function h(){var e=Date.now()-f;(0,r.default)(u.default.getManagedChannels()).filter(function(t){return i.default.extractTimestamp(t.id)<e}).forEach(function(e){l.default.closePrivateChannel(e.id)})}setInterval(function(){return h()},36e5);var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,s.default,d.default)},a.getApps=function(){return p},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(t){return e(h),!1},USER_AUTHORIZED_APPS_UPDATE:function(e){p=e.apps}});t.default=v}).call(this,n(43).setImmediate)},8999:function(e,t,n){e.exports=n.p+"b47564b3086d0d8d941aae95a4b7b78c.svg"},9e3:function(e,t,n){e.exports=n.p+"68b37187aee175514a1402d4088cf90b.svg"},9001:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),o=C(n(3)),l=C(n(2)),i=A(n(186)),u=n(264),s=C(n(97)),d=C(n(25)),c=C(n(11)),f=C(n(887)),p=C(n(277)),h=C(n(336)),v=C(n(457)),m=C(n(24)),_=C(n(182)),g=C(n(66)),E=C(n(36)),y=C(n(6536)),S=C(n(7334)),I=C(n(9002)),T=n(1),O=C(n(4)),N=C(n(6390));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=M(y.default,{}),R=M(_.default,{}),b=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){l.default.wait(function(){i.fetchPaymentSources(),i.fetchSubscriptions()})},a.handleRedemptionRedirect=function(){(0,u.popLayer)(),E.default.transitionTo(T.Routes.APPLICATION_LIBRARY_INVENTORY)},a.render=function(){var e=this.props,t=e.syncing,n=e.hide,r=e.paymentSources,a=e.defaultPaymentSourceId,o=e.locale,l=e.premiumSubscription,i=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?P:M("div",{className:N.default.userSettingsBilling},void 0,t&&0===r.length?M("div",{className:N.default.syncing},void 0,R):M(I.default,{paymentSources:r,defaultPaymentSourceId:a,premiumSubscriptionPaymentSourceId:null!=l&&l.status!==T.SubscriptionStatusTypes.CANCELED?l.paymentSourceId:null,locale:o,removing:i,submitting:u}),M("div",{className:N.default.paymentHistory},void 0,M(g.default,{tag:g.default.Tags.H2},void 0,M(m.default,{align:m.default.Align.CENTER},void 0,O.default.Messages.BILLING_PAYMENT_HISTORY)),M(S.default,{locale:o})),M(v.default,{className:N.default.codeRedemptionRedirect,type:v.default.Types.CUSTOM},void 0,O.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))},r}(a.PureComponent);b.displayName="UserSettingsBilling";var L=o.default.connectStores([d.default,f.default,p.default,c.default,s.default,h.default],function(){var e=h.default.getSubscription(),t=c.default.getCurrentUser();return{locale:d.default.locale,hide:s.default.enabled,isClaimed:t.email,isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:p.default.defaultPaymentSourceId,paymentSources:p.default.paymentSources,syncing:f.default.isSyncing,isRemovingPaymentSource:f.default.isRemovingPaymentSource,isUpdatingPaymentSource:f.default.isUpdatingPaymentSource}})(b);t.default=L},9002:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(0)),o=y(n(6)),l=S(n(186)),i=y(n(30)),u=y(n(6960)),s=y(n(21)),d=y(n(24)),c=S(n(42)),f=y(n(71)),p=y(n(65)),h=y(n(332)),v=y(n(66)),m=y(n(9003)),_=y(n(6823)),g=y(n(4)),E=y(n(6389));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){T(o,r,a,l,i,"next",e)}function i(e){T(o,r,a,l,i,"throw",e)}l(void 0)})}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEditClick=function(){t.props.onEditClick(t.props.paymentSource.id)},t}return C(t,e),t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,r=e.isEditing,a=e.index,o=e.hideDivider,l=e.isForSubscription,i=e.locale,u=e.removing,c=e.submitting,f=e.onSubmit,p=e.onCancel,v=e.onDelete;return r?N(m.default,{paymentSource:t,isDefault:n,removing:u,submitting:c,locale:i,isForSubscription:l,onSubmit:f,onCancel:p,onDelete:v}):N("div",{className:E.default.paymentSourceItem},void 0,a>0&&!o?N(h.default,{className:E.default.sourceDivider}):null,N(d.default,{align:d.default.Align.CENTER,justify:d.default.Justify.BETWEEN,className:E.default.paymentSourceRow},void 0,N(_.default,{paymentSource:t,isDefault:n,isForSubscription:l,locale:i,showSubtext:!0}),r?null:N(s.default,{color:s.default.Colors.PRIMARY,onClick:this.handleEditClick,size:s.default.Sizes.SMALL},void 0,g.default.Messages.EDIT)))},t}(a.PureComponent);A.displayName="PaymentSourceItem",A.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={editingPayment:null},t.handleEditClick=function(e){t.setState({editingPayment:e})},t.handleCancel=function(){t.setState({editingPayment:null})},t.handleDelete=function(){var e=O(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.deletePaymentSource(n);case 3:t.setState({editingPayment:null}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),t.handleSubmit=function(){var e=O(regeneratorRuntime.mark(function e(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=9;break}return e.prev=1,e.next=4,l.updatePaymentSource(n,r);case 4:t.setState({editingPayment:null}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t,n){return e.apply(this,arguments)}}(),t}C(t,e);var n=t.prototype;return n.handleAddPaymentMethod=function(){i.default.push(function(e){return a.createElement(u.default,e)})},n.renderFooter=function(){var e=this.props.paymentSources;return N(d.default,{justify:d.default.Justify.END,className:E.default.footer},void 0,0===Object.keys(e).length?N(d.default.Child,{},void 0,N(f.default,{color:f.default.Colors.PRIMARY},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD),N("div",{className:E.default.subText},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,N(s.default,{onClick:this.handleAddPaymentMethod},void 0,g.default.Messages.BILLING_ADD_PAYMENT_METHOD))},n.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,r=t.paymentSources,l=t.locale,i=t.removing,u=t.submitting,s=t.premiumSubscriptionPaymentSourceId,f=o.default.values(r).sort(function(e,t){return e.id===n?-1:t.id===n?1:e.id>t.id?1:-1}),m=this.state.editingPayment,_=f.findIndex(function(e){return e.id===m}),y=f.map(function(t,r){return N(A,{locale:l,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===s,hideDivider:_===r-1,onSubmit:e.handleSubmit,index:r,submitting:u,removing:i,isEditing:m===t.id,onEditClick:e.handleEditClick},t.id)});return N("div",{},void 0,N(v.default,{tag:v.default.Tags.H2},void 0,N(d.default,{align:d.default.Align.CENTER},void 0,N(p.default,{position:p.default.Positions.LEFT,text:g.default.Messages.BILLING_SECURE_TOOLTIP},void 0,function(e){return a.createElement(c.default,I({name:c.IconNames.SECURE_LOCK,className:E.default.lockIcon},e))}),g.default.Messages.BILLING_PAYMENT_SOURCES)),y,_!==f.length-1?N(h.default,{className:E.default.sourceDivider}):null,this.renderFooter())},t}(a.PureComponent);M.displayName="PaymentMethods";var P=M;t.default=P},9003:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=N(n(8)),l=N(n(3)),i=N(n(2)),u=n(186),s=n(357),d=N(n(887)),c=N(n(21)),f=N(n(457)),p=N(n(461)),h=N(n(24)),v=N(n(274)),m=N(n(71)),_=N(n(65)),g=n(136),E=N(n(993)),y=N(n(995)),S=N(n(6823)),I=n(1),T=N(n(4)),O=N(n(6388));function N(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M="isDefault",P=C(g.FormDivider,{}),R=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleSubmit=function(e){if(e.preventDefault(),e.stopPropagation(),0===Object.values(n.state.dirtyFields).filter(Boolean).length)n.props.onCancel();else{var t=n.state,r=t.billingAddress,a=t.isDefault,o=t.expiresMonth,l=t.expiresYear;n.props.onSubmit(n.props.paymentSource.id,{billingAddress:r,expiresMonth:o,expiresYear:l,isDefault:a})}},n.handleCancel=function(){n.props.onCancel()},n.handleDelete=function(){var e=n.props;(0,e.onDelete)(e.paymentSource.id)},n.handleAddressUpdate=function(e,t,r){n.setState({billingAddress:e,billingAddressValid:t,dirtyFields:A({},n.state.dirtyFields,{billingAddress:r})})},n.handleExpirationDateUpdate=function(e){var t=e.expirationDate.split("/"),r=t[0],a=t[1];n.handleFieldChange(Number(r),"expiresMonth"),n.handleFieldChange(Number(""+(new Date).getFullYear().toString().slice(0,2)+a),"expiresYear")},n.handleFieldChange=function(e,t){var r,a;null!=t&&n.setState(((a={})[t]=e,a.dirtyFields=A({},n.state.dirtyFields,((r={})[t]=!0,r)),a))};var r=t.paymentSource,a=t.isDefault,o=r.billingAddress;return n.state={billingAddress:{name:o.name||"",line1:o.line1||"",line2:o.line2||"",country:o.country||"",state:o.state||"",city:o.city||"",postalCode:o.postalCode||""},expiresMonth:r instanceof s.CreditCardSourceRecord?r.expiresMonth:0,expiresYear:r instanceof s.CreditCardSourceRecord?r.expiresYear:0,billingAddressValid:!1,isDefault:a,dirtyFields:{}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentWillUnmount=function(){i.default.wait(function(){(0,u.clearUpdatePaymentSourceError)(),(0,u.clearRemovePaymentSourceError)()})},l.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?C(v.default,{className:O.default.formError},void 0,n.message):null:C(v.default,{className:O.default.formError},void 0,t.message)},l.renderBillingAddressSection=function(){var e=this.state.billingAddress;return C("div",{className:O.default.addressSection},void 0,C(m.default,{color:m.default.Colors.PRIMARY,className:O.default.sectionHeader},void 0,T.default.Messages.BILLING_ADDRESS),a.createElement(E.default,A({},e,{mode:E.default.Modes.EDIT,layout:E.default.Layouts.SETTINGS,onBillingAddressChange:this.handleAddressUpdate,error:this.props.updateError})))},l.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear,r=t.toString().padStart(2,"0")+"/"+n.toString().padStart(2,"0").slice(-2);return C("div",{className:O.default.addressSection},void 0,C(m.default,{color:m.default.Colors.PRIMARY,className:O.default.sectionHeader},void 0,T.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION),C(y.default,{expirationDate:r,layout:y.default.Layouts.SETTINGS,onCardInfoChange:this.handleExpirationDateUpdate,error:this.props.updateError}))},l.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,r=e.isForSubscription,o=this.state.billingAddressValid;return C(h.default,{justify:h.default.Justify.BETWEEN,className:O.default.formActions},void 0,C("div",{className:O.default.disabledTooltipWrapper},void 0,r?C(_.default,{text:T.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,function(e){return a.createElement("div",A({"aria-hidden":!0,className:O.default.disabledTooltipTarget},e))}):null,C(c.default,{type:"button",disabled:r||t,submitting:n,onClick:this.handleDelete,look:c.default.Looks.OUTLINED,color:c.default.Colors.RED},void 0,T.default.Messages.PAYMENT_SOURCE_DELETE)),C(h.default,{grow:0},void 0,C(c.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY},void 0,T.default.Messages.CANCEL),C(c.default,{submitting:t,disabled:!o||n,type:"submit",color:c.default.Colors.GREEN},void 0,T.default.Messages.SAVE)))},l.render=function(){var e=this,t=this.props,n=t.paymentSource,r=t.isDefault,a=t.locale,l=t.className,i=t.isForSubscription,u=this.state.isDefault,d=n instanceof s.CreditCardSourceRecord;return C(f.default,{editable:!0,className:(0,o.default)(O.default.card,l)},void 0,C("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),C("div",{className:O.default.paymentSection},void 0,C(S.default,{paymentSource:n,isDefault:r,isForSubscription:i,locale:a}),n.invalid?C("div",{className:O.default.errorSubText},void 0,T.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,C("div",{className:O.default.subText},void 0,d?T.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD:T.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:I.PAYPAL_URL}))),d?this.renderCardExpirationSection():null,this.renderBillingAddressSection(),C(p.default,{name:M,value:u,onChange:function(t,n){return e.handleFieldChange(n,M)},type:p.default.Types.INVERTED,className:O.default.defaultSection},void 0,C(m.default,{className:O.default.defaultCheckboxLabel,color:m.default.Colors.PRIMARY},void 0,T.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),P,this.renderActions()))},r}(a.PureComponent);R.displayName="EditPaymentSourceForm",R.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var b=l.default.connectStores([d.default],function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}})(R);t.default=b},9004:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=U(n(0)),o=w(n(8)),l=w(n(873)),i=w(n(890)),u=w(n(3)),s=w(n(295)),d=w(n(30)),c=w(n(337)),f=w(n(76)),p=w(n(378)),h=w(n(19)),v=w(n(97)),m=w(n(25)),_=w(n(106)),g=U(n(21)),E=w(n(457)),y=w(n(58)),S=U(n(6524)),I=w(n(6521)),T=w(n(182)),O=w(n(852)),N=n(136),C=w(n(13)),A=w(n(6536)),M=U(n(1003)),P=w(n(342)),R=n(1),b=w(n(4)),L=w(n(455)),D=w(n(6391));function w(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=u.default.connectStores([m.default],function(){return{theme:m.default.theme}})(S.default),B=(0,l.default)({displayName:"Integration",mixins:[i.default,u.default.LazyStoreListenerMixin(h.default,p.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props.integration;return{isJoining:p.default.isJoining(e.id),isMember:h.default.getGuild(e.guild.id)}},render:function(){var e,t,n,r=this.state,a=r.isMember,o=r.isJoining,l=this.props.integration;switch(a||(e=k(g.default,{size:g.ButtonSizes.SMALL,look:g.ButtonLooks.GHOST,color:g.ButtonColors.WHITE,onClick:this.handleJoinGuild,disabled:o},void 0,k("span",{},void 0,o?b.default.Messages.JOINING_SERVER:b.default.Messages.JOIN_SERVER))),l.type){case"youtube":t=l.account.name,n="gaming.youtube.com/channel/"+l.account.id;break;case"twitch":default:t=n="twitch.tv/"+l.account.name}return k("div",{className:D.default.integration},void 0,k("div",{},void 0,k(I.default,{size:I.default.Sizes.SMALL,guild:l.guild,className:D.default.guildIcon}),k("div",{className:D.default.integrationInner},void 0,k(N.FormText,{className:D.default.integrationName},void 0,l.guild.toString()),k(_.default,{className:D.default.channelLink,href:"//"+n},void 0,t))),e)},handleJoinGuild:function(){s.default.joinServer(this.props.integration.id)}}),j=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleReconnect=function(){(0,M.authorize)(n.props.account.type,"User Settings")},n.handleDisconnect=function(){var e=f.default.get(n.props.account.type);d.default.push(function(t){return a.createElement(P.default,G({title:b.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:b.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:b.default.Messages.DISCONNECT_ACCOUNT,cancelText:b.default.Messages.CANCEL,onConfirm:n.props.onDisconnect},t))})},n.handleVisibilityChange=function(e){var t=n.props.account,r=t.verified,a=e.currentTarget.checked?1:0;if(!r)return n._inProgressVisibility=a,void(0,M.authorize)(t.type);n.setState({visibility:a}),s.default.setVisibility(t.type,t.id,a)},n.handleInProgressVisibilityChange=function(){if(null!=n._inProgressVisibility){var e=n.props.account;s.default.setVisibility(e.type,e.id,n._inProgressVisibility),n._inProgressVisibility=null}},n.handleFriendSyncChange=function(e){var t=n.props.account,r=e.currentTarget.checked;n.setState({friendSync:r}),s.default.setFriendSync(t.type,t.id,r)},n.handleShowActivityChange=function(e){var t=n.props.account,r=e.currentTarget.checked;n.setState({showActivity:r}),s.default.setShowActivity(t.type,t.id,r)};var r=t.account,o=r.friendSync,l=r.visibility,i=r.showActivity;return n.state={friendSync:o,visibility:l,showActivity:i,accountProps:t.account},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=t.accountProps,r=n.friendSync,a=n.visibility,o=n.showActivity,l=e.account,i=l.friendSync,u=l.visibility,s=l.showActivity;return r!==i||a!==u||o!==s?{friendSync:i,visibility:u,showActivity:s,accountProps:e.account}:null};var o=r.prototype;return o.componentDidUpdate=function(e){var t=e.account.verified,n=this.props.account.verified;!t&&n&&this.handleInProgressVisibilityChange()},o.renderHeader=function(e){var t=this.props.account;return k("div",{className:D.default.connectionHeader},void 0,k("img",{alt:"",className:D.default.connectionIcon,src:e.icon.white}),k("div",{},void 0,k(N.FormText,{className:D.default.connectionAccountValue},void 0,t.name),k(N.FormText,{className:D.default.connectionAccountLabel,type:N.FormTextTypes.DESCRIPTION,style:{color:R.Colors.WHITE}},void 0,b.default.Messages.ACCOUNT_NAME)),k(y.default,{className:D.default.connectionDelete,onClick:this.handleDisconnect},void 0,k("span",{},void 0,b.default.Messages.SERVICE_CONNECTIONS_DISCONNECT)))},o.renderConnectionOptions=function(e){var t,n,r=this.state,a=r.visibility,o=r.friendSync,l=r.showActivity,i=this.props.account;return R.FRIEND_SYNC_PLATFORM_TYPES.has(i.type)&&(t=k(O.default,{className:D.default.connectionOptionSwitch,theme:O.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:o,onChange:this.handleFriendSyncChange},void 0,k("span",{className:D.default.subEnabledTitle},void 0,b.default.Messages.SYNC_FRIENDS))),R.ACTIVITY_PLATFORM_TYPES.has(i.type)&&(n=k(O.default,{className:D.default.connectionOptionSwitch,theme:O.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:l,onChange:this.handleShowActivityChange},void 0,k("span",{className:D.default.subEnabledTitle},void 0,b.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name})))),k("div",{className:D.default.connectionOptionsWrapper},void 0,k("div",{className:D.default.connectionOptions},void 0,k(O.default,{className:D.default.connectionOptionSwitch,theme:O.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:1===a,onChange:this.handleVisibilityChange},void 0,k("span",{className:D.default.subEnabledTitle},void 0,b.default.Messages.DISPLAY_ON_PROFILE)),n,t))},o.renderIntegrations=function(e){var t=this.props.account;return t.revoked?k(N.FormItem,{className:D.default.integrationsWrapper},void 0,k(N.FormTitle,{tag:N.FormTitleTags.H5},void 0,k("span",{className:D.default.subEnabledTitle},void 0,b.default.Messages.SUB_ENABLED_SERVERS)),k(N.FormText,{},void 0,b.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):t.integrations.length>0?k(N.FormItem,{className:D.default.integrationsWrapper},void 0,k(N.FormTitle,{tag:N.FormTitleTags.H5},void 0,k("span",{className:D.default.subEnabledTitle},void 0,b.default.Messages.SUB_ENABLED_SERVERS)),k("div",{},void 0,t.integrations.map(function(t){return k(B,{integration:t,color:e.color},t.id)}))):void 0},o.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return k(N.FormDivider,{className:D.default.connectedAccountSeparator})},o.render=function(){var e=this.props.account,t=f.default.get(e.type);return k("div",{className:D.default.connection,style:{borderColor:t.color,backgroundColor:t.color}},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations(t))},r}(a.PureComponent);j.displayName="ConnectedAccount";var H=k(A.default,{}),V=(0,l.default)({displayName:"UserSettingsConnections",mixins:[i.default,u.default.LazyStoreListenerMixin(p.default,m.default,v.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{hide:v.default.hidePersonalInformation,fetching:p.default.isFetching(),accounts:p.default.getAccounts(),detectPlatformAccounts:m.default.detectPlatformAccounts}},componentDidMount:function(){s.default.fetch()},handleDisconnect:function(e){var t=e.type,n=e.id;s.default.disconnect(t,n)},handleDetectPlatformAccounts:function(e){c.default.updateRemoteSettings({detectPlatformAccounts:e.currentTarget.checked})},renderConnectCard:function(){var e;return k(E.default,{className:(0,o.default)(D.default.accountList,(e={},e[L.default.marginBottom20]=!C.default.embedded,e)),role:"region","aria-labeledby":"ConnectedAccounts"},void 0,k(N.FormTitle,{faded:!0,className:L.default.marginBottom4,id:"ConnectedAccounts"},void 0,b.default.Messages.CONNECT_ACCOUNT_TITLE),k(N.FormText,{className:L.default.marginBottom8},void 0,b.default.Messages.CONNECT_ACCOUNT_DESCRIPTION),k("div",{className:D.default.connectedAccounts},void 0,f.default.filter(function(e){return e.enabled}).map(function(e){return k(M.default,{type:e.type,location:"User Settings",className:D.default.accountBtn,innerClassName:D.default.accountBtnInner},e.type)})))},renderDetectPlatformAccounts:function(){var e=this.state.detectPlatformAccounts;if(C.default.embedded)return k(O.default,{value:e,onChange:this.handleDetectPlatformAccounts,className:(0,o.default)(L.default.marginTop20,L.default.marginBottom20)},void 0,b.default.Messages.DETECT_PLATFORM_ACCOUNTS)},renderConnectionList:function(){var e,t=this,r=this.state,a=r.fetching,o=r.accounts;return e=a?k(T.default,{className:L.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE}):0===o.length?k(F,{className:L.default.marginTop40},void 0,k(S.EmptyStateImage,{darkSrc:n(9005),lightSrc:n(9006),width:230,height:220}),k(S.EmptyStateText,{note:b.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,b.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):o.map(function(e,n){return k(j,{account:e,onDisconnect:t.handleDisconnect.bind(t,e)},n)}),k(N.FormItem,{},void 0,e)},render:function(){return this.state.hide?H:k(N.FormSection,{className:D.default.connections,tag:N.FormTitleTags.H2,title:b.default.Messages.CONNECTIONS},void 0,this.renderConnectCard(),this.renderDetectPlatformAccounts(),this.renderConnectionList())}});t.default=V},9005:function(e,t,n){e.exports=n.p+"e9aaf1824f17126a7992e5ad98752389.svg"},9006:function(e,t,n){e.exports=n.p+"fffa18d6d66a76c08c500c56afe68a62.svg"},9007:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(0)),o=L(n(8)),l=L(n(6)),i=n(200),u=L(n(3)),s=n(9008),d=L(n(30)),c=L(n(390)),f=L(n(25)),p=D(n(21)),h=L(n(457)),v=D(n(6524)),m=L(n(24)),_=L(n(460)),g=L(n(182)),E=L(n(852)),y=L(n(71)),S=L(n(138)),I=L(n(75)),T=n(136),O=n(500),N=L(n(6551)),C=L(n(6652)),A=n(1),M=L(n(5925)),P=L(n(455)),R=L(n(297)),b=L(n(6392));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){U(o,r,a,l,i,"next",e)}function i(e){U(o,r,a,l,i,"throw",e)}l(void 0)})}}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var B=["discord_web","discord_marketing"],j=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function H(e){var t=this;return new Promise(function(n){d.default.push(function(r){var o=function(e){r.onClose(),n(e)};return a.createElement(I.default,r,F(I.default.Header,{},void 0,F(T.FormTitle,{tag:T.FormTitle.Tags.H4},void 0,"Choose A Project to Override")),F(I.default.Content,{},void 0,F(m.default,{},void 0,e.map(function(e){return F(m.default.Child,{grow:0},e,F(p.default,{value:e,look:p.default.Looks.GHOST,color:p.default.Colors.GREEN,onClick:o.bind(t,e)},void 0,e))}))),F(I.default.Footer,{},void 0,F(p.default,{color:p.default.Colors.PRIMARY,look:p.default.Looks.LINK,onClick:o.bind(t,null)},void 0,"Nevermind")))})})}var V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRemoveBuildOverride=function(){t.props.onBuildOverrideRemoved(t.props.project)},t.handleOverrideIdChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{id:e})},t.handleOverrideTypeChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{type:e.value,id:""})},t}return k(t,e),t.prototype.render=function(){var e,t=this.props,n=t.project,r=t.overrideType,a=t.overrideId,l=t.disabled,i=t.error,u="branch"===r?"Branch Name":"Build ID";return F(m.default,{direction:m.default.Direction.VERTICAL,className:(0,o.default)(b.default.buildOverrideGroup,P.default.marginBottom20,M.default.card,b.default.row)},void 0,F(N.default,{className:(0,o.default)(b.default.removeBuildOverride,(e={},e[b.default.removeBuildOverrideDisabled]=l,e)),onClick:l?null:this.handleRemoveBuildOverride}),F(m.default,{className:P.default.marginBottom8},void 0,F(m.default.Child,{basis:"50%"},void 0,F(T.FormItem,{title:"Override Type",className:b.default.item},void 0,F(_.default,{options:j,onChange:this.handleOverrideTypeChanged,value:r,disabled:l,clearable:!1,searchable:!1}))),F(m.default.Child,{basis:"50%"},void 0,F(T.FormItem,{title:u,className:b.default.item},void 0,F(S.default,{value:a,onChange:this.handleOverrideIdChanged,disabled:l})))),F(m.default.Child,{},void 0,i&&F(T.FormText,{className:b.default.item,style:{color:A.Colors.STATUS_RED},type:T.FormText.Types.DESCRIPTION},void 0,i),F(T.FormText,{className:b.default.item,type:T.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",F("code",{},void 0,n)," project.")))},t}(a.Component);V.displayName="BuildOverride";var x=F(v.EmptyStateText,{},void 0,"You have no build overrides configured."),Y=F(T.FormDivider,{}),W=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1},t.handleAddBuildOverride=G(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t.getAvailableProjects());case 2:if(null!=(r=e.sent)){e.next=5;break}return e.abrupt("return");case 5:a=w({},t.state.buildOverrides,((n={})[r]={type:"branch",id:""},n)),t.setState({buildOverrides:a});case 7:case"end":return e.stop()}},e)})),t.handleBuildOverrideUpdated=function(e,n){var r,a=t.state.buildOverrides,o=w({},null!=a?a[e]:{},n),l=w({},t.state.buildOverrides,((r={})[e]=o,r));t.setState({buildOverrides:l})},t.handleBuildOverrideRemoved=function(e){var n=w({},t.state.buildOverrides);delete n[e],t.setState({buildOverrides:n})},t.handleDiscardChanges=function(){t.setState({buildOverrides:l.default.cloneDeep(t.state.loadedBuildOverrides),errors:{},didSave:!1})},t.handleSaveChanges=G(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.state.buildOverrides)){e.next=3;break}return e.abrupt("return");case 3:return t.setState({saving:!0}),e.next=6,(0,O.applyStaffBuildOverride)(n);case 6:200===(r=e.sent).status?t.setState({buildOverrides:r.body,loadedBuildOverrides:l.default.cloneDeep(r.body),errors:{},didSave:!0,saving:!1}):400===r.status?t.setState({errors:r.body,saving:!1,didSave:!1}):t.setState({saving:!1,didSave:!1});case 8:case"end":return e.stop()}},e)})),t.handleLinkGeneration=function(){var e=t.state.buildOverrides;d.default.push(function(t){return a.createElement(z,w({},t,{buildOverrides:e}))})},t}k(t,e);var r=t.prototype;return r.refreshBuildOverrides=function(){var e=G(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,(0,O.getBuildOverride)();case 3:t=e.sent,this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:l.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),r.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!l.default.isEqual(t,n)},r.componentDidMount=function(){this.refreshBuildOverrides()},r.getAvailableProjects=function(){var e=this.state.buildOverrides;if(null==e)return[];var t=Object.keys(e);return l.default.without.apply(l.default,[B].concat(t))},r.renderEmpty=function(){return F(v.default,{theme:f.default.theme,className:(0,o.default)(P.default.marginTop40,P.default.marginBottom20)},void 0,F(v.EmptyStateImage,{darkSrc:n(6931),lightSrc:n(6932),width:294,height:192}),x)},r.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,r=t.saving,a=t.errors;return null==n?null:l.default.map(n,function(t,n){return F(V,{project:n,overrideType:t.type,overrideId:t.id,disabled:r,error:a[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)})},r.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:function(){return location.reload()},look:p.default.Looks.GHOST,color:p.default.Colors.PRIMARY},void 0,"Reload App")))},r.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:this.handleLinkGeneration,look:p.default.Looks.GHOST,color:p.default.Colors.BRAND},void 0,"Generate Public Link")))},r.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state.saving;return F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:this.handleSaveChanges,submitting:e,look:p.default.Looks.GHOST,color:p.default.Colors.GREEN},void 0,"Save Build Overrides")),F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:this.handleDiscardChanges,disabled:e,look:p.default.Looks.GHOST,color:p.default.Colors.RED},void 0,"Discard Changes")))},r.render=function(){var e,t=this.state,n=t.loading,r=t.saving,a=t.buildOverrides;e=n?F(g.default,{className:P.default.marginTop20}):null!=a&&0===Object.keys(a).length?this.renderEmpty():this.renderItems();var o=!r&&!n&&this.getAvailableProjects().length>0;return F(T.FormSection,{className:P.default.marginTop60},void 0,F(m.default,{className:P.default.marginBottom20},void 0,F(m.default.Child,{},void 0,F(T.FormTitle,{tag:T.FormTitleTags.H2},void 0,"Build Overrides")),F(m.default.Child,{grow:0},void 0,F(p.default,{size:p.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!o},void 0,"Add Build Override"))),Y,F(m.default,{direction:m.default.Direction.VERTICAL},void 0,e,F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))},t}(a.Component);W.displayName="BuildOverrides";var z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={ttlSeconds:3600,userIds:[],userIdEntry:"",removeUserIdEntry:"",publicLink:" ",userIdEntryError:null,statusText:null,statusTextColor:y.default.Colors.RED},t.setUserEntryError=function(e){t.setState({userIdEntryError:e})},t.setStatusMessage=function(e,n){t.setState({statusText:e,statusTextColor:n||y.default.Colors.RED})},t.handleUserIDEntry=function(e){if(e=e.trim(),!/^\d+$/.test(e))return t.setUserEntryError("User IDs are numbers!");t.setState({userIdEntry:e})},t.handleRemoveUserIDEntry=function(e){t.setState({removeUserIdEntry:e})},t.handleUserEnter=function(e){e.charCode===A.KeyboardKeys.ENTER&&t.handleAddUser()},t.handleAddUser=function(){var e=t.state,n=e.userIds,r=e.userIdEntry;return 0===r.length?t.setUserEntryError("Enter a valid user ID!"):n.indexOf(r)>=0?t.setUserEntryError("You already added that user!"):void t.setState({userIds:[].concat(n,[r]),userIdEntry:""})},t.handleRemoveUser=function(e){var n=t.state.userIds;n=n.filter(function(t){return t!==e.value}),t.setState({userIds:n})},t.handleExpirationChange=function(e){t.setState({ttlSeconds:e.value})},t.generatePayload=function(){return{overrides:t.props.buildOverrides,meta:{release_channel:window.GLOBAL_ENV.RELEASE_CHANNEL,ttl_seconds:t.state.ttlSeconds,user_ids:t.state.userIds}}},t.handleGenerateLink=G(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setStatusMessage(null),n=t.generatePayload(),e.next=4,(0,O.getPublicBuildOverrideLink)(n);case 4:!1!==(r=e.sent).error?t.setStatusMessage(r.error.toString(),y.default.Colors.RED):(t.setState({publicLink:r.url.toString()}),0===n.meta.user_ids.length&&t.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",y.default.Colors.YELLOW));case 6:case"end":return e.stop()}},e)})),t}k(t,e);var r=t.prototype;return r.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,r=t.userIdEntry,a=t.userIdEntryError,o=t.userIds,l=O.BUILD_OVERRIDE_EXPIRATION_OPTIONS.find(function(e){return e.value===n}),i=o.map(function(e){return{label:e,value:e}});return F(m.default,{direction:m.default.Direction.VERTICAL},void 0,F(T.FormItem,{title:"Expire After",className:P.default.marginBottom20},void 0,F(_.default,{value:l,clearable:!1,searchable:!1,options:O.BUILD_OVERRIDE_EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),F(T.FormItem,{title:"Add User ID (optional)",className:P.default.marginBottom20},void 0,F(m.default,{direction:m.default.Direction.HORIZONTAL},void 0,F(m.default.Child,{wrap:!0,basis:"90%"},void 0,F(S.default,{autoFocus:!0,value:r,onKeyPress:this.handleUserEnter,error:a,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),F(p.default,{className:p.ButtonLooks.GHOST,onClick:this.handleAddUser},void 0,"Add"))),F(T.FormItem,{title:"Remove User ID",className:P.default.marginBottom20},void 0,F(_.default,{options:i,onChange:this.handleRemoveUser,disabled:0===o.length})))},r.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=F(i.LazyLibrary,{createPromise:function(){return n.e(3).then(n.t.bind(null,964,7))},renderFallback:function(){return e},render:function(t){var n=t.highlight("json",e,!0);return F("code",{className:"hljs scroller "+n.language+" "+R.default.scrollbarGhost+" "+b.default.codebox,dangerouslySetInnerHTML:{__html:n.value}})}});return F(h.default,{},void 0,F("pre",{},void 0,t))},r.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,r=e.publicLink;return F("div",{},void 0,F(T.FormItem,{title:"Signed Link"},void 0,F(m.default,{},void 0,F(m.default.Child,{wrap:!0,basis:"75%"},void 0,F(C.default,{value:r})),F(p.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),F(y.default,{color:t,className:P.default.marginBottom8+" "+P.default.marginTop8},void 0,!1!==n?n:""))},r.render=function(){return F(I.default,{size:I.default.Sizes.LARGE},void 0,F(I.default.Header,{},void 0,F(T.FormTitle,{tag:T.FormTitle.Tags.H4},void 0,"Generate Public Build Override Link"),F(I.default.CloseButton,{onClick:this.props.onClose})),F(I.default.Content,{},void 0,F(m.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))},t}(a.Component);z.displayName="BuildOverrideLinkModal";var K=function(e){var t=e.isTracingRequests,n=e.isForcedCanary,r=e.isLoggingGatewayEvents,a=e.isLoggingOverlayEvents;return F(T.FormSection,{title:"Developer Flags",tag:T.FormTitleTags.H2},void 0,F(E.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){var t=e.currentTarget;return(0,s.setDeveloperOptionSettings)({trace:t.checked})}},void 0,"Enable Tracing Requests"),F(E.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){var t=e.currentTarget;return(0,s.setDeveloperOptionSettings)({canary:t.checked})}},void 0,"Enable Forced Canary"),F(E.default,{value:r,note:"Logs all incoming and outgoing gateway events to the developer console",onChange:function(e){var t=e.currentTarget;return(0,s.setDeveloperOptionSettings)({logGatewayEvents:t.checked})}},void 0,"Enable Logging of Gateway Events to Console"),F(E.default,{value:a,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){var t=e.currentTarget;return(0,s.setDeveloperOptionSettings)({logOverlayEvents:t.checked})}},void 0,"Enable Logging of Overlay RPC Events & Commands"))};K.displayName="DeveloperFlagsInner";var $=u.default.connectStores([c.default],function(){return{isTracingRequests:c.default.isTracingRequests,isForcedCanary:c.default.isForcedCanary,isLoggingGatewayEvents:c.default.isLoggingGatewayEvents,isLoggingOverlayEvents:c.default.isLoggingOverlayEvents}})(K),Q=F(a.Fragment,{},void 0,F($,{}),F(W,{})),X=function(e){function t(){return e.apply(this,arguments)||this}return k(t,e),t.prototype.render=function(){return Q},t}(a.PureComponent);X.displayName="UserSettingsModalDeveloperOptions";var q=X;t.default=q},9008:function(e,t,n){"use strict";t.__esModule=!0,t.setDeveloperOptionSettings=function(e){a.default.dispatch({type:o.ActionTypes.DEVELOPER_OPTIONS_UPDATE_SETTINGS,settings:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},9009:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(3)),l=n(330),i=p(n(225)),u=p(n(460)),s=n(136),d=p(n(6628)),c=p(n(455)),f=p(n(6393));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={open:t.props.open},t.handleToggleVisibility=function(){t.setState({open:!t.state.open})},t}return v(t,e),t.prototype.render=function(){var e=this.state.open,t=this.props,n=t.title,r=t.children;return h("div",{className:f.default.group},void 0,h(s.FormSection,{},void 0,h(s.FormTitle,{tag:s.FormTitleTags.H3,className:f.default.title,onClick:this.handleToggleVisibility},void 0,n),e?r:null),h(s.FormDivider,{className:c.default.marginTop20}))},t}(a.Component);m.displayName="ExperimentGroup";var _=h(s.FormSection,{},void 0,h(s.FormText,{},void 0,"No Experiments are currently running")),g=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var n=t.prototype;return n.renderExperimentGroup=function(e,t){var n=this.props.experiments[e];if(null==n)return null;var r=n.description;return Array.isArray(r)||(r=[r]),r=r.map(function(e,t){return h(s.FormText,{type:s.FormTextTypes.DESCRIPTION},t,e)}),h(m,{title:n.title,open:null!=this.props.overrides[e]},t,h("div",{},void 0,this.renderExperimentOverride(e,n),h("div",{className:c.default.marginTop4},void 0,r)))},n.renderExperimentOverride=function(e,t){var n=this.props.overrides[e];return h(s.FormItem,{title:"Bucket Override"},void 0,h(u.default,{value:n?n.bucket:null,clearable:!0,searchable:!1,options:this.getExperimentBuckets(t.buckets),onChange:function(t){return(0,l.overrideBucket)(e,t&&t.value)}}))},n.getExperimentTypes=function(e){return e.map(function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}})},n.getExperimentBuckets=function(e){return e.map(function(e){return{label:d.default.getExperimentBucketName(e),value:e}})},n.renderEmpty=function(){return _},n.render=function(){var e,t=Object.keys(this.props.experiments);return e=t.length?t.map(this.renderExperimentGroup,this):this.renderEmpty(),h(s.FormSection,{tag:s.FormTitleTags.H2,title:"Experiments"},void 0,e)},t}(a.Component);g.displayName="UserSettingsExperiments";var E=o.default.connectStores([i.default],function(){return{experiments:i.default.getRegisteredExperiments(),overrides:i.default.getExperimentOverrides()}})(g);t.default=E},9010:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(0)),o=L(n(8)),l=L(n(3)),i=L(n(100)),u=L(n(337)),s=L(n(54)),d=L(n(25)),c=D(n(21)),f=L(n(58)),p=D(n(6524)),h=L(n(879)),v=L(n(7331)),m=L(n(42)),_=L(n(460)),g=L(n(852)),E=L(n(65)),y=L(n(223)),S=n(136),I=n(270),T=L(n(13)),O=L(n(6551)),N=n(1),C=L(n(4)),A=L(n(5927)),M=L(n(464)),P=L(n(5925)),R=L(n(455)),b=L(n(6394));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=l.default.connectStores([d.default],function(){return{theme:d.default.theme}})(p.default),F=T.default.isWindows(),B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedValue:null},t.handleGameChange=function(e){var n=e.value;t.setState({selectedValue:n})},t.handleAdd=function(){var e=t.state.selectedValue;null!=e&&(i.default.addGame(e),(0,t.props.onClose)())},t.handleClose=function(){(0,t.props.onClose)()},t}return G(t,e),t.prototype.render=function(){var e=this.props.candidates,t=this.state.selectedValue,n=e.map(function(e){return{value:e.pid,label:null!=e.name?e.name:""}});return U("div",{className:(0,o.default)(b.default.addGamePopout,A.default.elevationBorderHigh)},void 0,U(_.default,{clearable:!1,options:n,onChange:this.handleGameChange,value:t,autofocus:!0}),U(S.FormDivider,{className:(0,o.default)(R.default.marginTop8,R.default.marginBottom8)}),U("div",{className:(0,o.default)(b.default.actions,M.default.horizontal)},void 0,U(c.default,{className:b.default.cancelButton,look:c.ButtonLooks.LINK,color:c.ButtonColors.GREY,onClick:this.handleClose},void 0,C.default.Messages.CANCEL),U(c.default,{disabled:null==t,onClick:this.handleAdd},void 0,C.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))},t}(a.PureComponent);B.displayName="AddGamePopout";var j=l.default.connectStores([s.default],function(){return{candidates:s.default.getCandidateGames()}})(B),H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={editingName:null!=t.props.game&&t.props.game.name||"",gameName:null!=t.props.game&&t.props.game.name||""},t.handleRemoveClick=function(){var e=t.props.game;null!=e&&i.default.deleteEntry(e)},t.handleNameEdit=function(){var e=t.props.game,n=t.state.editingName;null!=e&&e.name!==n&&i.default.editName(e,n)},t.handleNameChange=function(e){t.setState({editingName:e.target.value})},t.handleOverlayToggle=function(){var e=t.props.game;null!=e&&i.default.toggleOverlay(e)},t}G(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.game,r=e.nowPlaying,a=t.editingName,o=t.gameName;return r&&null!=n&&n.name!==o&&n.name!==a?{editingName:n.name,gameName:n.name}:{gameName:null!=n?n.name:""}};var n=t.prototype;return n.renderName=function(){var e=this.props,t=e.game,n=e.isOverride;return null==t?U("div",{className:b.default.gameName},void 0,C.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):t.verified&&!n?U("div",{className:b.default.detectedApplication},void 0,U("div",{className:b.default.gameName},void 0,t.name),U(E.default,{text:C.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,function(e){return a.createElement(h.default,w({className:b.default.gameVerifiedIcon,width:18,height:18,color:N.Colors.BRAND_500},e),U(m.default,{name:m.default.Names.VERIFIED,width:18,height:18,color:N.Colors.WHITE}))})):U("input",{className:(0,o.default)(b.default.gameName,b.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})},n.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return U("div",{className:b.default.lastPlayed},void 0,C.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var r,a=t.played,o=t.exePath;return n?r=C.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:a&&(r=C.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:a})),U("div",{className:b.default.lastPlayed},void 0,U(v.default,{hoverText:o?o.toUpperCase():""},void 0,r))},n.renderOverlayToggle=function(){var e=this,t=this.props.game;if(!F||null==t)return null;var n=t.overlay,r=t.overlayWarn,l=n?C.default.Messages.SETTINGS_GAMES_OVERLAY_ON:C.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,i=U(m.default,n?{name:m.default.Names.OVERLAY_ON,className:b.default.overlayToggleIconOn,foreground:b.default.fill}:{name:m.default.Names.OVERLAY_OFF,className:b.default.overlayToggleIconOff,foreground:b.default.fill}),u=r?U(E.default,{text:C.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,function(e){return a.createElement("i",w({className:b.default.overlayWarningIcon},e))}):null;return U("div",{className:(0,o.default)(M.default.flexCenter,M.default.noWrap,M.default.justifyBetween)},void 0,u,U("div",{className:b.default.overlayStatusText},void 0,l),U(E.default,{text:C.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return U(f.default,{"aria-label":C.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:b.default.overlayToggleIcon,onClick:e.handleOverlayToggle,onMouseEnter:n,onMouseLeave:r},void 0,i)}))},n.renderRemove=function(){return U(O.default,{className:b.default.removeGame,onClick:this.handleRemoveClick})},n.render=function(){var e,t=this.props,n=t.nowPlaying,r=t.game,a=t.isOverride,l=null!=r;return U("div",{className:(0,o.default)(M.default.flexCenter,((e={})[b.default.game]=!n,e[b.default.activeGame]=n,e[P.default.card]=!n,e[b.default.nowPlaying]=l&&n,e[b.default.notDetected]=!l&&n,e))},void 0,U("div",{className:(0,o.default)(b.default.gameNameLastPlayed,M.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),null==r||n&&!a?null:this.renderRemove())},n.handleEnterKey=function(e){13===e.keyCode&&(e.target.blur(),e.preventDefault())},t}(a.PureComponent);H.displayName="Game",H.defaultProps={nowPlaying:!1,isOverride:!1};var V=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var r=t.prototype;return r.componentDidMount=function(){s.default.watchCandidateGames(!0)},r.componentWillUnmount=function(){s.default.watchCandidateGames(!1)},r.handleToggleShowCurrentGame=function(e){u.default.updateRemoteSettings({showCurrentGame:e.currentTarget.checked})},r.renderPopout=function(e){return a.createElement(j,e)},r.renderGameList=function(){var e=this.props,t=e.gameHistory,r=e.overrideExePaths;return t.length?U(S.FormSection,{className:R.default.marginTop40},void 0,U(S.FormTitle,{className:R.default.marginBottom4},void 0,C.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),t.map(function(e){return U(H,{game:e,isOverride:r.has(e.exePath)},e.exePath)})):U(k,{className:R.default.marginTop40},void 0,U(p.EmptyStateImage,{darkSrc:n(9011),lightSrc:n(9012),width:430,height:250}),U(p.EmptyStateText,{},void 0,C.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER))},r.render=function(){var e=this.props,t=e.runningGame,n=e.showCurrentGame,r=e.overrideExePaths;return U(a.Fragment,{},void 0,U(S.FormSection,{tag:S.FormTitle.Tags.H2,title:C.default.Messages.USER_SETTINGS_GAME_ACTIVITY},void 0,U(H,{game:t,isOverride:null!=t&&r.has(t.exePath),nowPlaying:!0}),U("div",{className:(0,o.default)(b.default.nowPlayingAdd,R.default.marginReset,R.default.marginTop8,R.default.marginBottom20)},void 0,U("span",{},void 0,C.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),U(y.default,{closeOnScroll:!1,render:this.renderPopout,shadow:!1,position:y.default.Positions.BOTTOM},void 0,U(c.default,{look:c.ButtonLooks.LINK,size:c.ButtonSizes.MIN,color:c.ButtonColors.LINK},void 0,C.default.Messages.SETTINGS_GAMES_ADD_GAME))),U(g.default,{value:n,onChange:this.handleToggleShowCurrentGame},void 0,C.default.Messages.SHOW_CURRENT_GAME),this.renderGameList()))},t}(a.PureComponent);V.displayName="UserSettingsGameActivity";var x=(0,I.cachedFunction)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map(function(e){return e.exePath}))}),Y=l.default.connectStores([d.default,s.default],function(){return{showCurrentGame:d.default.showCurrentGame,gameHistory:s.default.getGamesSeen(!0),runningGame:s.default.getSettingsGame(),overrideExePaths:x.apply(void 0,s.default.getOverrides())}})(V);t.default=Y},9011:function(e,t,n){e.exports=n.p+"d01c53acda73318e5b39676ef8242eb7.svg"},9012:function(e,t,n){e.exports=n.p+"bb8e02d970950bdadb649d765f3b8488.svg"},9013:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(0)),o=O(n(3)),l=N(n(167)),i=N(n(293)),u=O(n(337)),s=n(102),d=O(n(25)),c=O(n(492)),f=O(n(58)),p=O(n(24)),h=O(n(42)),v=O(n(852)),m=n(136),_=O(n(15)),g=N(n(90)),E=O(n(13)),y=O(n(9014)),S=n(1),I=O(n(4)),T=O(n(6397));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map(function(e){var t=e.libraryApplication.getDistributor();return A("div",{className:T.default.hiddenLibraryApplication},e.key,A(p.default,{direction:p.default.Direction.VERTICAL,className:T.default.hiddenLibraryApplicationContent},void 0,A("div",{className:T.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?A("div",{className:T.default.applicationSubText},void 0,S.DistributorNames[t]):null),A(f.default,{className:T.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,A(h.default,{name:h.default.Names.CLOSE,className:T.default.restoreIcon})))});return A(m.FormSection,{className:T.default.hiddenLibraryApplications},void 0,A(m.FormTitle,{className:T.default.hiddenLibraryApplicationsTitle},void 0,I.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}M.displayName="HiddenLibraryApplications";var P=A(y.default,{}),R=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){var n=g.toggleFlag(e.getFlags(),S.LibraryApplicationFlags.HIDDEN);e instanceof s.LocalApplicationRecord?i.updateFlags(e.id,n):l.updateFlags(e.id,e.branchId,n),t.trackRestoreApplication(e,g.hasFlag(n,S.LibraryApplicationFlags.HIDDEN))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleToggleImportGames=function(e){var t=e.currentTarget.checked;u.default.updateLocalSettings({importGamesEnabled:t}),_.default.track(S.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:t})},o.handleToggleShortcutDesktop=function(e){var t=e.currentTarget.checked;u.default.updateLocalSettings({installShortcutDesktop:t})},o.handleToggleShortcutStartMenu=function(e){var t=e.currentTarget.checked;u.default.updateLocalSettings({installShortcutStartMenu:t})},o.trackRestoreApplication=function(e,t){_.default.track(S.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,C({hidden_enabled:t},e.getAnalyticsData()))},o.render=function(){var e=this.props,t=e.importGamesEnabled,n=e.hiddenLibraryApplicationViewItems,r=e.installShortcutDesktop,o=e.installShortcutStartMenu,l=E.default.isWindows();return A(a.Fragment,{},void 0,A(m.FormSection,{tag:m.FormTitleTags.H2,title:I.default.Messages.USER_SETTINGS_GAME_LIBRARY},void 0,l?A(a.Fragment,{},void 0,A(v.default,{value:!0===t,onChange:this.handleToggleImportGames,note:I.default.Messages.SETTINGS_GAMES_IMPORT_EXPLANATION},void 0,I.default.Messages.SETTINGS_GAMES_IMPORT_LABEL),A(v.default,{value:r,onChange:this.handleToggleShortcutDesktop,note:I.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,I.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),A(v.default,{value:o,onChange:this.handleToggleShortcutStartMenu,note:I.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,I.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),P):null,A(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:n})))},r}(a.PureComponent);R.displayName="UserSettingsGameLibrary";var b=o.default.connectStores([d.default,c.default],function(){return{importGamesEnabled:d.default.importGamesEnabled,hiddenLibraryApplicationViewItems:c.default.hiddenLibraryApplicationViewItems,installShortcutDesktop:d.default.installShortcutDesktop,installShortcutStartMenu:d.default.installShortcutStartMenu}})(R);t.default=b},9014:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=N(n(3)),l=n(1028),i=N(n(30)),u=N(n(204)),s=N(n(21)),d=N(n(457)),c=N(n(461)),f=N(n(9015)),p=N(n(24)),h=N(n(7331)),v=N(n(71)),m=N(n(138)),_=n(136),g=n(361),E=N(n(20)),y=N(n(13)),S=N(n(155)),I=N(n(4)),T=N(n(455)),O=N(n(6396));function N(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={label:null,isDefault:null},t.handleStartEditing=function(){var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n),t.setState({label:r,isDefault:a})},t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null),t.setState({label:null,isDefault:null})},t.handleRemoveLocation=function(){i.default.push(function(e){return a.createElement(S.default,C({},e,{header:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:I.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing(),(0,l.removeInstallLocation)(t.props.path)}}),A(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,I.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))})},t.handleSaveChanges=function(){(0,l.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault}),t.handleStopEditing()},t.handleLabelChange=function(e){t.setState({label:e})},t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})},t}M(t,e);var n=t.prototype;return n.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?A(f.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null},n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,l=n.isDefault,i=n.metadata;return null!=i&&(e=null!=i.availableKB?(0,g.formatSize)(i.availableKB,{useKibibytes:!0}):null,t=null!=i.totalKB?(0,g.formatSize)(i.totalKB,{useKibibytes:!0}):null),A(p.default,{className:O.default.installationPath,align:p.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),A(p.default,{direction:p.default.Direction.VERTICAL,className:O.default.descriptionWrapper},void 0,A(p.default,{align:p.default.Align.CENTER},void 0,A(v.default,{className:O.default.rowTitle,size:v.default.Sizes.MEDIUM},void 0,null!=a?a:u.default.getLabelFromPath(r)),l?A("span",{className:O.default.defaultIndicator},void 0,I.default.Messages.DEFAULT):null),null!=i&&null!=e&&null!=t?A(h.default,{className:O.default.rowBody,hoverText:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):A(v.default,{className:O.default.rowBody,size:v.default.Sizes.SMALL},void 0,r)),A(s.default,{size:s.default.Sizes.SMALL,disabled:null!=o,color:s.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,I.default.Messages.EDIT))},n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return A(d.default,{editable:!0,className:O.default.installationPathEditing},void 0,A(p.default,{},void 0,this.renderDiskUsageCircle(),A(p.default.Child,{},void 0,A(_.FormItem,{title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,A(m.default,{value:a,placeholder:u.default.getLabelFromPath(t),onChange:this.handleLabelChange})),A(_.FormItem,{title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:T.default.marginTop20},void 0,A(m.default,{disabled:!0,value:t})),A(c.default,{type:c.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:O.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),A(_.FormDivider,{className:O.default.separator}),A(p.default,{},void 0,A(s.default,{disabled:n||this.props.isDefault,size:s.default.Sizes.SMALL,color:s.default.Colors.RED,look:s.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),A(p.default,{justify:p.default.Justify.END},void 0,A(s.default,{size:s.default.Sizes.SMALL,color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:this.handleStopEditing},void 0,I.default.Messages.CANCEL),A(s.default,{disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:s.default.Sizes.SMALL,color:s.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,I.default.Messages.SAVE))))))},n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()},t}(a.PureComponent);P.displayName="PathItem";var R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null},t.handleAddInstallationLocation=function(){E.default.showOpenDialog(["openDirectory"]).then(function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,l.addInstallLocation)(e[0])})},t.handleToggleEditing=function(e){t.setState({editingPath:e})},t}M(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,l.fetchMetadata)(this.props.installationPaths.map(function(e){return e.path}))},n.render=function(){var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath;return A(_.FormSection,{className:O.default.wrapper,title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map(function(t){var n=t.path,l=t.label;return A(P,{path:n,label:l,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:u.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)}),A("div",{className:O.default.buttonRowWrapper},void 0,A(s.default,{disabled:!y.default.embedded,onClick:this.handleAddInstallationLocation,size:s.default.Sizes.SMALL},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))},t}(a.PureComponent);R.displayName="GameInstallLocations";var b=o.default.connectStores([u.default],function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata,defaultInstallationPath:u.default.defaultInstallationPath}})(R);t.default=b},9015:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(65)),l=u(n(4)),i=u(n(6395));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Math.ceil(2*Math.PI*20);function f(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}function p(e){return Math.floor(c*e)+", "+c}var h=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),u=Math.floor(100*r)+"%";return d(o.default,{text:l.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:u})},void 0,function(e){return a.createElement("div",s({className:i.default.wrapper,role:"progressbar","aria-label":l.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:u})},e),d("svg",{viewBox:"25 25 50 50",className:i.default.svg,"aria-hidden":!0},void 0,d("circle",{className:i.default.background,cx:"50",cy:"50",r:20}),d("circle",{className:i.default.foreground,cx:"50",cy:"50",r:20,stroke:f(r),strokeDasharray:p(r)})),d("aside",{className:i.default.usageInfo,"aria-hidden":!0},void 0,u))})};h.displayName="DiskSpaceCircle";var v=h;t.default=v},9016:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(3)),l=_(n(9017)),i=_(n(25)),u=_(n(11)),s=_(n(457)),d=_(n(9018)),c=_(n(9021)),f=_(n(9031)),p=_(n(9032)),h=n(1),v=_(n(4)),m=_(n(6407));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(d.default,{}),y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderIntroHeader=function(){return null==this.props.houseMembership?v.default.Messages.HYPESQUAD_HEADING:v.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER},o.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;return g(a.Fragment,{},void 0,g("div",{className:m.default.intro},void 0,g("div",{className:m.default.introHeader},void 0,this.renderIntroHeader()),g("div",{className:m.default.introBlurb},void 0,v.default.Messages.HYPESQUAD_SUBHEADING)),g(p.default,{className:m.default.verificationNotice,unclaimedNotice:v.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:v.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),g(c.default,{houseMembership:t,isClaimed:n,isVerified:r}),E,g(f.default,{isHypeSquadOnlineMember:null!=t}),g(s.default,{className:m.default.attendeeCTA},void 0,v.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:h.MarketingURLs.HYPESQUAD})))},r}(a.PureComponent);y.displayName="UserSettingsHypeSquad";var S=o.default.connectStores([l.default,i.default,u.default],function(){var e=u.default.getCurrentUser();return{houseMembership:l.default.getHouseMembership(),isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(y);t.default=S},9017:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(2)),o=i(n(11)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u=null;var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getHouseMembership=function(){return u},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t;(t=o.default.getCurrentUser()).hasFlag(l.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?u=l.HypeSquadHouses.HOUSE_1:t.hasFlag(l.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?u=l.HypeSquadHouses.HOUSE_2:t.hasFlag(l.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(u=l.HypeSquadHouses.HOUSE_3)},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(e){u=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){u=e.houseID}});t.default=s},9018:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(71)),l=d(n(9019)),i=d(n(9020)),u=d(n(4)),s=d(n(6400));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return c("div",{className:s.default.features},void 0,c(i.default,{className:s.default.video,videoID:"SWzB1mx2o5k"}),c(o.default,{className:s.default.perksHeading,color:o.default.Colors.PRIMARY,weight:o.default.Weights.BOLD},void 0,u.default.Messages.HYPESQUAD_PERKS_HEADING),c(l.default,{features:[{icon:s.default.perkNewsletter,title:u.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:s.default.perkBadge,title:u.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:s.default.perkChallenges,title:u.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))},r}(a.Component);f.displayName="HypeSquadPerks";var p=f;t.default=p},9019:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=s(n(24)),i=s(n(455)),u=s(n(6398));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.features,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["features"]);return t.map(function(e,t){var r;return null==e.predicate||e.predicate(n)?d(l.default,{align:l.default.Align.CENTER,className:(0,o.default)(i.default.marginTop20,u.default.feature,(r={},r[u.default.featureBorder]=0!==t,r))},t,null!=e.icon?d("div",{className:(0,o.default)(u.default.icon,e.icon)}):null,d("div",{},void 0,null!=e.title?d("div",{className:(0,o.default)(i.default.marginBottom8,u.default.title)},void 0,e.title):null,d("div",{className:u.default.description},void 0,e.description))):null})},r}(a.Component);t.default=c,c.displayName="FeatureList"},9020:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=i(n(8)),l=i(n(6399));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID;return u("div",{className:(0,o.default)(t,l.default.videoWrapper)},void 0,u("iframe",{type:"text/html",className:l.default.video,src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://discordapp.com"}))},r}(a.Component);t.default=s,s.displayName="PromoVideo"},9021:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),u=E(n(8)),s=E(n(30)),d=E(n(21)),c=E(n(58)),f=E(n(24)),p=E(n(71)),h=n(7794),v=E(n(9022)),m=n(1),_=E(n(4)),g=E(n(6404));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=((r={})[m.HypeSquadHouses.HOUSE_1]=g.default.membershipDialogHouse1,r[m.HypeSquadHouses.HOUSE_2]=g.default.membershipDialogHouse2,r[m.HypeSquadHouses.HOUSE_3]=g.default.membershipDialogHouse3,r),I=((a={})[m.HypeSquadHouses.HOUSE_1]=g.default.houseLogoHouse1,a[m.HypeSquadHouses.HOUSE_2]=g.default.houseLogoHouse2,a[m.HypeSquadHouses.HOUSE_3]=g.default.houseLogoHouse3,a),T=((o={})[m.HypeSquadHouses.HOUSE_1]=n(9028),o[m.HypeSquadHouses.HOUSE_2]=n(9029),o[m.HypeSquadHouses.HOUSE_3]=n(9030),o),O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJoinHypeSquadClick=function(){s.default.push(function(e){return i.createElement(v.default,e)})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.props,r=n.houseMembership,a=n.isClaimed,o=n.isVerified;if(!a||!o)return null;if(null!=r){var l=_.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,h.getHouseNameFromHouseID)(r)});return y("div",{className:(0,u.default)(g.default.membershipDialog,S[r])},void 0,y("div",{className:g.default.membershipDialogContent},void 0,y(f.default,{},void 0,y(f.default.Child,{grow:1,shrink:1},void 0,y(p.default,{className:g.default.membershipDialogHeading,color:p.default.Colors.WHITE,size:p.default.Sizes.SMALL},void 0,_.default.Messages.HYPESQUAD_YOUR_HOUSE),y(p.default,{className:g.default.membershipDialogHouseName,color:p.default.Colors.WHITE,weight:p.default.Weights.SEMIBOLD},void 0,l),y(p.default,{className:g.default.membershipDialogHouseDescription,color:p.default.Colors.WHITE,size:p.default.Sizes.MEDIUM},void 0,(e=r,((t={})[m.HypeSquadHouses.HOUSE_1]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1,t[m.HypeSquadHouses.HOUSE_2]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2,t[m.HypeSquadHouses.HOUSE_3]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3,t)[e]))),y(f.default.Child,{className:g.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,y("img",{className:(0,u.default)(g.default.houseLogo,I[r]),src:T[r],alt:l}))),y(p.default,{className:g.default.membershipDialogSwitchHouses,color:p.default.Colors.WHITE,size:p.default.Sizes.MEDIUM},void 0,_.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,y(c.default,{className:g.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,_.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return y("div",{className:g.default.joinCTAWrapper},void 0,y(f.default,{className:g.default.joinCTA,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER,direction:f.default.Direction.HORIZONTAL},void 0,y(f.default.Child,{grow:0,shrink:0},void 0,y(p.default,{color:p.default.Colors.PRIMARY},void 0,_.default.Messages.HYPESQUAD_READY_TO_REP)),y(f.default.Child,{grow:0,shrink:0},void 0,y(d.default,{onClick:this.handleJoinHypeSquadClick},void 0,_.default.Messages.HYPESQUAD_JOIN))),y(p.default,{className:g.default.newsletterWarning,color:p.default.Colors.PRIMARY},void 0,_.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},r}(i.Component);t.default=O,O.displayName="JoinHypeSquadCTA"},9022:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=S(n(8)),u=S(n(263)),s=S(n(7795)),d=S(n(21)),c=S(n(71)),f=S(n(75)),p=S(n(66)),h=n(7794),v=S(n(9023)),m=S(n(9024)),_=n(1),g=S(n(4)),E=S(n(455)),y=S(n(6403));function S(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(e){return T("div",{className:y.default.innerContentWrapper},void 0,e.children)};O.displayName="innerContentWrapper";var N=((r={})[_.HypeSquadHouses.HOUSE_1]=n(9025),r[_.HypeSquadHouses.HOUSE_2]=n(9026),r[_.HypeSquadHouses.HOUSE_3]=n(9027),r),C=((a={})[_.HypeSquadHouses.HOUSE_1]=y.default.quizResultLogoWrapperHouse1,a[_.HypeSquadHouses.HOUSE_2]=y.default.quizResultLogoWrapperHouse2,a[_.HypeSquadHouses.HOUSE_3]=y.default.quizResultLogoWrapperHouse3,a),A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={currentStep:0,hasSubmittedHouse:!1,hasUnknownError:!1,isRequestPending:!1,questions:(0,h.getQuestions)(),responses:{},selectedHouse:null},t.handleQuestionSelect=function(e){t.setState(function(t){var n;return{responses:I({},t.responses,(n={},n[t.currentStep]=e,n))}})},t.handleSubmitButtonClick=function(){var e=t.getSelectedHouseID();t.setState({isRequestPending:!0},function(){s.default.joinHypeSquadOnline({houseID:e}).then(function(){t.setState({hasUnknownError:!1,hasSubmittedHouse:!0,isRequestPending:!1,selectedHouse:e})}).catch(function(){t.setState({hasUnknownError:!0,hasSubmittedHouse:!1,isRequestPending:!1})})})},t.handleKeyDown=function(e){e.keyCode===_.KeyboardKeys.ENTER&&t.handleSubmitButtonClick()},t.handleNextQuestionButtonClick=function(){t.setState(function(e){return{currentStep:e.currentStep+1}})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getSelectedHouseID=function(){var e,t=this.state.responses,n={},r=0;return Object.keys(t).forEach(function(a){var o=t[a];null==n[o]&&(n[o]=0),n[o]++,n[o]>r&&(e=o,r=n[o])}),null==e||e===_.RANDOM_HYPESQUAD_HOUSE?(0,h.getRandomHouse)():e},a.renderUnknownErrorMessage=function(){return T(v.default,{},"error",T(l.Fragment,{},void 0,T(c.default,{className:y.default.quizResultHeading,color:c.default.Colors.PRIMARY,size:c.default.Sizes.LARGE,weight:c.default.Weights.SEMIBOLD},void 0,g.default.Messages.HYPESQUAD_ERROR_HEADING),T(c.default,{color:c.default.Colors.PRIMARY},void 0,g.default.Messages.HYPESQUAD_ERROR_BODY.format({emailAddress:"hypesquad@discordapp.com",emailAddressLink:"mailto:hypesquad@discordapp.com"}))))},a.renderQuizResult=function(){var e=this.state.selectedHouse;if(null==e)return null;var t,n,r=g.default.Messages.HYPESQUAD_QUIZ_TITLE.format({house:(0,h.getHouseNameFromHouseID)(e)});return T(v.default,{},"submit-step",T(l.Fragment,{},void 0,T("div",{className:(0,i.default)(y.default.quizResultLogoWrapper,C[e],E.default.marginBottom20)},void 0,T("img",{alt:r,className:y.default.quizResultLogo,src:N[e]})),T(c.default,{className:y.default.quizResultHeading,color:c.default.Colors.PRIMARY,size:c.default.Sizes.LARGE,weight:c.default.Weights.SEMIBOLD},void 0,r),T(c.default,{className:y.default.quizResultBody,color:c.default.Colors.PRIMARY},void 0,(t=e,((n={})[_.HypeSquadHouses.HOUSE_1]=g.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_1,n[_.HypeSquadHouses.HOUSE_2]=g.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_2,n[_.HypeSquadHouses.HOUSE_3]=g.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_3,n)[t]))))},a.renderContent=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,r=e.hasSubmittedHouse,a=e.questions;if(n)return this.renderUnknownErrorMessage();if(r)return this.renderQuizResult();var o=a[t];return T(v.default,{},t,T(m.default,{onSelect:this.handleQuestionSelect,options:o.options,prompt:o.prompt},t))},a.renderHeaderCopy=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,r=e.hasSubmittedHouse,a=e.questions;return n?g.default.Messages.HYPESQUAD_QUIZ_ERROR_MODAL_TITLE:r?g.default.Messages.HYPESQUAD_QUIZ_COMPLETED_MODAL_TITLE:g.default.Messages.HYPESQUAD_QUIZ_ONGOING_MODAL_TITLE.format({currentQuestion:t+1,questionCount:a.length})},a.renderNewsletterWarning=function(){return T(v.default,{},void 0,T(c.default,{className:y.default.nameFormPreface,color:c.default.Colors.PRIMARY,size:c.default.Sizes.MEDIUM},void 0,g.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},a.renderPrimaryAction=function(){var e=this.state,t=e.currentStep,n=e.responses,r=e.hasUnknownError,a=e.hasSubmittedHouse,o=e.isRequestPending,l=e.questions,i=null==n[t];return r?T(d.default,{type:"submit",color:d.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:o},void 0,g.default.Messages.HYPESQUAD_QUIZ_RETRY):a?T(d.default,{type:"submit",color:d.default.Colors.BRAND,onClick:this.props.onClose},void 0,g.default.Messages.HYPESQUAD_QUIZ_CLOSE):t===l.length-1?T(d.default,{disabled:i,type:"submit",color:d.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:o},void 0,g.default.Messages.HYPESQUAD_QUIZ_SHOW_MY_HOUSE):T(d.default,{disabled:i,type:"submit",color:d.default.Colors.BRAND,onClick:this.handleNextQuestionButtonClick},void 0,g.default.Messages.HYPESQUAD_QUIZ_NEXT_QUESTION)},a.renderSecondaryAction=function(){return this.state.hasSubmittedHouse?null:T(d.default,{type:"button",look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:this.props.onClose},void 0,g.default.Messages.HYPESQUAD_QUIZ_CANCEL)},a.render=function(){var e=this.state.selectedHouse;return T(f.default,{size:null==e?f.default.Sizes.MEDIUM:f.default.Sizes.SMALL},void 0,T(f.default.Header,{separator:!1},void 0,T(p.default,{tag:p.default.Tags.H4},void 0,this.renderHeaderCopy())),T("div",{className:y.default.outerContentWrapper},void 0,T(u.default,{component:O},void 0,this.renderContent())),T(f.default.Footer,{},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))},r}(l.Component);A.displayName="HouseSelectionModal";var M=A;t.default=M},9023:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(118)),l=u(n(75)),i=u(n(6401));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isExiting:!1,offset:new o.default.Value(0),selectedValue:null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillEnter=function(e){var t=this.state.offset;t.setValue(1),o.default.spring(t,{toValue:0,duration:75}).start(e)},a.componentWillLeave=function(e){var t=this.state.offset;t.setValue(0),this.setState({isExiting:!0},function(){o.default.spring(t,{toValue:-1,duration:75}).start(e)})},a.render=function(){var e=this.state,t=e.isExiting,n=e.offset;return s(o.default.div,{className:i.default.wrapper,style:{left:0,position:t?"absolute":"relative",top:0,transform:[{translateX:n.interpolate({inputRange:[-1,1],outputRange:["-100%","100%"]})}]}},void 0,s(l.default.Content,{className:i.default.contentWrapper},void 0,this.props.children))},r}(a.Component);t.default=d,d.displayName="HouseSelectionContent"},9024:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(6525)),l=s(n(71)),i=s(n(4)),u=s(n(6402));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedValue:null},t.handleOptionChange=function(e){var n=t.props.onSelect;t.setState({selectedValue:e.value}),n(e.value)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getQuestionOptions=function(){return this.props.options.map(function(e){return{name:e.copy,value:e.house}})},s.render=function(){var e=this.state.selectedValue;return d(a.Fragment,{},void 0,d(l.default,{className:u.default.prompt,size:l.default.Sizes.MEDIUM,weight:l.default.Weights.SEMIBOLD},void 0,this.props.prompt),d("hr",{className:u.default.separator}),d(l.default,{className:u.default.selectYourAnswer,size:l.default.Sizes.SMALL},void 0,i.default.Messages.HYPESQUAD_QUIZ_SELECT_ANSWER),d(o.default,{options:this.getQuestionOptions(),onChange:this.handleOptionChange,value:e}))},r}(a.Component);t.default=c,c.displayName="QuestionGroup"},9025:function(e,t,n){e.exports=n.p+"a359371246d6353de6bc32715e092eba.svg"},9026:function(e,t,n){e.exports=n.p+"8c59bddd746488fe8acf23d8d36c1a60.svg"},9027:function(e,t,n){e.exports=n.p+"07ed671b6c823a6cae5be39860ac8bf0.svg"},9028:function(e,t,n){e.exports=n.p+"59419b0683ef50f5e8ecd8748ecbcfeb.svg"},9029:function(e,t,n){e.exports=n.p+"0f1eadc1ec3616e0b1c9ce515ee5683a.svg"},9030:function(e,t,n){e.exports=n.p+"ac89ab7dd6f700d02b0ac958b98a3309.svg"},9031:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(7795)),l=d(n(21)),i=d(n(71)),u=d(n(4)),s=d(n(6405));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isRequestPending:!1,hasError:!1},t.handleLeaveHypeSquadError=function(){t.setState({hasError:!0})},t.handleLeaveHypeSquadClick=function(){t.setState({isRequestPending:!0},function(){o.default.leaveHypeSquadOnline().then(function(){t.setState({isRequestPending:!1})}).catch(function(){t.setState({hasError:!0,isRequestPending:!1})})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderErrorMessage=function(){return this.state.hasError?c("div",{className:s.default.error},void 0,u.default.Messages.HYPESQUAD_LEAVE_ERROR):null},a.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?c("div",{className:s.default.leaveActionWrapper},void 0,this.renderErrorMessage(),c(i.default,{className:s.default.leaveActionCopy,color:i.default.Colors.PRIMARY},void 0,u.default.Messages.HYPESQUAD_LEAVE_PROMPT,c(l.default,{className:s.default.leaveButton,color:l.default.Colors.LINK,look:l.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:l.default.Sizes.NONE,submitting:e},void 0,u.default.Messages.HYPESQUAD_LEAVE_ACTION))):null},r}(a.PureComponent);t.default=f,f.displayName="UserSettingsHypeSquad"},9032:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(8)),l=g(n(3)),i=n(863),u=g(n(329)),s=g(n(11)),d=g(n(21)),c=g(n(457)),f=g(n(24)),p=g(n(71)),h=g(n(6806)),v=n(1),m=g(n(4)),_=g(n(6406));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=E(f.default.Child,{grow:0,shrink:0},void 0,E(h.default,{})),S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?r:n},a.renderPrimaryAction=function(){return this.props.isClaimed?y:E(f.default.Child,{grow:0,shrink:0},void 0,E(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.BRAND,onClick:this.routeToEmailSettings},void 0,m.default.Messages.CLAIM_ACCOUNT))},a.renderSecondaryAction=function(){return this.props.isClaimed?E(f.default.Child,{grow:0,shrink:0},void 0,E(d.default,{color:d.default.Colors.GREY,look:d.default.Looks.LINK,onClick:this.routeToEmailSettings},void 0,m.default.Messages.CHANGE_EMAIL_SHORT)):null},a.routeToEmailSettings=function(){u.default.setSection(v.UserSettingsSections.ACCOUNT),(0,i.toggleEditingProfile)(!0)},a.render=function(){var e=this.props,t=e.className,n=e.isClaimed,r=e.isVerified;return n&&r?null:E(c.default,{className:(0,o.default)(_.default.wrapper,t)},void 0,E(f.default,{align:f.default.Align.CENTER},void 0,E(f.default.Child,{className:_.default.image,grow:0,shrink:0}),E(f.default.Child,{},void 0,E(p.default,{color:p.default.Colors.PRIMARY},void 0,this.renderNotice()),E(f.default,{justify:f.default.Justify.CENTER,className:_.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))},r}(a.Component);S.displayName="EmailNotice",S.defaultProps={unclaimedNotice:m.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,unverifiedNotice:m.default.Messages.NOTICE_UNVERIFIED_ACCOUNT};var I=l.default.connectStores([s.default],function(){var e=s.default.getCurrentUser();return{isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(S);t.default=I},9033:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=L(n(0)),o=b(n(8)),l=b(n(6)),i=b(n(3)),u=b(n(7796)),s=b(n(6542)),d=b(n(6632)),c=b(n(6631)),f=b(n(40)),p=b(n(484)),h=b(n(25)),v=b(n(11)),m=L(n(21)),_=L(n(6524)),g=b(n(24)),E=b(n(460)),y=n(136),S=L(n(258)),I=L(n(282)),T=b(n(6551)),O=b(n(6713)),N=n(1),C=b(n(4)),A=b(n(5925)),M=b(n(455)),P=b(n(5944)),R=b(n(6408));function b(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=i.default.connectStores([h.default],function(){return{theme:h.default.theme}})(_.default),F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleActionChanged=function(e){u.default.setKeybind(U({},t.props.keybind,{action:e.value}))},t.handleShortcutChange=function(e){u.default.setKeybind(U({},t.props.keybind,{shortcut:e}))},t.handleDeleteKeybind=function(){u.default.deleteKeybind(t.props.keybind.id)},t}G(t,e);var n=t.prototype;return n.renderMessage=function(){var e=this.props.keybind;return s.default.hasBind(I.toString(e.shortcut))?w(S.default,{className:R.default.keybindMessage,type:S.Types.DESCRIPTION,style:{color:N.Colors.STATUS_RED}},void 0,C.default.Messages.KEYBIND_CONFLICT):w(S.default,{className:R.default.keybindMessage,type:S.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])},n.render=function(){var e=this.props.keybind.managed;return w(g.default,{direction:g.default.Direction.VERTICAL,className:(0,o.default)(R.default.keybindGroup,A.default.card)},void 0,!e&&w(T.default,{"aria-label":C.default.Messages.REMOVE_KEYBIND,className:R.default.removeKeybind,onClick:this.handleDeleteKeybind}),w(g.default,{className:M.default.marginBottom8},void 0,w(g.default.Child,{basis:"50%"},void 0,w(y.FormItem,{title:C.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:R.default.item},void 0,w(E.default,{options:this.props.keybindActionTypes,onChange:this.handleActionChanged,value:this.props.keybind.action,clearable:!1,searchable:!1,disabled:e}))),w(g.default.Child,{basis:"50%"},void 0,w(y.FormItem,{title:C.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:R.default.item},void 0,w(O.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),w(g.default.Child,{},void 0,this.renderMessage()))},t}(a.PureComponent);F.displayName="KeybindEntry";var B=w(y.FormDivider,{}),j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAddKeybind=function(){u.default.addKeybind()},t}G(t,e);var r,a,i,s=t.prototype;return s.renderKeybinds=function(e){var t=this;return e.map(function(e){return w("div",{className:R.default.row},e.id,w(F,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id))})},s.renderEmpty=function(e){if(0===e.length)return w(k,{className:M.default.marginTop60},void 0,w(_.EmptyStateImage,{darkSrc:n(9034),lightSrc:n(9035),width:320,height:170}))},s.render=function(){var e=(0,l.default)(this.props.keybinds).reject(function(e){return e.managed&&e.action!==N.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET}).sortBy(function(e){return e.id}).sortBy(function(e){return!0===e.managed?-1:0}).value();return w(y.FormSection,{tag:y.FormTitleTags.H2,title:C.default.Messages.KEYBINDS},void 0,w(g.default,{justify:g.default.Justify.BETWEEN,className:M.default.marginBottom20},void 0,w(g.default.Child,{grow:0},void 0,w("div",{className:(0,o.default)(R.default.ghostPill,P.default.cursorDefault)},void 0,C.default.Messages.ADD_KEYBIND_WARNING)),w(g.default.Child,{wrap:!0,grow:0},void 0,w(m.default,{size:m.ButtonSizes.SMALL,onClick:this.handleAddKeybind},void 0,C.default.Messages.ADD_KEYBIND))),B,w(y.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e)))},r=t,(a=[{key:"keybindActionTypes",get:function(){var e=this.props,t=e.overlaySupported,n=e.canGoLive,r=[{value:N.KeybindCustomActions.UNASSIGNED,label:C.default.Messages.KEYBIND_UNASSIGNED},{value:N.KeybindCustomActions.PUSH_TO_TALK,label:C.default.Messages.KEYBIND_PUSH_TO_TALK},{value:N.KeybindCustomActions.PUSH_TO_TALK_PRIORITY,label:C.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:N.KeybindCustomActions.PUSH_TO_MUTE,label:C.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:N.KeybindCustomActions.TOGGLE_MUTE,label:C.default.Messages.KEYBIND_TOGGLE_MUTE},{value:N.KeybindCustomActions.TOGGLE_DEAFEN,label:C.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:N.KeybindCustomActions.TOGGLE_VOICE_MODE,label:C.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:N.KeybindCustomActions.TOGGLE_STREAMER_MODE,label:C.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}];return t&&(r.push({value:N.KeybindCustomActions.TOGGLE_OVERLAY,label:C.default.Messages.KEYBIND_TOGGLE_OVERLAY}),r.push({value:N.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,label:C.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK}),r.push({value:N.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:C.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})),n&&r.push({value:N.KeybindCustomActions.TOGGLE_GO_LIVE_STREAMING,label:C.default.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING}),r}},{key:"keybindDescriptions",get:function(){var e,t=this.props,n=t.overlaySupported,r=t.canGoLive,a=((e={})[N.KeybindCustomActions.UNASSIGNED]=C.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,e[N.KeybindCustomActions.PUSH_TO_MUTE]=C.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,e[N.KeybindCustomActions.PUSH_TO_TALK]=C.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,e[N.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]=C.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,e[N.KeybindCustomActions.TOGGLE_MUTE]=C.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,e[N.KeybindCustomActions.TOGGLE_DEAFEN]=C.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,e[N.KeybindCustomActions.TOGGLE_VOICE_MODE]=C.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,e[N.KeybindCustomActions.TOGGLE_STREAMER_MODE]=C.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,e);return n&&(a[N.KeybindCustomActions.TOGGLE_OVERLAY]=C.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY,a[N.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]=C.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK),r&&(a[N.KeybindCustomActions.TOGGLE_GO_LIVE_STREAMING]=C.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING),a}}])&&D(r.prototype,a),i&&D(r,i),t}(a.PureComponent);j.displayName="UserSettingsKeybinds";var H=i.default.connectStores([c.default,v.default,f.default,p.default],function(){return{keybinds:c.default.getState(),canGoLive:(0,d.default)(f.default,v.default),overlaySupported:p.default.isSupported()}})(j);t.default=H},9034:function(e,t,n){e.exports=n.p+"f3bb89a27e9d102f748da035cd7e5df7.svg"},9035:function(e,t,n){e.exports=n.p+"21b610d45d1f2175431413ad53258aa6.svg"},9036:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),l=f(n(337)),i=f(n(25)),u=f(n(9037)),s=n(136),d=f(n(4)),c=f(n(455));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(t){var r,a;function o(r){var a;return(a=t.call(this,r)||this).handleLocaleChange=function(t){var n=t.value;a.setState({currentLocale:n},function(){return e.nextTick(function(){return l.default.updateRemoteSettings({locale:n})})})},a.state={currentLocale:r.currentLocale,locales:d.default.getAvailableLocales().map(function(e){var t;try{t=n(6704)("./"+e.value+".png")}catch(e){t=n(6930)}return h({},e,{image:t})})},a}return a=t,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this.state,t=e.currentLocale,n=e.locales;return p(s.FormSection,{tag:s.FormTitleTags.H2,title:d.default.Messages.LANGUAGE},void 0,p(s.FormSection,{},void 0,p(s.FormTitle,{className:c.default.marginReset},void 0,d.default.Messages.LANGUAGE_SELECT),p(u.default,{options:n,value:t,onChange:this.handleLocaleChange})))},o}(a.Component);v.displayName="UserSettingsLocale";var m=o.default.connectStores([i.default],function(){return{currentLocale:i.default.locale}})(v);t.default=m}).call(this,n(123))},9037:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),l=c(n(461)),i=c(n(24)),u=n(136),s=n(1),d=c(n(6409));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){return t.props.onClick(t.props.option)},t}return p(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isChecked,r=t.option;return f(i.default,{className:(0,o.default)(d.default.item,(e={},e[d.default.selected]=n,e)),justify:i.default.Justify.BETWEEN,align:i.default.Align.CENTER,onClick:this.handleClick},void 0,f(i.default,{grow:0,className:d.default.label,justify:i.default.Justify.START},void 0,f(i.default.Child,{},void 0,f(l.default,{readOnly:!0,value:n,shape:l.default.Shapes.ROUND,color:s.Colors.STATUS_GREEN,type:l.default.Types.INVERTED,className:d.default.checkbox})),f(i.default.Child,{className:d.default.marginReset},void 0,f(u.FormTitle,{className:d.default.labelText,tag:u.FormTitleTags.H3},void 0,r.name))),f(i.default,{grow:0},void 0,f(i.default.Child,{className:d.default.marginReset},void 0,f(u.FormText,{type:u.FormText.Types.DESCRIPTION},void 0,r.localizedName)),r.image?f(i.default.Child,{},void 0,f("img",{alt:"",src:r.image,className:d.default.image})):null))},t}(a.PureComponent);h.displayName="RadioItem";var v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderRadio=function(e,n){var r=t.props.value===e.value;return f(h,{isChecked:r,option:e,onClick:t.props.onChange},n)},t}return p(t,e),t.prototype.render=function(){return f("div",{},void 0,this.props.options.map(this.renderRadio))},t}(a.PureComponent);v.displayName="RadioList",v.defaultProps={options:[],onChange:s.NOOP,value:null};var m=v;t.default=m},9038:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(0)),o=M(n(8)),l=M(n(6)),i=M(n(3)),u=M(n(494)),s=M(n(337)),d=M(n(917)),c=M(n(864)),f=M(n(25)),p=M(n(58)),h=M(n(42)),v=M(n(6525)),m=M(n(460)),_=M(n(891)),g=M(n(852)),E=M(n(71)),y=n(874),S=n(136),I=M(n(13)),T=P(n(467)),O=n(1),N=M(n(4)),C=M(n(455)),A=M(n(6410));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=R(S.FormDivider,{}),D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePreviewSound=function(e,n){n.stopPropagation(),null!=t._currentPlayingSound&&t._currentPlayingSound.stop(),t._currentPlayingSound=T.playSound(e)},t.handleSoundChange=function(e,n){var r=t.props.disabledSounds.filter(function(t){return t!==e});n.currentTarget.checked||r.push(e),u.default.setDisabledSounds(r)},t.handleAFKTimeoutChange=function(e){var t=e.value;s.default.updateRemoteSettings({afkTimeout:t})},t.handleToggleShowUnreadBadge=function(){u.default.setDisableUnreadBadge(!t.props.disableUnreadBadge)},t.handleToggleShowFlash=function(){u.default.setTaskbarFlash(!t.props.taskbarFlash)},t.renderSounds=function(){var e=[{label:N.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:N.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:N.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:N.default.Messages.MUTE,sound:"mute"},{label:N.default.Messages.UNMUTE,sound:"unmute"},{label:N.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:N.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:N.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:N.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:N.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:N.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:N.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:N.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"},{label:N.default.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:N.default.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:N.default.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:N.default.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"}].map(function(e){var n=e.label,r=e.sound;return R(y.UID,{},r,function(e){return R(p.default,{className:A.default.notificationsSound,onClick:t.handlePreviewSound.bind(b(t),r)},void 0,R("div",{className:A.default.soundLabel},void 0,R(h.default,{name:h.default.Names.SPEAKER,width:16,height:16,className:A.default.icon}),R(E.default,{tag:"label",htmlFor:e,className:A.default.sound,size:E.default.Sizes.MEDIUM},void 0,n)),R(_.default,{id:e,className:A.default.switch,value:-1===t.props.disabledSounds.indexOf(r),onChange:t.handleSoundChange.bind(b(t),r)}))})});return R(S.FormSection,{title:N.default.Messages.SOUNDS},void 0,e)},t.renderTTS=function(){if(!d.default.supported)return null;var e=[{name:N.default.Messages.TTS_ALLS,value:O.TTSNotificationTypes.ALL_CHANNELS},{name:N.default.Messages.TTS_CURRENT,value:O.TTSNotificationTypes.SELECTED_CHANNEL},{name:N.default.Messages.TTS_NEVER,value:O.TTSNotificationTypes.NEVER}];return R(S.FormItem,{title:N.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,R(S.FormText,{type:S.FormTextTypes.DESCRIPTION,className:C.default.marginBottom8},void 0,N.default.Messages.FORM_DESCRIPTION_TTS),R(v.default,{options:e,onChange:t.handleTTSChange,value:t.props.ttsType}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleDesktopChange=function(e){var t=e.currentTarget.checked?O.DesktopNotificationTypes.ALL:O.DesktopNotificationTypes.NEVER;t!==O.DesktopNotificationTypes.NEVER?u.default.requestPermission("UserSettingsModal"):u.default.setDesktopType(t)},a.handleTTSChange=function(e){var t=e.value;u.default.setTTSType(t)},a.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,r=e.disableUnreadBadge,a=e.taskbarFlash,i=I.default.embedded&&I.default.isWindows(),u=l.default.range(1,11).map(function(e){return{value:60*e,label:N.default.Messages.DURATION_MINUTES.format({minutes:e})}});return R(S.FormSection,{tag:S.FormTitleTags.H2,title:N.default.Messages.NOTIFICATIONS},void 0,R(g.default,{className:C.default.marginBottom20,value:t!==O.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:N.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,N.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),R(g.default,{className:i?C.default.marginBottom20:C.default.marginBottom40,value:!r,note:N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge},void 0,N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),i?R(g.default,{className:C.default.marginBottom40,value:a,note:N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,R(S.FormItem,{title:N.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,R(m.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleAFKTimeoutChange,options:u}),R(S.FormText,{type:S.FormTextTypes.DESCRIPTION,className:C.default.marginTop8},void 0,N.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),R(S.FormDivider,{className:(0,o.default)(C.default.marginTop40,C.default.marginBottom40)})),this.renderTTS(),R(S.FormDivider,{className:(0,o.default)(C.default.marginTop40,C.default.marginBottom40)}),R(S.FormItem,{},void 0,this.renderSounds()),L)},r}(a.PureComponent);D.displayName="UserSettingsNotifications";var w=i.default.connectStores([c.default,f.default],function(){return{disableUnreadBadge:c.default.getDisableUnreadBadge(),taskbarFlash:c.default.taskbarFlash,disabledSounds:c.default.getDisabledSounds(),desktopType:c.default.getDesktopType(),ttsType:c.default.getTTSType(),afkTimeout:f.default.afkTimeout}})(D);t.default=w},9039:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=O(n(3)),l=O(n(7796)),i=O(n(338)),u=O(n(6631)),s=O(n(484)),d=O(n(224)),c=O(n(24)),f=O(n(6525)),p=O(n(852)),h=n(136),v=O(n(262)),m=O(n(7339)),_=O(n(15)),g=(O(n(183)),n(282)),E=O(n(6713)),y=n(1),S=O(n(4)),I=O(n(455)),T=O(n(6411));function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(){var e=d.default.getNotificationPositionMode(),t=e!==y.OverlayNotificationPositions.DISABLED,n=u.default.getOverlayKeybind(),r=u.default.getOverlayChatKeybind();_.default.track(y.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:s.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:d.default.getTextChatNotificationMode(),hotkey:null!=n?(0,g.toString)(n.shortcut):null,text_activation_hotkey:null!=r?(0,g.toString)(r.shortcut):null,text_opacity_slider:d.default.getTextWidgetOpacity()})}var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChangeEnabled=function(e){i.default.setEnabled(e.currentTarget.checked),A(),_.default.track(y.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e.currentTarget.checked,setting_type:"overlay toggled - global"})},t.handleChangeDisplayNameMode=function(e){var t=e.value;i.default.setDisplayNameMode(t)},t.handleChangeAvatarSizeMode=function(e){var t=e.value;i.default.setAvatarSizeMode(t)},t.handleChangeDisplayUserMode=function(e){var t=e.value;i.default.setDisplayUserMode(t)},t.handleChangeTextNotificationMode=function(){var e=y.OverlayNotificationTextChatTypes.ENABLED,n=y.OverlayNotificationTextChatTypes.DISABLED,r=t.props.textChatNotificationMode===e?n:e;i.default.setTextChatNotificationMode(r),A()},t.handleChangeNotificationPositionMode=function(e,t){i.default.setNotificationPositionMode(t),A()},t.handleInputLockShortcutChange=function(e){l.default.setKeybind(C({},t.props.inputLockKeybind,{shortcut:e})),A()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderExplanation=function(){return null},o.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind;return N(c.default,{className:I.default.marginBottom20},void 0,N(c.default.Child,{basis:"50%"},void 0,N(v.default,{},void 0,N(h.FormTitle,{tag:h.FormTitleTags.H5},void 0,S.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),N(p.default,{className:I.default.marginBottom20,style:{marginTop:16},value:t,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,S.default.Messages.ENABLE_INGAME_OVERLAY))),N(c.default.Child,{basis:"50%"},void 0,N(v.default,{title:S.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,N(E.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))},o.renderAvatarSize=function(){return N(c.default,{className:I.default.marginBottom20},void 0,N(c.default.Child,{},void 0,N(v.default,{title:S.default.Messages.FORM_LABEL_AVATAR_SIZE},void 0,N(f.default,{options:[{name:S.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:y.OverlayAvatarSizes.LARGE},{name:S.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:y.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))},o.renderDisplayNames=function(){return N(c.default,{className:I.default.marginBottom20},void 0,N(c.default.Child,{},void 0,N(v.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,N(f.default,{options:[{name:S.default.Messages.DISPLAY_OPTION_ALWAYS,value:y.OverlayDisplayNames.ALWAYS},{name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:y.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:S.default.Messages.DISPLAY_OPTION_NEVER,value:y.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))},o.renderDisplayUsers=function(){return N(c.default,{className:I.default.marginBottom20},void 0,N(c.default.Child,{},void 0,N(v.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,N(f.default,{options:[{name:S.default.Messages.DISPLAY_OPTION_ALWAYS,value:y.OverlayDisplayUsers.ALWAYS},{name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:y.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))},o.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==y.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===y.OverlayNotificationTextChatTypes.ENABLED;return N(c.default,{className:I.default.marginBottom20},void 0,N(c.default.Child,{},void 0,N(v.default,{},void 0,N(p.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,S.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))},o.renderNotificationPosition=function(){return N(c.default,{className:I.default.marginBottom20},void 0,N(c.default.Child,{},void 0,N(v.default,{title:S.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,N("div",{className:T.default.notificationSettings},void 0,N(m.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))},o.render=function(){return N(a.Fragment,{},void 0,N(h.FormSection,{tag:h.FormTitleTags.H2,title:S.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),N(h.FormSection,{tag:h.FormTitleTags.H2,title:S.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:I.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))},r}(a.PureComponent);M.displayName="UserSettingsOverlay";var P=o.default.connectStores([s.default,d.default,u.default],function(){return{enabled:s.default.enabled,avatarSizeMode:d.default.getAvatarSizeMode(),displayNameMode:d.default.getDisplayNameMode(),displayUserMode:d.default.getDisplayUserMode(),notificationPositionMode:d.default.getNotificationPositionMode(),textChatNotificationMode:d.default.getTextChatNotificationMode(),inputLockKeybind:u.default.getOverlayKeybind()}})(M);t.default=P},9040:function(e,t,n){"use strict";t.__esModule=!0,t.default=Y;var r,a=D(n(0)),o=L(n(8)),l=n(3),i=D(n(186)),u=n(264),s=n(6563),d=L(n(6871)),c=L(n(6872)),f=L(n(39)),p=L(n(340)),h=L(n(336)),v=L(n(6694)),m=L(n(58)),_=L(n(6521)),g=L(n(42)),E=L(n(7797)),y=L(n(182)),S=L(n(6639)),I=n(136),T=L(n(456)),O=L(n(257)),N=L(n(183)),C=L(n(36)),A=L(n(6959)),M=L(n(9041)),P=n(1),R=L(n(4)),b=L(n(6417));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var U=function(){return[{description:R.default.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,iconName:g.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,iconClass:b.default.memberBadgeIcon},{description:R.default.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return w("div",{className:(0,o.default)(e,b.default.profileBadgeIcon)})}},{description:R.default.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,iconName:g.default.Names.PERSON_SHIELD,iconClass:b.default.roleIcon}]},G=function(){return[{description:R.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,iconName:g.default.Names.EMOJI_SMILE,iconClass:b.default.emojiIcon},{description:R.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,iconName:g.default.Names.HEADPHONES,iconClass:b.default.audioQualityIcon},{description:R.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,iconName:g.default.Names.UPLOAD_2,iconClass:b.default.uploadSizeIcon}]};function k(e){var t=e.guild;return w(m.default,{onClick:function(){C.default.transitionTo(P.Routes.CHANNEL(t.id,f.default.getChannelId(t.id)),{state:{shouldShowSubscribeTooltip:!0}}),(0,u.popLayer)()},className:b.default.cardWrapper},void 0,w(S.default,{className:b.default.card},void 0,w(_.default,{guild:t,size:_.default.Sizes.LARGE}),w("div",{className:b.default.guildInfo},void 0,w(O.default,{size:O.default.Sizes.SIZE_16,className:b.default.guildName},void 0,t.name),w("div",{className:b.default.subscriptionInfo},void 0,w(g.default,{name:g.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,className:b.default.premiumGuildIcon}),w(O.default,{className:b.default.subscriberCount},void 0,R.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:t.premiumSubscriberCount})))),w(E.default,{subscriberCount:t.premiumSubscriberCount})))}k.displayName="GuildSubscriptionInfoCard";var F=3,B=w(d.default,{});function j(){var e=(0,l.useStateFromStores)([p.default],function(){return p.default.getFlattenedGuilds().slice(0,4)});return a.createElement(a.Fragment,null,w("div",{className:b.default.marketingLogo},void 0,w(g.default,{className:b.default.marketingLogoIcon,name:g.default.Names.PREMIUM_GUILD_SUBSCRIPTION_LOGO_CENTERED}),w("div",{className:b.default.marketingLogoImage})),w(T.default,{className:b.default.marketingHeader,size:T.default.Sizes.SIZE_20},void 0,R.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER),w(O.default,{size:O.default.Sizes.SIZE_16},void 0,R.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB),w(T.default,{className:b.default.featureHeaderTop,size:T.default.Sizes.SIZE_20,muted:!0},void 0,R.default.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER),w(A.default,{features:U(),columns:F}),w(T.default,{className:b.default.featureHeader,size:T.default.Sizes.SIZE_20,muted:!0},void 0,R.default.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER),w(A.default,{features:G(),columns:F}),w(O.default,{className:b.default.guildFullFeatures,size:O.default.Sizes.SIZE_16},void 0,R.default.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:N.default.getArticleURL(P.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),w("section",{className:b.default.guildsSection},void 0,w(c.default,{className:b.default.guildSubscriptionHeading}),null==e||0===e.length?a.createElement(a.Fragment,null,w("div",{className:b.default.emptyGuilds}),w(O.default,{size:T.default.Sizes.SIZE_20,className:b.default.emptyGuildsTitle},void 0,R.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE),w(O.default,{size:T.default.Sizes.SIZE_16,className:b.default.emptyGuildsText},void 0,R.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT)):a.createElement(a.Fragment,null,w(O.default,{size:T.default.Sizes.SIZE_16,className:b.default.guildsBlurb},void 0,R.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB),w("div",{className:b.default.guilds},void 0,e.map(function(e){return w(k,{guild:e},e.id)})))),B)}var H=w(y.default,{}),V=w(M.default,{}),x=w(j,{});function Y(){a.useEffect(function(){i.fetchSubscriptions(),(0,s.fetchUserPremiumGuildSubscriptionSlots)()},[]);var e=(0,l.useStateFromStores)([h.default],function(){return h.default.hasFetchedSubscriptions()}),t=(0,l.useStateFromStores)([v.default],function(){return v.default.slots});return e?w("div",{className:b.default.container},void 0,w("div",{className:b.default.background}),w("div",{className:b.default.content},void 0,Object.keys(t).length>0?a.createElement(a.Fragment,null,w(I.FormTitle,{tag:I.FormTitle.Tags.H2},void 0,R.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE),V,w("div",{className:b.default.divider})):null,x)):w("div",{className:(0,o.default)(b.default.container,b.default.loading)},void 0,H)}Y.displayName="UserSettingsPremiumGuildSubscriptions"},9041:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=(0,i.useStateFromStores)([f.default],function(){return f.default.getSubscription()}),t=(0,i.useStateFromStores)([p.default],function(){return p.default.slots}),n=(0,l.default)(t).some(function(e){var t=e.premiumGuildSubscription,n=e.cooldownEndsAt;return null==t&&(null==n||new Date(n)<Date.now())}),r=(0,l.default)(t).groupBy(function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:B}).value(),o=r[B],u=Object.keys(r).filter(function(e){return e!==B});if(0===u.length&&null==o||null==e)return null;var s=(0,l.default)(t).filter(function(e){return!e.canceled}).value().length,d=C.default.getNumIncludedPremiumGuildSubscriptionSlots(e.planId),c=s>d;return a.createElement(a.Fragment,null,G(I.default,{size:I.default.Sizes.SIZE_14,className:D.default.blurb},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:O.default.getArticleURL(b.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),null!=o?G(x,{guildId:B,premiumGuildSubscriptionSlots:o,premiumSubscription:e,hasAvailablePremiumGuildSubscriptionSlot:n,hasCancelablePremiumGuildSubscriptionSlot:c}):null,u.length>0?a.createElement(a.Fragment,null,G(S.default,{size:S.default.Sizes.SIZE_12,className:D.default.subSectionHeader},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE),u.map(function(t){return G(x,{guildId:t,premiumGuildSubscriptionSlots:r[t],premiumSubscription:e,hasAvailablePremiumGuildSubscriptionSlot:n,hasCancelablePremiumGuildSubscriptionSlot:c},t)})):null)};var r,a=U(n(0)),o=w(n(8)),l=w(n(6)),i=n(3),u=n(264),s=w(n(9042)),d=w(n(19)),c=w(n(39)),f=w(n(336)),p=w(n(6694)),h=w(n(106)),v=w(n(58)),m=w(n(6521)),_=w(n(42)),g=w(n(458)),E=w(n(7797)),y=n(265),S=w(n(456)),I=w(n(257)),T=w(n(88)),O=w(n(183)),N=n(6534),C=w(n(96)),A=w(n(36)),M=w(n(144)),P=U(n(7079)),R=w(n(9044)),b=n(1),L=w(n(4)),D=w(n(6416));function w(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=1e3,B="0";function j(e){var t=e.deadline,n=(0,s.default)(t,F),r=n.days,o=n.hours,l=n.minutes;return a.createElement(a.Fragment,null,L.default.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({days:r,hours:o,minutes:l}))}function H(e){var t=e.guild,n=e.premiumGuildSubscriptionSlots,r=e.hasAvailablePremiumGuildSubscriptionSlot,o=t.premiumSubscriberCount,l=n.sort(function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)})[0];if(null==l)return null;var i=null!=l.premiumGuildSubscription?M.default.extractTimestamp(l.premiumGuildSubscription.id):0,s=(0,N.getPremiumGuildSubscriptionMonths)(i);var d=null!=t.banner?T.default.getGuildBannerURL(t):null;return G("div",{className:D.default.guildHeader},void 0,G("div",{className:D.default.guildHeaderBackground,style:{backgroundImage:null!=d?"url("+d+")":null}}),G(m.default,{guild:t,className:D.default.guildIcon}),G("div",{className:D.default.guildHeaderContent},void 0,G(S.default,{size:S.default.Sizes.SIZE_16,className:D.default.guildName},void 0,t.name),G(I.default,{size:I.default.Sizes.SIZE_12,className:D.default.guildSubscriptionDuration},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:s,date:new Date(i)})),G(I.default,{size:I.default.Sizes.SIZE_12,className:D.default.guildSubscriberCount},void 0,G(_.default,{name:_.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,className:D.default.guildSubscriberCountIcon}),G("div",{},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})),r?G(h.default,{onClick:function(){(0,y.openModal)(function(e){return a.createElement(P.default,k({},e,{selectedGuild:t,initialStep:P.Steps.CONFIRM,locationSection:b.AnalyticsSections.SETTINGS_PREMIUM}))})},className:D.default.guildSubscribeButton},void 0,L.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER):null)),G("div",{className:D.default.guildGemIndicatorContainer},void 0,G(v.default,{onClick:function(){A.default.transitionTo(b.Routes.CHANNEL(t.id,c.default.getChannelId(t.id))),(0,u.popLayer)()}},void 0,G(E.default,{className:D.default.gemIndicator,subscriberCount:o}))))}function V(e){var t,n=e.premiumGuildSubscriptionSlot,r=e.premiumSubscription,l=e.hasCancelablePremiumGuildSubscriptionSlot,i=null!=n.cooldownEndsAt?new Date(n.cooldownEndsAt):null,u=i&&i>Date.now(),s=null!=n.premiumGuildSubscription?new Date(M.default.extractTimestamp(n.premiumGuildSubscription.id)):null,d=n.canceled;return G("div",{className:D.default.guildSubscriptionSlot},void 0,G(_.default,{name:d?_.default.Names.NOVA_ALERT:_.default.Names.PREMIUM_GUILD_SUBSCRIBER_BADGE,className:(0,o.default)(D.default.guildSubscriptionSlotIcon,(t={},t[D.default.guildSubscriptionSlotIconCanceled]=d,t))}),G("div",{className:D.default.guildSubscriptionSlotContent},void 0,G(I.default,{size:I.default.Sizes.SIZE_14,className:D.default.guildSubscriptionCreationDate},void 0,null!=s?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:s}):L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION),G(I.default,{size:I.default.Sizes.SIZE_12,color:I.default.Colors.MUTED},void 0,u&&null!=i?G(j,{deadline:i.getTime()}):null,u&&d?" • ":null,d?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELLATION.format({date:r.currentPeriodEnd}):null)),G(g.default,{renderPopout:function(e){var t=e.closePopout;return G(R.default,{onClose:t,userPremiumGuildSubscriptionSlot:n,hasCancelablePremiumGuildSubscriptionSlot:l})},position:g.default.Positions.RIGHT,align:g.default.Align.CENTER},void 0,function(e){return a.createElement(v.default,k({},e,{className:D.default.guildSubscriptionSlotMenuIcon}),G(_.default,{name:_.default.Names.OVERFLOW_MENU}))}))}function x(e){var t=e.guildId,n=e.premiumGuildSubscriptionSlots,r=e.premiumSubscription,a=e.hasAvailablePremiumGuildSubscriptionSlot,o=e.hasCancelablePremiumGuildSubscriptionSlot,l=(0,i.useStateFromStores)([d.default],function(){return t!==B?d.default.getGuild(t):null});return null==l&&t!==B?null:G("div",{className:D.default.guild},void 0,null!=l?G(H,{guild:l,premiumGuildSubscriptionSlots:n,hasAvailablePremiumGuildSubscriptionSlot:a}):null,G("div",{className:D.default.guildSubscriptionSlots},void 0,n.map(function(e){return G(V,{premiumGuildSubscriptionSlot:e,premiumSubscription:r,hasCancelablePremiumGuildSubscriptionSlot:o},e.id)})))}H.displayName="PremiumGuildHeader",V.displayName="PremiumGuildSubscriptionSlot",x.displayName="PremiumGuild"},9042:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===t&&(t=1e3);var r=(0,a.useForceUpdate)();return(0,l.default)(function(){r(),null!=n&&n()},t),(0,o.diffAsUnits)(Date.now(),e)};var r,a=n(230),o=n(462),l=(r=n(9043))&&r.__esModule?r:{default:r}},9043:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=(0,a.useRef)(e);(0,a.useEffect)(function(){n.current=e},[e]),(0,a.useEffect)(function(){var e=setInterval(function(){(0,o.default)(null!=n.current,"Missing callback"),n.current()},t);return function(){return clearInterval(e)}},[t])};var r,a=n(0),o=(r=n(16))&&r.__esModule?r:{default:r}},9044:function(e,t,n){"use strict";t.__esModule=!0,t.default=_;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(9045),l=n(9046),i=n(265),u=h(n(187)),s=h(n(38)),d=h(n(7079)),c=n(1),f=h(n(4)),p=h(n(6415));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e){var t=e.userPremiumGuildSubscriptionSlot,n=e.onClose,r=e.hasCancelablePremiumGuildSubscriptionSlot;return v("div",{className:p.default.container},void 0,v(u.default,{},void 0,v(s.default,{label:null!=t.premiumGuildSubscription?f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,action:function(){(0,i.openModal)(function(e){return a.createElement(d.default,m({},e,{userPremiumGuildSubscriptionSlotId:t.id,locationSection:c.AnalyticsSections.SETTINGS_PREMIUM}))}),n()},disabled:t.isOnCooldown(),tooltip:t.isOnCooldown()?f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null}),t.canceled?v(s.default,{label:f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,action:function(){(0,l.openPremiumGuildSubscriptionUncancellationModal)(t.id),n()}}):v(s.default,{label:f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,action:function(){(0,o.openPremiumGuildSubscriptionCancellationModal)(t.id),n()},disabled:!r,tooltip:r?null:f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,danger:!0})))}_.displayName="UserPremiumGuildSubscriptionSlotPopout"},9045:function(e,t,n){"use strict";t.__esModule=!0,t.default=x,t.openPremiumGuildSubscriptionCancellationModal=function(e){(0,g.openModal)(function(t){return a.createElement(x,R({},t,{subscriptionSlotId:e}))})};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=P(n(6)),l=n(3),i=n(186),u=n(6563),s=P(n(221)),d=P(n(336)),c=P(n(6694)),f=P(n(106)),p=P(n(21)),h=P(n(24)),v=P(n(182)),m=n(136),_=n(220),g=n(265),E=P(n(96)),y=n(156),S=n(283),I=n(7078),T=P(n(7703)),O=n(363),N=n(489),C=n(1),A=P(n(4)),M=P(n(6413));function P(e){return e&&e.__esModule?e:{default:e}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){b(o,r,a,l,i,"next",e)}function i(e){b(o,r,a,l,i,"throw",e)}l(void 0)})}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=Object.freeze({START:1,PREVIEW:2,CONFIRM:3});function U(e){var t=e.premiumSubscription,n=e.isInventory,r=e.onNext,o=e.onClose;return a.createElement(a.Fragment,null,D(_.ModalHeader,{separator:!1},void 0,D(m.FormTitle,{tag:m.FormTitleTags.H4},void 0,n?A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_TITLE_INVENTORY:A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_TITLE_GUILD),D(_.ModalCloseButton,{onClick:o})),D(_.ModalContent,{className:M.default.body},void 0,D("div",{className:M.default.cancelImage}),D("div",{},void 0,n?A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BODY_INVENTORY.format({endDate:t.currentPeriodEnd}):A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BODY_GUILD.format({endDate:t.currentPeriodEnd}))),D(_.ModalFooter,{justify:h.default.Justify.START},void 0,D(p.default,{onClick:r},void 0,A.default.Messages.NEXT),D(p.default,{look:p.default.Looks.LINK,onClick:o},void 0,A.default.Messages.CANCEL)))}function G(e,t,n){return k.apply(this,arguments)}function k(){return(k=L(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=null!=r?r:(l=void 0,s=void 0,l=Object.values(c.default.slots),null!=(s=o.default.sortBy(l.filter(function(e){return!e.canceled}),function(e){return[null!=e.premiumGuildSubscription,null!=e.cooldownEndsAt?new Date(e.cooldownEndsAt):null]})[0])?s.id:null))){e.next=3;break}throw new Error("No slot to cancel");case 3:return e.next=5,(0,u.cancelUserPremiumGuildSubscriptionSlot)(a);case 5:return e.next=7,(0,i.updateSubscription)(t,{additionalPlans:n});case 7:case"end":return e.stop()}var l,s},e)}))).apply(this,arguments)}var F=D(v.default,{}),B=D(O.PremiumInvoiceTableDivider,{});function j(e){var t=e.premiumSubscription,n=e.subscriptionSlotId,r=e.onBack,o=e.onNext,i=e.onClose,u=a.useState(!1),d=u[0],c=u[1],v=a.useMemo(function(){try{return[(0,I.calculateAdditionalPlansWithPremiumGuildAdjustment)(t,-1),!1]}catch(e){return[[],!0]}},[t]),m=v[0],g=v[1];a.useEffect(function(){g&&i()},[g]);var P=(0,l.useStateFromStoresObject)([s.default],function(){var e=s.default.getHardcoded(t.planId);return{premiumSubscriptionPlan:e,premiumGuildPlan:s.default.getHardcodedForSkuAndInterval(C.PremiumSubscriptionSKUs.GUILD,e.interval)}}),R=P.premiumSubscriptionPlan,b=P.premiumGuildPlan,w=(0,S.useSubscriptionInvoice)({premiumSubscription:t,additionalPlans:m,renewal:!0})[0];if(null==w)return F;var U=R.currency,k=R.interval,j=null!=t.renewalMutations?t.renewalMutations.planId:t.planId;return a.createElement(a.Fragment,null,D(T.default,{onClose:i}),D(_.ModalContent,{className:M.default.body},void 0,D("div",{},void 0,A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_PREVIEW.format({endDate:w.subscriptionPeriodStart})),D(O.PremiumInvoiceTable,{className:M.default.invoiceTable},void 0,D(O.PremiumInvoiceTableHeader,{},void 0,A.default.Messages.PREMIUM_SUBSCRIPTION_UPDATES),D(O.PremiumInvoiceTableRow,{label:A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_INVOICE_SUBSCRIPTION_CANCELLED.format({subscriptionCount:1}),value:(0,y.formatRate)((0,y.formatPrice)(null!=E.default.getPremiumType(j)?-b.getPriceForPremiumUser():-b.price,U),k),className:M.default.invoiceCancelRow}),B,D(N.SubscriptionInvoiceFooter,{premiumSubscription:t,renewalInvoice:w,isUpdate:!0}))),D(_.ModalFooter,{align:h.default.Align.CENTER,justify:h.default.Justify.BETWEEN},void 0,D(p.default,{color:p.default.Colors.RED,disabled:d,onClick:L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,G(t,m,n);case 4:o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))},void 0,A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON),D(f.default,{onClick:r,className:M.default.backLink},void 0,A.default.Messages.BACK)))}function H(e){var t=e.premiumSubscription,n=e.onClose;return a.createElement(a.Fragment,null,D(_.ModalHeader,{separator:!1},void 0,D(m.FormTitle,{tag:m.FormTitleTags.H4},void 0,A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CONFIRM_TITLE),D(_.ModalCloseButton,{onClick:n})),D(_.ModalContent,{className:M.default.body},void 0,D("div",{className:M.default.cancelImage}),D("div",{},void 0,A.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CONFIRM_BODY.format({endDate:t.currentPeriodEnd}))),D(_.ModalFooter,{},void 0,D(p.default,{onClick:n},void 0,A.default.Messages.OKAY)))}var V=D(_.ModalContent,{},void 0,D(v.default,{}));function x(e){var t=e.subscriptionSlotId,n=e.transitionState,r=e.onClose;a.useEffect(function(){d.default.hasFetchedSubscriptions()||(0,i.fetchSubscriptions)()},[]);var o,u=(0,l.useStateFromStores)([d.default],function(){return d.default.getSubscription()}),s=a.useState(w.START),c=s[0],f=s[1];if(null==u)o=V;else switch(c){case w.START:o=D(U,{premiumSubscription:u,isInventory:null==t,onNext:function(){return f(w.PREVIEW)},onClose:r});break;case w.PREVIEW:o=D(j,{premiumSubscription:u,subscriptionSlotId:t,onBack:function(){return f(w.START)},onNext:function(){return f(w.CONFIRM)},onClose:r});break;case w.CONFIRM:o=D(H,{premiumSubscription:u,onClose:r});break;default:throw new Error("Unexpected step: "+c)}return D(_.ModalRoot,{transitionState:n},void 0,o)}x.displayName="PremiumGuildSubscriptionCancellationModal"},9046:function(e,t,n){"use strict";t.__esModule=!0,t.default=D,t.openPremiumGuildSubscriptionUncancellationModal=function(e){(0,m.openModal)(function(t){return a.createElement(D,T({},t,{subscriptionSlotId:e}))})};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=I(n(16)),l=n(3),i=n(186),u=n(6563),s=I(n(25)),d=I(n(336)),c=I(n(21)),f=I(n(24)),p=I(n(182)),h=n(136),v=n(220),m=n(265),_=n(96),g=n(7078),E=n(1),y=I(n(4)),S=I(n(6414));function I(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){N(o,r,a,l,i,"next",e)}function i(e){N(o,r,a,l,i,"throw",e)}l(void 0)})}}var A=Object.freeze({START:1,CONFIRM:2});function M(e,t,n){return P.apply(this,arguments)}function P(){return(P=C(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.updateSubscription)(t,{additionalPlans:n});case 2:return e.next=4,(0,u.uncancelUserPremiumGuildSubscriptionSlot)(r);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){var t=e.premiumSubscription,n=e.subscriptionSlotId,r=e.onNext,i=e.onClose,u=a.useState(!1),d=u[0],p=u[1],m=(0,l.useStateFromStores)([s.default],function(){return s.default.theme});return a.createElement(a.Fragment,null,O(v.ModalHeader,{separator:!1},void 0,O(h.FormTitle,{tag:h.FormTitleTags.H4},void 0,y.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_INVENTORY_UNCANCEL_TITLE),O(v.ModalCloseButton,{onClick:i})),O(v.ModalContent,{className:S.default.body},void 0,y.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_INVENTORY_UNCANCEL_DESCRIPTION),O(v.ModalFooter,{justify:f.default.Justify.START},void 0,O(c.default,{onClick:C(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),(0,o.default)(null!=t.renewalMutations,"Cannot uncancel guild subscription without renewal mutations"),a=(0,g.calculateAdditionalPlansWithPremiumGuildAdjustment)(t,1),(0,o.default)((0,_.getNumPremiumGuildSubscriptions)(a)<=(0,_.getNumPremiumGuildSubscriptions)(t.additionalPlans),"Uncanceling should not increase the number of guild subscriptions"),e.next=7,M(t,a,n);case 7:r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),p(!1);case 13:case"end":return e.stop()}},e,null,[[0,10]])}))},void 0,y.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_INVENTORY_UNCANCEL_BUTTON),O(c.default,{look:c.default.Looks.LINK,color:m===E.ThemeTypes.LIGHT?c.default.Colors.PRIMARY:c.default.Colors.WHITE,onClick:i,disabled:d},void 0,y.default.Messages.NEVERMIND)))}function b(e){var t=e.onClose;return a.createElement(a.Fragment,null,O(v.ModalHeader,{separator:!1},void 0,O(h.FormTitle,{tag:h.FormTitleTags.H4},void 0,y.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_INVENTORY_UNCANCEL_CONFIRM_TITLE),O(v.ModalCloseButton,{onClick:t})),O(v.ModalContent,{className:S.default.body},void 0,O("div",{className:S.default.uncancelImage}),O("div",{},void 0,y.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_INVENTORY_UNCANCEL_CONFIRM_DESCRIPTION)),O(v.ModalFooter,{},void 0,O(c.default,{onClick:t},void 0,y.default.Messages.OKAY)))}var L=O(v.ModalContent,{},void 0,O(p.default,{}));function D(e){var t=e.subscriptionSlotId,n=e.transitionState,r=e.onClose;a.useEffect(function(){d.default.hasFetchedSubscriptions()||(0,i.fetchSubscriptions)()},[]);var o,u=(0,l.useStateFromStores)([d.default],function(){return d.default.getSubscription()}),s=a.useState(A.START),c=s[0],f=s[1];if(null==u)o=L;else switch(c){case A.START:o=O(R,{premiumSubscription:u,subscriptionSlotId:t,onNext:function(){return f(A.CONFIRM)},onClose:r});break;case A.CONFIRM:o=O(b,{onClose:r});break;default:throw new Error("Unexpected step: "+c)}return O(v.ModalRoot,{transitionState:n},void 0,o)}D.displayName="PremiumGuildSubscriptionUncancellationModal"},9047:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=B(n(0)),o=F(n(8)),l=F(n(5)),i=F(n(3)),u=F(n(142)),s=n(7210),d=F(n(30)),c=n(863),f=F(n(337)),p=F(n(329)),h=F(n(495)),v=F(n(19)),m=F(n(25)),_=F(n(11)),g=F(n(21)),E=F(n(457)),y=F(n(24)),S=F(n(6525)),I=F(n(852)),T=F(n(71)),O=F(n(65)),N=F(n(332)),C=F(n(973)),A=F(n(261)),M=B(n(258)),P=B(n(66)),R=F(n(183)),b=n(6935),L=n(7798),D=F(n(155)),w=n(1),U=F(n(4)),G=F(n(455)),k=F(n(6418));function F(e){return e&&e.__esModule?e:{default:e}}function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){var t=e.body,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["body"]);d.default.push(function(e){return a.createElement(D.default,H({},e,n),V(T.default,{size:T.default.Sizes.MEDIUM,color:T.default.Colors.PRIMARY},void 0,t))})}function Y(e){var t=e.message;x({header:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:U.default.Messages.OKAY,red:!0,body:t})}var W=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleUsageStatisticsChange=function(){!n.props.usageStatistics?(0,s.setConsents)([w.Consents.USAGE_STATISTICS],[]).catch(Y):x({header:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,s.setConsents)([],[w.Consents.USAGE_STATISTICS]).catch(Y)}})},n.handlePersonalizationChange=function(){!n.props.personalization?(0,s.setConsents)([w.Consents.PERSONALIZATION],[]).catch(Y):x({header:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,s.setConsents)([],[w.Consents.PERSONALIZATION]).catch(Y)},body:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})},n.handleDataDownloadRequest=function(){x({header:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){n.setState({requestingHarvest:!0},function(){(0,c.requestHarvest)().then(function(e){null!=e&&null!=e.body?(n.setState({currentHarvestRequest:e.body}),u.default.show({body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})):u.default.show({title:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})},function(){return u.default.show({title:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}).finally(function(){return n.setState({requestingHarvest:!1})})})}})},j(n).handleChangeDefaultGuildsRestricted=n.handleChangeDefaultGuildsRestricted.bind(j(n));var r=t.defaultGuildsRestricted;return n.state={defaultGuildsRestricted:r,currentHarvestRequest:null,requestingHarvest:!0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this;(0,s.fetchConsents)(),(0,c.getHarvestStatus)().then(function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)},function(){e.setState({requestingHarvest:!1})})},i.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})},i.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(w.FriendSourceFlagKeys.ALL)||n(e)},i.onFieldChange=function(e,t){var n,r,a,o=this.props.friendSourceFlags;if(e===w.FriendSourceFlagKeys.ALL)t?((r={})[w.FriendSourceFlagKeys.ALL]=!0,r[w.FriendSourceFlagKeys.FRIENDS]=!0,r[w.FriendSourceFlagKeys.GUILDS]=!0,n=r):((a={})[w.FriendSourceFlagKeys.ALL]=!1,a[w.FriendSourceFlagKeys.FRIENDS]=!0,a[w.FriendSourceFlagKeys.GUILDS]=!0,n=a);else if(t){var l,i=!1;switch(e){case w.FriendSourceFlagKeys.FRIENDS:i=!0===o[w.FriendSourceFlagKeys.GUILDS];break;default:i=!0===o[w.FriendSourceFlagKeys.FRIENDS]}n=H({},o,((l={})[w.FriendSourceFlagKeys.ALL]=i,l[e]=!0,l))}else{var u;n=H({},o,((u={})[w.FriendSourceFlagKeys.ALL]=!1,u[e]=!1,u))}this.updatePermittedFriendSourceFlags(n)},i.updatePermittedFriendSourceFlags=function(e){f.default.updateRemoteSettings({friendSourceFlags:e})},i.handleExplicitContentFilterChange=function(e){var t=e.value;f.default.updateRemoteSettings({explicitContentFilter:t})},i.handleChangeDefaultGuildsRestricted=function(e){var t=this,n=e.currentTarget.checked;n=!n,this.setState({defaultGuildsRestricted:n},function(){return t.showGuildRestrictionModal(n)})},i.showGuildRestrictionModal=function(e){x({header:U.default.Messages.USER_DM_SETTINGS,body:U.default.Messages.USER_DM_SETTINGS_QUESTION,confirmText:U.default.Messages.YES_TEXT,cancelText:U.default.Messages.NO_TEXT,onConfirm:function(){f.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(v.default.getGuilds()):[]})},onCancel:function(){f.default.updateRemoteSettings({defaultGuildsRestricted:e})}})},i.renderFriendSettings=function(){var e=this;return V(A.default,{title:U.default.Messages.FRIEND_PERMITTED_SOURCE,className:G.default.marginBottom40},void 0,V(I.default,{className:(0,o.default)(G.default.marginTop8,G.default.marginBottom20),value:this.hasPermittedSourceFlag(w.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(w.FriendSourceFlagKeys.ALL,t.currentTarget.checked)}},void 0,U.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),V(I.default,{value:this.hasPermittedSourceFlag(w.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(w.FriendSourceFlagKeys.FRIENDS,t.currentTarget.checked)}},void 0,U.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),V(I.default,{className:G.default.marginReset,value:this.hasPermittedSourceFlag(w.FriendSourceFlagKeys.GUILDS),onChange:function(t){return e.onFieldChange(w.FriendSourceFlagKeys.GUILDS,t.currentTarget.checked)}},void 0,U.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))},i.renderDMSafety=function(){return V(A.default,{className:G.default.marginBottom40},void 0,V(P.default,{tag:P.Tags.H5,className:G.default.marginBottom4},void 0,U.default.Messages.USER_EXPLICIT_CONTENT_FILTER),V(M.default,{type:M.Types.DESCRIPTION,className:G.default.marginBottom8},void 0,U.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),V(S.default,{value:this.props.explicitContentFilter,options:(0,b.generateDMSafetyOptions)(),onChange:this.handleExplicitContentFilterChange}))},i.renderServerPrivacy=function(){return V(A.default,{className:G.default.marginBottom40},void 0,V(P.default,{tag:P.Tags.H5,className:G.default.marginBottom8},void 0,U.default.Messages.USER_DM_SETTINGS),V(I.default,{className:G.default.marginReset,value:!this.state.defaultGuildsRestricted,note:U.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,U.default.Messages.NEW_GUILDS_DM_ALLOWED))},i.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization;return V(A.default,{className:G.default.marginBottom40},void 0,V(P.default,{tag:P.Tags.H5,className:G.default.marginBottom8},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS),V(I.default,{value:t,note:U.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:R.default.getArticleURL(w.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handleUsageStatisticsChange},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),V(I.default,{value:n,note:U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:R.default.getArticleURL(w.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handlePersonalizationChange},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),V(P.default,{tag:P.Tags.H3,className:(0,o.default)(G.default.marginTop20,G.default.marginBottom8)},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),V(M.default,{type:M.Types.DESCRIPTION,className:G.default.marginBottom20},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){p.default.setSection(w.UserSettingsSections.ACCOUNT),(0,c.toggleEditingProfile)(!0)}})),this.renderHarvestRequest())},i.renderHarvestRequest=function(){var e,t=this,n=this.props.currentUser,r=this.state,o=r.requestingHarvest,i=r.currentHarvestRequest,u=(0,L.harvestDisabled)(i,n),s=V(O.default,{text:n.verified?null:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,function(e){var n=e.onMouseEnter,r=e.onMouseLeave;return V(g.default,{disabled:u,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:r,look:g.default.Looks.OUTLINED,color:g.default.Colors.BRAND,submitting:o},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD)});return u&&null!=i&&(e=V(E.default,{className:k.default.card},void 0,V(T.default,{size:T.default.Sizes.MEDIUM,color:T.default.Colors.PRIMARY},void 0,U.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,l.default)(i.created_at).add(w.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")}))),s=null),null!=s&&(s=V(y.default,{},void 0,s)),V(a.Fragment,{},void 0,V(N.default,{className:G.default.marginBottom20}),V(P.default,{tag:P.Tags.H3},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),V(M.default,{type:M.Types.DESCRIPTION,className:G.default.marginBottom20},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:R.default.getArticleURL(w.HelpdeskArticles.GDPR_REQUEST_DATA)})),e,s)},i.renderPrivacyAndTermsNote=function(){return V(A.default,{className:G.default.marginBottom40},void 0,V(C.default,{type:C.default.Types.PRIMARY,body:U.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:w.MarketingURLs.TERMS,privacyLink:w.MarketingURLs.PRIVACY})}))},i.render=function(){var e=this.props.fetchedConsents;return V(A.default,{tag:P.Tags.H2,title:U.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())},r}(a.PureComponent);W.displayName="UserSettingsPrivacySafety";var z=i.default.connectStores([m.default,_.default,h.default],function(){return{currentUser:_.default.getCurrentUser(),friendSourceFlags:(0,L.computeFlags)(),explicitContentFilter:m.default.explicitContentFilter,defaultGuildsRestricted:m.default.defaultGuildsRestricted,fetchedConsents:h.default.fetchedConsents,usageStatistics:h.default.hasConsented(w.Consents.USAGE_STATISTICS),personalization:h.default.hasConsented(w.Consents.PERSONALIZATION)}})(W);t.default=z},9048:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(8)),l=g(n(3)),i=g(n(6855)),u=g(n(329)),s=g(n(97)),d=g(n(25)),c=g(n(852)),f=n(136),p=g(n(13)),h=n(1),v=g(n(4)),m=g(n(455)),_=g(n(6419));function g(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.renderNotice=function(){return y(f.FormNotice,{className:m.default.marginBottom40,iconClassName:_.default.noticeIcon,type:f.FormNoticeTypes.PRIMARY,imageData:{src:n(9049),width:184,height:110,position:f.FormNoticeImagePositions.RIGHT},title:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:"https://discordapp.com/streamkit"})})},l.renderAutoToggle=function(){if(p.default.embedded)return y(c.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)},l.render=function(){return y(f.FormSection,{className:_.default.container,tag:f.FormTitleTags.H2,title:v.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),y(c.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:v.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,v.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),y(f.FormTitle,{className:(0,o.default)(m.default.marginTop40,m.default.marginBottom8)},void 0,v.default.Messages.OPTIONS),y(c.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:v.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,v.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),y(c.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:v.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,v.default.Messages.HIDE_INSTANT_INVITES_LABEL),y(c.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:v.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,v.default.Messages.DISABLE_SOUNDS_LABEL),y(c.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:v.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,v.default.Messages.DISABLE_NOTIFICATIONS_LABEL))},l.handleChange=function(e,t){var n;i.default.update(((n={})[e]=t.currentTarget.checked,n))},l.handleGotoKeybinds=function(){u.default.setSection(h.UserSettingsSections.KEYBINDS)},a}(a.PureComponent);S.displayName="UserSettingsModalStreamerMode";var I=l.default.connectStores([d.default,s.default],function(){return E({},s.default.getSettings(),{theme:d.default.theme})})(S);t.default=I},9049:function(e,t,n){e.exports=n.p+"616e078b351d0df460971441949c53a3.svg"},9050:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(0)),o=y(n(8)),l=y(n(3)),i=y(n(337)),u=y(n(917)),s=y(n(878)),d=y(n(25)),c=y(n(6525)),f=y(n(852)),p=y(n(262)),h=y(n(261)),v=y(n(258)),m=S(n(66)),_=n(1),g=y(n(4)),E=y(n(455));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.onFieldChange=function(e,t){var n;i.default.updateRemoteSettings(((n={})[e]=t,n))},a.onLocalFieldChanged=function(e,t){var n;i.default.updateLocalSettings(((n={})[e]=t,n))},a.renderTTSControl=function(){var e=this;if(u.default.supported)return I(h.default,{className:E.default.marginBottom40},void 0,I(m.default,{className:E.default.marginBottom8},void 0,g.default.Messages.FORM_LABEL_TTS),I(f.default,{className:E.default.marginTop8,value:this.props.enableTTSCommand,onChange:function(t){return e.onFieldChange("enableTTSCommand",t.currentTarget.checked)}},void 0,g.default.Messages.ALLOW_TTS_COMMAND))},a.renderSpoilerSettings=function(){var e=this;return I(p.default,{title:g.default.Messages.SHOW_SPOILER_CONTENT},void 0,I(v.default,{type:v.default.Types.DESCRIPTION,className:E.default.marginBottom8},void 0,g.default.Messages.SHOW_SPOILER_CONTENT_HELP),I(c.default,{options:[{name:g.default.Messages.SHOW_SPOILER_ON_CLICK,value:_.SpoilerRenderSetting.ON_CLICK},{name:g.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:_.SpoilerRenderSetting.IF_MODERATOR},{name:g.default.Messages.SHOW_SPOILER_ALWAYS,value:_.SpoilerRenderSetting.ALWAYS}],onChange:function(t){return e.onLocalFieldChanged("renderSpoilers",t.value)},value:this.props.renderSpoilers}))},a.render=function(){var e=this,t=this.props,n=t.inlineEmbedMedia,r=t.inlineAttachmentMedia,a=t.gifAutoPlay,l=t.renderEmbeds,i=t.renderReactions,u=t.animateEmoji,d=t.convertEmoticons;return I(h.default,{tag:m.Tags.H2,title:g.default.Messages.TEXT_AND_IMAGES},void 0,I(m.default,{className:E.default.marginBottom8},void 0,g.default.Messages.INLINE_MEDIA_LABEL),I(f.default,{className:(0,o.default)(E.default.marginTop8,E.default.marginBottom20),value:n,onChange:function(t){return e.onFieldChange("inlineEmbedMedia",t.currentTarget.checked)}},void 0,g.default.Messages.INLINE_EMBED_MEDIA),I(f.default,{className:(0,o.default)(E.default.marginTop8,E.default.marginBottom20),value:r,note:g.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:function(t){return e.onFieldChange("inlineAttachmentMedia",t.currentTarget.checked)}},void 0,g.default.Messages.INLINE_ATTACHMENT_MEDIA),I(f.default,{className:E.default.marginBottom40,value:a,onChange:function(t){return e.onFieldChange("gifAutoPlay",t.currentTarget.checked)}},void 0,g.default.Messages.GIF_AUTO_PLAY_LABEL),I(m.default,{className:E.default.marginBottom8},void 0,g.default.Messages.RENDER_EMBEDS_LABEL),I(f.default,{className:(0,o.default)(E.default.marginTop8,E.default.marginBottom40),value:l,onChange:function(t){return e.onFieldChange("renderEmbeds",t.currentTarget.checked)}},void 0,g.default.Messages.RENDER_EMBEDS),I(m.default,{className:E.default.marginBottom8},void 0,g.default.Messages.EMOJI),I(f.default,{className:(0,o.default)(E.default.marginTop8,E.default.marginBottom20),value:i,onChange:function(t){return e.onFieldChange("renderReactions",t.currentTarget.checked)}},void 0,g.default.Messages.RENDER_REACTIONS),I(f.default,{className:(0,o.default)(E.default.marginTop8,E.default.marginBottom20),value:u,note:g.default.Messages.ANIMATE_EMOJI_NOTE,onChange:function(t){return e.onFieldChange("animateEmoji",t.currentTarget.checked)}},void 0,g.default.Messages.ANIMATE_EMOJI),I(f.default,{className:E.default.marginBottom40,value:d,note:s.default.parse(g.default.Messages.CONVERT_EMOTICONS_HELP),onChange:function(t){return e.onFieldChange("convertEmoticons",t.currentTarget.checked)}},void 0,g.default.Messages.CONVERT_EMOTICONS),this.renderTTSControl(),this.renderSpoilerSettings())},r}(a.PureComponent);T.displayName="UserSettingsTextImages";var O=l.default.connectStores([d.default],function(){return{inlineAttachmentMedia:d.default.inlineAttachmentMedia,inlineEmbedMedia:d.default.inlineEmbedMedia,gifAutoPlay:d.default.gifAutoPlay,renderEmbeds:d.default.renderEmbeds,renderReactions:d.default.renderReactions,animateEmoji:d.default.animateEmoji,enableTTSCommand:d.default.enableTTSCommand,convertEmoticons:d.default.convertEmoticons,renderSpoilers:d.default.renderSpoilers}})(T);t.default=O},9051:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=ee(n(0)),o=Z(n(8)),l=Z(n(6)),i=Z(n(3)),u=n(45),s=n(29),d=Z(n(189)),c=Z(n(30)),f=Z(n(329)),p=n(9052),h=Z(n(109)),v=n(184),m=n(330),_=Z(n(280)),g=Z(n(333)),E=Z(n(490)),y=Z(n(903)),S=Z(n(40)),I=Z(n(354)),T=Z(n(25)),O=ee(n(21)),N=n(457),C=Z(n(24)),A=Z(n(6525)),M=Z(n(460)),P=Z(n(898)),R=Z(n(891)),b=Z(n(852)),L=Z(n(71)),D=n(874),w=Z(n(332)),U=Z(n(262)),G=ee(n(973)),k=Z(n(261)),F=Z(n(258)),B=ee(n(66)),j=n(913),H=Z(n(13)),V=Z(n(345)),x=Z(n(6713)),Y=Z(n(342)),W=Z(n(155)),z=Z(n(9053)),K=n(1),$=Z(n(4)),Q=Z(n(464)),X=Z(n(455)),q=Z(n(1048)),J=Z(n(6422));function Z(e){return e&&e.__esModule?e:{default:e}}function ee(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ae(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(0,m.registerUserExperiment)({id:g.default.NOISE_CANCELLATION,title:"Noise Cancellation",description:["Noise Cancellation","Control: Disable Noise Cancellation","Treatment 1: Enable Noise Cancellation"],buckets:[v.ExperimentBuckets.CONTROL,v.ExperimentBuckets.TREATMENT_1]});var oe=Object.freeze({NONE:"none",SUPPRESSION:"suppression",CANCELLATION:"cancellation"}),le=re("div",{className:"grow"}),ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._timeout=new s.Timeout,t.state={volume:-100,speaking:!1},t.setupVoiceActivity=function(){S.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity),t._timeout.stop()},t.handleVoiceActivity=function(e,n){t.setState({volume:e,speaking:(n&u.SpeakingFlags.VOICE)===u.SpeakingFlags.VOICE})},t.handleAutoThresholdChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.threshold;r&&r(a,e.currentTarget.checked)},t.handleSensitivityChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.auto;r&&r(-1*(100-e),a)},t}ae(t,e);var n=t.prototype;return n.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)},n.componentWillUnmount=function(){S.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},n.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if(S.default.supports(u.Features.AUTOMATIC_VAD))return re(D.UID,{},void 0,function(n){return re("div",{className:(0,o.default)(Q.default.horizontal,X.default.marginBottom4)},void 0,re(B.default,{tag:B.Tags.H3,className:X.default.marginReset},void 0,re("label",{htmlFor:n},void 0,$.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),re(R.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},n.renderSlider=function(){var e,t=this.props,n=t.auto,r=t.threshold,a=this.state.speaking;return n?re("section",{className:J.default.inputSensitivityToggle},void 0,re("div",{className:q.default.slider},void 0,re("div",{className:(0,o.default)(q.default.bar,J.default.sliderBar,(e={},e[J.default.speaking]=a||this.state.speaking,e))})),re(F.default,{type:F.default.Types.DESCRIPTION,className:X.default.marginBottom8},void 0,$.default.Messages.FORM_HELP_AUTOMATIC_VAD)):re("section",{className:(0,o.default)(J.default.inputSensitivityToggle,J.default.manual)},void 0,re(P.default,{initialValue:r+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:K.Colors.STATUS_GREEN_400},fillStyles:{background:K.Colors.STATUS_YELLOW_400}},void 0,re("div",{className:(0,o.default)(J.default.sliderBar,J.default.microphone,q.default.bar)},void 0,re("div",{className:(0,o.default)(J.default.fill,q.default.barFill),style:{width:this.state.volume+100+"%"}}),le)))},n.renderInputDisabledWarning=function(){if(!S.default.isEnabled())return re(F.default,{type:F.default.Types.DESCRIPTION,className:(0,o.default)(J.default.inputDisabledWarning,X.default.marginBottom8)},void 0,$.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:d.default.enable}))},n.render=function(){return re(U.default,{className:J.default.sensitivity},void 0,re(B.default,{tag:B.Tags.H5,className:X.default.marginBottom8},void 0,$.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),re("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())},t}(a.PureComponent);ie.displayName="VoiceSensitivity";var ue=i.default.connectStores([I.default],function(){return{speaking:I.default.isCurrentUserSpeaking()}})(ie),se=re(z.default,{}),de=re(w.default,{}),ce=re(w.default,{}),fe=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).state={showCamera:!1,disableDebugUpload:!1},t.handleInputModeChange=function(e){var r=e.value;r===K.InputModes.PUSH_TO_TALK&&t.props.usePTTLimited&&c.default.push(function(e){return a.createElement(Y.default,te({title:$.default.Messages.PTT_LIMITED_TITLE,confirmText:$.default.Messages.DOWNLOAD,cancelText:$.default.Messages.OKAY,onConfirm:t.handleDownload.bind(ne(t),"PTT Limited Modal"),body:$.default.Messages.PTT_LIMITED_BODY,iconUrl:n(9055)},e))}),d.default.setMode(r)},t.handleDelayChange=function(e){d.default.setMode(t.props.inputMode,{delay:e})},t.handleThresholdChange=function(e,n){d.default.setMode(t.props.inputMode,{threshold:e,autoThreshold:n})},t.handleDebugLoggingChange=function(e){var t=e.currentTarget.checked;c.default.push(function(e){return a.createElement(W.default,te({header:$.default.Messages.SET_DEBUG_LOGGING,confirmText:$.default.Messages.OKAY,cancelText:$.default.Messages.CANCEL,onConfirm:function(){return d.default.setDebugLogging(t)},red:!0},e),re(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.PRIMARY},void 0,$.default.Messages.SET_DEBUG_LOGGING_BODY))})},t.handleAttenuationChange=function(e){d.default.setAttenuation(e,t.props.attenuateWhileSpeakingSelf,t.props.attenuateWhileSpeakingOthers)},t.handleAttenuateSelfChanged=function(e){var n=e.currentTarget.checked;d.default.setAttenuation(t.props.attenuation,n,t.props.attenuateWhileSpeakingOthers)},t.handleAttenuateOthersChanged=function(e){var n=e.currentTarget.checked,r=t.props,a=r.attenuation,o=r.attenuateWhileSpeakingSelf;d.default.setAttenuation(a,o,n)},t.handleShortcutChange=function(e){d.default.setMode(t.props.inputMode,{shortcut:e})},t.handleShowCamera=function(){t.setState({showCamera:!0})},t.handleUploadDebugFiles=function(){t.setState({disableDebugUpload:!0}),(0,p.uploadDebugFiles)().then(function(){return c.default.push(function(e){return a.createElement(W.default,te({header:$.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,red:!1,confirmText:$.default.Messages.OKAY},e),re(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.PRIMARY},void 0,$.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS))})}).catch(function(e){return c.default.push(function(t){return a.createElement(W.default,te({header:$.default.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER,red:!1,confirmText:$.default.Messages.OKAY},t),re(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.PRIMARY},void 0,e.displayMessage))})}).finally(function(){t.setState({disableDebugUpload:!1})})},t.handleVideoCodecChange=function(e){var t=e.currentTarget.checked;d.default.setOpenH264(t)},t.renderDevice=function(e){var r,a=e.label,o=e.value;E.default.isCertified(o)&&(r=re("img",{src:t.props.theme===K.ThemeTypes.LIGHT?n(9056):n(9057),alt:"Certified",className:J.default.deviceOptionCertified}));return re("span",{className:J.default.deviceOption},o,re("span",{className:J.default.deviceOptionLabel},void 0,E.default.getCertifiedDeviceName(o,a)),r)},t}ae(t,e);var r=t.prototype;return r.handleInputDeviceChange=function(e){var t=e.value;d.default.setInputDevice(t,"Settings")},r.handleOutputDeviceChange=function(e){var t=e.value;d.default.setOutputDevice(t,"Settings")},r.handleDownload=function(e){c.default.push(V.default,{source:e})},r.handleInputVolumeChange=function(e){d.default.setInputVolume((0,j.perceptualToAmplitude)(e))},r.handleOutputVolumeChange=function(e){var t=2*e;d.default.setOutputVolume((0,j.perceptualToAmplitude)(t))},r.handleOutputRender=function(e){return(2*e).toFixed(0)+"%"},r.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"},r.handleVideoDeviceChange=function(e){var t=e.value;d.default.setVideoDevice(t,"Settings")},r.handleNoiseReductionChange=function(e){var t=e.value;t===oe.NONE?(d.default.setNoiseSuppression(!1),d.default.setNoiseCancellation(!1)):t===oe.SUPPRESSION?(d.default.setNoiseSuppression(!0),d.default.setNoiseCancellation(!1)):(d.default.setNoiseSuppression(!1),d.default.setNoiseCancellation(!0))},r.handleEchoCancellationChange=function(e){var t=e.currentTarget.checked;d.default.setEchoCancellation(t)},r.handleAutomaticGainControlChange=function(e){var t=e.currentTarget.checked;d.default.setAutomaticGainControl(t)},r.handleExperimentalEncodersChange=function(e){var t=e.currentTarget.checked;d.default.setExperimentalEncoders(t)},r.handleLoopbackChange=function(e){var t=e.currentTarget.checked;d.default.setLoopback(t)},r.handleSilenceWarningChange=function(e){var t=e.currentTarget.checked;d.default.setSilenceWarning(t)},r.handleVideoHookChange=function(e){var t=e.currentTarget.checked;d.default.setVideoHook(t)},r.handleExperimentalSoundshareChange=function(e){var t=e.currentTarget.checked;d.default.setExperimentalSoundshare(t)},r.handleQoSChanged=function(e){var t=e.currentTarget.checked;d.default.setQoS(t)},r.handleVoiceReset=function(){c.default.push(function(e){return a.createElement(W.default,te({header:$.default.Messages.RESET_VOICE_SETTINGS,confirmText:$.default.Messages.OKAY,cancelText:$.default.Messages.CANCEL,onConfirm:d.default.reset,red:!0},e),re(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.PRIMARY},void 0,$.default.Messages.RESET_VOICE_SETTINGS_BODY))})},r.handleAudioSubsystemChanged=function(e){var t=e.value;c.default.push(function(e){return a.createElement(W.default,te({header:$.default.Messages.SWITCH_SUBSYSTEM,confirmText:$.default.Messages.OKAY,cancelText:$.default.Messages.CANCEL,onConfirm:function(){return d.default.setAudioSubsystem(t)},red:!0},e),re(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.PRIMARY},void 0,$.default.Messages.SWITCH_SUBSYSTEM_BODY))})},r.renderDevices=function(){var e,t,n=this.props,r=n.inputDevices,a=n.inputDeviceId,o=n.outputDeviceId,i=n.outputDevices,u=n.canSetInputDevice,s=n.canSetOutputDevice;u||(e=re(F.default,{type:F.default.Types.DESCRIPTION,className:X.default.marginTop8},void 0,$.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")}))),s||(t=re(F.default,{type:F.default.Types.DESCRIPTION,className:X.default.marginTop8},void 0,$.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,l.default)(r).values().first(),c=null!=d?d.disabled:null!=e,f=(0,l.default)(i).values().first(),p=null!=f?f.disabled:null!=t;return re(C.default,{className:X.default.marginBottom20},void 0,re(C.default.Child,{basis:"50%"},void 0,re(B.default,{tag:B.Tags.H5,className:X.default.marginBottom8},void 0,$.default.Messages.FORM_LABEL_INPUT_DEVICE),re(M.default,{value:a,clearable:!1,searchable:!1,onChange:this.handleInputDeviceChange,options:l.default.map(r,function(e){return{value:e.id,label:e.name}}),disabled:c,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),e),re(C.default.Child,{basis:"50%"},void 0,re(B.default,{tag:B.Tags.H5,className:X.default.marginBottom8},void 0,$.default.Messages.FORM_LABEL_OUTPUT_DEVICE),re(M.default,{value:o,clearable:!1,searchable:!1,onChange:this.handleOutputDeviceChange,options:l.default.map(i,function(e){return{value:e.id,label:e.name}}),disabled:p,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),t))},r.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return re(C.default,{className:"volume"},void 0,re(C.default.Child,{basis:"50%"},void 0,re(B.default,{tag:B.Tags.H5,className:X.default.marginBottom4},void 0,$.default.Messages.FORM_LABEL_INPUT_VOLUME),re(P.default,{initialValue:(0,j.amplitudeToPerceptual)(t),asValueChanges:this.handleInputVolumeChange})),re(C.default.Child,{basis:"50%"},void 0,re(B.default,{tag:B.Tags.H5,className:X.default.marginBottom4},void 0,$.default.Messages.FORM_LABEL_OUTPUT_VOLUME),re(P.default,{initialValue:(0,j.amplitudeToPerceptual)(n)/2,onValueRender:this.handleOutputRender,asValueChanges:this.handleOutputVolumeChange})))},r.renderMicTest=function(){return S.default.supports(u.Features.LOOPBACK)?se:null},r.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,r=[{value:K.InputModes.VOICE_ACTIVITY,name:$.default.Messages.INPUT_MODE_VAD},{value:K.InputModes.PUSH_TO_TALK,name:t?$.default.Messages.INPUT_MODE_PTT_LIMITED:$.default.Messages.INPUT_MODE_PTT}];return re(U.default,{title:$.default.Messages.FORM_LABEL_INPUT_MODE,className:X.default.marginBottom20},void 0,re(A.default,{onChange:this.handleInputModeChange,options:r,value:n}))},r.renderPTTTools=function(){var e,t=this.props,n=t.inputMode,r=t.delay,a=t.shortcut;return n!==K.InputModes.PUSH_TO_TALK?null:(e=H.default.embedded||n!==K.InputModes.PUSH_TO_TALK?re(F.default,{type:F.default.Types.DESCRIPTION,className:(0,o.default)(J.default.pttToolsMessage,X.default.marginBottom8)},void 0,$.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return f.default.setSection(K.UserSettingsSections.KEYBINDS)}})):re(F.default,{type:F.default.Types.DESCRIPTION,className:(0,o.default)(J.default.pttToolsMessage,J.default.pttToolsWarning,X.default.marginBottom8)},void 0,$.default.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")})),re("div",{className:J.default.pttTools},void 0,re(C.default,{},void 0,re(C.default.Child,{basis:"50%"},void 0,re(U.default,{title:$.default.Messages.FORM_LABEL_SHORTCUT},void 0,re(x.default,{defaultValue:a,onChange:this.handleShortcutChange}))),re(C.default.Child,{basis:"50%"},void 0,re(U.default,{title:$.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY},void 0,re(P.default,{initialValue:r,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:K.MAX_PTT_RELEASE_DELAY})))),e))},r.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,r=e.vadAutoThreshold;return t!==K.InputModes.VOICE_ACTIVITY?null:re(ue,{inputMode:t,threshold:n,auto:r,onThresholdChange:this.handleThresholdChange})},r.renderVideoDevices=function(){var e,t,r,a=this.props,i=a.videoDevices,u=a.videoDeviceId,s=a.theme;S.default.isEnabled()||(r=re(F.default,{type:F.default.Types.DESCRIPTION,className:X.default.marginTop8},void 0,$.default.Messages.FORM_WARNING_VIDEO_PREVIEW.format({onEnableClick:d.default.enable})));var c=(0,l.default)(i).values().first(),f=null!=c?c.disabled:null!=r,p=S.default.getMediaEngine().Camera,h=s===K.ThemeTypes.LIGHT?n(9058):n(9059);return re(C.default,{},void 0,re(C.default.Child,{basis:"50%"},void 0,re(B.default,{tag:B.Tags.H5,className:X.default.marginBottom8},void 0,$.default.Messages.FORM_LABEL_VIDEO_DEVICE),re(M.default,{value:u,clearable:!1,searchable:!1,disabled:f,onChange:this.handleVideoDeviceChange,options:l.default.map(i,function(e){return{value:e.id,label:e.name}}),valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),r),re(C.default.Child,{basis:"50%"},void 0,re(B.default,{tag:B.Tags.H5,className:X.default.marginBottom8},void 0,$.default.Messages.FORM_LABEL_VIDEO_PREVIEW),re("div",{className:J.default.previewContainer},void 0,re(p,{deviceId:u,disabled:!this.state.showCamera||f}),re(C.default,{className:(0,o.default)(J.default.previewOverlay,(e={},e[J.default.dismiss]=this.state.showCamera,e))},void 0,re(C.default,{className:(0,o.default)(J.default.previewOverlayInner,(t={},t[J.default.dismiss]=this.state.showCamera,t)),direction:C.default.Direction.VERTICAL,justify:C.default.Justify.CENTER,align:C.default.Align.CENTER},void 0,re("img",{className:X.default.marginBottom20,alt:"",src:h}),re(O.default,{onClick:this.handleShowCamera,disabled:f},void 0,$.default.Messages.TEST_VIDEO))))))},r.renderVideoWarnings=function(){return re(G.default,{type:N.Types.PRIMARY,title:$.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:$.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:re(O.default,{size:O.default.Sizes.SMALL,className:X.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,$.default.Messages.DOWNLOAD_APP)})},r.renderCodec=function(){var e;return e=this.props.theme===K.ThemeTypes.LIGHT?n(9060):n(9061),re(k.default,{className:X.default.marginBottom20,title:$.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE},void 0,re(G.default,{className:X.default.marginBottom20,type:G.Types.PRIMARY,imageData:{src:e,width:70,height:40},align:C.default.Align.CENTER,body:$.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION}))},r.renderVideoCodec=function(){if(!S.default.supports(u.Features.OPEN_H264))return null;var e,t=this.props,n=t.openH264,r=t.experimentalEncoders;return S.default.isExperimentalEncodersSupported()&&(e=re(b.default,{className:(0,o.default)(X.default.marginTop8,X.default.marginBottom20),value:r,onChange:this.handleExperimentalEncodersChange,disabled:!1},void 0,$.default.Messages.EXPERIMENTAL_ENCODERS)),re(k.default,{className:X.default.marginBottom20,title:$.default.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE},void 0,re(b.default,{className:(0,o.default)(X.default.marginTop8,X.default.marginBottom20),value:n,onChange:this.handleVideoCodecChange,disabled:!1,note:$.default.Messages.FORM_HELP_OPEN_H264},void 0,$.default.Messages.USER_SETTINGS_VOICE_OPEN_H264),e)},r.renderVoiceProcessing=function(){if(!S.default.supports(u.Features.VOICE_PROCESSING))return null;var e=this.props,t=e.noiseSuppression,n=e.echoCancellation,r=e.automaticGainControl,a=e.inputDeviceId,l=e.noiseCancellation,i=e.noiseCancellationSupported,s=E.default.hasEchoCancellation(a),d=E.default.hasNoiseSuppression(a),c=E.default.hasAutomaticGainControl(a),f=[{value:oe.NONE,label:$.default.Messages.NOISE_REDUCTION_NONE},{value:oe.SUPPRESSION,label:$.default.Messages.NOISE_SUPPRESSION}];(i||l)&&f.push({value:oe.CANCELLATION,label:$.default.Messages.NOISE_CANCELLATION});var p,h=oe.NONE;return t?h=oe.SUPPRESSION:l&&(h=oe.CANCELLATION),(s||s||c)&&(p=re(F.default,{className:X.default.marginBottom20,type:F.default.Types.DESCRIPTION},void 0,$.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING)),re(k.default,{className:X.default.marginBottom40,title:$.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,p,re(b.default,{className:(0,o.default)(X.default.marginTop8,X.default.marginBottom20),value:n,onChange:this.handleEchoCancellationChange,disabled:s},void 0,$.default.Messages.ECHO_CANCELLATION),re(b.default,{className:"",value:r,onChange:this.handleAutomaticGainControlChange,disabled:c},void 0,$.default.Messages.AUTOMATIC_GAIN_CONTROL),re(M.default,{className:(0,o.default)(X.default.marginTop20,X.default.marginBottom20),value:h,clearable:!1,searchable:!1,options:f,disabled:d,onChange:this.handleNoiseReductionChange}),de)},r.renderQoS=function(){if(!S.default.supports(u.Features.QOS))return null;var e=this.props.qosEnabled;return re(k.default,{className:X.default.marginBottom40,title:$.default.Messages.FORM_LABEL_QOS},void 0,re(b.default,{className:"",value:e,onChange:this.handleQoSChanged,note:$.default.Messages.FORM_HELP_QOS},void 0,$.default.Messages.FORM_CHECKBOX_QOS))},r.renderAttenutation=function(){if(!S.default.supports(u.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,r=e.attenuateWhileSpeakingOthers;return re(k.default,{className:X.default.marginBottom40,title:$.default.Messages.FORM_LABEL_ATTENUATION},void 0,re(P.default,{initialValue:t,onValueRender:this.handleOutputRender,onValueChange:this.handleAttenuationChange}),re(F.default,{className:X.default.marginBottom20,type:F.default.Types.DESCRIPTION},void 0,$.default.Messages.FORM_HELP_ATTENUATION),re(w.default,{className:X.default.marginBottom20}),re(b.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,$.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),re(b.default,{className:"",value:r,onChange:this.handleAttenuateOthersChanged},void 0,$.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))},r.renderAudioSubsystem=function(){if(!S.default.supports(u.Features.LEGACY_AUDIO_SUBSYSTEM)&&!S.default.supports(u.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:u.AudioSubsystems.STANDARD,label:"Standard"}];S.default.supports(u.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:u.AudioSubsystems.LEGACY,label:"Legacy"}),S.default.supports(u.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:u.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props.audioSubsystem;return re(k.default,{className:X.default.marginBottom40,title:$.default.Messages.FORM_LABEL_SUBSYSTEM},void 0,re(M.default,{className:X.default.marginBottom20,value:t,clearable:!1,searchable:!1,options:e,onChange:this.handleAudioSubsystemChanged}),ce)},r.renderDiagnostics=function(){if(!H.default.embedded)return null;var e,t,n=this.props,r=n.silenceWarning,a=n.videoHook,o=n.experimentalSoundshare;return S.default.supports(u.Features.VIDEO_HOOK)&&(e=re(b.default,{value:a,onChange:this.handleVideoHookChange},void 0,$.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL)),S.default.supports(u.Features.EXPERIMENTAL_SOUNDSHARE)&&(t=re(b.default,{value:o,onChange:this.handleExperimentalSoundshareChange},void 0,$.default.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL)),re(k.default,{className:X.default.marginBottom20,title:$.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,re(b.default,{className:"",value:r,onChange:this.handleSilenceWarningChange},void 0,$.default.Messages.DISPLAY_SILENCE_WARNING),re(w.default,{className:X.default.marginBottom20}),e,t)},r.renderDebugLogs=function(){if(H.default.embedded&&S.default.supports(u.Features.DEBUG_LOGGING)&&null!=h.default.fileManager.readLogFiles){var e=this.props.debugLogging,t=this.state.disableDebugUpload,n=re(a.Fragment,{},void 0,re(b.default,{hideBorder:!0,value:e,onChange:this.handleDebugLoggingChange,note:$.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,$.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING));return re(k.default,{className:X.default.marginBottom40,title:$.default.Messages.FORM_LABEL_DEBUG_LOGS},void 0,n,re(U.default,{},void 0,re(O.default,{disabled:t,size:O.ButtonSizes.SMALL,onClick:this.handleUploadDebugFiles},void 0,$.default.Messages.UPLOAD)))}},r.renderResetVoiceSettings=function(){return re(U.default,{},void 0,re(O.default,{look:O.ButtonLooks.OUTLINED,color:O.ButtonColors.RED,onClick:this.handleVoiceReset,size:O.ButtonSizes.SMALL},void 0,$.default.Messages.RESET_VOICE_SETTINGS))},r.renderVideoSettings=function(){var e=S.default.supports(u.Features.VIDEO);return re("div",{},void 0,re(B.default,{tag:B.Tags.H2,className:X.default.marginBottom20},void 0,$.default.Messages.VIDEO_SETTINGS),e?this.renderVideoDevices():this.renderVideoWarnings(),re(w.default,{className:(0,o.default)(X.default.marginBottom40,X.default.marginTop40)}))},r.render=function(){return re(k.default,{className:J.default.userSettingsVoice,tag:B.Tags.H2,title:$.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),re(w.default,{className:(0,o.default)(X.default.marginTop8,X.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),re(w.default,{className:X.default.marginBottom40}),this.renderVideoSettings(),re(B.default,{tag:B.Tags.H2,className:X.default.marginBottom20},void 0,$.default.Messages.SETTINGS_ADVANCED),this.renderCodec(),this.renderVideoCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderDiagnostics(),this.renderDebugLogs(),this.renderResetVoiceSettings())},t}(a.PureComponent);fe.displayName="UserSettingsVoice";var pe=i.default.connectStores([T.default,S.default,E.default,_.default,y.default],function(){return{theme:T.default.theme,canSetInputDevice:S.default.supports(u.Features.AUDIO_INPUT_DEVICE),canSetOutputDevice:S.default.supports(u.Features.AUDIO_OUTPUT_DEVICE),inputVolume:S.default.getInputVolume(),outputVolume:S.default.getOutputVolume(),inputDeviceId:S.default.getInputDeviceId(),inputDevices:S.default.getInputDevices(),outputDevices:S.default.getOutputDevices(),outputDeviceId:S.default.getOutputDeviceId(),videoDevices:S.default.getVideoDevices(),videoDeviceId:S.default.getVideoDeviceId(),echoCancellation:S.default.getEchoCancellation(),loopback:S.default.getLoopback(),noiseSuppression:S.default.getNoiseSuppression(),automaticGainControl:S.default.getAutomaticGainControl(),noiseCancellation:S.default.getNoiseCancellation(),noiseCancellationSupported:S.default.supports(u.Features.NOISE_CANCELLATION)&&(_.default.getUserExperimentBucket(g.default.NOISE_CANCELLATION)===v.ExperimentBuckets.TREATMENT_1||y.default.isDeveloper),inputMode:S.default.getMode(),shortcut:S.default.getModeOptions().shortcut,vadThreshold:S.default.getModeOptions().threshold,vadAutoThreshold:S.default.getModeOptions().autoThreshold,delay:S.default.getModeOptions().delay,usePTTLimited:!H.default.embedded,attenuation:S.default.getAttenuation(),attenuateWhileSpeakingSelf:S.default.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:S.default.getAttenuateWhileSpeakingOthers(),silenceWarning:S.default.getEnableSilenceWarning(),debugLogging:S.default.getDebugLogging(),qosEnabled:S.default.getQoS(),audioSubsystem:S.default.getAudioSubsystem(),certifiedDeviceRevision:E.default.getRevision(),videoHook:S.default.getVideoHook(),experimentalSoundshare:S.default.getExperimentalSoundshare(),openH264:S.default.getOpenH264(),experimentalEncoders:S.default.getExperimentalEncoders()}})(fe);t.default=pe},9052:function(e,t,n){"use strict";t.__esModule=!0,t.uploadDebugFiles=function(){return c.apply(this,arguments)};var r=u(n(374)),a=n(237),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6592)),l=u(n(109)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var d=2e7;function c(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=l.default.fileManager.readLogFiles){e.next=2;break}throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.GENERAL);case 2:return t=[],e.prev=3,e.next=6,l.default.fileManager.readLogFiles(d,o.makeFile);case 6:t=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.READ);case 12:if(0!==t.length){e.next=14;break}throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.NO_FILE);case 14:return e.prev=14,n=r.default.post(i.Endpoints.DEBUG_LOGS),t.forEach(function(e){return n.attach(e.name,e,e.name)}),e.next=19,n;case 19:e.next=29;break;case 21:if(e.prev=21,e.t1=e.catch(14),429!==e.t1.status){e.next=27;break}throw new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.PROGRESS);case 27:throw console.error("Debug log upload error: status: "+e.t1.status+", message: "+e.t1.message),new a.UploadVoiceDebugLogsError(a.UploadErrorCodes.UPLOAD);case 29:case"end":return e.stop()}},e,null,[[3,9],[14,21]])}),(c=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,i,"next",e)}function i(e){s(o,r,a,l,i,"throw",e)}l(void 0)})}).apply(this,arguments)}},9053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),o=C(n(8)),l=C(n(6)),i=C(n(3)),u=n(45),s=n(29),d=C(n(189)),c=C(n(40)),f=C(n(191)),p=C(n(106)),h=C(n(21)),v=C(n(24)),m=C(n(9054)),_=C(n(65)),g=C(n(258)),E=A(n(66)),y=C(n(15)),S=C(n(183)),I=n(1),T=C(n(4)),O=C(n(455)),N=C(n(6421));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=2e3,R=-100,b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new s.Timeout,t._silenceTimeout=new s.Timeout,t._messageTimeout=new s.Timeout,t.state={volume:R,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1},t.setupVoiceActivity=function(){c.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity)},t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=R)return t._silenceTimeout.isStarted()||t._silenceTimeout.start(P,function(){t.setState({isDetectingInput:!1})}),void t.setState({volume:R});t._silenceTimeout.stop(),t.setState({volume:e,isDetectingInput:!0})},t.handleToggleMicTest=function(){t.state.isMicTesting?t._micTestStop():t._micTestStart()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)},l.componentWillUnmount=function(){this._initTimeout.stop(),this._micTestStop(),c.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)},l._micTestStart=function(){var e=this.props,t=e.isDeafened,n=e.isVoiceConnected,r=e.inputDeviceName,a=e.inputVolume,o=e.outputDeviceName,l=e.outputVolume,i=e.inputMode,s=e.vadAutoThreshold,f=e.vadThreshold;c.default.isEnabled()||d.default.enable();var p=!1;n&&!t&&(d.default.toggleSelfDeaf(u.MediaEngineContextTypes.DEFAULT),p=!0),d.default.setLoopback(!0),this._micTestStartTime=Date.now(),this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:p}),y.default.track(I.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:r,input_device_volume:a,output_device_name:o,output_device_volume:l,input_mode:i,input_sensitivity_is_automatic:s,input_sensitivity_threshold:Math.round(f)})},l._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isDeafened,o=r.isVoiceConnected;n&&(o&&a&&t&&d.default.toggleSelfDeaf(u.MediaEngineContextTypes.DEFAULT),d.default.setLoopback(!1),this.setState({isMicTesting:!1,didDeafenUser:!1}),y.default.track(I.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)}))},l.renderCaption=function(){var e,t=this.state,n=t.isMicTesting,r=t.isDetectingInput;return n&&(e=r?T.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION:M(a.Fragment,{},void 0,T.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,M(p.default,{className:N.default.micTestHelpLink,href:S.default.getArticleURL(I.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,T.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))),M(g.default,{className:N.default.micTestCaption,type:g.default.Types.DESCRIPTION},void 0,e)},l.render=function(){var e=this,t=this.props.isVoiceConnected,n=this.state,r=n.isMicTesting,a=n.volume,l=t&&!r?T.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CHANNEL_WARNING:null;return M(v.default,{direction:v.default.Direction.VERTICAL},void 0,M(E.default,{tag:E.Tags.H5,className:(0,o.default)(O.default.marginBottom4,O.default.marginTop8)},void 0,T.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE),M(g.default,{type:g.default.Types.DESCRIPTION,className:O.default.marginBottom8},void 0,T.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION),M(v.default,{className:N.default.micTest,align:v.default.Align.CENTER},void 0,M(_.default,{text:l},void 0,function(t){var n=t.onMouseEnter,a=t.onMouseLeave;return M(h.default,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:a,size:h.default.Sizes.SMALL,className:N.default.micTestButton,color:h.default.Colors.BRAND},void 0,r?T.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE:T.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE)}),M(m.default,{progress:r?a+100:0}),this.renderCaption()))},r}(a.PureComponent);b.displayName="MicTester";var L=i.default.connectStores([f.default],function(){var e=c.default.getInputDeviceId(),t=c.default.getInputDevices(),n=l.default.find(t,function(t){return t.id===e}),r=c.default.getOutputDeviceId(),a=c.default.getOutputDevices(),o=l.default.find(a,function(e){return e.id===r}),i=c.default.getModeOptions();return{isVoiceConnected:f.default.isConnected(),isDeafened:c.default.isSelfDeaf(),inputVolume:c.default.getInputVolume(),outputVolume:c.default.getOutputVolume(),inputMode:c.default.getMode(),vadThreshold:i.threshold,vadAutoThreshold:i.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=o?o.name:""}})(b);t.default=L},9054:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(8)),l=n(190),i=n(1),u=s(n(6420));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=(0,l.cssValueToNumber)(u.default.notchWidth),f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0},t.sizerRef=a.createRef(),t.computeBars=function(){var e=t.sizerRef.current;t.setState({barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){this.computeBars(),window.addEventListener("resize",this.computeBars)},l.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)},l.roundToNearestStep=function(e){return Math.round(e/c)*c},l.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}},l.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}},l.render=function(){var e=this.props.className;return a.createElement("div",{className:u.default.wrapper,ref:this.sizerRef},d("div",{className:(0,o.default)(u.default.container,e),style:this.getGradientStyles()},void 0,d("div",{className:u.default.progress,style:this.getProgressStyles()}),d("div",{className:u.default.notches})))},r}(a.Component);f.displayName="GradientProgress",f.defaultProps={gradientStart:i.Colors.STATUS_YELLOW_400,gradientEnd:i.Colors.STATUS_GREEN};var p=f;t.default=p},9055:function(e,t,n){e.exports=n.p+"d630d71d5d2a19c1a81607b7b77f8717.svg"},9056:function(e,t,n){e.exports=n.p+"799da7cb8e1aa0bf9588a2d789c03926.svg"},9057:function(e,t,n){e.exports=n.p+"f98fe1aef65b144ddb4dbc7eedfac860.svg"},9058:function(e,t,n){e.exports=n.p+"baf6cccc846651d5ca897296163227f5.svg"},9059:function(e,t,n){e.exports=n.p+"aba3ec7874f7f01fe9a8275a3e5c21a0.svg"},9060:function(e,t,n){e.exports=n.p+"8c49c7d4a59675bb6ceaee1bb80b5803.png"},9061:function(e,t,n){e.exports=n.p+"e8b66317ab0dc9ba3bf8d41a4f3ec914.png"},9062:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(0)),o=p(n(8)),l=p(n(852)),i=p(n(261)),u=h(n(66)),s=p(n(20)),d=p(n(13)),c=p(n(4)),f=p(n(455));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleToggleOpenOnStartup=function(){var e=!n.state.openOnStartup;n.setState({openOnStartup:e}),s.default.send("TOGGLE_OPEN_ON_STARTUP",e)},n.handleToggleStartMinimized=function(){var e=!n.state.startMinimized;n.setState({startMinimized:e}),s.default.send("TOGGLE_START_MINIMIZED",e)},n.handleToggleMinimizeToTray=function(){var e=!n.state.minimizeToTray;n.setState({minimizeToTray:e}),s.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};var r=s.default.getGlobal("appSettings");return n.state={openOnStartup:r.get("OPEN_ON_STARTUP",!0),startMinimized:r.get("START_MINIMIZED",!1),minimizeToTray:r.get("MINIMIZE_TO_TRAY",!0)},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,r=e.minimizeToTray,a=d.default.isLinux()?c.default.Messages.USER_SETTINGS_LINUX_SETTINGS:c.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return v(i.default,{tag:u.Tags.H2,title:a},void 0,v(u.default,{},void 0,c.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),v(l.default,{className:f.default.marginBottom20,value:t,note:c.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,c.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),d.default.isWindows()?v(l.default,{disabled:!t,className:(0,o.default)(f.default.marginTop8,f.default.marginBottom20),value:!!t&&n,note:c.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,c.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,v(u.default,{className:(0,o.default)(f.default.marginTop20,f.default.marginBottom8)},void 0,c.default.Messages.USER_SETTINGS_CLOSE_BUTTON),v(l.default,{className:f.default.marginBottom20,value:r,note:c.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,c.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))},r}(a.PureComponent);m.displayName="UserSettingsWindows";var _=m;t.default=_},9063:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=s(n(337)),l=s(n(25)),i=s(n(38)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(){var e=(0,a.useStateFromStores)([l.default],function(){return l.default.messageDisplayCompact},[]);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:e?u.default.Messages.SWITCH_TO_COZY_MODE:u.default.Messages.SWITCH_TO_COMPACT_MODE,action:function(){o.default.updateRemoteSettings({messageDisplayCompact:!e})}})};d.displayName="AppearanceMessageDisplayMenuItem";var c=d;t.default=c},9064:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=d(n(337)),l=d(n(25)),i=d(n(38)),u=n(1),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=(0,a.useStateFromStores)([l.default],function(){return l.default.theme},[]);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:e===u.ThemeTypes.LIGHT?s.default.Messages.SWITCH_TO_DARK_THEME:s.default.Messages.SWITCH_TO_LIGHT_THEME,action:function(){o.default.updateRemoteSettings({theme:e===u.ThemeTypes.LIGHT?u.ThemeTypes.DARK:u.ThemeTypes.LIGHT})}})};c.displayName="AppearanceThemeMenuItem";var f=c;t.default=f},9065:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),l=n(184),i=n(330),u=f(n(280)),s=f(n(6628)),d=f(n(287)),c=f(n(143));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderBuckets=function(){var e=t.props,n=e.currentBucket;return e.experiment.buckets.map(function(e){var r=s.default.getExperimentBucketName(e);return p(c.default,{label:r,action:function(){return t.handleOverrideSelect(e,e===n)},active:e===n},e)})},t.handleOverrideSelect=function(e,n){var r=t.props.id;(0,i.overrideBucket)(r,n?null:e)},t.handleResetOverride=function(){var e=t.props.id;(0,i.overrideBucket)(e,null)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.experiment;return p(d.default,{label:e.title,render:this.renderBuckets,action:this.handleResetOverride})},r}(a.Component);h.displayName="ExperimentSettingsItem";var v=o.default.connectStores([u.default],function(e){var t=e.id,n=u.default.getExperimentOverrideDescriptor(t),r=-1;n&&(r=n.bucket);var a=u.default.getRegisteredExperiments()[t];return{experiment:a,bucket:null!=a&&a.type===l.ExperimentTypes.USER?u.default.getUserExperimentBucket(t):null,currentBucket:r}})(h);t.default=v},9066:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=s(n(6855)),l=s(n(97)),i=s(n(143)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(){var e=(0,a.useStateFromStores)([l.default],function(){return l.default.enabled},[]);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:u.default.Messages.ENABLE_STREAMER_MODE_LABEL,action:function(){o.default.setEnabled(!e)},active:e})};d.displayName="StreamerModeToggleItem";var c=d;t.default=c},9067:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=d(n(189)),l=d(n(40)),i=d(n(38)),u=n(1),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=(0,a.useStateFromStores)([l.default],function(){return l.default.getMode()},[]);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:e===u.InputModes.PUSH_TO_TALK?s.default.Messages.SWITCH_TO_VOICE_ACTIVITY:s.default.Messages.SWITCH_TO_PUSH_TO_TALK,action:function(){o.default.setMode(e===u.InputModes.PUSH_TO_TALK?u.InputModes.VOICE_ACTIVITY:u.InputModes.PUSH_TO_TALK)}})};c.displayName="VoiceSettingsInputModeItem";var f=c;t.default=f},9068:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=c(n(121)),l=c(n(189)),i=c(n(40)),u=n(913),s=c(n(1004)),d=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.type,n=(0,a.useStateFromStores)([i.default],function(){switch(t){case"input":return{volume:(0,u.amplitudeToPerceptual)(i.default.getInputVolume())};case"output":return{volume:(0,u.amplitudeToPerceptual)(i.default.getOutputVolume())/2};default:return{volume:0}}},[t],o.default).volume;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:"input"===t?d.default.Messages.FORM_LABEL_INPUT_VOLUME:d.default.Messages.FORM_LABEL_OUTPUT_VOLUME,defaultValue:n,onValueChange:function(e){switch(t){case"input":l.default.setInputVolume((0,u.perceptualToAmplitude)(e));break;case"output":l.default.setOutputVolume((0,u.perceptualToAmplitude)(2*e))}},onValueRender:function(e){switch(t){case"input":return e.toFixed(0)+"%";case"output":return(2*e).toFixed(0)+"%";default:return""}}})};f.displayName="VoiceSettingsVolumeItem";var p=f;t.default=p},9069:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(0)),o=y(n(6)),l=y(n(3)),i=n(35),u=S(n(379)),s=y(n(525)),d=y(n(51)),c=y(n(235)),f=y(n(11)),p=y(n(9070)),h=n(80),v=y(n(459)),m=y(n(9071)),_=y(n(343)),g=n(1),E=y(n(4));function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleUserContextMenu=function(e,t){(0,i.openContextMenu)(e,function(e){return a.createElement(v.default,T({},e,{type:g.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.renderOverflowPopout=function(){var e=t.props.party;return t.hasParty(e)?I(m.default,{party:e,header:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})}):null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidUpdate=function(e){this.hasParty(this.props.party)!==this.hasParty(e.party)&&h.ComponentDispatch.dispatch(g.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE)},o.hasParty=function(e){return e.length>1},o.handleStopListening=function(){u.stopSyncing()},o.renderUserPopout=function(e,t){return a.createElement(_.default,T({},e,{userId:t.id}))},o.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)?I(p.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null},r}(a.PureComponent);O.displayName="ListeningAlong";var N=l.default.connectStores([c.default,f.default,s.default],function(){var e,t,n=c.default.getSyncingWith(),r=c.default.getActivity(),a=f.default.getCurrentUser(),l=[];return null!=n?(e=f.default.getUser(n.userId),t=n.partyId):null!=r&&null!=r.party&&null!=r.party.id&&(e=a,t=r.party.id),null!=t&&(l=(0,o.default)(Array.from(s.default.getParty(t)||[])).map(function(e){return f.default.getUser(e)}).filter(function(e){return null!=e}).orderBy([function(t){return null==e||e.id===t.id},function(e){return d.default.isFriend(e.id)}],["desc","desc"]).value()),{currentUser:a,host:e,party:l}})(O);t.default=N},9070:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=E(n(8)),l=E(n(183)),i=E(n(24)),u=E(n(42)),s=E(n(458)),d=E(n(65)),c=E(n(6613)),f=E(n(328)),p=E(n(6662)),h=E(n(6618)),v=E(n(6663)),m=n(1),_=E(n(4)),g=E(n(6424));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=5,T=4,O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r=t.props,l=r.host,i=r.renderUserPopout,u=r.onUserContextMenu,c=null;return c=l.id===e.id?_.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:_.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER,y(s.default,{renderPopout:function(t){return null!=e&&i(t,e)},position:s.default.Positions.TOP,align:s.default.Align.CENTER},e.id,function(t){return y(d.default,{text:c},void 0,function(r){var l=r.onMouseEnter,i=r.onMouseLeave;return a.createElement(f.default,S({},t,{key:e.id,src:e.getAvatarURL("png"),size:f.default.Sizes.SIZE_24,className:(0,o.default)(g.default.avatar,n),onContextMenu:function(t){null!=u&&null!=e&&u(t,e)},"aria-label":e.username,onMouseEnter:l,onMouseLeave:i}))})})},t.renderPartyMemberOverflow=function(e,n,r){var l=t.props.renderOverflowPopout;return y(s.default,{renderPopout:l},r,function(t){return y(d.default,{text:_.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,function(r){return a.createElement("div",S({className:(0,o.default)(g.default.overflow,n)},r,t),e)})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var E=r.prototype;return E.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===n.id},E.renderTitle=function(){return y("div",{},void 0,y(v.default,{},void 0,this.isHost()?_.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):_.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),y(h.default,{},void 0,_.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))},E.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:y(p.default,{tooltipText:_.default.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,iconName:u.default.Names.CLOSE})},E.renderHelpIcon=function(){if(!this.isHost())return null;return y(p.default,{tooltipText:_.default.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(l.default.getArticleURL(m.HelpdeskArticles.SPOTIFY_CONNECTION),"_blank")},iconName:u.default.Names.INFO})},E.render=function(){return y("div",{className:g.default.listeningAlong},void 0,this.renderTitle(),y(i.default,{justify:i.default.Justify.END,className:g.default.party},void 0,y(c.default,{users:this.props.party,max:this.isHost()?I:T,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),y("div",{className:g.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))},r}(a.PureComponent);O.displayName="ListeningAlong";var N=O;t.default=N},9071:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(35),l=p(n(24)),i=p(n(152)),u=p(n(328)),s=p(n(865)),d=p(n(459)),c=n(1),f=p(n(6425));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=r.prototype;return p.handleContextMenu=function(e,t){(0,o.openContextMenu)(e,function(e){return a.createElement(d.default,v({},e,{type:c.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},p.renderUser=function(e){var t=this;return null==e?null:h(l.default,{className:f.default.user,align:l.default.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)}},e.id,h(u.default,{src:e.getAvatarURL(),"aria-label":e.username,size:u.default.Sizes.SIZE_24,className:f.default.avatar}),h(s.default,{user:e,className:f.default.tag,usernameClass:f.default.username,discriminatorClass:f.default.discriminator}))},p.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map(function(t){return e.renderUser(t)});return h("div",{className:f.default.userList},void 0,h("div",{className:f.default.header},void 0,r),h(i.default,{className:f.default.content,fade:!0,theme:i.default.Themes.GHOST_HAIRLINE},void 0,a))},r}(a.PureComponent);m.displayName="UserListPopout";var _=m;t.default=_},9072:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Q(n(0)),o=$(n(8)),l=$(n(16)),i=n(259),u=Q(n(3)),s=n(45),d=n(35),c=$(n(6540)),f=$(n(30)),p=$(n(107)),h=$(n(6794)),v=$(n(260)),m=$(n(137)),_=n(184),g=$(n(6655)),E=$(n(6664)),y=$(n(9073)),S=n(6535),I=n(6567),T=$(n(98)),O=$(n(10)),N=$(n(14)),C=$(n(19)),A=$(n(40)),M=$(n(191)),P=$(n(54)),R=$(n(39)),b=$(n(11)),L=$(n(72)),D=$(n(6819)),w=$(n(58)),U=$(n(24)),G=$(n(42)),k=$(n(458)),F=$(n(6662)),B=$(n(6618)),j=$(n(13)),H=$(n(7343)),V=$(n(7344)),x=$(n(7238)),Y=$(n(6824)),W=n(1),z=$(n(4)),K=$(n(6144));function $(e){return e&&e.__esModule?e:{default:e}}function Q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J=u.default.connectStores([M.default],function(){return{connectionState:M.default.getState(),hostname:M.default.getHostname(),pings:M.default.getPings(),averagePing:M.default.getAveragePing(),lastPing:M.default.getLastPing(),outboundLossRate:M.default.getOutboundLossRate()}})(V.default),Z=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){return a.createElement(J,e)},t.handleDisconnect=function(){p.default.selectVoiceChannel(null)},t.handleScreenShare=function(e){var n=t.props,r=n.isScreenSharing,o=n.channel,l=P.default.getCurrentGame();r||null!=l||null==o?null!=e&&null!=o&&null!=l&&(0,d.openContextMenu)(e,function(e){return a.createElement(x.default,q({},e,{channel:o,game:l}))}):h.default.open(o)},t.handleGoLive=function(){var e=t.props,n=e.guild,r=e.channel,a=null!=r?r.getGuildId():null!=n?n.id:null;null!=a&&((0,I.hideHotspot)(S.HotspotLocations.SCREENSHARE_BUTTON),t.modalKey=f.default.push(function(){return X(Y.default,{guildId:a,onClose:t.handleCloseModal,analyticsLocation:W.AnalyticsLocations.VOICE_PANEL,startWithScreens:!0})}))},t.handleCloseModal=function(){null!=t.modalKey?f.default.popWithKey(t.modalKey):f.default.pop()},t.handleChannelLinkClick=function(e){var n=t.props,r=n.guild,a=n.channel;(0,l.default)(null!=a,"Channel is null during navigation click"),e.stopPropagation(),c.default.channelListScrollTo(r?r.id:W.ME,a.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.renderPopoutTarget=function(e){return X(k.default,{renderPopout:this.renderPopout,position:k.default.Positions.TOP},void 0,e)},u.renderConnectionStatus=function(){var e,t=this.props,n=t.hasGuildVideo,r=t.hasScreenshare,a=t.channel,l=t.guild,u=t.rtcConnectionQuality,s=t.rtcConnectionState,d=t.rtcConnectionLastPing,c=t.selectedChannelId,f=t.hasVideo;if(null==a)return null;var p,h=(0,m.default)(a,!0);null!=l?(p=W.Routes.CHANNEL(l.id,n?a.id:c),h=h+" / "+l.name):p=W.Routes.CHANNEL(W.ME,a.id);var v=n||r,_=X(H.default,{statusTextClassName:(0,o.default)((e={},e[K.default.statusWithPopout]=v,e)),quality:u,state:s,lastPing:d,hasVideo:f},void 0,X(i.Link,{to:p,onClick:this.handleChannelLinkClick},void 0,X(B.default,{className:K.default.channel},void 0,h)));return v?this.renderPopoutTarget(function(e){var t=e.onClick;return X(w.default,{onClick:t},void 0,_)}):_},u.renderInfo=function(){return this.renderPopoutTarget(function(e){var t=e.onClick;return X(F.default,{tooltipText:z.default.Messages.RTC_CONNECTION_INFO,iconName:G.default.Names.INFO,onClick:t})})},u.renderScreenShare=function(){var e=this.props,t=e.hasScreenshare,n=e.stream,r=e.channel,a=e.isScreenSharing,o=e.isCameraGranted;return t?X(y.default,{hide:null==r||null==r.getGuildId()},void 0,X(F.default,{tooltipText:null!=n?z.default.Messages.ACTIVITY_PANEL_GO_LIVE_ALREADY_LIVE:z.default.Messages.ACTIVITY_PANEL_GO_LIVE,onClick:this.handleGoLive,iconName:G.default.Names.SCREENSHARE,disabled:null!=n})):X(F.default,{tooltipText:a?z.default.Messages.SCREEN_SHARE_OPTIONS:z.default.Messages.SCREEN_SHARE_ON,onClick:this.handleScreenShare,iconName:G.default.Names.SCREENSHARE,disabled:!o})},u.renderDisconnect=function(){return X(F.default,{tooltipText:z.default.Messages.DISCONNECT,onClick:this.handleDisconnect,iconName:G.default.Names.NOVA_CALL_LEAVE})},u.render=function(){var e=this.props,t=e.channel,n=e.hasGuildVideo,r=e.hasScreenshare;return null==t?null:X("div",{className:K.default.container},void 0,X("div",{className:K.default.inner},void 0,this.renderConnectionStatus()),X(U.default,{grow:0,shrink:0},void 0,n||r?this.renderScreenShare():this.renderInfo(),this.renderDisconnect()))},r}(a.PureComponent);function ee(e){var t=(0,u.useStateFromStores)([b.default],function(){return b.default.getCurrentUser()}),n=null!=t&&t.isStaff(),r=(0,g.default)(E.default,null!=e.channel?e.channel.getGuildId():null,W.AnalyticsLocations.VOICE_PANEL),o=j.default.isWindows()||n;return a.createElement(Z,q({},e,{hasScreenshare:r===_.ExperimentBuckets.TREATMENT_2&&o}))}Z.displayName="RTCConnection",ee.displayName="RTCConnectionWithScreenshareExperiment";var te=(0,v.default)(u.default.connectStores([M.default,A.default,C.default,N.default,R.default,L.default,D.default,T.default,O.default],function(){var e=M.default.getGuildId(),t=M.default.getChannelId(),n=N.default.getChannel(t);return{rtcConnectionQuality:M.default.getQuality(),rtcConnectionState:M.default.getState(),rtcConnectionLastPing:M.default.getLastPing(),hasVideo:null!=n&&L.default.hasVideo(n),isScreenSharing:A.default.isScreenSharing(),isCameraGranted:A.default.isEnabled(),guild:C.default.getGuild(e),channel:n,hasGuildVideo:D.default.isAvailable(e)&&A.default.supports(s.Features.DESKTOP_CAPTURE),selectedChannelId:R.default.getChannelId(e),stream:T.default.getActiveStream()}})(ee));t.default=te},9073:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.hide,n=void 0!==t&&t,r=e.children;var f=(0,s.useShouldShowScreenshareHotspot)(),h=p("div",{className:c.default.wrapper},void 0,p(l.default,{className:c.default.text,size:l.default.Sizes.SIZE_14},void 0,d.default.Messages.GO_LIVE_SCREENSHARE_HOTSPOT),p(a.default,{className:c.default.button,color:a.default.Colors.BRAND,look:a.default.Looks.INVERTED,size:a.default.Sizes.MIN,onClick:function(){(0,u.hideHotspot)(i.HotspotLocations.SCREENSHARE_BUTTON)}},void 0,d.default.Messages.TUTORIAL_CLOSE));return n||!f?r:p(o.TooltipContainer,{text:h,"aria-label":"screenshare-tooltip",position:o.TooltipPositions.TOP,color:o.TooltipColors.BRAND,disableTooltipPointerEvents:!1,forceOpen:!0},void 0,r)};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(21)),o=n(65),l=f(n(257)),i=n(6535),u=n(6567),s=n(6664),d=f(n(4)),c=f(n(6426));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},9074:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=N(n(873)),a=N(n(890)),o=N(n(3)),l=n(45),i=N(n(100)),u=N(n(240)),s=n(120),d=n(518),c=N(n(14)),f=N(n(355)),p=N(n(22)),h=N(n(40)),v=N(n(537)),m=N(n(191)),_=N(n(54)),g=N(n(39)),E=N(n(153)),y=N(n(160)),S=N(n(6686)),I=N(n(7780)),T=N(n(15)),O=n(1);function N(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=(0,r.default)({displayName:"AutoAnalytics",mixins:[o.default.StoreListenerMixin(h.default,g.default,_.default,E.default,I.default,S.default,m.default,y.default),a.default],getStateFromStores:function(){var e=g.default.getVoiceChannelId(),t=null,n=null;if(e){var r=c.default.getChannel(e);null!=r&&(t=r.getGuildId(),n=r.type)}var a=y.default.findActivity(function(e){return e.type===O.ActivityTypes.PLAYING}),o=_.default.getCurrentGame();return{selectedChannelId:g.default.getChannelId(),selectedGuildId:E.default.getGuildId(),friendsTabSection:I.default.getState().section,homeLink:S.default.getHomeLink(),connected:f.default.isConnected(),videoEnabled:h.default.isVideoEnabled(),isScreenSharing:h.default.isScreenSharing(),isScreenSharingStream:h.default.isScreenSharing(l.MediaEngineContextTypes.STREAM),voiceChannelId:e,voiceChannelIdJoined:m.default.getChannelId(),voiceChannelGuildId:t,voiceChannelType:n,runningGame:o,runningGamePid:null!=o?o.pid:null,gamePlatform:(0,u.default)(a),gameName:null!=a?a.name:null,gameId:null!=a?a.application_id:null,gameExeName:null!=o?o.exeName:null}},componentDidMount:function(){var e=this.state,t=e.selectedChannelId;e.connected&&null!=t&&(0,s.trackWithMetadata)(O.AnalyticEvents.CHANNEL_OPENED)},componentDidUpdate:function(e,t){var n=this.state,r=n.voiceChannelId,a=n.voiceChannelIdJoined,o=n.voiceChannelGuildId,l=n.voiceChannelType,u=n.videoEnabled,c=n.isScreenSharing,f=n.isScreenSharingStream,h=n.runningGame,g=n.runningGamePid,E=n.selectedChannelId,y=n.selectedGuildId,S=n.connected,I=n.homeLink,N=n.friendsTabSection;if(t.voiceChannelId!==r&&null!=t.voiceChannelId){var A=_.default.getCurrentGame(),M=null!=A?A.name:"";T.default.track(O.AnalyticEvents.LEAVE_VOICE_CHANNEL,C({channel_id:t.voiceChannelId,channel_type:t.voiceChannelType,guild_id:t.voiceChannelGuildId,rtc_connection_id:m.default.getRTCConnectionId(),game_name:M,duration:m.default.getDuration(),game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,s.getVoiceStateMetadata)(t.voiceChannelGuildId,t.voiceChannelId,t.videoEnabled||t.isScreenSharing)))}if(t.voiceChannelIdJoined!==a&&null!=a){var P=_.default.getCurrentGame(),R=null!=P?P.name:"";null!=a&&T.default.track(O.AnalyticEvents.JOIN_VOICE_CHANNEL,C({channel_id:r,channel_type:l,guild_id:o,rtc_connection_id:m.default.getRTCConnectionId(),game_name:R,game_platform:this.state.gamePlatform,game_id:this.state.gameId,connection_type:v.default.getType(),effective_connection_speed:v.default.getEffectiveConnectionSpeed(),service_provider:v.default.getServiceProvider()},(0,s.getCustomStatusMetadata)(o,r),(0,s.getVoiceStateMetadata)(o,r,u||c)))}if(t.runningGame!==h&&null!=h&&!h.isLauncher){var b=p.default.getGameByName(h.name);if(T.default.track(O.AnalyticEvents.LAUNCH_GAME,{game:h.name,game_id:null==b?null:b.id,verified:null!=b,elevated:h.elevated,game_platform:O.ActivityGamePlatforms.DESKTOP,distributor:h.distributor}),p.default.shouldReport(h.name)){var L=h.name,D=g;i.default.identifyGame(D,L).then(function(e){return i.default.reportUnverifiedGame(e)}).catch(function(e){return console.error(e)})}}if((t.videoEnabled!==u||t.isScreenSharing!==c||t.isScreenSharingStream!==f)&&r){var w="none",U=null;c||f?(w=f?"game":"screen",U=(0,d.getDesktopSourceMetadata)()):u&&(w="camera"),T.default.track(O.AnalyticEvents.VIDEO_INPUT_TOGGLED,C({video_input_type:w,video_toggle_source:__OVERLAY__?"overlay":"app"},U,this.getGameMetadata(),(0,s.collectVoiceAnalyticsMetadata)(r)))}!S||null==y||y===t.selectedGuildId&&t.connected?!S||null!=y||I!==O.Routes.FRIENDS||t.connected&&N===t.friendsTabSection&&I===t.homeLink||T.default.track(O.AnalyticEvents.FRIENDS_LIST_VIEWED,{tab_opened:N}):(0,s.trackWithMetadata)(O.AnalyticEvents.GUILD_VIEWED),!S||null==E||E===t.selectedChannelId&&t.connected||(0,s.trackWithMetadata)(O.AnalyticEvents.CHANNEL_OPENED)},getGameMetadata:function(){return{game_platform:this.state.gamePlatform,game_name:this.state.gameName,game_exe_name:this.state.gameExeName,game_id:this.state.gameId}},render:function(){return null}});t.default=A},9075:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=w(n(8)),l=w(n(873)),i=w(n(6)),u=w(n(890)),s=w(n(118)),d=w(n(3)),c=n(45),f=w(n(263)),p=w(n(291)),h=w(n(9076)),v=w(n(107)),m=n(6529),_=w(n(137)),g=w(n(344)),E=w(n(7508)),y=w(n(40)),S=w(n(864)),I=w(n(97)),T=w(n(25)),O=w(n(185)),N=w(n(9077)),C=n(80),A=w(n(36)),M=n(467),P=w(n(9078)),R=n(1),b=w(n(5927)),L=w(n(6145)),D=w(n(6428));function w(e){return e&&e.__esModule?e:{default:e}}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=(0,l.default)({displayName:"IncomingCallModal",mixins:[d.default.LazyStoreListenerMixin(g.default),u.default],getInitialState:function(){return G({animate:new s.default.Value(0)},this.getStateFromStores())},getStateFromStores:function(){return{mode:g.default.getMode(this.props.channel.id)}},componentDidMount:function(){C.ComponentDispatch.subscribe(R.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),C.ComponentDispatch.subscribe(R.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillUnmount:function(){C.ComponentDispatch.unsubscribe(R.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),C.ComponentDispatch.unsubscribe(R.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillEnter:function(e){s.default.timing(this.state.animate,{toValue:1,duration:170,easing:s.default.Easing.inOut(s.default.Easing.back())}).start(e)},componentDidAppear:function(){this.state.animate.setValue(1)},componentWillLeave:function(e){s.default.timing(this.state.animate,{toValue:0,duration:170,easing:s.default.Easing.quad}).start(e)},getStyle:function(){var e=this.state.animate;return this.props.shouldAnimate?s.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:["0.7","1"]})}],opacity:e}):null},render:function(){var e=this.props,t=e.x,n=e.y,r=e.channel,l=e.shouldAnimate,i=(0,m.getChannelIconURL)(r),u=y.default.supports(c.Features.VIDEO);return U(P.default,{className:(0,o.default)(D.default.incomingCall,b.default.elevationHigh),selector:"."+L.default.incomingCallInner,initialPosition:{top:n,left:t},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:this.handleStop,dragAnywhere:!0},void 0,U(a.Fragment,{},void 0,U(s.default.div,{style:this.getStyle()},void 0,U(N.default,{avatarUrl:i,channelId:r.id,channelName:(0,_.default)(r),mode:this.state.mode,shouldAnimate:l,supportsVideo:u,handleDeclineCall:this.handleDeclineCall,handleAcceptWithAudio:this.handleAcceptWithAudio,handleAcceptWithVideo:this.handleAcceptWithVideo}))))},handleStop:function(e){var t=e.top,n=e.left;null!=t&&null!=n&&h.default.move(n,t)},handleDeclineCall:function(){p.default.stopRinging(this.props.channel.id)},handleAcceptWithAudio:function(){v.default.selectVoiceChannel(this.props.channel.id)},handleAcceptWithVideo:function(){var e=this.props.channel;v.default.selectVoiceChannel(e.id,!0),A.default.transitionToGuild(R.ME,e.id)}}),F=(0,l.default)({displayName:"IncomingCalls",mixins:[d.default.LazyStoreListenerMixin(E.default,I.default,O.default,T.default),u.default],getInitialState:function(){return G({ringingSound:(0,M.createSound)(500===i.default.random(1,1e3)?"call_ringing_beat":"call_ringing")},this.getStateFromStores())},getStateFromStores:function(){return{incomingCalls:E.default.getIncomingCalls(),ringing:E.default.hasIncomingCalls(),isFocused:O.default.isFocused(),disableSounds:I.default.disableSounds,theme:T.default.theme}},componentDidUpdate:function(e,t){var n=t.ringing;this.state.ringing!==n&&(this.state.ringing?this.startRinging():this.stopRinging())},render:function(){var e=this.state,t=e.incomingCalls,n=e.isFocused;return U(f.default,{component:"div",className:D.default.container},void 0,i.default.map(t,function(e){return a.createElement(k,G({key:e.channel.id,shouldAnimate:n},e))}))},startRinging:function(){this.state.disableSounds||S.default.isSoundDisabled("call_ringing")||this.state.ringingSound.loop()},stopRinging:function(){this.state.ringingSound.stop()}});t.default=F},9076:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var l={move:function(e,t){a.default.dispatch({type:o.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}};t.default=l},9077:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(8)),l=v(n(21)),i=v(n(24)),u=v(n(42)),s=v(n(7779)),d=n(1),c=v(n(4)),f=v(n(464)),p=v(n(455)),h=v(n(6145));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.renderAllActions=function(){var e=this.props,t=e.handleAcceptWithAudio,n=e.handleAcceptWithVideo;return m(a.Fragment,{},void 0,m(l.default,{className:p.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:n,color:l.default.Colors.GREEN},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,m(u.default,{name:u.default.Names.VIDEO_CAMERA,className:h.default.actionIcon}),c.default.Messages.VIDEO)),m(l.default,{className:p.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.GREEN},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,m(u.default,{name:u.default.Names.MICROPHONE,className:h.default.actionIcon}),c.default.Messages.VOICE)))},v.renderAudioOnlyActions=function(){var e=this.props.handleAcceptWithAudio;return m(l.default,{className:p.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:e,color:l.default.Colors.GREEN},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,m(u.default,{name:u.default.Names.MICROPHONE,className:h.default.actionIcon}),c.default.Messages.JOIN_CALL))},v.renderActions=function(){var e=this.props,t=e.handleDeclineCall,n=e.supportsVideo,r=e.mode;return m("div",{className:(0,o.default)((0,o.default)(h.default.actionButtons,p.default.marginTop20))},void 0,n&&r===d.ChannelModes.VIDEO?this.renderAllActions():this.renderAudioOnlyActions(),m(l.default,{className:p.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.PRIMARY},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,c.default.Messages.DECLINE)))},v.render=function(){var e=this.props,t=e.avatarUrl,n=e.channelId,r=e.channelName,a=e.mode,l=e.shouldAnimate,u=e.className;return m("div",{className:(0,o.default)(h.default.incomingCallInner,u)},void 0,m(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER},void 0,m(s.default,{className:p.default.marginTop20,ringing:l,src:t||"",id:n}),m("div",{className:(0,o.default)(h.default.members,p.default.marginTop20)},void 0,r),m("div",{className:(0,o.default)(h.default.subtitle,p.default.marginTop8)},void 0,a===d.ChannelModes.VOICE?c.default.Messages.INCOMING_CALL_ELLIPSIS:c.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS),this.renderActions()))},r}(a.Component);_.displayName="IncomingCall";var g=_;t.default=g},9078:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(1);var o=function(e,t){var n=e.x,r=e.y,a=t.x,o=t.y;return Math.pow(n-a,2)+Math.pow(r-o,2)},l=Math.pow(3,2),i=Object.freeze({DISABLED:0,DEFAULT:1,OFFSET:2}),u=Object.freeze({TOP:"TOP",BOTTOM:"BOTTOM",RIGHT:"RIGHT",LEFT:"LEFT"});function s(e,t,n,r,a){var o=e.top,l=e.bottom,i=e.left,u=e.right;if(null==o&&null==l?(o=0,l=n-a):null==o&&null!=l?o=n-(l+a):null!=o&&(l=n-(o+a)),null==i&&null==u?(i=0,u=t-r):null==i&&null!=u?i=t-(u+r):null==u&&null!=i&&(u=t-(i+r)),null==o||null==l||null==i||null==u)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:i,bottom:l,right:u}}function d(e){return[null==e.bottom?u.TOP:u.BOTTOM,null==e.right?u.LEFT:u.RIGHT]}function c(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;return 0===t||t<=r?r=null:t=null,0===n||n<=a?a=null:n=null,{top:t,left:n,bottom:r,right:a}}function f(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;return r<0&&(t+=r,r=0),t<0&&(r+=t,t=0),a<0&&(n+=a,a=0),n<0&&(a+=n,n=0),{top:t,left:n,bottom:r,right:a}}function p(e){return null!=e?e+"px":"auto"}var h=function(e){var t,n;function h(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef(),n._dragStart={x:0,y:0},n.handleMouseDown=function(e){var t=n.position,r=t.top,o=t.left,l=t.bottom,i=t.right,u=n.props,d=u.dragAnywhere,c=u.selector,f=u.maxX,p=u.maxY,h=e.target,v=n.draggableRef.current;if(null!=v&&e.button===a.MouseButtons.PRIMARY&&(d||null!=h&&c&&null!=h.closest(c))){var m=function(e){var t=e.top;return{x:e.left,y:t}}(s({top:r,left:o,bottom:l,right:i},f,p,v.clientWidth,v.clientHeight)),_=m.x,g=m.y;n._dragStart={x:e.clientX,y:e.clientY},n._offsetX=e.clientX-_,n._offsetY=e.clientY-g,window.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleMouseUp)}},n.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,r=e.clientY,a=n.draggableRef.current,u=n.props,p=u.maxX,h=u.maxY,v=u.flipVertical,m=u.flipHorizontal,_=u.onDragStart,g=u.onDrag,E=u.onFlip,y=u.snapOrientation,S=n.state,I=S.dragging,T=S.dragging,O=S.verticalOrientation,N=S.horizontalOrientation,C=!1;if(!(null==a||!I&&o(n._dragStart,{x:t,y:r})<l)){I=!0;var A=a.clientWidth,M=a.clientHeight,P=f(s({top:r-n._offsetY,left:t-n._offsetX},p,h,A,M));if(y){var R=d(P=c(P));O=R[0],N=R[1]}else P={top:P.top,left:P.left};m===i.OFFSET&&N!==n.state.horizontalOrientation&&(n._offsetX=A-n._offsetX,C=!0),v===i.OFFSET&&O!==n.state.verticalOrientation&&(n._offsetY=M-n._offsetY,C=!0),n.setDOMPositions(P),T||_&&_(P,a),g&&g(P,a),C&&E&&E([O,N]),n.setState({dragging:I,verticalOrientation:O,horizontalOrientation:N,atTopEdge:0===P.top})}},n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleMouseUp),n.state.dragging&&n.setState({dragging:!1},function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)})},n._checkBoundsRAF=null,n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF),n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)},n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,l=o.maxX,i=o.maxY,u=o.onRelocated,p=o.snapOrientation,h=n.state,v=h.verticalOrientation,m=h.horizontalOrientation;if(null!=a){var _,g=a.clientHeight,E=s(t,l,i,a.clientWidth,g);if(E=f(E),p){var y=d(_=c(E));v=y[0],m=y[1]}else _={top:E.top,left:E.left,right:null,bottom:null};if(t.left!==_.left||t.right!==_.right||t.top!==_.top||t.bottom!==_.bottom){u&&u(_,a),n.setDOMPositions(_);var S=0===_.top;v===r.verticalOrientation&&m===r.horizontalOrientation&&S===r.atTopEdge||n.setState({verticalOrientation:v,horizontalOrientation:m,atTopEdge:S})}}};var u,p,h,v,m,_=d(t.initialPosition),g=_[0],E=_[1];return n.position=(u=t.initialPosition,p=u.top,h=u.left,v=u.bottom,m=u.right,null==h&&null==m&&(h=0),null!=h&&null!=m&&(m=null),null==p&&null==v&&(p=0),null!=p&&null!=v&&(v=null),{top:p,left:h,bottom:v,right:m}),n.state={dragging:!1,verticalOrientation:g,horizontalOrientation:E,atTopEdge:0===n.position.top},n}n=e,(t=h).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=h.prototype;return v.componentDidMount=function(){this.checkBounds(),this.setDOMPositions(this.position)},v.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,l=this.props,i=l.maxX,u=l.maxY,s=l.onRelocated,d=l.snapOrientation;(e.maxX!==i||e.maxY!==u||e.onRelocated!==s||e.snapOrientation!==d||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()},v.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},v.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a},null!=o&&(o.style.top=p(t),o.style.bottom=p(r),o.style.left=p(n),o.style.right=p(a))},v.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,l=a.verticalOrientation,i=a.horizontalOrientation,s=a.atTopEdge,d=this.position,c=d.top,f=d.left,p=d.right,h={pointerEvents:o?"none":"auto",position:"absolute",top:c,left:f,bottom:d.bottom,right:p};return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:h},r.cloneElement(r.Children.only(t),{flipped:i===u.RIGHT,verticalFlipped:l===u.BOTTOM,checkBounds:this.checkBounds,atTopEdge:s}))},h}(r.PureComponent);t.default=h,h.displayName="Draggable",h.FlipTypes=i,h.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:i.DISABLED,flipHorizontal:i.DISABLED,dragAnywhere:!1}},9079:function(e,t,n){"use strict";t.__esModule=!0,t.default=W;var r,a,o=A(n(0)),l=C(n(8)),i=C(n(118)),u=A(n(3)),s=C(n(263)),d=n(264),c=n(9080),f=C(n(6542)),p=C(n(856)),h=C(n(859)),v=n(871),m=n(80),_=n(266),g=C(n(546)),E=C(n(9081)),y=C(n(6895)),S=C(n(9093)),I=C(n(7789)),T=C(n(9099)),O=n(1),N=C(n(6433));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var b=M(I.default,{}),L=M(E.default,{}),D=M(y.default,{}),w=M(T.default,{}),U=M(S.default,{}),G=((r={})[O.Layers.USER_SETTINGS]=function(){return b},r[O.Layers.CHANNEL_SETTINGS]=function(){return L},r[O.Layers.GUILD_SETTINGS]=function(){return D},r[O.Layers.VERIFICATION]=function(){return w},r[O.Layers.RTC_DEBUG]=function(){return U},r),k="HIDDEN",F=.93,B=1,j=0,H=1,V={friction:10,tension:100},x=function(e){function t(t){var n;n=e.call(this,t)||this;var r=B,a=H;return t.mode===k&&(r=F,a=j),n.state={animating:!1,scale:new i.default.Value(r),opacity:new i.default.Value(a),mode:t.mode},n}R(t,e),t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return"SHOWN"===t&&n===k?this.animateIn():t===k&&"SHOWN"===n?this.animateUnder():void 0},n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1),r.setValue(j),e(),this.setState({animating:!0},function(){return t.animateIn()})},n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},function(){return t.animateOut(e)})},n.animateIn=function(e){var t=this;u.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,a=n.scale;i.default.parallel([i.default.spring(r,P({toValue:H},V)),i.default.spring(a,P({toValue:B},V))]).start(function(){return t.animateComplete(e)})},n.animateOut=function(e){u.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;m.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_START),i.default.parallel([i.default.spring(n,P({toValue:j},V)),i.default.spring(r,P({toValue:1.1},V))]).start(function(){e(),m.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_COMPLETE)})},n.animateUnder=function(){var e=this;u.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;i.default.parallel([i.default.spring(n,P({toValue:j},V)),i.default.spring(r,P({toValue:F},V))]).start(function(){return e.animateComplete()})},n.animateComplete=function(e){this.setState({animating:!1},e)},n.render=function(){var e,t=this.state.animating,n=this.props,r=n.mode,a=n.children,u=n.baseLayer,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["mode","children","baseLayer"]),d=t||r===k?this.getAnimatedStyle():null;return o.createElement(i.default.div,P({role:"dialog","aria-hidden":r===k,className:(0,l.default)(N.default.layer,(e={},e[N.default.baseLayer]=u,e[N.default.animating]=t,e["stop-animations"]=r===k,e)),style:d},s),a)},n.getAnimatedStyle=function(){var e=this.state;return{opacity:e.opacity,transform:[{scale:e.scale},{translateZ:0}]}},t}(o.PureComponent);x.displayName="Layer",x.defaultProps={baseLayer:!1};var Y=function(e){function t(){return e.apply(this,arguments)||this}R(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.layers,t=e[e.length-1];t===O.Layers.VERIFICATION?f.default.disable():t===O.Layers.USER_SETTINGS&&(f.default.enable(),f.default.enableTemp(c.SETTINGS_LAYERS_LAYOUT)),m.ComponentDispatch.subscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)},n.componentDidUpdate=function(e){var t=this.props,n=t.layers,r=t.hasFullScreenLayer,a=e.layers.length>0||e.hasFullScreenLayer,o=n.length>0||r;!a&&o||o&&n===e.layers&&n[0]===O.Layers.USER_SETTINGS?n[n.length-1]===O.Layers.VERIFICATION?f.default.disable():f.default.enableTemp(c.SETTINGS_LAYERS_LAYOUT):a&&!o&&f.default.disableTemp()},n.componentWillUnmount=function(){m.ComponentDispatch.unsubscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)},n.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,a=t.hasFullScreenLayer,o=r.length,l=[];return l.push(M(x,{mode:0!==o||a?k:"SHOWN",baseLayer:!0},"layer-base",n)),r.forEach(function(t,n){return l.push(e.renderComponent(t,n,o))}),l},n.renderComponent=function(e,t,n){var r,a=t===n-1,o="layer";return"string"==typeof e?(o=e,r=G[e]()):r=M(e,{}),M(x,{"aria-label":o,mode:a?"SHOWN":k},"layer-"+t,M(g.default,{disabled:!a,autoFocus:!0},void 0,r))},n.renderArtisanalHack=function(){return M("div",{className:(0,l.default)(N.default.bg,(0,_.getThemeClass)(this.props.sidebarTheme))})},n.render=function(){return o.createElement(o.Fragment,null,this.renderArtisanalHack(),M(s.default,{component:"div",className:(0,l.default)(N.default.layers,this.props.className)},void 0,this.renderLayers()))},t}(o.PureComponent);function W(e){var t=(0,u.useStateFromStores)([p.default],function(){return p.default.darkSidebar})?O.ThemeTypes.DARK:void 0,n=(0,u.useStateFromStores)([h.default],function(){return h.default.getLayers()}),r=(0,v.useFullScreenLayerStore)(function(e){return e.fullScreenLayers.length>0});return o.createElement(Y,P({},e,{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}Y.displayName="Layers",W.displayName="ConnectedLayers"},9080:function(e,t,n){"use strict";t.__esModule=!0,t.SETTINGS_LAYERS_LAYOUT=void 0;var r=i(n(899)),a=n(80),o=i(n(7503)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=u({POP_LAYER:{binds:["esc"],global:!0,action:function(){return a.ComponentDispatch.hasSubscribers(l.ComponentActions.CALL_DECLINE)?(a.ComponentDispatch.dispatch(l.ComponentActions.CALL_DECLINE),!1):r.default.isOpen()?(a.ComponentDispatch.dispatch(l.ComponentActions.CONTEXT_MENU_CLOSE),!1):a.ComponentDispatch.hasSubscribers(l.ComponentActions.POPOUT_CLOSE)?(a.ComponentDispatch.dispatch(l.ComponentActions.POPOUT_CLOSE),!1):a.ComponentDispatch.hasSubscribers(l.ComponentActions.MODAL_CLOSE)?(a.ComponentDispatch.dispatch(l.ComponentActions.MODAL_CLOSE),!1):void a.ComponentDispatch.dispatch(l.ComponentActions.LAYER_POP_ESCAPE_KEY)}}},o.default);t.SETTINGS_LAYERS_LAYOUT=s},9081:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=w(n(0)),o=D(n(3)),l=D(n(2)),i=n(6581),u=n(264),s=D(n(30)),d=D(n(120)),c=D(n(137)),f=n(67),p=D(n(856)),h=D(n(7799)),v=D(n(6715)),m=D(n(14)),_=D(n(64)),g=D(n(25)),E=D(n(42)),y=D(n(71)),S=n(6533),I=n(80),T=D(n(6701)),O=n(6546),N=D(n(155)),C=D(n(9082)),A=w(n(9083)),M=w(n(9089)),P=D(n(9092)),R=n(1),b=D(n(4)),L=D(n(6431));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e){var t=e.channel,n=e.category,r=e.canManageRoles,o=e.canManageChannels,l=e.canManageWebhooks,d=(0,S.getIconNameForChannel)(t),f=R.ChannelTypes.GUILD_CATEGORY;return[{section:O.SectionTypes.HEADER,label:null!=t?G("span",{},void 0,null!=d?G(E.default,{name:d,width:11,height:11,className:L.default.channelIcon,background:L.default.background}):null,(0,c.default)(t),null!=n?G("span",{className:L.default.category},void 0,(0,c.default)(n)):null):b.default.Messages.CHANNEL_SETTINGS},{section:R.ChannelSettingsSections.OVERVIEW,label:b.default.Messages.OVERVIEW,element:A.default,notice:{element:A.ChannelSettingsOverviewNotice,store:v.default}},{section:R.ChannelSettingsSections.PERMISSIONS,label:b.default.Messages.PERMISSIONS,element:M.default,type:O.ContentTypes.MINIMAL,notice:{element:M.ChannelSettingsPermissionsNotice,store:h.default},predicate:function(){return r}},{section:R.ChannelSettingsSections.INSTANT_INVITES,label:b.default.Messages.INVITES,element:C.default,type:O.ContentTypes.CUSTOM,predicate:function(){return t.type!==f&&o}},{section:R.ChannelSettingsSections.WEBHOOKS,label:b.default.Messages.WEBHOOKS,element:P.default,predicate:function(){return t.type!==f&&l}},{section:O.SectionTypes.DIVIDER},{section:R.ChannelSettingsSections.DELETE,onClick:function(){var e=(0,c.default)(t);t.type!==R.ChannelTypes.GUILD_VOICE&&(e="#"+e),s.default.push(function(n){return a.createElement(N.default,U({},n,{header:b.default.Messages.DELETE_CHANNEL,cancelText:b.default.Messages.NO_TEXT,confirmText:b.default.Messages.YES_TEXT,onConfirm:function(){I.ComponentDispatch.subscribeOnce(R.ComponentActions.LAYER_POP_COMPLETE,function(){(0,i.deleteChannel)(t.id)}),(0,u.popLayer)()}}),G(y.default,{size:y.default.Sizes.MEDIUM,color:y.default.Colors.PRIMARY},void 0,b.default.Messages.DELETE_CHANNEL_BODY.format({channelName:e})))})},label:t.type===f?b.default.Messages.DELETE_CATEGORY:b.default.Messages.DELETE_CHANNEL,color:R.Colors.STATUS_RED,predicate:function(){return o}}]}function F(e,t){void 0===t&&(t=null),d.default.trackWithMetadata(R.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"channel",origin_pane:t,destination_pane:e})}var B=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){F(this.props.section)},a.componentWillUnmount=function(){l.default.wait(function(){return(0,i.close)()})},a.componentDidUpdate=function(e){var t=e.formState,n=e.section,r=this.props,a=r.formState,o=r.section,l=r.canManageRoles,i=r.canManageChannels,s=r.canManageWebhooks;!i&&!l&&!s||a===R.FormStates.CLOSED&&a!==t||!l&&o===R.ChannelSettingsSections.PERMISSIONS||!s&&o===R.ChannelSettingsSections.WEBHOOKS?(0,u.popLayer)():o!==n&&F(o,n)},a.render=function(){var e=this.props,t=e.theme,n=e.sidebarTheme,r=e.section,a=e.channel,o=e.category,l=e.canManageRoles,s=e.canManageChannels,d=e.canManageWebhooks;return null==a?null:G(T.default,{theme:t,sidebarTheme:n,section:r||R.ChannelSettingsSections.OVERVIEW,onSetSection:i.setSection,onClose:u.popLayer,sections:k({channel:a,category:o,canManageRoles:l,canManageChannels:s,canManageWebhooks:d})})},r}(a.PureComponent);B.displayName="ChannelSettings";var j=o.default.connectStores([v.default,g.default,_.default,p.default],function(){var e=v.default.getProps().channel;return{channel:e,category:null!=e?m.default.getChannel(e.parent_id):null,canManageRoles:null!=e&&_.default.can(R.Permissions.MANAGE_ROLES,e),canManageChannels:null!=e&&_.default.can(R.Permissions.MANAGE_CHANNELS,e),canManageWebhooks:null!=e&&((0,f.isGuildTextChannelType)(e.type)&&_.default.can(R.Permissions.MANAGE_WEBHOOKS,e)),formState:v.default.getFormState(),theme:g.default.theme,sidebarTheme:p.default.darkSidebar?R.ThemeTypes.DARK:void 0,section:v.default.getSection()}})(B);t.default=j},9082:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(6715)),o=c(n(19)),l=c(n(64)),i=c(n(97)),u=c(n(25)),s=c(n(6933)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=r.default.connectStores([a.default,i.default,l.default],function(){var e=a.default.getProps().channel;return f({guild:null!=e?o.default.getGuild(e.getGuildId()):null,theme:u.default.theme,hide:i.default.hideInstantInvites,canCreateInvites:null!=e?l.default.can(d.Permissions.CREATE_INSTANT_INVITE,e):null},a.default.getInvites())})(s.default);t.default=p},9083:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ChannelSettingsOverviewNotice=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=P(n(8)),l=P(n(6)),i=P(n(3)),u=n(6581),s=P(n(162)),d=P(n(137)),c=n(67),f=P(n(6715)),p=P(n(19)),h=P(n(64)),v=P(n(25)),m=P(n(24)),_=P(n(898)),g=P(n(852)),E=P(n(487)),y=P(n(138)),S=n(136),I=n(226),T=P(n(183)),O=n(9084),N=P(n(6568)),C=n(1),A=P(n(4)),M=P(n(455));function P(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=i.default.connectStores([f.default],function(){var e=f.default.getProps(),t=e.channel,n=e.submitting;return{channel:t,submitting:n,onReset:function(){null!=t&&(0,u.init)(t.id)},onSave:function(){if(null!=t){var e=t.name,n=t.type,r=t.topic,a=t.bitrate,o=t.userLimit,l=t.nsfw,i=t.rateLimitPerUser;(0,u.saveChannel)(t.id,{name:e,type:n,topic:r,bitrate:a,userLimit:o,nsfw:l,rateLimitPerUser:i})}}}})(N.default);t.ChannelSettingsOverviewNotice=b;var L=function(e){var t,r;function a(t){var n;return n=e.call(this,t)||this,l.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleChangeName","handleChangeTopic","handleChangeBitrate","handleUserLimitChange","handleNSFWChange","handleChangeSlowmode"]),n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;return i.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},i.getCooldownSliderMarker=function(e){return(0,O.getCooldownLabel)(e,!0)},i.renderChannelInfo=function(e){var t,n=this.props,r=n.canManageChannels,a=n.guild,l=(0,c.isGuildTextChannelType)(e.type)?R("div",{},void 0,R(S.FormItem,{title:A.default.Messages.FORM_LABEL_CHANNEL_TOPIC,className:M.default.marginTop20},void 0,R(E.default,{placeholder:A.default.Messages.CHANNEL_TOPIC_EMPTY,value:s.default.translateSurrogatesToInlineEmoji(e.topic),onChange:this.handleChangeTopic,error:this.getError("topic"),maxLength:1024,disabled:!r,autosize:!0})),R(S.FormDivider,{className:(0,o.default)(M.default.marginTop40,M.default.marginBottom40)})):null,i=e.type===C.ChannelTypes.GUILD_TEXT?R("div",{},void 0,R(S.FormItem,{title:A.default.Messages.FORM_LABEL_SLOWMODE},void 0,R(_.default,{className:M.default.marginTop20,initialValue:e.rateLimitPerUser,markers:C.SLOWMODE_VALUES,stickToMarkers:!0,onValueChange:this.handleChangeSlowmode,onMarkerRender:this.getCooldownSliderMarker,disabled:!r,equidistant:!0}),R(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,A.default.Messages.FORM_HELP_SLOWMODE)),R(S.FormDivider,{className:(0,o.default)(M.default.marginTop40,M.default.marginBottom40)})):null,u=(0,c.isGuildTextChannelType)(e.type)?R("div",{},void 0,R(g.default,{note:A.default.Messages.FORM_HELP_NSFW,onChange:this.handleNSFWChange,value:e.isNSFW(),hideBorder:!0,disabled:!r},void 0,A.default.Messages.FORM_LABEL_NSFW_CHANNEL)):null,f=(0,c.isGuildTextChannelType)(e.type)&&null!=a&&a.hasFeature(C.GuildFeatures.NEWS)?R("div",{},void 0,R(g.default,{note:A.default.Messages.FORM_HELP_NEWS.format({documentationLink:T.default.getArticleURL(C.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)}),onChange:this.handleNewsChange,value:e.type===C.ChannelTypes.GUILD_ANNOUNCEMENT,hideBorder:!0,disabled:!r},void 0,A.default.Messages.FORM_LABEL_NEWS_CHANNEL)):null;return t=e.type===C.ChannelTypes.GUILD_CATEGORY?A.default.Messages.CATEGORY_NAME:A.default.Messages.FORM_LABEL_CHANNEL_NAME,R("div",{},void 0,R(S.FormItem,{title:t},void 0,R(y.default,{value:(0,d.default)(e),onChange:this.handleChangeName,error:this.getError("name"),autoFocus:!0,disabled:!r})),l,i,u,f)},i.renderBitrate=function(e){return Math.round(e/1e3)+"kbps"},i.renderVoiceBitrate=function(e,t){var n=this.props.canManageChannels;if(e.type!==C.ChannelTypes.GUILD_VOICE)return null;var r=(0,I.getBitrateLimit)(t);return R(m.default,{direction:m.default.Direction.VERTICAL,className:M.default.marginBottom40},void 0,R(S.FormTitle,{},void 0,A.default.Messages.FORM_LABEL_BITRATE),R(S.FormText,{type:S.FormTextTypes.DESCRIPTION,style:{color:C.Colors.STATUS_RED},className:M.default.marginBottom8},void 0,this.getError("bitrate")),R(_.default,{initialValue:Math.min(e.bitrate,r),onValueChange:this.handleChangeBitrate,onValueRender:this.renderBitrate,onMarkerRender:this.renderBitrate,markers:[C.BITRATE_MIN,C.BITRATE_DEFAULT,r],minValue:C.BITRATE_MIN,maxValue:r,disabled:!n}),R(S.FormText,{type:S.FormTextTypes.DESCRIPTION},void 0,A.default.Messages.FORM_HELP_BITRATE.format({bitrate:C.BITRATE_DEFAULT/1e3})))},i.onRenderUserLimit=function(e){return 0===(e=Math.round(e))?A.default.Messages.NO_USER_LIMIT:A.default.Messages.NUM_USERS.format({num:e})},i.renderUserLimit=function(e){var t=this.props.canManageChannels;return e.type!==C.ChannelTypes.GUILD_VOICE?null:R(m.default,{direction:m.default.Direction.VERTICAL},void 0,R(S.FormTitle,{},void 0,A.default.Messages.FORM_LABEL_USER_LIMIT),R(S.FormText,{type:S.FormTextTypes.DESCRIPTION,style:{color:C.Colors.STATUS_RED},className:M.default.marginBottom8},void 0,this.getError("user_limit")),R(_.default,{initialValue:Math.min(e.userLimit,C.MAX_VOICE_USER_LIMIT),onValueChange:this.handleUserLimitChange,onValueRender:this.onRenderUserLimit,onMarkerRender:function(e){return 0===Math.round(e)?"∞":e},markers:[0,C.MAX_VOICE_USER_LIMIT],minValue:0,maxValue:C.MAX_VOICE_USER_LIMIT,disabled:!t}),R(S.FormText,{type:S.FormTextTypes.DESCRIPTION},void 0,A.default.Messages.FORM_HELP_USER_LIMIT.format()))},i.renderJuiceImage=function(e){var t,r=this.props.theme;return t=e.type===C.ChannelTypes.GUILD_CATEGORY?r===C.ThemeTypes.DARK?n(9085):n(9086):r===C.ThemeTypes.DARK?n(9087):n(9088),R(m.default,{justify:m.default.Justify.CENTER,className:M.default.marginTop60},void 0,R("img",{alt:"",width:280,height:165,src:t}))},i.render=function(){var e=this.props,t=e.channel,n=e.guild;return null==t||null==n?null:R(S.FormSection,{className:"channel-settings-overview",tag:S.FormTitleTags.H2,title:A.default.Messages.OVERVIEW},void 0,this.renderChannelInfo(t),t.type===C.ChannelTypes.GUILD_VOICE?R(S.FormDivider,{className:(0,o.default)(M.default.marginTop40,M.default.marginBottom40)}):null,this.renderVoiceBitrate(t,n),this.renderUserLimit(t),this.renderJuiceImage(t))},i.handleChangeName=function(e){var t=this.props.channel;null!=t&&((0,c.isGuildTextChannelType)(t.type)&&(e=(0,I.sanitizeGuildTextChannelName)(e)),(0,u.updateChannel)({name:e}))},i.handleChangeTopic=function(e){(0,u.updateChannel)({topic:s.default.translateInlineEmojiToSurrogates(e)})},i.handleChangeBitrate=function(e){(0,u.updateChannel)({bitrate:1e3*Math.round(e/1e3)})},i.handleUserLimitChange=function(e){(0,u.updateChannel)({userLimit:Math.round(e)})},i.handleNSFWChange=function(e){(0,u.updateChannel)({nsfw:e.currentTarget.checked})},i.handleNewsChange=function(e){(0,u.updateChannel)({type:e.currentTarget.checked?C.ChannelTypes.GUILD_ANNOUNCEMENT:C.ChannelTypes.GUILD_TEXT})},i.handleChangeSlowmode=function(e){(0,u.updateChannel)({rateLimitPerUser:e})},a}(a.PureComponent);L.displayName="ChannelSettingsOverview";var D=i.default.connectStores([f.default,v.default,h.default],function(){var e=f.default.getProps(),t=e.errors,n=e.channel;return{errors:t,channel:n,submitting:e.submitting,theme:v.default.theme,guild:null!=n?p.default.getGuild(n.getGuildId()):null,canManageChannels:null!=n&&h.default.can(C.Permissions.MANAGE_CHANNELS,n)}})(L);t.default=D},9084:function(e,t,n){"use strict";t.__esModule=!0,t.getCooldownLabel=function(e,t){void 0===t&&(t=!0);var n=r.default.duration(e,"seconds");return n.hours()>0?(t?a.default.Messages.DURATION_HOURS_SHORT:a.default.Messages.DURATION_HOURS).format({hours:n.hours()}):n.minutes()>0?(t?a.default.Messages.DURATION_MINUTES_SHORT:a.default.Messages.DURATION_MINUTES).format({minutes:n.minutes()}):e>0?(t?a.default.Messages.DURATION_SECONDS_SHORT:a.default.Messages.DURATION_SECONDS).format({seconds:n.seconds()}):t?a.default.Messages.FORM_LABEL_OFF:a.default.Messages.FORM_LABEL_SLOWMODE_OFF};var r=o(n(5)),a=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}},9085:function(e,t,n){e.exports=n.p+"58957d928db6fb9d4658eb882f33d7bc.svg"},9086:function(e,t,n){e.exports=n.p+"c2c982c416a67d43d72d182f079a8d22.svg"},9087:function(e,t,n){e.exports=n.p+"bfffd518c76d3f6bc5e96eb52e4ae2cf.svg"},9088:function(e,t,n){e.exports=n.p+"9ad4d437577c5569dc231a787a5377f6.svg"},9089:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ChannelSettingsPermissionsNotice=void 0;var r,a=x(n(0)),o=V(n(6)),l=V(n(3)),i=V(n(142)),u=V(n(140)),s=n(6581),d=n(9090),c=V(n(30)),f=n(67),p=V(n(7799)),h=V(n(6715)),v=V(n(53)),m=V(n(19)),_=V(n(64)),g=V(n(25)),E=V(n(11)),y=V(n(106)),S=V(n(21)),I=V(n(24)),T=V(n(42)),O=V(n(6937)),N=V(n(458)),C=V(n(9091)),A=V(n(6549)),M=x(n(258)),P=V(n(328)),R=V(n(946)),b=V(n(183)),L=V(n(73)),D=V(n(1037)),w=V(n(6938)),U=V(n(6939)),G=V(n(6568)),k=V(n(6964)),F=n(1),B=V(n(4)),j=V(n(455)),H=V(n(6430));function V(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var $={position:"relative",paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"},Q={ROLE:"role",MEMBER:"member"},X=l.default.connectStores([p.default,h.default],function(){var e=h.default.getChannel();return{submitting:p.default.formState===F.FormStates.SUBMITTING,onReset:function(){(0,d.init)()},onSave:function(){if(null!=e){var t=p.default.editedPermissionIds.reduce(function(e,t){var n=p.default.getPermissionOverwrite(t);return null!=n&&e.push(n),e},[]);(0,d.savePermissionUpdates)(e.id,t)}}}})(G.default);t.ChannelSettingsPermissionsNotice=X;var q=function(e){function t(t){var n;(n=e.call(this,t)||this).handlePermissionRender=function(e){var t=n.props,r=t.guild,a=t.channel,o=E.default.getCurrentUser(),l=r.isOwner(o)||L.default.can(F.Permissions.ADMINISTRATOR,o,r)||L.default.can(F.Permissions.MANAGE_ROLES,o,a,void 0,void 0,!0);return(e===F.Permissions.MANAGE_ROLES&&!l||null!=e&&!L.default.can(e,o,r)&&!l)&&B.default.Messages.HELP_MISSING_PERMISSION};var r=t.channel,a=L.default.generateChannelPermissionSpecs(r),o=a.generalSpec,l=a.textSpec,i=a.voiceSpec;return n.generalSpec=o,n.textSpec=l,n.voiceSpec=i,z(n).handlePermissionChange=n.handlePermissionChange.bind(z(n)),z(n).handleDeletePermission=n.handleDeletePermission.bind(z(n)),n}K(t,e);var r=t.prototype;return r.getOverwriteName=function(){var e=this.props,t=e.channel.guild_id,n=e.overwrite.id,r=m.default.getGuild(t);if(null==r)return"";var a=r.getRole(n),o=E.default.getUser(n),l=o?o.username:"";return a?a.name:l},r.handlePermissionChange=function(e,t){var r,a=this.props,o=a.overwrite,l=a.channel,u=o.id,s=o.allow,c=o.deny;switch(c^=c&e,s^=s&e,t){case"ALLOW":s|=e;break;case"DENY":c|=e}if(L.default.can(e,E.default.getCurrentUser(),l,((r={})[u]=W({},o,{allow:s,deny:c}),r)))(0,d.updatePermission)(u,s,c);else{var f;if("member"===o.type){var p=E.default.getUser(o.id);null!=p&&(f=p.toString())}else if("role"===o.type){var h=m.default.getGuild(l.getGuildId());if(null!=h){var v=h.getRole(o.id);null!=v&&(f=v.name)}}i.default.show({title:B.default.Messages.SELF_DENY_PERMISSION_TITLE,body:B.default.Messages.SELF_DENY_PERMISSION_BODY.format({name:f}),cancelText:B.default.Messages.HELP_DESK,onCancel:function(){window.open(b.default.getArticleURL(F.HelpdeskArticles.PERMISSIONS_LOCKOUT))},iconUrl:n(6785)})}},r.handleDeletePermission=function(){var e=this.props,t=e.channel.id,r=e.overwrite.id,a=this.getOverwriteName();i.default.show({title:B.default.Messages.SETTINGS_PERMISSIONS_DELETE_TITLE,body:B.default.Messages.SETTINGS_PERMISSIONS_DELETE_BODY.format({name:a}),cancelText:B.default.Messages.CANCEL,onConfirm:function(){return u.default.clearPermissionOverwrite(t,r)},iconUrl:n(6785)})},r.renderTextPermissions=function(){var e=this.props.type;if(!(0,f.isGuildSelectableChannelType)(e)&&e!==F.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return Y(U.default,{spec:this.textSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange,permissionRender:this.handlePermissionRender})},r.renderVoicePermissions=function(){var e=this.props.type;if(e!==F.ChannelTypes.GUILD_VOICE&&e!==F.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return Y(U.default,{spec:this.voiceSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange,permissionRender:this.handlePermissionRender})},r.renderRemoveButton=function(){var e=this.props;return e.channel.guild_id===e.overwrite.id?null:Y(S.default,{look:S.default.Looks.OUTLINED,color:S.default.Colors.RED,onClick:this.handleDeletePermission},void 0,B.default.Messages.REMOVE_ROLE_OR_USER.format({name:this.getOverwriteName()}))},r.render=function(){var e=this.props.overwrite;return Y(O.default.Content,{style:$},void 0,Y(U.default,{spec:this.generalSpec,allow:e.allow,deny:e.deny,onChange:this.handlePermissionChange,className:j.default.marginBottom40,permissionRender:this.handlePermissionRender}),this.renderTextPermissions(),this.renderVoicePermissions(),this.renderRemoveButton())},t}(a.PureComponent);q.displayName="Content";var J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlerFilterResults=function(e,n){var r=t.props.permissionOverwrites;return 0===n?(0,o.default)(t.props.guild.roles).filter(function(t){return null==r[t.id]&&e(t.name)}).sortBy(function(e){return-e.position}).value():(0,o.default)(t.props.guildMemberIds).map(E.default.getUser).filter(function(e){return null!=e}).filter(function(t){return null==r[t.id]&&e(t.username.toLowerCase())}).sortBy(function(e){return e.username.toLowerCase()}).value()},t.handleCreateOverwrite=function(e,n){null!=e&&(0===n?t.props.onSelect(e.id,Q.ROLE):1===n&&t.props.onSelect(e.id,Q.MEMBER))},t.handleQueryChange=function(e){R.default.requestMembers(t.props.guild.id,e,20)},t}K(t,e);var n=t.prototype;return n.renderResult=function(e,t){var n;if(0===t)return e.colorString&&(n={color:e.colorString}),Y("span",{style:n},void 0,e.name);var r=e.avatarURL||e.getAvatarURL("jpg");return Y(I.default,{align:I.default.Align.CENTER},void 0,Y(P.default,{size:P.default.Sizes.SIZE_32,src:r,"aria-label":e.username,className:H.default.smallAvatar}),Y("span",{className:H.default.username},void 0,e.toString()))},n.render=function(){var e=this.props,t=e.position,n=e.onClose;return Y(D.default,{label:B.default.Messages.OVERWRITE_AUTOCOMPLETE_LABEL,placeholder:B.default.Messages.OVERWRITE_AUTOCOMPLETE_PLACEHOLDER,sections:[B.default.Messages.ROLES,B.default.Messages.MEMBERS],onRenderResult:this.renderResult,onFilterResults:this.handlerFilterResults,onQueryChange:this.handleQueryChange,onSelect:this.handleCreateOverwrite,onClose:n,position:t})},t}(a.PureComponent);J.displayName="CreateOverwritePopout";var Z=l.default.connectStores([v.default],function(e){var t=e.guild;return{guildMemberIds:v.default.getMemberIds(t.id)}})(J),ee=function(e){function t(t){var n;return n=e.call(this,t)||this,o.default.bindAll(z(n),["renderRole","renderMember","renderCreateOverwritePopout","renderHeader","handleCreatePermissionOverwrite","handleSyncPermissions"]),n}K(t,e);var r=t.prototype;return r.renderRole=function(e){var t=this.props,n=t.selectedOverwriteId,r=t.theme;return Y(w.default,{theme:r,id:e.id,color:e.colorString},n+"-"+e.id,e.name)},r.renderMember=function(e){var t=this.props,n=t.selectedOverwriteId,r=t.theme,a=e.avatarURL||e.getAvatarURL("jpg");return Y(w.default,{id:e.id,theme:r},n+"-"+e.id,Y(I.default,{align:I.default.Align.CENTER},void 0,Y(P.default,{size:P.default.Sizes.SIZE_24,src:a,"aria-label":e.username,className:H.default.xsmallAvatar}),Y("span",{className:H.default.username},void 0,e.toString())))},r.renderCreateOverwritePopout=function(e){var t=e.position,n=e.closePopout;return a.createElement(Z,W({},this.props,{position:null!=t?t:N.default.Positions.BOTTOM,onSelect:this.handleCreatePermissionOverwrite,onClose:n}))},r.renderHeader=function(){var e=this.props.theme===F.ThemeTypes.DARK?n(6940):n(6941);return Y(N.default,{renderPopout:this.renderCreateOverwritePopout,position:N.default.Positions.BOTTOM,autoInvert:!1},void 0,function(t){return a.createElement(A.default.Header,t,Y(I.default,{className:H.default.sidebarHeaderDefault,justify:I.default.Justify.BETWEEN,align:I.default.Align.CENTER},void 0,Y("span",{},void 0,B.default.Messages.ROLES,"/",B.default.Messages.MEMBERS),Y("img",{alt:"",className:H.default.sidebarHeader,src:e})))})},r.renderHelpfulNote=function(){return Y(a.Fragment,{},void 0,Y(A.default.Separator,{style:{marginTop:20,marginBottom:14}}),Y(M.default,{type:M.Types.DESCRIPTION},void 0,Y(y.default,{href:b.default.getArticleURL(F.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,B.default.Messages.PERMISSION_HELPDESK)))},r.renderSyncStatus=function(){var e=this.props,t=e.isLockable,n=e.locked,r=e.category,a=e.canSyncChannel;return t&&null!=r?Y(C.default,n?{iconName:T.default.Names.SYNCED,noticeText:B.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:r.name})}:{iconName:T.default.Names.UNSYNCED,noticeText:B.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:r.name}),buttonText:a?B.default.Messages.SYNC_NOW:null,onClick:this.handleSyncPermissions}):null},r.render=function(){var e=this.props,t=e.guild,n=e.selectedOverwriteId,r=e.theme,a=e.permissionOverwrites;null==a[t.id]&&(a[t.id]=L.default.makeEveryoneOverwrite(t.id));var l=(0,o.default)(a).filter(function(e){return e.type===Q.ROLE}).map(function(e){return t.getRole(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return-e.position}).map(this.renderRole).value(),i=(0,o.default)(a).filter(function(e){return e.type===Q.MEMBER}).map(function(e){return E.default.getUser(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return e.username.toLowerCase()}).map(this.renderMember).value();return Y(O.default.Sidebar,{style:W({},$,{overflow:"hidden"}),scrollable:!0,theme:r},void 0,this.renderSyncStatus(),Y(A.default,{onItemSelect:d.selectPermission,selectedItem:n},void 0,this.renderHeader(),l,i,this.renderHelpfulNote()))},r.handleCreatePermissionOverwrite=function(e,t){var n=this.props.channel;u.default.updatePermissionOverwrite(n.id,{id:e,type:t,allow:L.default.NONE,deny:L.default.NONE}).then(function(){return(0,d.selectPermission)(e)})},r.handleSyncPermissions=function(){var e=this.props,t=e.category,n=e.channel;null!=t&&c.default.push(k.default,{channel:n,category:t,onSync:function(){var e=t.guild_id,r=W({},t.permissionOverwrites);null!=e&&null==r[e]&&(r[e]=L.default.makeEveryoneOverwrite(e)),(0,s.saveChannel)(n.id,{permissionOverwrites:o.default.values(r)})}})},t}(a.PureComponent);ee.displayName="Sidebar";var te=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedOverwriteId,n=e.permissionOverwrites,r=e.channel,o=e.guild,l=e.locked,i=n[t];return Y(O.default,{className:H.default.container},void 0,a.createElement(ee,this.props),Y(q,{type:r.type,channel:r,guild:o,overwrite:i,locked:l}))},t}(a.PureComponent);te.displayName="ChannelSettingsPermissions";var ne=l.default.connectStores([m.default,p.default,g.default,_.default],function(){var e=p.default.channel,t=p.default.category;return{channel:e,category:t,canSyncChannel:null!=t&&_.default.can(F.Permissions.MANAGE_ROLES,t),permissionOverwrites:p.default.permissionOverwrites,selectedOverwriteId:p.default.selectedOverwriteId,isLockable:p.default.isLockable,locked:p.default.locked,guild:null!=e&&m.default.getGuild(e.getGuildId()),theme:g.default.theme}})(te);t.default=ne},9090:function(e,t,n){"use strict";t.__esModule=!0,t.updatePermission=function(e,t,n){r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION,id:e,allow:t,deny:n})},t.selectPermission=function(e){r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION,id:e})},t.init=function(){r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT})},t.savePermissionUpdates=function(e,t){return r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING}),new Promise(function(n){!function r(){if(0===t.length)return n();var o=t.pop();if(null==o)return r();a.default.updatePermissionOverwrite(e,o).then(r,r)}()}).then(function(){return r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS})})};var r=l(n(2)),a=l(n(140)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}},9091:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(8)),o=f(n(21)),l=f(n(457)),i=f(n(24)),u=f(n(42)),s=f(n(71)),d=n(1),c=f(n(6429));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.iconName,n=e.noticeText,r=e.buttonText,f=e.className,h=e.submitting,v=e.onClick;return p(l.default,{className:(0,a.default)(c.default.card,f)},void 0,p(i.default,{},void 0,p(i.default.Child,{wrap:!0,grow:0,shrink:0,className:c.default.iconContainer},void 0,p(u.default,{name:t,width:18,height:18,color:d.Colors.STATUS_YELLOW,className:c.default.lockIcon})),p(i.default.Child,{wrap:!0,className:c.default.noticeText},void 0,p(s.default,{color:s.default.Colors.PRIMARY},void 0,n))),null!=r&&null!=v?p(o.default,{size:o.default.Sizes.SMALL,onClick:v,className:c.default.button,submitting:h},void 0,r):null)};h.displayName="SidebarNotice";var v=h;t.default=v},9092:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(6715)),o=i(n(19)),l=i(n(6942));function i(e){return e&&e.__esModule?e:{default:e}}var u=r.default.connectStores([a.default],function(){var e=a.default.getChannel();return{guild:null!=e?o.default.getGuild(e.getGuildId()):null,channel:e}})(l.default);t.default=u},9093:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=M(n(0)),o=A(n(6)),l=A(n(3)),i=n(45),u=n(6970),s=A(n(856)),d=A(n(14)),c=A(n(191)),f=M(n(6971)),p=A(n(25)),h=A(n(11)),v=A(n(24)),m=A(n(328)),_=A(n(6533)),g=A(n(6701)),E=n(6546),y=A(n(9094)),S=A(n(9096)),I=A(n(9097)),T=A(n(9098)),O=n(1),N=A(n(4)),C=A(n(5950));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){return P(v.default,{align:v.default.Align.CENTER},void 0,P(v.default.Child,{},void 0,P(v.default,{align:v.default.Align.CENTER},void 0,P(m.default,{size:m.default.Sizes.SIZE_24,src:e.getAvatarURL(),"aria-label":e.username,className:C.default.avatar}),P("span",{className:C.default.username},void 0,e.toString()))))};function b(e,t){var n=[];if(null==t)return n;var r=t.transport,a=t.rtp,l=a.inbound,i=a.outbound;return n.push({section:E.SectionTypes.HEADER,label:N.default.Messages.RTC_DEBUG_CONTEXT.format({context:e})}),null!=r&&n.push({section:(0,f.keySection)(e,O.RTCDebugSections.TRANSPORT),label:N.default.Messages.RTC_DEBUG_TRANSPORT,element:T.default,elementProps:{context:e}}),null!=i&&n.push({section:(0,f.keySection)(e,O.RTCDebugSections.OUTBOUND),label:N.default.Messages.RTC_DEBUG_RTP_OUTBOUND,element:S.default,elementProps:{context:e}}),null==l||o.default.isEmpty(l)||(n.push({section:E.SectionTypes.HEADER,label:N.default.Messages.RTC_DEBUG_RTP_INBOUND}),Object.keys(l).forEach(function(t){var r=h.default.getUser(t);if(null!=r){var a=(0,f.keySection)(e,r.id);n.push({section:a,label:R(r),ariaLabel:r.tag,onClick:function(){(0,u.setSection)(a)},element:y.default,elementProps:{context:e}})}})),n}function L(e,t,n,r){var a=b(i.MediaEngineContextTypes.DEFAULT,e),o=b(i.MediaEngineContextTypes.STREAM,t),l=[],u={section:E.SectionTypes.DIVIDER};null!=n&&(l.push(u),l.push({section:O.RTCDebugSections.SCREENSHARE,label:N.default.Messages.RTC_DEBUG_SCREENSHARE,element:I.default,elementProps:{screenshare:n}})),o.length>0&&o.unshift(u);var s=null!=r?[{section:E.SectionTypes.CUSTOM,label:"Channel Name",element:function(){return P(_.default,{className:C.default.channelItem,channel:r,connected:!0})}}]:[];return[].concat(s,a,o,l)}R.displayName="UserItem";var D=l.default.connectStores([c.default,f.default,p.default,s.default,d.default],function(){var e,t=f.default.getStats(i.MediaEngineContextTypes.DEFAULT),n=f.default.getStats(i.MediaEngineContextTypes.STREAM),r=c.default.getChannelId();return null!=t&&null!=t.screenshare?e=t.screenshare:null!=n&&null!=n.screenshare&&(e=n.screenshare),{theme:p.default.theme,sidebarTheme:s.default.darkSidebar?O.ThemeTypes.DARK:void 0,section:f.default.getSection(),defaultStats:t,streamStats:n,screenshare:e,channel:d.default.getChannel(r)}})(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.theme,n=e.sidebarTheme,r=e.section,a=e.defaultStats,o=e.streamStats,l=e.screenshare,i=e.channel;return P(g.default,{theme:t,sidebarTheme:n,section:r,onSetSection:u.setSection,onClose:u.close,sections:L(a,o,l,i)})},r}(a.PureComponent));t.default=D},9094:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(0)),o=p(n(3)),l=h(n(6971)),i=p(n(11)),u=p(n(182)),s=p(n(261)),d=n(66),c=n(6972),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.streams,n=e.userId;if(null==n||null==t||0===t.length)return v(u.default,{type:u.default.Type.SPINNING_CIRCLE});var r=i.default.getUser(n),a=null==r?f.default.Messages.RTC_DEBUG_RTP_INBOUND:f.default.Messages.RTC_DEBUG_RTP_INBOUND+" — "+r.toString();return v(s.default,{tag:d.Tags.H2,title:a},void 0,(0,c.renderStreams)(t,n))},r}(a.PureComponent);m.displayName="RTCDebugInbound";var _=o.default.connectStores([l.default],function(e){var t=e.context,n=l.default.getStats(t),r=(0,l.parseSection)(l.default.getSection()).section;if(null==r)throw new Error("Unrecognized section format");var a=null;return null!=n&&null!=n.rtp.inbound&&(a=n.rtp.inbound[r]||[]),{userId:r,streams:a}})(m);t.default=_},9095:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(7345);function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i=l(o.SparklinesCurve,{}),u=l(o.SparklinesReferenceLine,{type:"median"}),s=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={datapoints:[t.props.datapoint]},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=t.datapoints;return n.length>=300&&n.shift(),n.push(e.datapoint),{datapoints:n}},r.prototype.render=function(){return l(o.Sparklines,{data:this.state.datapoints.slice(0),height:25,style:{marginTop:10}},void 0,i,u)},r}(a.PureComponent);t.default=s,s.displayName="RTCDebugGraph"},9096:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),l=f(n(6971)),i=f(n(182)),u=f(n(261)),s=n(66),d=n(6972),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.outbound;return null==e?p(i.default,{type:i.default.Type.SPINNING_CIRCLE}):p(u.default,{tag:s.Tags.H2,title:c.default.Messages.RTC_DEBUG_RTP_OUTBOUND},void 0,(0,d.renderStreams)(e))},r}(a.PureComponent);h.displayName="RTCDebugOutbound";var v=o.default.connectStores([l.default],function(e){var t=e.context,n=l.default.getStats(t);return{outbound:null!=n?n.rtp.outbound:null}})(h);t.default=v},9097:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(6)),l=f(n(182)),i=f(n(261)),u=n(66),s=n(6972),d=n(7346),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.screenshare;if(null==e)return p(l.default,{type:l.default.Type.SPINNING_CIRCLE});var t=o.default.map(e,function(e,t){return p(d.Item,{label:t,value:e},t)});return p(i.default,{tag:u.Tags.H2,title:c.default.Messages.RTC_DEBUG_SCREENSHARE},void 0,(0,s.renderTwoColumns)(t))},r}(a.PureComponent);h.displayName="RTCDebugScreenshare";var v=h;t.default=v},9098:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=N(n(6)),l=N(n(3)),i=n(45),u=N(n(191)),s=N(n(6971)),d=N(n(905)),c=N(n(97)),f=N(n(11)),p=N(n(24)),h=N(n(182)),v=N(n(332)),m=N(n(261)),_=n(66),g=N(n(6714)),E=n(6972),y=N(n(7800)),S=n(7346),I=N(n(4)),T=N(n(455)),O=N(n(5950));function N(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=A("span",{},void 0,"Bitrate:"),P=A("span",{},void 0,"Packet Loss:"),R=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.transport,n=e.mediaSessionId,r=e.hidePersonalInformation,a=e.hostname;if(null==t)return A(h.default,{type:h.default.Type.SPINNING_CIRCLE});var l=C({},t,{hostname:a}),i=o.default.map(l,function(e,t){if("receiverReports"!==t&&(!r||"localAddress"!==t))return A(S.Item,{label:t,value:e},t)}),u=o.default.map(l.receiverReports,function(e){var t=A(p.default,{id:"bitrate-"+e.id,justify:p.default.Justify.BETWEEN},void 0,M,A("span",{},void 0,(e.bitrate/1e3).toFixed(2)," Kbps")),n=A(p.default,{id:"lost-"+e.id,justify:p.default.Justify.BETWEEN},void 0,P,A("span",{},void 0,(100*e.fractionLost/256).toFixed(0),"%")),r=f.default.getUser(e.id),a=null!=r?r.username:e.id;return A(y.default,{label:e.id,valueRendered:[t,n]},e.id,a)});return A(m.default,{tag:_.Tags.H2,title:I.default.Messages.RTC_DEBUG_TRANSPORT+(n?" - "+n:""),className:O.default.allowSelection},void 0,(0,E.renderTwoColumns)(i),l.receiverReports?A(v.default,{className:T.default.marginBottom20}):null,(0,E.renderTwoColumns)(u))},r}(a.PureComponent);R.displayName="RTCDebugTransport";var b=l.default.connectStores([s.default,u.default,c.default,d.default],function(e){var t=e.context,n=s.default.getStats(t),r=t===i.MediaEngineContextTypes.STREAM?d.default.getHostname():u.default.getHostname();return{hidePersonalInformation:c.default.hidePersonalInformation,transport:null!=n?n.transport:null,mediaSessionId:u.default.getMediaSessionId(),hostname:g.default.getShortHostname(r)}})(R);t.default=b},9099:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(3)),l=y(n(12)),i=y(n(853)),u=y(n(7801)),s=n(264),d=y(n(30)),c=n(863),f=y(n(6609)),p=y(n(25)),h=y(n(71)),v=y(n(9100)),m=y(n(155)),_=y(n(6709)),g=n(1),E=y(n(4));function y(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={captchaKey:0},T(n).handleVerifyCaptcha=n.handleVerifyCaptcha.bind(T(n)),T(n).handleClick=n.handleClick.bind(T(n)),T(n).handleLogout=n.handleLogout.bind(T(n)),T(n).close=n.close.bind(T(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.render=function(){var e=this.props,t=e.type,n=e.theme;return I(v.default,{type:t,captchaKey:this.state.captchaKey,onCaptchaVerify:this.handleVerifyCaptcha,theme:n,onClick:this.handleClick,onLogout:this.handleLogout})},o.handleVerifyCaptcha=function(e){var t=this;l.default.post({url:g.Endpoints.CAPTCHA,body:{captcha_key:e}}).then(function(){t.close()},function(){t.setState({captchaKey:t.state.captchaKey+1})})},o.handleClick=function(e){e===g.VerificationTypes.EMAIL_OR_PHONE?this.handleVerifyEmail():this.handleVerifyPhone()},o.handleVerifyEmail=function(){(0,c.accountDetailsInit)(),u.default.open()},o.handleVerifyPhone=function(){d.default.push(function(e){return a.createElement(_.default,e)})},o.close=function(){(0,s.popLayer)()},o.handleLogout=function(){d.default.push(function(e){return a.createElement(m.default,S({header:E.default.Messages.LOGOUT,confirmText:E.default.Messages.LOGOUT,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return i.default.logout()}},e),I(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,E.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},r}(a.PureComponent);O.displayName="Verification";var N=o.default.connectStores([p.default,f.default],function(){var e=f.default.getAction(),t=g.VerificationTypes.CAPTCHA;return e===g.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?t=g.VerificationTypes.EMAIL_OR_PHONE:e===g.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(t=g.VerificationTypes.PHONE),{theme:p.default.theme,type:t}})(O);t.default=N},9100:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(8)),l=p(n(183)),i=p(n(24)),u=p(n(941)),s=n(1),d=p(n(4)),c=p(n(455)),f=p(n(6432));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props;(0,e.onClick)(e.type)},t}return v(t,e),t.prototype.render=function(){var e=this.props.type,t=e===s.VerificationTypes.EMAIL_OR_PHONE?d.default.Messages.VERIFY_BY_EMAIL_FORMATTED.format():d.default.Messages.VERIFY_BY_PHONE_FORMATTED.format();return h(i.default,{className:f.default.verificationBlock,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,onClick:this.handleClick},void 0,h("div",{className:(0,o.default)(f.default.image,f.default[e])}),h("div",{className:f.default.body},void 0,t))},t}(a.PureComponent);m.displayName="VerificationBlock";var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e)},t}v(t,e);var n=t.prototype;return n.renderFields=function(){var e=this.props,t=e.type,n=e.captchaKey,r=e.theme,a=e.onCaptchaVerify,o=[];switch(t){case s.VerificationTypes.CAPTCHA:return h(u.default,{onVerify:a,theme:r},n);case s.VerificationTypes.EMAIL_OR_PHONE:o.push(h(m,{type:s.VerificationTypes.EMAIL_OR_PHONE,onClick:this.handleClick},s.VerificationTypes.EMAIL_OR_PHONE));case s.VerificationTypes.PHONE:o.push(h(m,{type:s.VerificationTypes.PHONE,onClick:this.handleClick},s.VerificationTypes.PHONE))}return o},n.render=function(){return h(i.default,{className:f.default.verification,align:i.default.Align.CENTER,direction:i.default.Direction.VERTICAL},void 0,h(i.default,{className:f.default.container,direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER},void 0,h("div",{className:f.default.image}),h("div",{className:(0,o.default)(f.default.title,c.default.marginTop20)},void 0,d.default.Messages.VERIFICATION_TITLE),h("div",{className:(0,o.default)(f.default.body,c.default.marginTop4,c.default.marginBottom20)},void 0,d.default.Messages.VERIFICATION_BODY.format()),h(i.default,{grow:0,justify:i.default.Justify.CENTER},void 0,this.renderFields())),h("div",{className:f.default.footer},void 0,d.default.Messages.VERIFICATION_FOOTER),h(i.default,{className:(0,o.default)(c.default.marginTop4,c.default.marginBottom20),grow:0},void 0,h("div",{className:(0,o.default)(f.default.footer,f.default.footerAction)},void 0,d.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:l.default.getSubmitRequestURL()})),h("div",{className:(0,o.default)(f.default.footer,f.default.footerBullet)},void 0,"•"),h("div",{className:(0,o.default)(f.default.footer,f.default.footerAction)},void 0,d.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))},t}(a.PureComponent);_.displayName="Verification",_.defaultProps={type:s.VerificationTypes.CAPTCHA,onCaptchaVerify:s.NOOP,onLogout:s.NOOP};var g=_;t.default=g},9101:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=g(n(0)),l=_(n(3)),i=g(n(7347)),u=_(n(7348)),s=_(n(25)),d=_(n(185)),c=_(n(9102)),f=_(n(9103)),p=_(n(9104)),h=_(n(9106)),v=_(n(9110)),m=n(1);function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=((r={})[m.PictureInPictureComponents.VIDEO]={component:h.default,store:f.default},r[m.PictureInPictureComponents.STREAM]={component:v.default,store:c.default},r),S=function(e){var t,n;function r(t){var n;return E(n=e.call(this,t)||this).handleWindowMove=n.handleWindowMove.bind(E(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.render=function(){var e=this.props,t=e.window,n=e.maxX,r=e.maxY,o=e.theme;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(p.default,{pictureInPictureComponents:y,window:t,maxX:n,maxY:r,theme:o,onWindowMove:this.handleWindowMove})},o.handleWindowMove=function(e,t){i.moveTo(e,t)},r}(o.PureComponent);S.displayName="PictureInPictureContainer";var I=l.default.connectStores([u.default,d.default,s.default],function(){var e=d.default.windowSize();return{window:u.default.window,maxX:e.width,maxY:e.height,theme:s.default.theme}})(S);t.default=I},9102:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(3)),o=n(45),l=E(n(2)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7347)),u=n(108),s=E(n(289)),d=E(n(10)),c=E(n(98)),f=E(n(14)),p=E(n(859)),h=E(n(40)),v=E(n(7348)),m=E(n(39)),_=E(n(153)),g=n(1);function E(e){return e&&e.__esModule?e:{default:e}}function y(){var e=r;if(null==e||!v.default.isOpen(e))return!1;l.default.wait(function(){return i.close(e)}),r=null}function S(){var e=c.default.getActiveStream();if(null!=e){var t=e.channelId;return function(e){var t=m.default.getChannelId();if(!h.default.supports(o.Features.VIDEO))return!0;if(s.default.getWindowOpen(g.PopoutWindowKeys.STREAM_POPOUT))return!0;var n=p.default.hasLayers();return(!n||!p.default.getLayers().includes(g.Layers.RTC_DEBUG))&&(!!n||!(e!==t))}(t)?y():(r!==t&&y(),function(e){var t=f.default.getChannel(e);if(null==t||v.default.isOpen(e))return!1;l.default.wait(function(){return i.open(e,g.PictureInPictureComponents.STREAM,{channel:t})}),r=e}(t))}y()}var I=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(v.default),this.syncWith([_.default,m.default,c.default,p.default,s.default],S)},r}(a.default.Store))(l.default,{STREAM_STOP:function(e){var t=e.streamKey;if((0,u.decodeStreamKey)(t).ownerId!==d.default.getId())return!1;y()}});t.default=I},9103:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(3)),o=n(45),l=g(n(2)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7347)),u=g(n(14)),s=g(n(859)),d=g(n(40)),c=g(n(7348)),f=g(n(191)),p=g(n(39)),h=g(n(153)),v=g(n(72)),m=g(n(6819)),_=n(1);function g(e){return e&&e.__esModule?e:{default:e}}function E(){var e=r;if(null==e||!c.default.isOpen(e))return!1;l.default.wait(function(){return i.close(e)}),r=null}function y(){var e=f.default.getChannelId(),t=r===e;return function(){var e=f.default.getGuildId(),t=f.default.getChannelId(),n=p.default.getChannelId();if(!d.default.supports(o.Features.VIDEO))return!0;if(!(null==e||m.default.isAvailable(e)))return!0;var r=u.default.getChannel(t);if(!(null!=r&&v.default.hasVideo(r)))return!0;var a=s.default.hasLayers();return(!a||!s.default.getLayers().includes(_.Layers.RTC_DEBUG))&&(!!a||!(t!==n))}()?E():(t||E(),null!=e&&function(e){var t=u.default.getChannel(e);if(null==t||c.default.isOpen(e))return!1;l.default.wait(function(){return i.open(t.id,_.PictureInPictureComponents.VIDEO,{channel:t})}),r=e}(e))}var S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(c.default),this.syncWith([p.default,h.default,f.default,v.default,s.default],y)},r}(a.default.Store))(l.default,function(){return!1});t.default=S},9104:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(59),l=d(n(9105)),i=n(1),u=d(n(5927)),s=d(n(6434));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v=80,m=132,_=80,g=function(e){function t(t){var n;return p(n=e.call(this,t)||this).ensureIsInPosition=n.ensureIsInPosition.bind(p(n)),p(n).handleSetInnerDivRef=n.handleSetInnerDivRef.bind(p(n)),p(n).handleSetDraggableRef=n.handleSetDraggableRef.bind(p(n)),p(n).handleDragStart=n.handleDragStart.bind(p(n)),p(n).handleDrag=n.handleDrag.bind(p(n)),p(n).handleDragEnd=n.handleDragEnd.bind(p(n)),n}h(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setPosition(this.props.position)},n.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY||this.ensureIsInPosition()},n.getPosition=function(e){var t=(0,o.findDOMNode)(this._innerDiv);if(null!=t&&t instanceof Element){var n=t.getBoundingClientRect();this._width=n.width,this._height=n.height}var r=this.props,a=r.edgeOffsetTop,l=r.edgeOffsetLeft,u=r.edgeOffsetBottom,s=r.edgeOffsetRight,d=a,c=window.innerHeight-u-this._height,f=l,p=window.innerWidth-s-this._width;switch(e){case i.PictureInPicturePositions.TOP_LEFT:return{y:d,x:f};case i.PictureInPicturePositions.BOTTOM_LEFT:return{y:c,x:f};case i.PictureInPicturePositions.TOP_RIGHT:return{y:d,x:p};default:return{y:c,x:p}}},n.setPosition=function(e){var t=this.getPosition(e),n=t.x,r=t.y;null!=this._draggable&&this._draggable.setPosition(n,r)},n.animateToPosition=function(e,t){var n=this.getPosition(e),r=n.x,a=n.y;null!=this._draggable&&this._draggable.animateToPosition(r,a,{},t)},n.ensureIsInPosition=function(){this.setPosition(this.props.position)},n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}},n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case i.PictureInPicturePositions.TOP_LEFT:case i.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}},n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case i.PictureInPicturePositions.TOP_LEFT:case i.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}},n.render=function(){var e=this.getXOffset(),t=this.getYOffset();return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:s.default.pictureInPictureWindow,maxX:window.innerWidth,maxY:window.innerHeight,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},a.createElement("div",{ref:this.handleSetInnerDivRef,className:u.default.elevationHigh,style:{x:e,y:t}},this.props.children))},n.handleSetInnerDivRef=function(e){this._innerDiv=e},n.handleSetDraggableRef=function(e){this._draggable=e},n.handleDragStart=function(e,t){this._velocityX=0,this._velocityY=0,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=new Date},n.handleDrag=function(e,t){var n=new Date,r=n-this._lastMoveTime;this._velocityX=(e-this._lastMoveX)/r,this._velocityY=(t-this._lastMoveY)/r,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=n},n.handleDragEnd=function(e,t){var n,r=this.calculateDecayingPosition(e,t,this._velocityX,this._velocityY),a=!0,o=!0;if(r.x>window.innerWidth/2&&(o=!1),r.y>window.innerHeight/2&&(a=!1),n=a&&o?i.PictureInPicturePositions.TOP_LEFT:a&&!o?i.PictureInPicturePositions.TOP_RIGHT:!a&&o?i.PictureInPicturePositions.BOTTOM_LEFT:i.PictureInPicturePositions.BOTTOM_RIGHT,this.animateToPosition(n,this.ensureIsInPosition),n!==this.props.position){var l=this.props,u=l.id,s=l.onMove;s&&s(u,n)}},t}(a.PureComponent);g.displayName="Window";var E=function(e){function t(){return e.apply(this,arguments)||this}h(t,e);var n=t.prototype;return n.renderWindow=function(){var e=this.props,t=e.window,n=e.maxX,r=e.maxY,o=e.onWindowMove,l=e.pictureInPictureComponents;if(null==t)return null;var i=t.component;return"string"==typeof i&&l[i]&&(i=l[i].component),c(g,{position:t.position,id:t.id,onMove:o,maxX:n,maxY:r,edgeOffsetTop:v,edgeOffsetBottom:m,edgeOffsetLeft:_,edgeOffsetRight:v},void 0,a.createElement(i,f({pipId:t.id,pipPosition:t.position},t.props)))},n.render=function(){return c("div",{className:s.default.pictureInPicture},void 0,this.renderWindow())},t}(a.PureComponent);E.displayName="PictureInPicture";var y=E;t.default=y},9105:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(59),l=(r=n(118))&&r.__esModule?r:{default:r},i=n(1);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Math.pow(3,2),c=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._height=0,n._width=0,n._dragStart={x:0,y:0},n._offsetX=0,n._offsetY=0;var r=new l.default.Value(t.initialX),a=new l.default.Value(t.initialY);return n.state={dragging:!1,position:new l.default.ValueXY({x:r,y:a})},s(n).handleSetRef=n.handleSetRef.bind(s(n)),s(n).handleMouseDown=n.handleMouseDown.bind(s(n)),s(n).handleMouseMove=n.handleMouseMove.bind(s(n)),s(n).handleMouseUp=n.handleMouseUp.bind(s(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)},c.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},c.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={}),void 0===a&&(a=!0),a&&this.grabDimensions();var o=this.translate(e,t);l.default.spring(this.state.position,u({toValue:{x:o.x,y:o.y}},n)).start(r)},c.setPosition=function(e,t,n){void 0===n&&(n=!0);var r=this.translate(e,t);n&&this.grabDimensions(),this.state.position.setValue({x:r.x,y:r.y})},c.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref);null!=e&&e instanceof Element&&(this._height=e.clientHeight,this._width=e.clientWidth)},c.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;return e<0?e=0:e>r-this._width&&(e=r-this._width),t<0?t=0:t>a-this._height&&(t=a-this._height),{x:e,y:t}},c.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,i=r.children,s=[0,1],d=["0px","1px"],c=l.default.accelerate(u({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:s,outputRange:d})},{translateY:n.y.interpolate({inputRange:s,outputRange:d})}]},this.props.style));return a.createElement(l.default.div,{ref:this.handleSetRef,className:o,onMouseDown:this.handleMouseDown,style:c},i)},c.handleSetRef=function(e){this._ref=e},c.handleMouseDown=function(e){var t=this.props,n=t.dragAnywhere,r=t.selector,a=this.state.position,o=e.target;e.button===i.MouseButtons.PRIMARY&&(n||null!=r&&o.matches(r))&&(this.grabDimensions(),this._dragStart={x:e.clientX,y:e.clientY},this._offsetX=e.clientX-a.x._value,this._offsetY=e.clientY-a.y._value,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},c.handleMouseMove=function(e){e.preventDefault();var t,n,r,a,o,l,i=this.props,u=i.onDragStart,s=i.onDrag,c=this.state,f=c.dragging,p=c.dragging;!f&&(t=this._dragStart,n={x:e.clientX,y:e.clientY},r=t.x,a=t.y,o=n.x,l=n.y,Math.pow(r-o,2)+Math.pow(a-l,2)>d)&&(f=!0),f&&(this.animateToPosition(e.clientX-this._offsetX,e.clientY-this._offsetY,{tension:80,friction:8},null,!1),this.setState({dragging:f},function(){p||u&&u(e.clientX,e.clientY),s&&s(e.clientX,e.clientY)}))},c.handleMouseUp=function(e){var t=this;window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&this.setState({dragging:!1},function(){var n=t.props.onDragEnd;n&&n(e.clientX,e.clientY)})},r}(a.PureComponent);c.displayName="Draggable",c.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,dragAnywhere:!1};var f=c;t.default=f},9106:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=R(n(6)),l=R(n(3)),i=n(45),u=R(n(189)),s=n(35),d=R(n(6540)),c=n(264),f=R(n(30)),p=R(n(6794)),h=n(120),v=R(n(10)),m=R(n(344)),_=R(n(40)),g=R(n(9107)),E=R(n(977)),y=R(n(9108)),S=R(n(7237)),I=R(n(15)),T=R(n(36)),O=R(n(345)),N=R(n(7238)),C=R(n(9109)),A=R(n(7239)),M=n(1),P=R(n(4));function R(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnableVideo=function(){u.default.setVideoEnabled(!0)},t.handleEnableVideoWhenUnavailable=function(){var e=t.props.isCameraGranted;f.default.push(function(n){return a.createElement(A.default,L({},n,{title:P.default.Messages.CAMERA_UNAVAILABLE,description:e?P.default.Messages.CAMERA_NO_DEVICE:P.default.Messages.CAMERA_NO_ACCESS,confirmText:e?P.default.Messages.OKAY:P.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:e?f.default.pop:t.handleEnableVideo}))})},t.handleDisableVideo=function(){u.default.setVideoEnabled(!1)},t.handleStartScreenSharing=function(){p.default.open(t.props.channel)},t.handleStartScreenSharingWhenUnavailable=function(){function e(){f.default.push(O.default,{source:"PiP Screenshare Unavailable"})}f.default.push(function(t){return a.createElement(A.default,L({},t,{title:P.default.Messages.SCREENSHARE_UNAVAILABLE,description:P.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:P.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},t.handleChangeScreenSharing=function(e){if(e.currentTarget instanceof Element){var n=t.props.channel;(0,s.openContextMenu)(e,function(e){return a.createElement(N.default,L({},e,{channel:n}))})}},t.handleJumpToChannel=function(){var e=t.props.channel;(0,c.popAllLayers)();var n=e.getGuildId()||M.ME;d.default.channelListScrollTo(n,e.id),T.default.transitionToGuild(n,e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this.props.channel;I.default.track(M.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,L({video_layout:"pip"},(0,h.collectVoiceAnalyticsMetadata)(e.id)))},o.componentWillUnmount=function(){var e=this.props.channel;I.default.track(M.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,L({video_layout:m.default.getLayout(e.id)},(0,h.collectVoiceAnalyticsMetadata)(e.id)))},o.render=function(){var e=this.props,t=e.channel,n=e.streamId,r=e.userOnScreen,a=e.isVideoAvailable,o=e.isVideoEnabled,l=e.isScreenShareAvailable,i=e.isScreenShareEnabled,u=e.quality,s=r.id===v.default.getId()&&o&&!i;return b(y.default,{channel:t,backgroundKey:r.id,quality:u,isVideoAvailable:a,isVideoEnabled:o,isScreenShareAvailable:l,isScreenShareEnabled:i,onEnableVideo:this.handleEnableVideo,onEnableVideoWhenUnavailable:this.handleEnableVideoWhenUnavailable,onDisableVideo:this.handleDisableVideo,onStartScreenSharing:this.handleStartScreenSharing,onStartScreenSharingWhenUnavailable:this.handleStartScreenSharingWhenUnavailable,onChangeScreenSharing:this.handleChangeScreenSharing,onJumpToChannel:this.handleJumpToChannel},void 0,b(C.default,{streamId:n,component:_.default.getMediaEngine().Video,mirror:s},void 0,b(S.default,{avatarSize:S.default.AvatarSizes.DEPRECATED_SIZE_100,user:r})))},r}(a.PureComponent);D.displayName="PictureInPictureVideoContainer";var w=l.default.connectStores([g.default,m.default,E.default],function(e){var t=e.channel,n=g.default.getSpeaker(t.id),r=(0,o.default)(_.default.getVideoDevices()).values().first(),a=null==r||r.disabled,l=_.default.isEnabled();return{channel:t,streamId:null!=n?E.default.getStreamId(n.id):null,quality:null!=n?E.default.getQuality(n.id):null,userOnScreen:n,isVideoAvailable:l||!1===a,isVideoEnabled:l&&!a&&_.default.isVideoEnabled(),isScreenShareEnabled:_.default.isScreenSharing(),isScreenShareAvailable:_.default.supports(i.Features.DESKTOP_CAPTURE),isCameraGranted:l}})(D);t.default=w},9107:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=f(n(6)),l=f(n(3)),i=f(n(2)),u=f(n(10)),s=f(n(344)),d=f(n(354)),c=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t;if(void 0===e&&(e=!0),null==r)t=null;else if(null==(t=s.default.getSelectedParticipantId(r))){var n=u.default.getId();t=(0,o.default)(s.default.getParticipants(r)).filter(function(e){var t=e.user,r=e.voiceState;return null!=r&&r.selfVideo&&t.id!==n}).sortBy(function(e){var t=e.user;return-d.default.getSpeakingDuration(t.id)}).map(function(e){return e.user.id}).first()}a!==t&&(a=t,e&&m.emitChange())}var h=o.default.debounce(p,300);function v(){return h(),!1}var m=new(function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=o.prototype;return l.initialize=function(){this.waitFor(s.default,c.default,d.default),this.syncWith([s.default],v)},l.getSpeaker=function(e){return r!==e&&(r=e,p(!1)),null!=a?c.default.getUser(a):c.default.getCurrentUser()},o}(l.default.Store))(i.default,function(){return!1}),_=m;t.default=_},9108:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(263)),l=_(n(137)),i=_(n(21)),u=_(n(58)),s=_(n(24)),d=_(n(42)),c=_(n(7236)),f=_(n(65)),p=n(7778),h=n(1),v=_(n(4)),m=_(n(6435));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(s.default,{grow:1}),y=g(c.default,{isCondensed:!0}),S=g(s.default,{grow:1}),I=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderTopLeft=function(){var e=this.props,t=e.channel,n=e.onJumpToChannel;return g(u.default,{className:m.default.channel,onClick:n},void 0,(0,l.default)(t))},a.renderTopRight=function(){var e=this.props.onClose;return null!=e?g(u.default,{"aria-label":v.default.Messages.CLOSE_WINDOW,onClick:e,className:m.default.iconButtonWrapper},void 0,g(d.default,{name:d.default.Names.REMOVE,className:m.default.iconButton,foreground:m.default.iconButtonForeground})):null},a.renderScreenShareIcon=function(){var e,t,n,r=this.props,a=r.onStartScreenSharingWhenUnavailable,o=r.onStartScreenSharing,l=r.onChangeScreenSharing,u=r.isScreenShareAvailable,s=r.isScreenShareEnabled;return u?s?(e=l,t=m.default.iconButton,n=v.default.Messages.SCREEN_SHARE_OPTIONS):(e=o,t=m.default.iconButton,n=v.default.Messages.SCREEN_SHARE_ON):(e=a,t=m.default.iconButtonDisabled,n=v.default.Messages.SCREENSHARE_UNAVAILABLE),g(f.default,{text:n},void 0,function(r){var a=r.onMouseEnter,o=r.onMouseLeave;return g(i.default,{"aria-label":n,look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,onClick:e,onMouseEnter:a,onMouseLeave:o,className:m.default.iconButtonWrapper},void 0,g(d.default,{name:d.default.Names.SCREENSHARE,className:t,foreground:m.default.iconButtonForeground}))})},a.renderVideoIcon=function(){var e,t,n,r,a=this.props,o=a.onEnableVideoWhenUnavailable,l=a.onEnableVideo,u=a.onDisableVideo,s=a.isVideoAvailable,c=a.isVideoEnabled;return s?c?(e=d.default.Names.VIDEO_CAMERA,t=u,n=m.default.iconButton,r=v.default.Messages.CAMERA_OFF):(e=d.default.Names.VIDEO_CAMERA_DISABLED,t=l,n=m.default.iconButton,r=v.default.Messages.CAMERA_ON):(e=d.default.Names.VIDEO_CAMERA,t=o,n=m.default.iconButtonDisabled,r=v.default.Messages.CAMERA_UNAVAILABLE),g(f.default,{text:r},void 0,function(a){var o=a.onMouseEnter,l=a.onMouseLeave;return g(i.default,{"aria-label":r,look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,onClick:t,onMouseEnter:o,onMouseLeave:l,className:m.default.iconButtonWrapper},void 0,g(d.default,{name:e,width:24,height:24,className:n,foreground:m.default.iconButtonForeground}))})},a.renderBottomLeft=function(){return g(s.default,{align:s.default.Align.CENTER},void 0,this.renderScreenShareIcon(),this.renderVideoIcon())},a.renderOverlaySide=function(e,t,n){return g(s.default,{grow:0,className:n},void 0,g(s.default,{align:s.default.Align.CENTER,grow:0,className:m.default.overlayLeft},void 0,e),E,g(s.default,{align:s.default.Align.CENTER,grow:0,className:m.default.overlayRight},void 0,t))},a.renderOverlay=function(){return this.props.quality===h.RTCReceivedVideoQuality.OFF?y:null},a.render=function(){var e=this.props,t=e.children,n=e.backgroundKey,r=e.onJumpToChannel;return g("div",{className:m.default.pictureInPictureVideo,onDoubleClick:r},void 0,g(o.default,{},void 0,g(p.BackgroundTransition,{},n,t)),g(s.default,{direction:s.default.Direction.VERTICAL,className:m.default.overlay},void 0,this.renderOverlaySide(this.renderTopLeft(),this.renderTopRight(),m.default.overlayTop),S,this.renderOverlaySide(this.renderBottomLeft(),null,m.default.overlayBottom)),this.renderOverlay())},r}(a.PureComponent);I.displayName="PictureInPictureVideo";var T=I;t.default=T},9109:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=i(n(8)),l=i(n(6436));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleReady=function(){n.state.aReady?n.setState({bReady:!0,aStreamId:null,aReady:!1}):n.setState({aReady:!0,bStreamId:null,bReady:!1})},n.handleDoubleClick=function(e){var t=n.props,r=t.onDoubleClick,a=t.id;r&&r(e,a)},n.handleContextMenu=function(e){var t=n.props,r=t.onContextMenu,a=t.id;r&&r(e,a)},n.state={aStreamId:null,aReady:!1,bStreamId:t.streamId,bReady:!0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1};return null};var i=r.prototype;return i.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,i=n.component;if(null==e){if(null==r)return null;var d=a.Children.only(r);return a.cloneElement(d,s({style:{display:t&&!o?void 0:"none"}},d.props))}return u(i,{className:l.default.media,streamId:e,onReady:t?null:this.handleReady})},i.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return u("div",{className:(0,o.default)(l.default.video,r,(e={},e[l.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))},r}(a.PureComponent);d.displayName="BufferedVideo";var c=d;t.default=c},9110:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(16)),l=_(n(3)),i=_(n(6540)),u=n(264),s=n(120),d=_(n(948)),c=_(n(98)),f=_(n(344)),p=_(n(15)),h=_(n(7246)),v=n(1),m=_(n(6437));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJumpToChannel=function(){var e=t.props,n=e.channel,r=e.stream;(0,o.default)(null!=r,"stream cannot be null"),(0,u.popAllLayers)();var a=n.getGuildId()||v.ME;i.default.channelListScrollTo(a,n.id),(0,d.default)(r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.channel,n=e.stream;p.default.track(v.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,E({video_layout:"pip",guild_id:t.getGuildId(),streamer_user_id:null!=n?n.ownerId:null,video_stream_state:null!=n?"stream visible":"no stream"},(0,s.collectVoiceAnalyticsMetadata)(t.id)))},a.componentWillUnmount=function(){var e=this.props.channel,t=c.default.getActiveStream();p.default.track(v.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,E({video_layout:f.default.getLayout(e.id),guild_id:e.getGuildId(),streamer_user_id:null!=t?t.ownerId:null,video_stream_state:null!=t?"stream visible":"stream ended"},(0,s.collectVoiceAnalyticsMetadata)(e.id)))},a.render=function(){var e=this.props.channel;return g("div",{className:m.default.wrapper,onDoubleClick:this.handleJumpToChannel},void 0,g(h.default,{handleJumpToChannel:this.handleJumpToChannel,channel:e}))},r}(a.PureComponent);y.displayName="PictureInPictureStream";var S=l.default.connectStores([c.default],function(e){var t=e.channel,n=c.default.getActiveStream();return null!=n&&n.channelId===t.id?{stream:n}:{}})(y);t.default=S},9111:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(8)),l=y(n(6)),i=n(59),u=y(n(3)),s=y(n(6947)),d=y(n(10)),c=y(n(859)),f=y(n(868)),p=y(n(6707)),h=y(n(185)),v=y(n(7802)),m=n(9112),_=n(9116),g=n(1),E=y(n(6442));function y(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={offsetX:null,offsetY:null,popoutOffsetX:0,popoutOffsetY:0},t.handleDismiss=function(){s.default.dismiss(t.props.tutorialId)},t}T(t,e);var n=t.prototype;return n.componentDidMount=function(){this.updateCache()},n.componentDidUpdate=function(e){var t=e.tutorialId,n=e.x,r=e.y,a=e.targetWidth,o=e.targetHeight,l=e.position,i=e.offset;this.props.tutorialId===t&&this.props.x===n&&this.props.y===r&&this.props.targetWidth===a&&this.props.targetHeight===o&&this.props.position===l&&this.props.offset.x===i.x&&this.props.offset.y===i.y||this.updateCache()},n.updateCache=function(){var e=(0,i.findDOMNode)(this);if(e&&e instanceof HTMLElement){var t=e.offsetWidth,n=e.offsetHeight,r={offsetX:(this.props.targetWidth-t)/2,offsetY:(this.props.targetHeight-n)/2,popoutOffsetX:0,popoutOffsetY:0};switch(this.props.position){case"left":r.offsetX=-t,r.popoutOffsetX=t;break;case"right":r.offsetX=this.props.targetWidth,r.popoutOffsetX=-t;break;case"bottom":r.offsetY=this.props.targetHeight,r.popoutOffsetY=-n;break;case"top":default:r.offsetY=-n,r.popoutOffsetY=n}r.offsetX+=this.props.offset.x?this.props.offset.x:0,r.offsetY+=this.props.offset.y?this.props.offset.y:0,this.setState(r)}},n.handleSkipTips=function(){s.default.suppressAll()},n.getTutorialPopoutText=function(){var e=this.props.tutorialId;return(0,_.getTutorialPopoutText)(e)},n.render=function(){var e,t,n,r=this.props.tutorialId;if(!(r in m.tutorialPopoutAttributes))return null;var l=m.tutorialPopoutAttributes[r],i=l.background,u=l.media,s=l.textAlign,d=l.isLongText,c=l.arrowAlignment,f=l.highPriority,p=l.popoutPosition,h={left:null===this.state.offsetX?null:this.props.x+this.state.offsetX,top:null===this.state.offsetY?null:this.props.y+this.state.offsetY},_=this.props.visible,y=!0!==f?null:I("div",{},void 0,I("div",{className:(0,o.default)(E.default.top,(e={},e[E.default.animating]=_,e[E.default.notAnimating]=!_,e))}),I("div",{className:(0,o.default)(E.default.bottom,(t={},t[E.default.animating]=_,t[E.default.notAnimating]=!_,t))})),T=((n={})[E.default.animating]=_,n[E.default.notAnimating]=!_,n[E.default.highPriority]=f,n),O=this.getTutorialPopoutText();return a.createElement(v.default,S({position:p,background:i,renderMedia:u,textAlign:s,isLongText:d,arrowAlignment:c,uniqueId:r,showArrow:!0,forceTheme:g.ThemeTypes.LIGHT,onSkipAll:this.handleSkipTips,onComplete:this.handleDismiss,offsetX:this.state.popoutOffsetX,offsetY:this.state.popoutOffsetY},O),I("div",{className:E.default.indicator,style:h},void 0,I("div",{className:(0,o.default)(E.default.animationContainer,T)},void 0,y,I("div",{className:(0,o.default)(E.default.innerCircle,T)}),I("div",{className:(0,o.default)(E.default.outerCircle,T)}))))},t}(a.PureComponent);O.displayName="TutorialIndicator";var N=u.default.connectStores([p.default,c.default,h.default,f.default,d.default],function(){return{indicators:p.default.getIndicators(),tutorialData:p.default.getData(),shouldShowAny:p.default.shouldShowAnyIndicators()&&!c.default.hasLayers()&&!d.default.isGuest(),isFocused:h.default.isFocused()}})(function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.indicators,n=e.shouldShowAny,r=e.isFocused,o=e.tutorialData;return n?l.default.map(t,function(e,t){var n=o[t];return null==n?null:a.createElement(O,S({key:t,tutorialId:t,tutorialDefinition:n,visible:r&&!f.default.isOpen(t)},e))}):null},t}(a.Component));t.default=N},9112:function(e,t,n){"use strict";t.__esModule=!0,t.tutorialPopoutAttributes=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=u(n(7802)),o=u(n(9113)),l=u(n(9114)),i=u(n(9115));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=s(l.default,{}),c=s(i.default,{}),f=s(o.default,{}),p=Object.freeze({"voice-conversations":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.WAVES,media:function(){return d}},"writing-messages":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.SHAPES,media:function(){return c}},"direct-messages":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-first-server":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"organize-by-topic":{popoutPosition:"right",background:a.default.Backgrounds.WAVES,media:function(){return f}},"instant-invite":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"whos-online":{popoutPosition:"left",background:a.default.Backgrounds.WAVES},"server-settings":{popoutPosition:"bottom",background:a.default.Backgrounds.SHAPES},"friends-list":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-more-servers":{popoutPosition:"right",background:a.default.Backgrounds.SHAPES}});t.tutorialPopoutAttributes=p},9113:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));function a(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var o=a("svg",{width:"136px",height:"94px",viewBox:"0 0 136 94",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,a("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},void 0,a("g",{},void 0,a("path",{d:"M22.6507711,19.9383039 L52,9 L52,79.5700344 L23.3283853,89.5381662 C22.8067282,89.7195284 22.2368184,89.4436649 22.0554562,88.9220077 C22.0187453,88.8164152 22,88.7054144 22,88.5936224 L22,20.8753413 C22,20.4577565 22.2594785,20.0841366 22.6507711,19.9383039 Z",fill:"#ACB0FF",fillRule:"nonzero"}),a("path",{d:"M82,20.9781002 L110.615994,9.07693055 C111.125935,8.86484988 111.71125,9.10631372 111.923331,9.61625512 C111.973944,9.73795364 112,9.86845729 112,10.0002611 L112,78.3708885 C112,78.7914204 111.736901,79.1670193 111.341678,79.3107057 L82,89.9781002 L82,20.9781002 Z",fill:"#ACB0FF",fillRule:"nonzero"}),a("polygon",{fill:"#989CEA",fillRule:"nonzero",points:"52 9 82 21 82 89.7563 52 79.6829034"}),a("circle",{fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"20"}),a("circle",{stroke:"#ACB0FF",strokeWidth:"1.5",fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"16.4347826"}),a("path",{d:"M120.640409,74 L120.695652,74 L116.886449,80.3862384 C116.603533,80.8605556 115.989673,81.0157168 115.515356,80.7328005 C115.372877,80.6478156 115.253779,80.528718 115.168794,80.3862384 L111.359591,74 L111.304348,74 L115.113551,67.6137616 C115.396467,67.1394444 116.010327,66.9842832 116.484644,67.2671995 C116.627123,67.3521844 116.746221,67.471282 116.831206,67.6137616 L120.640409,74 Z",stroke:"#202225",fill:"#FFFFFF",fillRule:"nonzero"}),a("path",{d:"M0.8561,25.4295 C0.8561,23.2207 2.6465,21.4295 4.8561,21.4295 C7.0657,21.4295 8.8561,23.2207 8.8561,25.4295 C8.8561,27.6383 7.0657,29.4295 4.8561,29.4295 C2.6465,29.4295 0.8561,27.6383 0.8561,25.4295",fill:"#ACB0FF"}),a("path",{d:"M36.6003,3.7337 C36.6003,3.1817 36.1533,2.7337 35.6003,2.7337 C34.7663,2.7337 34.0903,2.0577 34.0903,1.2237 C34.0903,0.6717 33.6423,0.2237 33.0903,0.2237 C32.5383,0.2237 32.0903,0.6717 32.0903,1.2237 C32.0903,2.0577 31.4133,2.7337 30.5803,2.7337 C30.0283,2.7337 29.5803,3.1817 29.5803,3.7337 C29.5803,4.2857 30.0283,4.7337 30.5803,4.7337 C31.4133,4.7337 32.0903,5.4097 32.0903,6.2437 C32.0903,6.7967 32.5383,7.2437 33.0903,7.2437 C33.6423,7.2437 34.0903,6.7967 34.0903,6.2437 C34.0903,5.4097 34.7663,4.7337 35.6003,4.7337 C36.1533,4.7337 36.6003,4.2857 36.6003,3.7337",fill:"#D3D6ED"}),a("path",{d:"M131.51,41 C131.51,40.448 131.063,40 130.51,40 C129.957,40 129.51,40.448 129.51,41 C129.51,41.834 128.834,42.51 128,42.51 C127.448,42.51 127,42.958 127,43.51 C127,44.062 127.448,44.51 128,44.51 C128.834,44.51 129.51,45.186 129.51,46.02 C129.51,46.572 129.957,47.02 130.51,47.02 C131.063,47.02 131.51,46.572 131.51,46.02 C131.51,45.186 132.186,44.51 133.02,44.51 C133.573,44.51 134.02,44.062 134.02,43.51 C134.02,42.958 133.573,42.51 133.02,42.51 C132.186,42.51 131.51,41.834 131.51,41 Z",fill:"#ACB0FF"}),a("path",{d:"M11.1491,77.0452 C10.7581,76.6542 10.1261,76.6542 9.7351,77.0452 L8.5511,78.2282 C8.1611,78.6182 8.1611,79.2512 8.5511,79.6422 C8.7471,79.8372 9.0031,79.9352 9.2581,79.9352 C9.5141,79.9352 9.7701,79.8372 9.9651,79.6422 L11.1491,78.4592 C11.5401,78.0682 11.5401,77.4362 11.1491,77.0452",fill:"#FFFFFF"}),a("path",{d:"M3.819,82.9612 L2.635,84.1452 C2.245,84.5352 2.245,85.1682 2.635,85.5592 C2.831,85.7542 3.087,85.8522 3.342,85.8522 C3.598,85.8522 3.855,85.7542 4.049,85.5592 L5.233,84.3752 C5.624,83.9842 5.624,83.3522 5.233,82.9612 C4.842,82.5702 4.209,82.5702 3.819,82.9612",fill:"#FFFFFF"}),a("path",{d:"M9.9655,82.9612 C9.5745,82.5702 8.9425,82.5702 8.5515,82.9612 C8.1605,83.3522 8.1605,83.9842 8.5515,84.3752 L9.7355,85.5592 C9.9305,85.7542 10.1865,85.8522 10.4425,85.8522 C10.6975,85.8522 10.9535,85.7542 11.1495,85.5592 C11.5395,85.1682 11.5395,84.5352 11.1495,84.1452 L9.9655,82.9612 Z",fill:"#FFFFFF"}),a("path",{d:"M5.2331,78.2279 L4.0491,77.0449 C3.6591,76.6549 3.0251,76.6549 2.6351,77.0449 C2.2451,77.4359 2.2451,78.0689 2.6351,78.4589 L3.8191,79.6419 C4.0141,79.8369 4.2701,79.9349 4.5261,79.9349 C4.7821,79.9349 5.0381,79.8369 5.2331,79.6419 C5.6241,79.2509 5.6241,78.6189 5.2331,78.2279",fill:"#FFFFFF"}))));t.default=function(){return o}},9114:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=s(n(3)),o=s(n(11)),l=s(n(328)),i=n(88),u=s(n(6439));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"177",height:"83",viewBox:"0 0 177 83"},void 0,d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{fill:"#F6F6F7",d:"M176.723653 37.2763685C176.355191 36.9078772 175.75962 36.9078772 175.391158 37.2763685L174.276347 38.3912668C173.907884 38.7588157 173.907884 39.3553758 174.276347 39.7238671 174.460107 39.9076416 174.701351 40 174.942595 40 175.183839 40 175.425082 39.9076416 175.608842 39.7238671L176.723653 38.6089688C177.092116 38.2404775 177.092116 37.6448598 176.723653 37.2763685M169.391158 43.2762817L168.276347 44.391772C167.907884 44.7592055 167.907884 45.3555782 168.276347 45.7239538 168.460107 45.9076706 168.701351 46 168.942595 46 169.183839 46 169.425082 45.9076706 169.608842 45.7239538L170.723653 44.6084635C171.092116 44.2400879 171.092116 43.6446573 170.723653 43.2762817 170.355191 42.9079061 169.758678 42.9079061 169.391158 43.2762817M175.608842 43.2762817C175.24038 42.9079061 174.644809 42.9079061 174.276347 43.2762817 173.907884 43.6446573 173.907884 44.2400879 174.276347 44.6084635L175.391158 45.7239538C175.574918 45.9076706 175.816161 46 176.057405 46 176.298649 46 176.539893 45.9076706 176.723653 45.7239538 177.092116 45.3555782 177.092116 44.7592055 176.723653 44.391772L175.608842 43.2762817zM170.723653 38.3908877L169.608842 37.2757266C169.24038 36.9080911 168.642924 36.9080911 168.276347 37.2757266 167.907884 37.6443048 167.907884 38.2410055 168.276347 38.608641L169.391158 39.723802C169.574918 39.9076198 169.816161 40 170.057405 40 170.298649 40 170.539893 39.9076198 170.723653 39.723802 171.092116 39.3552239 171.092116 38.7594658 170.723653 38.3908877"}),d("path",{fill:"#ACB0FF",d:"M8.72365321 17.2763685C8.35519083 16.9078772 7.75961992 16.9078772 7.39115753 17.2763685L6.27634679 18.3912668C5.9078844 18.7588157 5.9078844 19.3553758 6.27634679 19.7238671 6.4601068 19.9076416 6.70135071 20 6.94259463 20 7.18383854 20 7.42508246 19.9076416 7.60884247 19.7238671L8.72365321 18.6089688C9.0921156 18.2404775 9.0921156 17.6448598 8.72365321 17.2763685M1.39115753 23.2762817L.276346788 24.391772C-.092115596 24.7592055-.092115596 25.3555782.276346788 25.7239538.460106801 25.9076706.701350715 26 .942594629 26 1.18383854 26 1.42508246 25.9076706 1.60884247 25.7239538L2.72365321 24.6084635C3.0921156 24.2400879 3.0921156 23.6446573 2.72365321 23.2762817 2.35519083 22.9079061 1.75867756 22.9079061 1.39115753 23.2762817M7.60884247 23.2762817C7.24038008 22.9079061 6.64480917 22.9079061 6.27634679 23.2762817 5.9078844 23.6446573 5.9078844 24.2400879 6.27634679 24.6084635L7.39115753 25.7239538C7.57491754 25.9076706 7.81616146 26 8.05740537 26 8.29864929 26 8.5398932 25.9076706 8.72365321 25.7239538 9.0921156 25.3555782 9.0921156 24.7592055 8.72365321 24.391772L7.60884247 23.2762817zM2.72365321 18.3908877L1.60884247 17.2757266C1.24038008 16.9080911.642924454 16.9080911.276346788 17.2757266-.092115596 17.6443048-.092115596 18.2410055.276346788 18.608641L1.39115753 19.723802C1.57491754 19.9076198 1.81616146 20 2.05740537 20 2.29864929 20 2.5398932 19.9076198 2.72365321 19.723802 3.0921156 19.3552239 3.0921156 18.7594658 2.72365321 18.3908877"}),d("path",{fill:"#D3D6ED",d:"M63.502849,0.997150997 C63.502849,1.82877493 62.8287749,2.502849 61.997151,2.502849 C61.4467236,2.502849 61,2.9485755 61,3.5 C61,4.05042735 61.4467236,4.497151 61.997151,4.497151 C62.8287749,4.497151 63.502849,5.17122507 63.502849,6.002849 C63.502849,6.55327635 63.9495726,7 64.5,7 C65.0504274,7 65.497151,6.55327635 65.497151,6.002849 C65.497151,5.17122507 66.1712251,4.497151 67.002849,4.497151 C67.5532764,4.497151 68,4.05042735 68,3.5 C68,2.9485755 67.5532764,2.502849 67.002849,2.502849 C66.1712251,2.502849 65.497151,1.82877493 65.497151,0.997150997 C65.497151,0.445726496 65.0504274,0 64.5,0 C63.9495726,0 63.502849,0.445726496 63.502849,0.997150997"}),d("g",{transform:"translate(81 43)"},void 0,d("mask",{id:"tooltip-voice-panel-b",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-a",cx:"20",cy:"20",r:"20"})),d("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"20",cy:"20",r:"20"}),d("g",{mask:"url(#tooltip-voice-panel-b)"},void 0,d("g",{transform:"translate(-9 5)"},void 0,d("path",{fill:"#D8B39A",d:"M36.1044358,15.896 C37.5763769,17.368 40.071637,17.368 41.5442185,15.896 L45.8960441,11.544 C47.3679853,10.072 47.3679853,7.57599999 45.8960441,6.104 C44.424103,4.632 41.928203,4.632 40.4562619,6.104 L36.1044358,10.456 C34.6318547,11.928 34.6318547,14.36 36.1044358,15.896"}),d("path",{fill:"#F4D8C6",d:"M37.4090998,13.5909091 C37.9539601,14.1363636 38.9242842,14.1363636 39.4691445,13.5909091 L43.5904457,9.46969696 C44.1365181,8.92424243 44.1365181,7.95454546 43.5904457,7.40909089 C43.0455854,6.86363637 42.0752613,6.86363637 41.530401,7.40909089 L37.4090998,11.530303 C36.8636334,12.0757576 36.8636334,13.0454546 37.4090998,13.5909091"}),d("path",{fill:"#D8B39A",d:"M21.8530678,15.896 C20.3869324,17.368 17.9008764,17.368 16.434741,15.896 L12.1000796,11.544 C10.6333068,10.072 10.6333068,7.57599999 12.1000796,6.104 C13.5662151,4.632 16.0516336,4.632 17.5184064,6.104 L21.8530678,10.456 C23.3823107,11.928 23.3823107,14.36 21.8530678,15.896"}),d("path",{fill:"#F4D8C6",d:"M19.5913636,13.5909091 C19.045909,14.1363636 18.0762122,14.1363636 17.5307577,13.5909091 L13.4095454,9.46969696 C12.8634849,8.92424243 12.8634849,7.95454546 13.4095454,7.40909089 C13.955,6.86363637 14.9246968,6.86363637 15.4701514,7.40909089 L19.5913636,11.530303 C20.1362121,12.0757576 20.1362121,13.0454546 19.5913636,13.5909091"}),d("path",{fill:"#D8B39A",d:"M48.5371708,20.2892322 C47.65102,11.9234177 41.3897756,5.31932388 33.3568625,3.68465342 C34.115878,2.99279598 34.7483908,2.11225014 35.1278984,1.23107533 C35.4441548,0.41405459 34.3682503,-0.341327953 33.6731189,0.162470058 C32.7243497,0.791431376 31.8381993,1.54555599 30.8894297,2.11225013 L30.5105546,2.30093853 C30.7003086,1.98645788 30.8894297,1.67197722 31.0798162,1.42039269 C31.3960726,0.854327488 30.5731734,0.162470032 30.131047,0.665639087 C29.0557751,1.92356171 27.7907496,2.67831529 26.46184,3.37017273 C17.1012825,3.68465339 9.38399329,10.7919163 8.30935384,20.0376476 L0.0866870745,91.2360686 C-0.672328476,97.650845 3.62875889,103.625978 10.0165061,105.009692 L10.9652752,105.198381 C22.6041443,107.651959 34.5586368,107.589063 46.1336218,105.073217 C52.3322478,103.689503 56.5700836,97.9030586 55.9375709,91.5505492 L48.5371708,20.2892322 Z"}),d("path",{fill:"#4F5256",fillRule:"nonzero",d:"M39.7115026,12 C40.9752615,12 42,13.0074764 42,14.2499473 C42,15.4924181 40.9752615,16.4998945 39.7115026,16.4998945 C38.4477436,16.4998945 37.4223695,15.4924181 37.4223695,14.2499473 C37.4223695,13.0074764 38.4477436,12 39.7115026,12 M18.2884974,12 C19.5522564,12 20.5769945,13.0074764 20.5769945,14.2499473 C20.5769945,15.4924181 19.5522564,16.4998945 18.2884974,16.4998945 C17.0247381,16.4998945 16,15.4924181 16,14.2499473 C16,13.0074764 17.0247381,12 18.2884974,12 M25.4083941,20 C24.9634083,20 24.6455615,19.6875073 24.6455615,19.2500176 C24.6455615,18.8125279 24.9634083,18.5000351 25.4083941,18.5000351 C27.8240301,18.5000351 28.2048105,15.9375952 28.2048105,15.8750967 C28.2690159,15.4376069 28.650432,15.1876128 29.0318481,15.2501113 C29.4761982,15.3126099 29.7311114,15.6876011 29.6675417,16.0625923 C29.5404032,17.4375601 28.3961545,20 25.4083941,20"}),d("path",{fill:"#4F5256",d:"M32.3049914,20 C29.3354086,20 28.1981215,17.3071689 28.0079418,15.862235 C27.945391,15.4024834 28.2613041,15.0084105 28.6397678,15.0084105 C29.0820463,14.9427318 29.4617737,15.2711258 29.4617737,15.6651987 C29.5249562,15.9279139 29.9034204,18.4237086 32.2411771,18.4237086 C32.684087,18.4237086 33,18.7521027 33,19.2118543 C33,19.671606 32.7466377,20 32.3049914,20"}),d("path",{fill:"#F4D8C6",d:"M13.37646,39.9181074 L7.06217175,91.8413751 C6.49951238,96.7954065 9.81295095,101.436519 14.689332,102.43924 L15.4395442,102.627368 C24.3170584,104.508646 33.5071615,104.445936 42.3840506,102.501949 C47.1985392,101.436519 50.4494597,96.920825 49.949318,92.0301299 L44.2595816,40.1062354 C43.5725121,32.6438334 37.3207415,27 29.8186169,27 L27.8180503,27 C20.4409609,27 14.2510827,32.5811242 13.37646,39.9181074"}),d("path",{fill:"#4F5256",d:"M27.5485698,14 C27.0827688,14 26.8155495,14.516129 27.1487406,14.9032258 C27.6158747,15.483871 28.2822568,16 29.0146107,16 C29.7482977,16 30.4146799,15.483871 30.8804808,14.9032258 C31.1470338,14.5806452 30.9477857,14 30.4806516,14 L27.5485698,14 Z"})))),d("g",{transform:"translate(114 16)"},void 0,d("mask",{id:"tooltip-voice-panel-d",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-c",cx:"12",cy:"12",r:"12"})),d("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"12",cy:"12",r:"12"}),d("g",{mask:"url(#tooltip-voice-panel-d)"},void 0,d("g",{transform:"translate(2)"},void 0,d("path",{fill:"#A38069",d:"M2.719586,9.57393518 C2.50247994,9.57393518 2.32879504,9.74759964 2.32879504,9.96468008 L2.32879504,41.5286221 C2.32879504,41.7457026 2.50247994,41.9189328 2.719586,41.9189328 C2.93669206,41.9189328 3.11037696,41.7457026 3.11037696,41.5286221 L3.11037696,9.96468008 C3.11037696,9.74759964 2.93669206,9.57393518 2.719586,9.57393518"}),d("path",{fill:"#FF966C",d:"M2.3881669,11.1338325 L0.694739334,9.44060439 C0.434212116,9.18010796 -7.08988424e-13,9.35377216 -7.08988424e-13,9.70110108 L-7.08988424e-13,10.6562553 C-7.08988424e-13,10.7430876 -7.08988424e-13,10.7865038 0.0434211599,10.8299198 L0.781581913,12.1758189 L-7.01634164e-13,11.5679936 L-7.01634164e-13,12.3494834 C-7.01634164e-13,12.5665641 0.0868423197,12.7402283 0.217106058,12.9138927 L2.34474574,15.041282 L2.34474574,11.1338325 L2.3881669,11.1338325 Z"}),d("path",{fill:"#D8B39A",d:"M0.910073179,44.5285653 L7.2495708,44.5285653 C7.5969406,44.5285653 7.90088897,44.2250868 7.90088897,43.8773237 L7.90088897,15.9177869 C7.90088897,15.5700238 7.5969406,15.2665453 7.2495708,15.2665453 L0.910073179,15.2665453 C0.562703383,15.2665453 0.258755005,15.5700238 0.258755005,15.9177869 L0.258755005,43.8773237 C0.258755005,44.2250868 0.562703383,44.5285653 0.910073179,44.5285653"}),d("polyline",{fill:"#A38069",points:".259 23.451 7.901 23.451 7.901 18.372 .259 18.372"}),d("polyline",{fill:"#937260",points:".259 21.701 7.901 21.701 7.901 20.442 .259 20.442"}),d("path",{fill:"#8FD171",d:"M2.32879504,42.4918014 L20.565706,42.4918014 L19.5235969,25.2985899 C19.3933331,22.9979707 17.4827995,21.2179104 15.1814752,21.2179104 L6.88802278,21.2179104 C5.06433174,21.2179104 3.54458907,22.6506418 3.41432533,24.4741181 L2.32879504,42.4918014 Z"}),d("path",{fill:"#E5D5C7",d:"M11.6129601,23.7344273 C12.611648,23.7344273 13.3498088,22.9529375 13.3498088,21.9977832 L13.3498088,16.7444346 C13.3498088,15.7892803 12.5682269,15.0077903 11.6129601,15.0077903 L11.5695389,15.0077903 C10.6142721,15.0077903 9.83269019,15.7892803 9.83269019,16.7444346 L9.83269019,21.9977832 C9.91953251,22.9529375 10.7011144,23.7344273 11.6129601,23.7344273"}),d("path",{fill:"#F9E2CF",d:"M11.6900548,19.6952366 L12.4716367,19.6952366 C16.2058614,19.6952366 19.2453465,16.6561094 19.2453465,12.9223244 L19.2453465,5.36792234 C19.2453465,3.67469427 17.8992887,2.32879504 16.2058614,2.32879504 L7.95583016,2.32879504 C6.30582402,2.32879504 4.91634509,3.67469427 4.91634509,5.36792234 L4.91634509,12.9223244 C4.91634509,16.6561094 7.95583016,19.6952366 11.6900548,19.6952366"}),d("path",{fill:"#4F5256",d:"M17.4287445,9.83269019 C17.9081148,9.83269019 18.297169,10.2212644 18.297169,10.7010122 C18.297169,11.1803261 17.9081148,11.5693345 17.4287445,11.5693345 C16.9493745,11.5693345 16.5603203,11.1803261 16.5603203,10.7010122 C16.5603203,10.2212644 16.9493745,9.83269019 17.4287445,9.83269019"}),d("path",{fill:"#FFC44D",d:"M7.44718174,1.77635684e-15 L19.3011739,1.77635684e-15 C20.9946012,1.77635684e-15 22.3840801,1.38931534 22.3840801,3.08254341 C22.3840801,4.77577147 20.9946012,6.16508681 19.3011739,6.16508681 L8.61955461,6.16508681 C7.40376058,6.16508681 6.44849377,7.12024106 6.44849377,8.335892 L6.44849377,14.978556 C6.44849377,15.7600458 5.92743907,16.4981196 5.14585716,16.6717841 C4.06032687,16.8888645 3.10506006,16.0639585 3.10506006,15.021972 L3.10506006,4.34161043 C3.10506006,1.9537247 5.05901484,1.77635684e-15 7.44718174,1.77635684e-15"}),d("path",{fill:"#4F5256",d:"M10.9598697,9.83269019 C11.4392397,9.83269019 11.8282939,10.2212644 11.8282939,10.7010122 C11.8282939,11.1803261 11.4392397,11.5693345 10.9598697,11.5693345 C10.4804994,11.5693345 10.0914452,11.1803261 10.0914452,10.7010122 C10.0914452,10.2212644 10.4804994,9.83269019 10.9598697,9.83269019"}),d("path",{fill:"#F9E2CF",d:"M6.31950461,9.83269019 L5.7116076,9.83269019 C4.79976194,9.83269019 3.97475887,10.4839318 3.88791629,11.39567 C3.80107397,12.4376565 4.58265589,13.3059785 5.62476502,13.3059785 L6.31950461,13.3059785 C6.58003183,13.3059785 6.75371673,13.1323141 6.75371673,12.8718177 L6.75371673,10.2668513 C6.75371673,10.0497709 6.58003183,9.83269019 6.31950461,9.83269019"}),d("path",{fill:"#E5D5C7",d:"M6.95182555,10.8677102 L6.3873497,10.8677102 C5.99655874,10.8677102 5.69261011,11.1716229 5.69261011,11.5623678 C5.69261011,11.9531127 5.99655874,12.2570253 6.3873497,12.2570253 L6.95182555,12.2570253 L6.95182555,10.8677102 Z"}),d("path",{fill:"#FFC44D",fillRule:"nonzero",d:"M9.36214602,8.84979429 L11.6634703,8.84979429 C11.967419,8.84979429 12.2279462,8.58929787 12.2279462,8.28538494 L12.2279462,8.15513672 C12.2279462,7.85122405 11.967419,7.59072737 11.6634703,7.59072737 L9.36214602,7.59072737 C9.05819738,7.59072737 8.79767017,7.85122405 8.79767017,8.15513672 L8.79767017,8.24196895 C8.79767017,8.58929787 9.05819738,8.84979429 9.36214602,8.84979429 M17.4817831,8.84979429 L18.7409986,8.84979429 C19.0015258,8.84979429 19.2186318,8.63271385 19.2186318,8.37221717 L19.2186318,7.98147227 C19.2186318,7.72097558 19.0015258,7.50389514 18.7409986,7.50389514 L17.4817831,7.50389514 C17.2212559,7.50389514 17.0041498,7.72097558 17.0041498,7.98147227 L17.0041498,8.37221717 C17.047571,8.63271385 17.2212559,8.84979429 17.4817831,8.84979429"}),d("path",{fill:"#4F5256",d:"M3.28721536,36.8511912 L3.37405794,36.8511912 C16.3570016,34.1598269 16.9648986,21.2652439 16.9648986,21.1345613 C16.9648986,20.8740648 16.7912137,20.7004004 16.5306865,20.7004004 C16.3135804,20.7004004 16.0964743,20.8740648 16.0964743,21.1345613 C16.0964743,21.6555546 15.5319985,33.5085853 3.20037304,36.0267194 C2.98326698,36.0697012 2.80958209,36.2867819 2.85300325,36.5477125 C2.89642441,36.7209428 3.0701093,36.8511912 3.28721536,36.8511912"}),d("path",{fill:"#FFF",d:"M14.3688781,15.0234649 C15.0201963,15.0234649 15.541251,14.5024715 15.541251,13.8512299 C15.541251,13.1999884 15.0201963,12.6789952 14.3688781,12.6789952 C13.7175599,12.6789952 13.1965052,13.1999884 13.1965052,13.8512299 C13.1965052,14.5024715 13.7175599,15.0234649 14.3688781,15.0234649"})))),d("g",{transform:"translate(132 43)"},void 0,d("mask",{id:"tooltip-voice-panel-f",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-e",cx:"15",cy:"15",r:"15"})),d("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"15",cy:"15",r:"15"}),d("g",{mask:"url(#tooltip-voice-panel-f)"},void 0,d("g",{transform:"translate(-4 -9)"},void 0,d("path",{fill:"#495672",d:"M18.8037601,4.97695346 L12.7382853,8.66539356 C11.5979688,9.36492532 10.1568106,8.91976873 9.49627954,7.77508042 L9.31553454,7.45711145 C8.6556039,6.24882934 9.0759419,4.72257829 10.1568106,4.02304654 L16.2210845,0.334606435 C17.3626019,-0.364925316 18.8037601,0.0802312735 19.4642912,1.22491958 L19.6438353,1.54288855 C20.365015,2.75117066 19.9440765,4.34101551 18.8037601,4.97695346"}),d("path",{fill:"#4F5256",d:"M19,39 C24.4999999,39 29,34.5243244 29,29.0540543 L29,23.4594595 C29,19.356757 25.6249999,16 21.5000001,16 L16.4999999,16 C12.3743751,16 9,19.356757 9,23.4594595 L9,29.0540543 C9,34.5243244 13.5000001,39 19,39"}),d("path",{fill:"#EBEFFC",fillRule:"nonzero",d:"M26.7039394,25.0000025 C27.4182921,24.9985029 27.9987038,25.6690013 27.9999978,26.4977501 C28.0012919,27.3257483 27.4228213,27.9984974 26.7084689,27.9999975 C25.9934691,28.0014976 25.4130575,27.3309987 25.4117634,26.503 C25.4104694,25.6742517 25.9895866,25.0015026 26.7039394,25.0000025 M18.2921781,25.0000025 C19.0065305,24.9985029 19.5869421,25.6690013 19.5882362,26.4977501 C19.5895302,27.3257483 19.01106,27.9984974 18.2967073,27.9999975 C17.5817075,28.0014976 17.0012962,27.3309987 17.0000022,26.5022499 C16.9987077,25.6742517 17.5778253,25.0015026 18.2921781,25.0000025"}),d("path",{fill:"#5D6989",d:"M18.9362105,0 C17.4210526,0 16.0309473,0.862170099 15.3993684,2.27859238 L7,21 L31,20.9384162 L22.5362107,2.27859238 C21.8421051,0.92375369 20.4519998,5.21582512e-15 18.9362105,5.21582512e-15"}),d("path",{fill:"#495672",fillRule:"nonzero",d:"M9.7162639,16.0601818 L7,21.9861096 L31,21.9255674 L28.2841125,16 M9.08467853,29 L11.7366836,29 C11.8004735,28.879068 11.8629999,28.8186022 11.8629999,28.6372041 L11.8629999,25.0092462 C11.8629999,24.6464507 11.6109993,24.4045868 11.2314194,24.4045868 L10.3478387,24.4045868 C9.02088905,24.4045868 7.82151834,25.3115763 7.6952021,26.5813613 C7.63141261,27.6697489 8.20046632,28.5767383 9.08467853,29"}),d("path",{fill:"#FFF24A",d:"M22.0812225,14.9629012 C21.3470286,14.1979998 20.9793194,13.3693566 20.7352001,12.4769717 C20.6128342,12.0307792 20.0615768,11.8395538 19.6950916,12.1582627 C18.1043373,13.7518073 17.4925089,16.2377368 18.4714343,18.532441 C19.5115429,21.0821123 22.2029766,22.4844314 24.7726563,21.8470135 C27.0976045,21.2733375 28.6889705,19.2973423 28.9948847,17.0026382 C29.0554557,16.4927039 28.566605,16.1102533 28.137713,16.3014786 C27.3429477,16.6201875 26.485776,16.8114128 25.4462793,16.6201875 C24.1608278,16.5564457 22.9989656,15.9190279 22.0812225,14.9629012"}),d("path",{fill:"#5D6989",fillRule:"nonzero",d:"M31.7916208,23.5208431 L5.45941283,23.5838644 C4.76913299,23.5838644 4.20549831,23.0166747 4.20549831,22.3234428 C4.20549831,21.6302106 4.76913299,21.0630209 5.45941283,21.0630209 L31.7916208,21 C32.4812741,21 33.0455357,21.5671897 33.0455357,22.2604216 C33.0455357,22.9536534 32.4812741,23.5208431 31.7916208,23.5208431 Z M35.7413266,89 C36.4936755,89 37.0579371,88.3061379 36.9952415,87.550515 L30.9137551,41.1039772 C30.4748851,38.0159444 27.8416644,35.6841644 24.7068777,35.6841644 L11.8542523,35.6841644 C8.65677001,35.6841644 6.02354891,38.0789653 5.64737463,41.2300194 L0.0047585194,87.550515 C-0.0579371321,88.3061379 0.506324479,88.9363488 1.25867342,88.9363488 L35.7413266,88.9363488 L35.7413266,89 Z"}),d("path",{fill:"#495672",d:"M27.8662395,61.7493215 C27.9911638,61.0614484 28.1801201,60.3735752 28.5567768,59.7482358 C29.0583582,58.872761 29.498419,57.9972858 30,57.121811 C17.4447739,54.5579199 15.3110134,43.1767452 15.2476096,42.6139399 C14.9971327,40.9255237 13.3643255,39.7373793 11.66937,40.0500489 C9.97504215,40.3001846 8.78229574,41.9260667 9.03340031,43.6144826 C9.97504215,49.4301379 14.9971327,59.8733037 27.5523589,63 C27.6151349,62.5622626 27.7406874,62.1245252 27.8662395,61.7493215"}),d("path",{fill:"#5D6989",d:"M28.7565605,30 L26.3684234,30 C25.7560802,30 25.2662061,30.4549333 25.1437373,31.1048373 L24.4089261,35.8491387 L22.4494287,35.8491387 L21.9595543,31.169828 C21.8983201,30.5199235 21.3472115,30 20.7348686,30 L9.22282158,30 C8.24307311,30 7.69196447,31.169828 8.18183889,32.0147035 L11.8558963,38.0588133 L19.142777,41.3083347 C19.0815427,42.3481813 20.1225254,43.2580475 21.1022743,42.9330951 C22.0207885,42.6081431 22.694366,42.0882196 23.18424,41.243344 C23.3067088,40.9833823 23.367943,40.7234209 23.367943,40.4634591 L27.9605147,38.0588133 L29.920012,31.7547418 C30.2261834,30.8448756 29.6138406,30 28.7565605,30"}),d("path",{fill:"#495672",d:"M8.62857135,35 L29.3714283,35 C29.7491999,35 30,35.2666664 30,35.6666665 L30,36.3333335 C30,36.7333336 29.7491999,37 29.3714283,37 L8.62857135,37 C8.25142862,37 8,36.7333336 8,36.3333335 L8,35.6666665 C8,35.2666664 8.31428568,35 8.62857135,35"})))),d("g",{transform:"translate(74 6)"},void 0,d("mask",{id:"tooltip-voice-panel-h",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"})),d("circle",{fill:"#4e5d94",fillRule:"nonzero",id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"}),d("g",{mask:"url(#tooltip-voice-panel-h)"},void 0,d("g",{transform:"translate(1)"},void 0,d("path",{fill:"#5C8F9E",d:"M10.8000001,28 L9,28 C5.70000004,28 3,30.5961539 3,33.7692307 L3,35.8461539 C3,36.4807693 3.54000001,37 4.20000021,37 L12,37 L12,29.1538461 C12,28.5192307 11.46,28 10.8000001,28"}),d("path",{fill:"#E5D5C7",d:"M15.9753085,33 C14.839506,33 14,31.9199998 14,30.5999999 L14,23.4000001 C14,22.0799999 14.888889,21 15.9753085,21 L16.0246915,21 C17.111111,21 18,22.0799999 18,23.4000001 L18,30.66 C17.9506173,31.9199998 17.0617284,33 15.9753085,33"}),d("path",{fill:"#5C8F9E",d:"M6.21666659,27 C4.99166678,27 4,26.04375 4,24.8624999 L4,9 L11,9 L8.37499991,25.1999999 C8.20000014,26.26875 7.26666662,27 6.21666659,27"}),d("path",{fill:"#F9E2CF",d:"M16.5454547,27 L15.4545456,27 C10.2424244,27 6,22.7999998 6,17.6399999 L6,9.59999997 C6,5.94000001 9.03030301,3 12.6666669,3 L19.3333335,3 C22.969697,3 26,5.94000001 26,9.59999997 L26,17.6399999 C26,22.7999998 21.7575756,27 16.5454547,27"}),d("path",{fill:"#80B1C7",d:"M29,8.21739129 L29,24.7695651 C29,26.0021739 27.9744779,27 26.7076564,27 L24.2946636,27 C23.1484917,27 22.2436194,26.1782607 22.0626451,25.1217391 L20.1322504,13.147826 C19.9512761,12.0326087 18.925754,11.1521739 17.7192576,11.1521739 L3,11.1521739 L3,8.21739129 C3,3.69782608 6.80046408,0 11.4454757,0 L20.4941996,0 C25.1995359,0 29,3.69782608 29,8.21739129"}),d("path",{fill:"#E5D5C7",d:"M14.2051284,17 L10.7948716,17 C9.7777775,17 9,16.1860465 9,15.255814 L9,13.7441861 C9,12.755814 9.7777775,12 10.7948716,12 L14.2051284,12 C15.2222221,12 16,12.755814 16,13.7441861 L16,15.255814 C16,16.244186 15.1623932,17 14.2051284,17"}),d("path",{fill:"#A2C9D6",d:"M26,16 L4.16751289,16 C3.52538072,16 3,15.4508087 3,14.7795749 L3,10.6301294 C3,8.49438551 4.05076143,6.54170531 5.74365504,5.44332271 L9.24619302,3.18553623 C9.53807116,3.00247249 9.88832485,2.94145122 10.180203,3.06349373 L21.7969543,6.54170531 C24.3071064,7.27396041 26,9.71481062 26,12.3997459 L26,16 Z"}),d("path",{fill:"#B2DBE8",d:"M25,13 C26.6565997,13 28,14.3434 28,16 C28,17.6572 26.6565997,19 25,19 C23.3428,19 22,17.6572 22,16 C22,14.3434 23.3428,13 25,13"}),d("path",{fill:"#80B1C7",d:"M25.5000002,14 C26.3279999,14 27,14.672 27,15.5 C27,16.32875 26.3279999,17 25.5000002,17 C24.6720001,17 24,16.32875 24,15.5 C24,14.672 24.6720001,14 25.5000002,14"}),d("path",{fill:"#FFF",d:"M14.0435392,21 L10.9514208,21 C10.4162465,21 10,20.5625001 10,20.0000001 C10,19.4375002 10.4162465,19 10.9514208,19 L14.0435392,19 C14.5787135,19 14.9949599,19.4375002 14.9949599,20.0000001 C15.0544237,20.5625001 14.5787135,21 14.0435392,21"}),d("path",{fill:"#80B1C7",fillRule:"nonzero",d:"M4.73758608,15 C4.34042422,15 4,14.6307692 4,14.2 L4,9.64615387 C4,9.21538461 4.34042422,8.84615387 4.73758608,8.84615387 C5.13474761,8.84615387 5.47517216,9.21538461 5.47517216,9.64615387 L5.47517216,14.2 C5.41843485,14.6307692 5.13474761,15 4.73758608,15 M7.63124956,15 C7.23408769,15 6.89366348,14.6307692 6.89366348,14.2 L6.89366348,7.8 C6.89366348,7.36923078 7.23408769,7 7.63124956,7 C8.02841109,7 8.36883564,7.36923078 8.36883564,7.8 L8.36883564,14.2 C8.36883564,14.6307692 8.02841109,15 7.63124956,15 M10.5246294,15 C10.1274675,15 9.78704328,14.6307692 9.78704328,14.2 L9.78704328,7.8 C9.78704328,7.36923078 10.1274675,7 10.5246294,7 C10.9217909,7 11.2622154,7.36923078 11.2622154,7.8 L11.2622154,14.2 C11.2622154,14.6307692 10.9217909,15 10.5246294,15 M13.4182928,15 C13.021131,15 12.6807068,14.6307692 12.6807068,14.2 L12.6807068,9.03076922 C12.6807068,8.6 13.021131,8.23076922 13.4182928,8.23076922 C13.8154544,8.23076922 14.1558789,8.6 14.1558789,9.03076922 L14.1558789,14.2 C14.1558789,14.6307692 13.8154544,15 13.4182928,15 M16.3687504,15 C15.9715886,15 15.6311644,14.6307692 15.6311644,14.2 L15.6311644,9.64615387 C15.6311644,9.21538461 15.9715886,8.84615387 16.3687504,8.84615387 C16.765912,8.84615387 17.1063365,9.21538461 17.1063365,9.64615387 L17.1063365,14.2 C17.0495989,14.6307692 16.765912,15 16.3687504,15 M19.2624139,15 C18.8652521,15 18.5248278,14.6307692 18.5248278,14.2 L18.5248278,10.8769231 C18.5248278,10.4461539 18.8652521,10.0769231 19.2624139,10.0769231 C19.6595754,10.0769231 20,10.4461539 20,10.8769231 L20,14.2 C20,14.6307692 19.6595754,15 19.2624139,15"}),d("path",{fill:"#A2C9D6",d:"M28.3999997,58.0901014 L16.0399998,64.8525333 C15.62,65.0843056 15.08,65.0259292 14.7199998,64.7953129 L5.48000009,58.0901014 C5.18000012,57.8594852 5,57.512116 5,57.1653246 L5,35.7798562 C5,32.6009354 7.70000004,30 11,30 L23,30 C26.3,30 29,32.6009354 29,35.7798562 L29,57.0497274 C29,57.512116 28.76,57.8594852 28.3999997,58.0901014"}),d("path",{fill:"#80B1C7",d:"M2.91125019,62 C2.21592543,62 1.57854406,61.7622661 0.999106569,61.2867982 C-0.217712152,60.2169959 -0.333599636,58.3151248 0.709387824,57.0670221 L23.8868874,30.0247935 C24.9298749,28.7766905 26.7840749,28.6578236 28.0008934,29.7276259 C29.2177122,30.7974286 29.3335996,32.6992994 28.2906121,33.9474023 L5.11311287,60.989631 C4.53367511,61.7028328 3.72246265,62 2.91125019,62"}),d("path",{fill:"#5C8F9E",fillRule:"nonzero",d:"M14.5420405,41.907808 L12,44.8522698 C13.4779305,46.1751438 14.8967438,47.5569193 16.2564399,49 L18.9167151,45.8746273 C17.4979018,44.5517533 16.019971,43.2294803 14.5420405,41.907808 M26.6610717,38.1211187 L20.9858181,33.5532663 C20.2172941,32.952233 20.0990598,31.8102698 20.690232,31.0289267 L21.3996385,30.0672737 C23.2322725,27.7232442 26.542837,27.302521 28.848409,29.1657239 L28.9666433,29.2859305 C31.2722152,31.1491333 31.6860356,34.5149193 29.8534019,36.8589488 L29.1439951,37.8206018 C28.5528229,38.601945 27.4295957,38.7221517 26.6610717,38.1211187"}),d("path",{fill:"#5C8F9E",d:"M21.4135821,45.8841771 L15.9520674,52.2048348 C15.0897227,53.1685849 13.6524821,53.2889781 12.6751582,52.3860273 L11.1804277,51.0009001 C10.9504691,50.7607151 10.9504691,50.3989325 11.1229382,50.1587475 L18.9415281,41.1888313 C19.1714867,40.9480443 19.5164243,40.9480443 19.7463829,41.1292364 L21.2411134,42.5131596 C22.1609474,43.3565158 22.2759268,44.9210291 21.4135821,45.8841771"})))))),f=function(e){var t=e.userAvatar;return d("div",{className:u.default.container},void 0,d("div",{className:u.default.avatar},void 0,d(l.default,{src:t,"aria-hidden":!0,size:l.default.Sizes.SIZE_80,className:u.default.avatarSizeOverride})),c)};f.displayName="Media";var p=d(a.default.connectStores([o.default],function(){var e=o.default.getCurrentUser();return{userAvatar:e?e.getAvatarURL():i.DEFAULT_AVATARS[0]}})(f),{});t.default=function(){return p}},9115:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=h(n(3)),o=n(6529),l=h(n(14)),i=h(n(860)),u=h(n(19)),s=h(n(11)),d=h(n(6521)),c=h(n(328)),f=n(88),p=h(n(6440));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=v("g",{fill:"none",fillRule:"evenodd"},void 0,v("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),v("path",{fill:"#ACB0FF",d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),v("path",{fill:"#FFF",d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"}),v("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),v("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),v("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)"},void 0,v("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),v("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),v("circle",{cx:"18.5",cy:"2.5",r:"2.5"})),v("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#7289DA",fillRule:"nonzero",rx:"3"}),v("path",{fill:"#7289DA",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),v("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(23 19)"},void 0,v("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),v("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),v("circle",{cx:"18.5",cy:"2.5",r:"2.5"}))),_=function(e){var t=e.guild,n=e.channelAvatar,r=e.userAvatar,a=v(c.default,{src:r,"aria-hidden":!0,size:c.default.Sizes.SIZE_80,className:p.default.avatarSizeOverride}),o=null;return o=t?v(d.default,{guild:t}):n?v(c.default,{"aria-hidden":!0,src:n,size:c.default.Sizes.SIZE_80,className:p.default.avatarSizeOverride}):a,v("div",{className:p.default.container},void 0,v("div",{className:p.default.personAvatar},void 0,a),v("div",{className:p.default.guildAvatar},void 0,o),v("svg",{className:p.default.illustration,xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55"},void 0,m))};_.displayName="Media";var g=v(a.default.connectStores([u.default,i.default,s.default],function(){var e=u.default.getGuild(i.default.getGuildId()),t=null;if(null==e){var n=i.default.getChannelId(null),r=l.default.getChannel(n);t=r&&(0,o.getChannelIconURL)(r)}var a=s.default.getCurrentUser();return{guild:e,channelAvatar:t,userAvatar:a?a.getAvatarURL():f.DEFAULT_AVATARS[0]}})(_),{});t.default=function(){return g}},9116:function(e,t,n){"use strict";t.__esModule=!0,t.getTutorialPopoutText=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),l=c(n(19)),i=c(n(153)),u=c(n(42)),s=c(n(4)),d=c(n(6441));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(){return a.createElement(a.Fragment,null,s.default.Messages.TIP_INSTANT_INVITE_BODY3.format({shareIcon:u.default.Names.INVITE,shareIconHook:function(){return f(u.default,{name:u.default.Names.INVITE,className:d.default.icon})}}))},h=function(){return a.createElement(a.Fragment,null,s.default.Messages.TIP_ORGANIZE_BY_TOPIC_BODY3.format())},v=f(function(){var e=(0,o.useStateFromStores)([i.default],function(){return l.default.getGuild(i.default.getGuildId())},[]),t=null==e?void 0:e.name;return a.createElement(a.Fragment,null,s.default.Messages.TIP_WRITING_MESSAGES_BODY3.format({serverName:t}))},{}),m=f(p,{}),_=f(h,{});t.getTutorialPopoutText=function(e){var t,n=!1,r={VOICE_CONVERSATIONS:{title:s.default.Messages.TIP_VOICE_CONVERSATIONS_TITLE3,body:s.default.Messages.TIP_VOICE_CONVERSATIONS_BODY3},WRITING_MESSAGES:{title:s.default.Messages.TIP_WRITING_MESSAGES_TITLE3,body:s.default.Messages.TIP_WRITING_MESSAGES_BODY3},ORGANIZE_BY_TOPIC:{title:s.default.Messages.TIP_ORGANIZE_BY_TOPIC_TITLE3,body:s.default.Messages.TIP_ORGANIZE_BY_TOPIC_BODY3},WHOS_ONLINE:{title:s.default.Messages.TIP_WHOS_ONLINE_TITLE3,body:s.default.Messages.TIP_WHOS_ONLINE_BODY3},INSTANT_INVITE:{title:s.default.Messages.TIP_INSTANT_INVITE_TITLE3,body:s.default.Messages.TIP_INSTANT_INVITE_BODY3},SERVER_SETTINGS:{title:s.default.Messages.TIP_SERVER_SETTINGS_TITLE3,body:s.default.Messages.TIP_SERVER_SETTINGS_BODY3},DIRECT_MESSAGES:{title:s.default.Messages.TIP_DIRECT_MESSAGES_TITLE3,body:s.default.Messages.TIP_DIRECT_MESSAGES_BODY3},CREATE_MORE_SERVERS:{title:s.default.Messages.TIP_CREATE_MORE_SERVERS_TITLE3,body:s.default.Messages.TIP_CREATE_MORE_SERVERS_BODY3},CREATE_FIRST_SERVER:{title:s.default.Messages.TIP_CREATE_FIRST_SERVER_TITLE3,body:s.default.Messages.TIP_CREATE_FIRST_SERVER_BODY3},FRIENDS_LIST:{title:s.default.Messages.TIP_FRIENDS_LIST_TITLE3,body:s.default.Messages.TIP_FRIENDS_LIST_BODY3}}[e.replace(/-/g,"_").toUpperCase()]||{},a=r.title;switch(e){case"writing-messages":t=v;break;case"instant-invite":t=m;break;case"organize-by-topic":t=_,n=!0;break;default:t=r.body.format()}return{title:a,body:t,isLongText:n}}},9117:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;P(n(0));var r,a=M(n(8)),o=M(n(873)),l=M(n(890)),i=M(n(59)),u=M(n(3)),s=M(n(30)),d=M(n(6750)),c=M(n(7061)),f=M(n(14)),p=M(n(6708)),h=M(n(859)),v=M(n(463)),m=M(n(64)),_=M(n(39)),g=M(n(153)),E=M(n(11)),y=P(n(6592)),S=M(n(96)),I=M(n(7682)),T=M(n(6866)),O=n(1),N=M(n(4)),C=M(n(6035)),A=M(n(5945));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=(0,o.default)({displayName:"UploadArea",mixins:[u.default.StoreListenerMixin(f.default,h.default,_.default,g.default,m.default),l.default],getInitialState:function(){return{dragging:!1,requireConfirm:!0}},getStateFromStores:function(){var e=_.default.getChannelId(),t=f.default.getChannel(e);return{hasLayers:h.default.hasLayers(),channel:t,canAttachFiles:null!=t&&m.default.can(O.Permissions.ATTACH_FILES,t)}},componentDidMount:function(){document.body.addEventListener("dragover",this.handleDragOver,!1),document.body.addEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("drop",this.handleDrop,!1)},componentWillUnmount:function(){document.body.removeEventListener("dragover",this.handleDragOver,!1),document.body.removeEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("drop",this.handleDrop,!1),clearTimeout(this.dragOverTimeout)},render:function(){var e,t=this.state.dragging&&this.canDropFile(),n=N.default.Messages.UPLOAD_AREA_TITLE;this.state.requireConfirm||(n=N.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION);var r=null;return t&&(r=R("div",{},void 0,R("div",{className:(0,a.default)(C.default.sparkleWhite,A.default.sparkleOne)}),R("div",{className:(0,a.default)(C.default.sparkleWhite,A.default.sparkleTwo)}),R("div",{className:(0,a.default)(C.default.lightWhite,A.default.lightOne)}),R("div",{className:(0,a.default)(C.default.lightWhite,A.default.lightTwo)}),R("div",{className:(0,a.default)(C.default.crossWhite,A.default.crossOne)}),R("div",{className:(0,a.default)(C.default.crossWhite,A.default.crossTwo)}),R("div",{className:(0,a.default)(C.default.popWhite,A.default.popOne)}))),R("div",{className:(0,a.default)(A.default.uploadArea,(e={},e[A.default.uploadModalIn]=t,e))},void 0,R("div",{className:A.default.uploadDropModal},void 0,r,R("div",{className:A.default.bgScale}),R("div",{className:A.default.inner},void 0,R("div",{className:A.default.icons},void 0,R("div",{className:A.default.wrapOne},void 0,R("div",{className:(0,a.default)(A.default.icon,A.default.one)})),R("div",{className:A.default.wrapThree},void 0,R("div",{className:(0,a.default)(A.default.icon,A.default.three)})),R("div",{className:A.default.wrapTwo},void 0,R("div",{className:(0,a.default)(A.default.icon,A.default.two)}))),R("div",{className:A.default.title},void 0,n),R("div",{className:A.default.instructions},void 0,R("pre",{},void 0,N.default.Messages.UPLOAD_AREA_HELP)))))},canDropFile:function(){var e=this.state,t=e.channel,n=e.hasLayers,r=e.canAttachFiles;return t&&!n&&(t.isPrivate()&&!t.isManaged()||r&&p.default.canChatInGuild(g.default.getGuildId()))},isAllDropFiles:function(e){for(var t=0;t<e.length;t++)try{var n=e[t].webkitGetAsEntry()||e[t].getAsEntry();if(n&&!n.isFile)return!1}catch(e){continue}return!0},dragOverTimeout:null,preventUnwantedDrop:function(e,t){void 0===t&&(t=!1);var n=e.dataTransfer,r=n.types instanceof Array&&-1!==n.types.indexOf("text/uri-list")&&-1===n.types.indexOf("application/json"),a=null!=n.items&&!this.isAllDropFiles(n.items);return!r&&!a||(e.stopPropagation(),e.preventDefault(),n.effectAllowed="none",n.dropEffect="none",t&&(this.setState({dragging:!1}),s.default.push(T.default,{title:N.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:N.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP})),!1)},handleDragOver:function(e){var t=this;if(!this.preventUnwantedDrop(e))return!1;e.dataTransfer.dropEffect="move";var n=v.default.getModal();n&&n.modal===T.default&&s.default.pop(),e.stopPropagation(),e.preventDefault(),this.state.dragging?this.state.dragging&&e.shiftKey!==!this.state.requireConfirm&&this.setState({requireConfirm:!e.shiftKey}):(e.dataTransfer.types instanceof DOMStringList&&e.dataTransfer.types.contains("application/x-moz-file")||e.dataTransfer.types instanceof Array&&-1!==e.dataTransfer.types.indexOf("Files"))&&this.setState(function(t){return t.dragging?{}:{dragging:!0,requireConfirm:!e.shiftKey}}),clearTimeout(this.dragOverTimeout),this.dragOverTimeout=setTimeout(function(){t.setState({dragging:!1,requireConfirm:!0})},1e3)},handleDragLeave:function(e){this.state.dragging&&(e.stopPropagation(),e.preventDefault(),this.clearDragging())},clearDragging:function(){this.setState({dragging:!1,requireConfirm:!0})},handleDrop:function(e){if(!this.preventUnwantedDrop(e,!0))return!1;this.state.dragging&&(e.preventDefault(),e.stopPropagation(),this.canDropFile()&&this.promptToUpload(e.dataTransfer.files,this.state.channel.id,!0,this.state.requireConfirm),this.clearDragging())},promptToUpload:function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0);var a=g.default.getGuildId();if(y.anyFileTooLarge(e,a)){var o=E.default.getCurrentUser();s.default.push(T.default,{title:N.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:N.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:y.sizeString(y.maxFileSize(a))}),promo:!S.default.canUploadLargeFiles(o)})}else r?(c.default.pushFiles({files:e,channelId:t}),v.default.isModalOpen(I.default)||s.default.push(I.default,{backdropInstant:n})):d.default.instantBatchUpload(t,e)}});t.default=b},9118:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=l(n(16)),o=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){var t,n;function l(t){var n;return(n=e.call(this,t)||this).ref=r.createRef(),n._animate=n._animate.bind(u(n)),n._animationCleanup=n._animationCleanup.bind(u(n)),n.state={shaking:!1},n}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=l.prototype;return s.getDefaultAnimProps=function(e,t){return{duration:e||300,progress:0,last:Date.now(),intensity:t||5,lastDirection:-1,frameCount:0}},s.componentWillUnmount=function(){this._animationCleanup()},s.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t),this.state.shaking||this.setState({shaking:!0},this._animate)},s.stop=function(){this.state.shaking&&this.setState({shaking:!1})},s._animate=function(){var e=this.animProps;if(!this.state.shaking||e.progress>e.duration||null==this.ref.current)this._animationComplete();else{var t=Date.now();if(e.progress+=t-e.last,e.last=t,e.frameCount%2){var n=e.lastDirection*e.intensity,r=o.default.random(-e.intensity,e.intensity,!0),l=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,l),e.lastDirection*=-1,(0,a.default)(null!=this.ref.current,"Shakeable style set when not mounted"),this.ref.current.style.transform="translate3d("+n+"px,"+r+"px,0px)"}e.frameCount+=1,this._animationFrame=requestAnimationFrame(this._animate)}},s._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)},s._animationCleanup=function(){null!=this.ref.current&&(this.ref.current.style.transform=""),cancelAnimationFrame(this._animationFrame)},s.render=function(){return r.createElement("div",i({},this.props,{ref:this.ref}))},l}(r.Component);s.displayName="Shakeable";var d=s;t.default=d},9119:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=T(n(8)),l=T(n(118)),i=T(n(3)),u=T(n(27)),s=T(n(7055)),d=T(n(6619)),c=T(n(355)),f=T(n(7673)),p=T(n(106)),h=T(n(42)),v=T(n(6620)),m=n(921),_=T(n(20)),g=T(n(13)),E=n(467),y=n(1),S=T(n(4)),I=T(n(6443));function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=1e4,C=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).videoRef=null,n._noProblemsTimeout=null,n._problemsTimeout=null,n._connectedSound=(0,E.createSound)("discodo"),n.handleReady=function(){if(n.setState({ready:!0}),g.default.isDesktop()){var e=d.default.map(function(e){return e[0]});_.default.send("UPDATED_QUOTES",e)}},n.setVideoRef=function(e){n.videoRef=e},n.setProblemsTimeout=function(){null==n._problemsTimeout&&(n._problemsTimeout=setTimeout(function(){return n.setState({problems:!0})},N))},n.clearProblemsTimeout=function(){clearTimeout(n._problemsTimeout),n._problemsTimeout=null};var r=d.default[Math.floor(Math.random()*d.default.length)],a=r[0],o=r[1],i=r[2],u=t.connected;return n.state={ready:u,quote:a,author:o,type:i,hide:u,problems:!1,shouldRender:!u,opacity:new l.default.Value(u?0:1)},n._connectedSound.volume=1,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.setProblemsTimeout()},a.componentDidUpdate=function(e,t){var n=this,r=this.state,a=r.ready,o=r.hide,i=r.problems,d=r.opacity,c=this.props.connected,f=c&&a&&!o&&!i;if(e.connected!==c||f)if(c&&null!=this.videoRef){var p=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout),u.default.get(y.DISCODO)&&this._connectedSound.play(),this._noProblemsTimeout=setTimeout(function(){n.setState({problems:!1,hide:c})},p)}else this.setState({problems:!1,hide:c});else t.hide!==o?(o?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),l.default.timing(d,{toValue:o?0:1,duration:200}).start(function(){return n.setState({shouldRender:!o})})):t.problems!==i&&i&&s.default.checkIncidents()},a.componentWillUnmount=function(){this.clearProblemsTimeout(),clearTimeout(this._noProblemsTimeout)},a.render=function(){if(this.state.shouldRender){var e,t,n=this.state.quote,r=this.props.connected?S.default.Messages.READY:S.default.Messages.CONNECTING;switch(null!=this.props.incident&&(n=this.props.incident.name,r=this.props.incident.incident_updates[0].body),this.state.type){case"facebook":t=S.default.Messages.QUOTE_ATTRIBUTION_FACEBOOK.format({url:"https://www.facebook.com/discordapp/"});break;case"instagram":t=S.default.Messages.QUOTE_ATTRIBUTION_INSTAGRAM.format({url:"https://www.instagram.com/"+this.state.author+"/"});break;case"twitter":t=S.default.Messages.QUOTE_ATTRIBUTION.format({name:"@"+this.state.author,url:"https://twitter.com/"+this.state.author})}return t&&(t=O("div",{className:I.default.attribution},void 0,t)),O(l.default.div,{className:I.default.container,style:{opacity:this.state.opacity}},void 0,O("div",{className:I.default.content},void 0,O(v.default,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?I.default.ready:""}),O("div",{className:I.default.quote},void 0,n),t,O("div",{className:I.default.status},void 0,r)),O("div",{className:(0,o.default)(I.default.problems,(e={},e[I.default.slideIn]=this.state.problems,e))},void 0,O("div",{className:I.default.problemsText},void 0,S.default.Messages.CONNECTING_PROBLEMS_CTA),O("div",{},void 0,O(p.default,{className:I.default.twitterLink,href:(0,m.getLocalizedLink)(y.LocalizedLinks.TWITTER),target:"_blank"},void 0,O(h.default,{name:h.default.Names.TWITTER,className:I.default.icon}),S.default.Messages.TWEET_US),O(p.default,{className:I.default.statusLink,href:y.STATUS_PAGE_ENDPOINT,target:"_blank"},void 0,O(h.default,{name:h.default.Names.STATUS,className:I.default.icon}),S.default.Messages.SERVER_STATUS))))}return null},r}(a.PureComponent);C.displayName="ConnectingModal";var A=i.default.connectStores([c.default,f.default],function(){return{isTryingToConnect:c.default.isTryingToConnect(),connected:c.default.isConnected(),incident:f.default.getIncident()}})(function(e){var t=e.isTryingToConnect,n=e.connected,r=e.incident;return t?O(C,{connected:n,incident:r}):null});t.default=A},9120:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=k(n(3)),a=k(n(7349)),o=k(n(9121)),l=k(n(7362)),i=k(n(9123)),u=k(n(7363)),s=k(n(7365)),d=k(n(7367)),c=k(n(9126)),f=k(n(9135)),p=k(n(9138)),h=k(n(9141)),v=k(n(9142)),m=k(n(9143)),_=k(n(9144)),g=k(n(9147)),E=k(n(7372)),y=k(n(9148)),S=k(n(7805)),I=k(n(7377)),T=k(n(9167)),O=k(n(9171)),N=k(n(7379)),C=k(n(9176)),A=k(n(9178)),M=k(n(9181)),P=k(n(9183)),R=k(n(9185)),b=k(n(7382)),L=k(n(9187)),D=k(n(9189)),w=k(n(9192)),U=k(n(7387)),G=k(n(7390));function k(e){return e&&e.__esModule?e:{default:e}}r.default.initialize();var F=[c.default,f.default,w.default,D.default,b.default,N.default,S.default,I.default,U.default,O.default,y.default,R.default,P.default,M.default,A.default,m.default,g.default,v.default,h.default,_.default,a.default,T.default,L.default,C.default,E.default,d.default,s.default,p.default,G.default,l.default,i.default,u.default,o.default];t.default=F},9121:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(0)),o=g(n(2)),l=n(186),i=g(n(9122)),u=E(n(21)),s=g(n(75)),d=g(n(456)),c=g(n(257)),f=g(n(15)),p=n(156),h=n(209),v=n(1),m=g(n(4)),_=g(n(6444));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){S(o,r,a,l,i,"next",e)}function i(e){S(o,r,a,l,i,"throw",e)}l(void 0)})}}var T=Object.freeze({START:0,FAIL:1,SUCCESS:2,CANCELED:3}),O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={step:T.START},t.close=I(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.default.dispatch({type:v.ActionTypes.PAYMENT_AUTHENTICATION_MODAL_CLOSE}),t.state.step!==T.START){e.next=6;break}return n=t.props.pendingPayment,e.next=6,(0,l.voidPendingPayment)(n.id);case 6:case"end":return e.stop()}},e)})),t.cancelPayment=I(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.pendingPayment,e.prev=1,e.next=4,(0,l.voidPendingPayment)(n.id);case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),t.setState({step:T.CANCELED}),e.t0;case 10:t.setState({step:T.CANCELED});case 11:case"end":return e.stop()}},e,null,[[1,6]])})),t.handleAuthenticate=I(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.pendingPayment,e.next=3,(0,h.authenticatePaymentIntentForPaymentId)(n.id);case 3:r=e.sent,null!=r.error?t.setState({step:T.FAIL}):t.setState({step:T.SUCCESS});case 6:case"end":return e.stop()}},e)})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){f.default.track(v.AnalyticEvents.OPEN_MODAL,{type:v.AnalyticsSections.PAYMENT_AUTHENTICATION_MODAL})},i.componentWillUnmount=function(){f.default.track(v.AnalyticEvents.MODAL_DISMISSED,{type:v.AnalyticsSections.PAYMENT_AUTHENTICATION_MODAL})},i.getTitle=function(){switch(this.state.step){case T.START:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_TITLE;case T.SUCCESS:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_TITLE_SUCCESS;case T.CANCELED:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_TITLE_CANCELED;case T.FAIL:default:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_TITLE_FAIL}},i.getImageStyle=function(){switch(this.state.step){case T.START:return _.default.authenticationRequiredImage;case T.SUCCESS:return _.default.authenticationSuccessImage;case T.CANCELED:case T.FAIL:default:return _.default.authenticationFailImage}},i.getMessage=function(){var e=this.state.step,t=this.props.pendingPayment;switch(e){case T.START:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_START.format({price:(0,p.formatPrice)(t.amount,t.currency),item:t.description});case T.SUCCESS:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_SUCCESS;case T.CANCELED:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_CANCELED.format({item:t.description});case T.FAIL:default:return m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_FAIL}},i.renderButtons=function(){switch(this.state.step){case T.START:return y(a.Fragment,{},void 0,y(u.default,{color:u.ButtonColors.BRAND,onClick:this.handleAuthenticate},void 0,m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_BUTTON),y(u.default,{look:u.default.Looks.LINK,size:u.default.Sizes.NONE,color:u.default.Colors.PRIMARY,onClick:this.cancelPayment,className:_.default.cancelButton},void 0,m.default.Messages.PAYMENT_AUTHENTICATION_MODAL_BUTTON_CANCEL_PAYMENT));case T.SUCCESS:case T.CANCELED:case T.FAIL:default:return y(u.default,{color:u.ButtonColors.BRAND,onClick:this.close},void 0,m.default.Messages.CLOSE)}},i.render=function(){return y(s.default,{className:_.default.modal,size:s.default.Sizes.SMALL},void 0,y(s.default.Header,{},void 0,y(d.default,{size:d.default.Sizes.SIZE_20},void 0,y("span",{className:_.default.modalTitle},void 0,this.getTitle())),y(s.default.CloseButton,{className:_.default.closeIcon,onClick:this.close})),y(s.default.Content,{className:_.default.content},void 0,y("div",{className:this.getImageStyle()}),y(c.default,{size:c.default.Sizes.SIZE_16},void 0,this.getMessage())),y(s.default.Footer,{className:_.default.footer},void 0,this.renderButtons()))},r}(a.Component);t.default=O,O.displayName="PaymentAuthenticationModal",O.modalConfig={closable:!1,store:i.default}},9122:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l=null,i=!1;var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return!i&&null!=l},a.getProps=function(){return{pendingPayment:l}},r}(r.default.Store))(a.default,{PAYMENT_AUTHENTICATION_MODAL_CLOSE:function(e){i=!0},CONNECTION_OPEN:function(e){var t=e.pendingPayments;return!!(t&&t.length>0)&&(l!==t[0]&&void(l=t[0]))}});t.default=u},9123:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l=N(n(0)),i=O(n(5)),u=n(9124),s=O(n(329)),d=n(184),c=O(n(9125)),f=O(n(7803)),p=N(n(21)),h=O(n(75)),v=O(n(456)),m=O(n(257)),_=O(n(15)),g=O(n(6958)),E=O(n(7705)),y=O(n(6600)),S=n(1),I=O(n(4)),T=O(n(6445));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var P="Premium Expiration without Payment Source",R=Object.freeze({CONTROL:0,GENERIC:1,TARGETED:2}),b=Object.freeze({GENERIC:0,EMOJI:1,PREMIUM_GUILD_SUBSCRIPTION:2,CUSTOM_TAG:3}),L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).goToSettings=function(){t.props.onClose(),_.default.track(S.AnalyticEvents.SETTINGS_PANE_VIEWED,{type:P}),s.default.open(S.UserSettingsSections.PREMIUM)},t}M(t,e);var n=t.prototype;return n.componentDidMount=function(){_.default.track(S.AnalyticEvents.OPEN_MODAL,{type:P})},n.getFocus=function(){var e=this.props,t=e.subscribedToGuild,n=e.treatment,r=e.usedCustomEmojiRecently,a=e.user;return n!==R.TARGETED?b.GENERIC:null!=t?b.PREMIUM_GUILD_SUBSCRIPTION:a.premiumDiscriminator?b.CUSTOM_TAG:r?b.EMOJI:b.GENERIC},n.getImage=function(e){if(e===b.CUSTOM_TAG)return A("div",{className:T.default.customTagImage});if(e===b.EMOJI)return A("div",{className:T.default.emojiImage});if(e===b.PREMIUM_GUILD_SUBSCRIPTION){var t=this.props.subscribedToGuild;if(null!=t)return A(E.default,{className:T.default.guildCard,guild:t})}return A("div",{className:T.default.genericImage})},n.getExpirationDate=function(){var e=this.props.subscription;if(!e)return null;var t=e.currentPeriodEnd,n=e.currentPeriodStart;return e.status===S.SubscriptionStatusTypes.PAST_DUE?(0,i.default)(n).add(S.MAX_INVOICE_PAYMENT_DAYS,"days"):t},n.getText=function(e){var t=this.props.subscribedToGuild,n=this.getExpirationDate();return e===b.CUSTOM_TAG?I.default.Messages.PREMIUM_EXPIRING_BODY_CUSTOM_TAG.format({date:n}):e===b.EMOJI?I.default.Messages.PREMIUM_EXPIRING_BODY_EMOJI.format({date:n}):e===b.PREMIUM_GUILD_SUBSCRIPTION&&null!=t?I.default.Messages.PREMIUM_EXPIRING_BODY_BOOSTING.format({date:n,server:t.name}):I.default.Messages.PREMIUM_EXPIRING_BODY_GENERIC.format({date:n})},n.renderControl=function(){var e=this.props.onClose;return A(y.default,{},void 0,A(y.default.Header,{onClose:e},void 0,I.default.Messages.PREMIUM_EXPIRING_TITLE),A(y.default.Content,{type:y.default.Types.CANCEL},void 0,I.default.Messages.PREMIUM_EXPIRING_BODY_CONTROL.format()),A(y.default.Footer,{primary:{onClick:this.goToSettings,label:I.default.Messages.PREMIUM_EXPIRING_GO_TO_SETTINGS}}))},n.render=function(){var e=this.props,t=e.onClose;if(e.treatment===R.CONTROL)return this.renderControl();var n=this.getFocus();return A(h.default,{className:T.default.modal,size:h.default.Sizes.SMALL},void 0,A(h.default.Header,{},void 0,A(v.default,{size:v.default.Sizes.SIZE_20},void 0,A("span",{className:T.default.modalTitle},void 0,I.default.Messages.PREMIUM_EXPIRING_TITLE)),A(h.default.CloseButton,{className:T.default.closeIcon,onClick:t})),A(h.default.Content,{className:T.default.content},void 0,this.getImage(n),A(m.default,{size:m.default.Sizes.SIZE_16},void 0,A("p",{},void 0,this.getText(n)),A("p",{},void 0,I.default.Messages.PREMIUM_EXPIRING_CALLOUT))),A(h.default.Footer,{className:T.default.footer},void 0,A(p.default,{color:p.ButtonColors.BRAND,onClick:this.goToSettings},void 0,I.default.Messages.PREMIUM_EXPIRING_GO_TO_SETTINGS)))},t}(l.Component);L.displayName="PremiumExpirationModal";var D=(0,g.default)(f.default,((a={})[d.ExperimentTypes.USER]=((r={})[d.ExperimentBuckets.CONTROL]=function(){return null},r[d.ExperimentBuckets.TREATMENT_1]=function(e){return l.createElement(L,C({treatment:R.GENERIC},e))},r[d.ExperimentBuckets.TREATMENT_2]=function(e){return l.createElement(L,C({treatment:R.TARGETED},e))},r),a)),w=function(e){return e.subscription.status!==S.SubscriptionStatusTypes.PAST_DUE?l.createElement(L,C({treatment:R.CONTROL},e)):l.createElement(D,e)};w.displayName="ExperimentFilterContainer";var U=function(e){function t(){return e.apply(this,arguments)||this}M(t,e);var n=t.prototype;return n.close=function(){(0,u.closePremiumExpirationModal)(),_.default.track(S.AnalyticEvents.MODAL_DISMISSED,{type:P})},n.render=function(){return l.createElement(w,C({},this.props,{onClose:this.close}))},t}(l.Component);t.default=U,U.displayName="PremiumExpirationModalContainer",U.modalConfig={closable:!0,store:c.default}},9124:function(e,t,n){"use strict";t.__esModule=!0,t.closePremiumExpirationModal=function(){a.default.dispatch({type:o.ActionTypes.PREMIUM_EXPIRATION_MODAL_CLOSE})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},9125:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=I(n(5)),a=I(n(3)),o=I(n(2)),l=n(186),i=n(350),u=n(6563),s=n(184),d=n(330),c=I(n(96)),f=I(n(144)),p=I(n(196)),h=I(n(19)),v=I(n(6875)),m=I(n(11)),_=I(n(221)),g=I(n(336)),E=I(n(7803)),y=I(n(346)),S=n(1);function I(e){return e&&e.__esModule?e:{default:e}}var T=null,O=new Set,N=!1;function C(){if(!N)return!1;N=!1}var A=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(e){var t=this;null!=e&&(O=new Set(e.dismissedSubscriptionIds)),this.syncWith([m.default,v.default,h.default,p.default,g.default],function(){return t.isOpen()}),this.syncWith([E.default],function(){return!0})},o.isOpen=function(){if(N||null==T||O.has(T))return!1;var e=g.default.getPremiumSubscription(),t=m.default.getNullableCurrentUser();if(null==e||e.id!==T||null==t||t.hasFreePremium())return!1;var n=_.default.get(e.planId);if(null==n)return!1;if(Array.from(y.default.getForSku(n.skuId)||[]).filter(function(e){var t=e.parentId,n=e.consumed;return null!=t&&!n}).length>=c.default.getIntervalMonths(n.interval,n.intervalCount))return!1;var r=E.default.getExperimentDescriptor(),a=null==r?s.ExperimentBuckets.NOT_ELIGIBLE:r.bucket;return a===s.ExperimentBuckets.NOT_ELIGIBLE&&e.status===S.SubscriptionStatusTypes.ACTIVE&&null==e.paymentSourceId||a!==s.ExperimentBuckets.NOT_ELIGIBLE&&(a===s.ExperimentBuckets.CONTROL?(null!=r&&(0,d.triggerExperiment)(E.default.getExperimentId(),r),!1):e.status===S.SubscriptionStatusTypes.PAST_DUE)},o.getProps=function(){var e=m.default.getCurrentUser(),t=v.default.getCurrentUserSubscriptions()[0],n=g.default.getPremiumSubscription(),a=null!=t?h.default.getGuild(t.guildId):null,o=p.default.getState().usageHistory,l=Object.keys(o),i=(0,r.default)().subtract(1,"months").valueOf();return{user:e,subscription:n,subscribedToGuild:a,usedCustomEmojiRecently:l.some(function(e){try{if(f.default.extractTimestamp(e)>0)return o[e].recentUses.some(function(e){return e>i})}catch(e){return!1}})}},o.getState=function(){var e={};if(null!=O){var t=Array.from(O);t.length>0&&(e.dismissedSubscriptionIds=t)}return e},a}(a.default.PersistedStore);A.persistKey="PremiumExpirationModalStore";var M=new A(o.default,{PREMIUM_EXPIRATION_MODAL_CLOSE:function(e){null!=T&&O.add(T)},CONNECTION_OPEN:function(e){null!=(T=e.expiringSubscriptionId)&&(N=!0,Promise.resolve().then(function(){return(0,l.fetchSubscriptions)()}).finally(function(){return(0,u.fetchUserPremiumGuildSubscriptions)()}).finally(function(){return(0,i.fetchUserEntitlementsForApplication)(S.PREMIUM_SUBSCRIPTION_APPLICATION)}))},ENTITLEMENT_FETCH_APPLICATION_SUCCESS:function(e){return C()},ENTITLEMENT_FETCH_APPLICATION_FAIL:function(e){return C()}});t.default=M},9126:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(0)),o=_(n(263)),l=n(7804),i=g(n(6828)),u=_(n(21)),s=_(n(959)),d=_(n(75)),c=_(n(9127)),f=_(n(9129)),p=_(n(9131)),h=_(n(9133)),v=_(n(4)),m=_(n(6150));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){switch(null!=e?e[0]:null){case i.Pages.CLAIM:return{Component:c.default,buttonText:v.default.Messages.NUF_CLAIM_ACCOUNT_BUTTON,buttonLook:u.default.Looks.FILLED,buttonColor:u.default.Colors.BRAND};case i.Pages.JOIN:return{Component:h.default,buttonText:v.default.Messages.NUF_JOIN_SERVER_BUTTON,buttonLook:u.default.Looks.FILLED,buttonColor:u.default.Colors.BRAND};case i.Pages.CREATE:return{Component:f.default,buttonText:v.default.Messages.NUF_CREATE_SERVER_BUTTON,buttonLook:u.default.Looks.FILLED,buttonColor:u.default.Colors.BRAND};case i.Pages.DOWNLOAD:return{Component:p.default,buttonText:v.default.Messages.DONE,buttonLook:u.default.Looks.LINK,buttonColor:u.default.Colors.PRIMARY};default:return{Component:null,buttonText:null,buttonLook:null,buttonColor:null}}}var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={submitting:!1},t.handleSubmit=function(e){e.preventDefault();var n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).pageRef;if(null==n||"function"!=typeof n.submit)return console.warn("HomepageNUF: No valid ref");t.setState({submitting:!0},function(){n.submit().then(function(e){return void 0===e&&(e=!1),t.setState({submitting:!1},function(){return t.handlePageAdvance(!1,e||!1)})},function(){return t.setState({submitting:!1})})})},t.handleSkipClick=function(){t.handlePageAdvance(!0)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.handlePageAdvance=function(e,t){void 0===t&&(t=!1);var n=this.props.pages,r=this.props.page;null!=r&&null!=n&&((r+=t?2:1)>=n.length?(0,l.dismiss)(e):(0,l.nextStep)(e,t))},i.renderContent=function(){var e=this,t=this.props,n=t.page,r=t.pages;if(null==n||null==r)return null;var a=y(r[n]).Component;return null==a?null:E(a,{setRef:function(t){return e.pageRef=t}},r[n][0])},i.renderFooter=function(){var e=this.props,t=e.page,n=e.pages,r=e.progress,o=this.state.submitting;if(null==t||null==n)return null;var l=n[t];if(null==l)return null;var i,d=y(l),c=d.buttonText,f=d.buttonLook,p=d.buttonColor;return null!=c&&null!=f&&null!=p&&(i=E(u.default,{type:"submit",submitting:o,look:f,color:p},void 0,c)),E(a.Fragment,{},void 0,i,l[1]?E(u.default,{look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:this.handleSkipClick},void 0,v.default.Messages.SKIP):null,E("div",{className:m.default.progressContainer},void 0,E(s.default,{size:s.default.Sizes.LARGE,percent:100*r,className:m.default.progress,foregroundColor:"#8ea1e1",backgroundColor:"rgba(153,170,181,0.3)"})))},i.render=function(){return E(d.default,{size:m.default.size,className:m.default.modal,tag:"form",onSubmit:this.handleSubmit},void 0,E(o.default,{component:"div",className:m.default.pageSize},void 0,this.renderContent()),E(d.default.Footer,{},void 0,this.renderFooter()))},r}(a.PureComponent);S.displayName="HomepageNUF",S.modalConfig={store:i.default};var I=S;t.default=I},9127:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(8)),o=n(863),l=f(n(6828)),i=f(n(138)),u=f(n(262)),s=n(6974),d=f(n(4)),c=f(n(455));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,r;function f(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={email:"",password:"",errors:null,submitting:!1},t}r=e,(t=f).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=f.prototype;return h.submit=function(){var e=this;return new Promise(function(t,n){e.setState({submitting:!0,errors:null},function(){var r=e.state,a=r.email,l=r.password;(0,o.saveAccountRequest)({email:a,password:l}).then(function(){return t(!1)},function(t){null!=t&&null!=t.body||e.setState({submitting:!1,errors:{email:[d.default.Messages.NUF_CLAIM_ACCOUNT_GENERIC_ERROR]}}),e.setState({submitting:!1,errors:t.body},function(){return n(new Error("Invalid request"))})})})})},h.renderError=function(e){var t=this.state.errors;if(null==t)return null;var n=t[e];return null==n?null:Array.isArray(n)?n[0]:n},h.render=function(){var e=this,t=this.state,r=t.email,o=t.password,f=t.submitting,h=l.default.isTreatment1();return p(s.PageWrapper,{illustration:n(9128),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,p(s.Title,{className:(0,a.default)(c.default.marginBottom8,c.default.marginTop20)},void 0,d.default.Messages.NUF_CLAIM_ACCOUNT_TITLE),p(s.Text,{className:c.default.marginBottom20,tag:"div"},void 0,h?d.default.Messages.NUF_CLAIM_ACCOUNT_BODY_1:d.default.Messages.NUF_CLAIM_ACCOUNT_BODY_2),p(u.default,{title:d.default.Messages.FORM_LABEL_EMAIL,required:!0,className:c.default.marginBottom20},void 0,p(i.default,{autoFocus:!0,name:"email",disabled:f,value:r,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})}})),p(u.default,{title:d.default.Messages.FORM_LABEL_PASSWORD,required:!0},void 0,p(i.default,{name:"password",type:"password",error:this.renderError("password"),value:o,disabled:f,onChange:function(t){return e.setState({password:t})}})))},f}(s.AnimatedPage);h.displayName="PageClaim";var v=h;t.default=v},9128:function(e,t,n){e.exports=n.p+"873239c449fe63533f54170ece883300.svg"},9129:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=p(n(8)),o=p(n(12)),l=p(n(138)),i=p(n(262)),u=p(n(258)),s=n(6974),d=n(1),c=p(n(4)),f=p(n(455));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={name:"",submitting:!1,hasError:!1},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var v=p.prototype;return v.submit=function(){var e=this,t=this.state.name;return""===(t=t.trim())?(this.setState({hasError:!0}),Promise.reject(new Error("Invalid guild name"))):new Promise(function(n,r){e.setState({submitting:!0,hasError:!1},function(){return o.default.post({url:d.Endpoints.GUILDS,body:{name:t}}).then(function(){return n(!1)},function(){e.setState({submitting:!1,hasError:!0}),r(new Error("Invalid guild name"))})})})},v.render=function(){var e=this,t=this.state,r=t.name,o=t.submitting,d=t.hasError;return h(s.PageWrapper,{illustration:n(9130),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,h(s.Title,{className:(0,a.default)(f.default.marginBottom8,f.default.marginTop20)},void 0,c.default.Messages.NUF_CREATE_SERVER_TITLE),h(s.Text,{className:f.default.marginBottom20},void 0,c.default.Messages.NUF_CREATE_SERVER_BODY.format()),h(i.default,{title:c.default.Messages.FORM_LABEL_SERVER_NAME,required:!0,className:f.default.marginBottom20},void 0,h(l.default,{autoFocus:!0,name:"name",type:"text",error:d?c.default.Messages.NUF_CREATE_SERVER_ERROR:null,disabled:o,value:r,className:f.default.marginBottom8,onChange:function(t){return e.setState({name:t})}}),d?null:h(u.default,{type:u.default.Types.DESCRIPTION},void 0,c.default.Messages.NUF_CREATE_SERVER_NOTE.format())))},p}(s.AnimatedPage);v.displayName="Create";var m=v;t.default=m},9130:function(e,t,n){e.exports=n.p+"c5a50044a5560b4796c72a1fb25bd7d4.svg"},9131:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=_(n(8)),o=_(n(41)),l=n(7804),i=_(n(515)),u=_(n(11)),s=_(n(21)),d=_(n(24)),c=_(n(15)),f=n(885),p=n(6974),h=n(1),v=_(n(4)),m=_(n(455));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E={LINUX:"linux",OSX:"osx",WINDOWS:"win"};function y(e){switch(e){case E.OSX:return v.default.Messages.PLATFORM_MACOS;case E.LINUX:return v.default.Messages.PLATFORM_LINUX;default:return v.default.Messages.PLATFORM_WINDOWS}}var S=function(e){var t,r;function _(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={platform:function(){switch((o.default.os.family||"").replace(" ","").toLowerCase()){case"osx":return E.OSX;case"ubuntu":case"debian":case"fedora":case"redhat":case"suse":return E.LINUX;default:return E.WINDOWS}}()},t}r=e,(t=_).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var S=_.prototype;return S.download=function(e,t){window.location=(0,f.makeDesktopDownloadURL)(e,!1,null!=t?t:null),i.default.disable(h.NoticeTypes.DOWNLOAD_NAG);var n=u.default.getCurrentUser();c.default.track(h.AnalyticEvents.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:null!=n&&n.isClaimed(),referring_location:"Homepage NUF"}),(0,l.dismiss)()},S.renderButtons=function(){var e=this,t=this.state.platform;return t!==E.LINUX?g(s.default,{color:s.default.Colors.GREEN,fullWidth:!0,onClick:function(){return e.download(t,null)}},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:y(t)})):g(d.default,{},void 0,g(d.default.Child,{},void 0,g(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"deb")}},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:v.default.Messages.DEB}))),g(d.default.Child,{},void 0,g(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"tar.gz")}},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:v.default.Messages.TAR_GZ}))))},S.render=function(){return g(p.PageWrapper,{illustration:n(9132),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,g(p.Text,{className:(0,a.default)(m.default.marginBottom20,m.default.marginTop60)},void 0,v.default.Messages.NUF_DOWNLOAD_APP_INTRO),g(p.Title,{className:m.default.marginBottom8},void 0,v.default.Messages.NUF_DOWNLOAD_APP_TITLE),g(p.Text,{className:m.default.marginBottom20},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BODY),this.renderButtons())},_}(p.AnimatedPage);S.displayName="Download";var I=S;t.default=I},9132:function(e,t,n){e.exports=n.p+"bbb28fd68faad10216c8da92d6bcca19.svg"},9133:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=p(n(8)),o=p(n(269)),l=p(n(6828)),i=p(n(138)),u=p(n(262)),s=p(n(258)),d=n(6974),c=p(n(4)),f=p(n(455));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={code:null,invite:"",hasError:!1,submitting:!1},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var v=p.prototype;return v.submit=function(){var e=this,t=this.state.invite;if(""===(t=t.trim()))return this.setState({hasError:!0}),Promise.reject(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED));var n=t.split("/"),r=n[n.length-1];return new Promise(function(t,n){e.setState({code:r,submitting:!0,hasError:!1},function(){o.default.resolveInvite(r,"New Homepage NUF").then(function(r){var a=r.invite;null!=a?o.default.acceptInvite(a.code,{location:"New Homepage NUF"}).then(function(){null!=a.guild&&null!=a.channel&&(o.default.transitionToInvite(a),t(!0))},function(){return e.setState({submitting:!1,hasError:!0})}):(e.setState({submitting:!1,hasError:!0}),n(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED)))},function(){e.setState({submitting:!1,hasError:!0}),n(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED))})})})},v.render=function(){var e=this,t=this.state,r=t.invite,o=t.submitting,p=t.hasError,v=l.default.isTreatment1();return h(d.PageWrapper,{illustration:n(9134),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,h(d.Title,{className:(0,a.default)(f.default.marginBottom8,v?f.default.marginTop60:f.default.marginTop20)},void 0,v?c.default.Messages.NUF_JOIN_SERVER_TITLE_1:c.default.Messages.NUF_JOIN_SERVER_TITLE_2),h(d.Text,{className:f.default.marginBottom20},void 0,v?c.default.Messages.NUF_JOIN_SERVER_BODY_1:c.default.Messages.NUF_JOIN_SERVER_BODY_2.format()),h(u.default,{title:c.default.Messages.NUF_JOIN_SERVER_INPUT_LABEL,required:!0,className:f.default.marginBottom20},void 0,h(i.default,{autoFocus:!0,name:"invite",type:"text",error:p?c.default.Messages.INSTANT_INVITE_EXPIRED:null,disabled:o,value:r,className:f.default.marginBottom8,onChange:function(t){return e.setState({invite:t})}}),p?null:h(s.default,{type:s.default.Types.DESCRIPTION},void 0,c.default.Messages.NUF_JOIN_SERVER_INPUT_NOTE)))},p}(d.AnimatedPage);v.displayName="Join";var m=v;t.default=m},9134:function(e,t,n){e.exports=n.p+"a01bc277d210a4b92e3900e3871f986e.svg"},9135:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=v(n(873)),o=v(n(890)),l=v(n(3)),i=v(n(853)),u=v(n(7801)),s=n(863),d=v(n(9136)),c=v(n(7790)),f=v(n(11)),p=v(n(9137)),h=n(1);function v(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"EmailVerificationModal",statics:{modalConfig:{store:d.default}},mixins:[l.default.LazyStoreListenerMixin(c.default,f.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getState(),t=e.claimed,n=e.errors,r=e.formState;return{user:f.default.getCurrentUser(),claimed:t,errors:n,submitting:r===h.FormStates.SUBMITTING}},render:function(){var e=this.state,t=e.claimed,n=e.submitting,a=e.user,o=this.getError("email"),l=this.getError("password");return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(p.default,{email:a.email,emailError:o,passwordError:l,submitting:n,canResend:!n&&t&&0===o.length&&0===l.length,onVerify:this.handleVerify,onResend:this.handleResend,onClose:this.close})},getError:function(e){var t=this.state.errors;return t&&t[e]?t[e]:""},handleVerify:function(e,t){var n=this.state.user,r=n.username,a=n.avatar;(0,s.saveAccountChanges)(r,e,t,a,null)},handleResend:function(){i.default.verifyResend()},close:function(){u.default.close()}});t.default=m},9136:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l=!1;function i(){l=!1}var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isOpen=function(){return l},r}(r.default.Store))(a.default,{EMAIL_VERIFICATION_MODAL_OPEN:function(e){l=!0},EMAIL_VERIFICATION_MODAL_CLOSE:function(e){return i()},CURRENT_USER_UPDATE:function(e){e.user.verified&&i()}});t.default=u},9137:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(0)),o=g(n(8)),l=g(n(6)),i=g(n(504)),u=n(29),s=E(n(21)),d=g(n(138)),c=g(n(75)),f=n(136),p=n(1),h=g(n(4)),v=g(n(464)),m=g(n(455)),_=g(n(6446));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,r;function p(t){var n;return(n=e.call(this,t)||this)._animItem=null,n._timeout=new u.Timeout,n.state={canResend:t.canResend,canResendProp:t.canResend,resent:!1,shouldClose:!1,email:"",password:""},l.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["setLottieRef","handleVerify","handleResendEmail","handleChangeEmailClick","handleEmailChange","handlePasswordChange","handleKeyPress"]),n}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var g=p.prototype;return g.componentDidMount=function(){var e=this;n.e(332).then(function(t){var r=n(9577);e._animItem=i.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:r})}.bind(null,n)).catch(n.oe)},g.componentWillUnmount=function(){this._timeout.stop(),null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},p.getDerivedStateFromProps=function(e,t){var n=e.canResend;return n!==t.canResendProp?{canResend:n,canResendProp:n}:{canResendProp:n}},g.componentDidUpdate=function(){this.props.canResend!==this.state.canResend&&this.setState({canResend:this.props.canResend})},g.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,l=a.password;return y("div",{className:_.default.container},void 0,y(f.FormItem,{title:h.default.Messages.FORM_LABEL_EMAIL,className:m.default.marginBottom20},void 0,y(d.default,{value:o,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),y(f.FormItem,{title:h.default.Messages.FORM_LABEL_PASSWORD,className:m.default.marginBottom40},void 0,y(d.default,{type:"password",value:l,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),y(s.default,{fullWidth:!0,size:s.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===l.length},void 0,h.default.Messages.VERIFY_ACCOUNT))},g.renderActions=function(){return y("div",{className:_.default.container},void 0,y(s.default,{className:m.default.marginTop20,fullWidth:!0,size:s.default.Sizes.LARGE,look:s.ButtonLooks.INVERTED,color:s.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,h.default.Messages.RESEND_EMAIL),y(s.default,{className:m.default.marginTop20,fullWidth:!0,size:s.default.Sizes.MEDIUM,look:s.ButtonLooks.LINK,color:s.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,h.default.Messages.CHANGE_EMAIL))},g.render=function(){var e,t=this.state,n=t.canResend,r=t.resent,l=this.props.email;return e=r&&null!=l?h.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:l}):n?h.default.Messages.VERIFY_EMAIL_BODY:h.default.Messages.ENTER_EMAIL_BODY,y(c.default,{className:(0,o.default)(_.default.emailVerificationModal,v.default.vertical,v.default.alignCenter,v.default.justifyCenter,m.default.marginTop60)},void 0,a.createElement("div",{className:_.default.animationContainer,ref:this.setLottieRef}),y("div",{className:(0,o.default)(_.default.title,m.default.marginBottom8)},void 0,h.default.Messages.VERIFY_BY_EMAIL),y("div",{className:(0,o.default)(_.default.body,m.default.marginBottom20)},void 0,e),n?this.renderActions():this.renderInputs())},g.setLottieRef=function(e){this._lottieRef=e},g.handleVerify=function(){(0,this.props.onVerify)(this.state.email,this.state.password)},g.handleResendEmail=function(){var e=this,t=this.props,n=t.onResend,r=t.onClose;n(),this.state.resent||(this.setState({resent:!0,shouldClose:!0}),this._timeout.start(3e3,function(){e.state.shouldClose&&r()}))},g.handleChangeEmailClick=function(){this.setState({canResend:!1,resent:!1,shouldClose:!1})},g.handleEmailChange=function(e){this.setState({email:e})},g.handlePasswordChange=function(e){this.setState({password:e})},g.handleKeyPress=function(e){var t=this.state,n=t.email,r=t.password;13===e.which&&n.length>0&&r.length>0&&(e.preventDefault(),this.handleVerify())},p}(a.PureComponent);S.displayName="EmailVerificationModal",S.defaultProps={canResend:!1,onVerify:function(e,t){},onResend:p.NOOP,onClose:p.NOOP};var I=S;t.default=I},9138:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(0)),o=g(n(9139)),l=_(n(9140)),i=_(n(21)),u=_(n(24)),s=_(n(6525)),d=_(n(71)),c=_(n(75)),f=_(n(66)),p=_(n(15)),h=n(1),v=_(n(4)),m=_(n(6447));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){switch(e){case h.ConnectedDeviceType.INPUT:return h.ConnectedDevicePreference.INPUT;case h.ConnectedDeviceType.OUTPUT:return h.ConnectedDevicePreference.OUTPUT;case h.ConnectedDeviceType.INPUT_AND_OUTPUT:return h.ConnectedDevicePreference.INPUT_AND_OUTPUT;default:return null}}var S=Object.freeze({CERTIFIED:"New Audio Device Detected - Certified",NOT_CERTIFIED:"New Audio Device Detected - Not Certified"}),I=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).confirm=function(){var e=n.props.device,t=n.state.devicePreference;null!=t&&o.setDevice(e.displayName,t,"New Audio Device Detected Modal")},n.cancel=function(){var e=n.props.device;o.ignoreDevice(e.displayName)},n.neverShow=function(){var e=n.props.certifiedDeviceMetadata;o.neverShowModal(),p.default.track(h.AnalyticEvents.MODAL_DISMISSED,{type:null!=e?S.CERTIFIED:S.NOT_CERTIFIED,dismiss_type:"permanent"})},n.handleConnectedDeviceType=function(e){var t=e.value;n.setState({devicePreference:t})},n.state={devicePreference:null!=t.device?y(t.device.type):null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.track=function(){var e=this.props,t=e.certifiedDeviceMetadata,n=e.device;p.default.track(h.AnalyticEvents.OPEN_MODAL,{type:null!=t?S.CERTIFIED:S.NOT_CERTIFIED,device_name:null!=t?t.vendor.name+" "+t.model.name:n.displayName})},l.componentDidMount=function(){this.track()},l.componentDidUpdate=function(e){this.props.device.displayName!==e.device.displayName&&this.track()},l.renderBody=function(){var e,t=this.props,n=t.device,r=t.certifiedDeviceMetadata,o=this.state.devicePreference;switch(n.type){case h.ConnectedDeviceType.INPUT:e=null!=r?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_BODY.format({vendorName:r.vendor.name,modelName:r.model.name}):v.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_BODY.format({name:n.displayName});break;case h.ConnectedDeviceType.OUTPUT:e=null!=r?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_OUTPUT_BODY.format({vendorName:r.vendor.name,modelName:r.model.name}):v.default.Messages.CONNECTED_DEVICE_DETECTED_OUTPUT_BODY.format({name:n.displayName});break;default:e=E(a.Fragment,{},void 0,null!=r?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_AND_OUTPUT_BODY.format({vendorName:r.vendor.name,modelName:r.model.name}):v.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_AND_OUTPUT_BODY.format({name:n.displayName}),E(s.default,{value:o,className:m.default.options,onChange:this.handleConnectedDeviceType,options:[{name:v.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT_AND_OUTPUT,value:h.ConnectedDevicePreference.INPUT_AND_OUTPUT},{name:v.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT,value:h.ConnectedDevicePreference.INPUT},{name:v.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_OUTPUT,value:h.ConnectedDevicePreference.OUTPUT}]}))}return E(a.Fragment,{},n.displayName,e,E(i.default,{className:m.default.neverShow,look:i.default.Looks.LINK,color:m.default.colorLink,onClick:this.neverShow},void 0,v.default.Messages.DONT_SHOW_AGAIN))},l.render=function(){var e=this.props.certifiedDeviceMetadata;return E(c.default,{},void 0,E(c.default.Header,{},void 0,E(f.default,{tag:f.default.Tags.H4},void 0,null!=e?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_TITLE:v.default.Messages.CONNECTED_DEVICE_DETECTED_TITLE)),E(c.default.Content,{},void 0,E(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY},void 0,this.renderBody())),E(c.default.Footer,{},void 0,E(u.default,{justify:u.default.Justify.END},void 0,E(i.default,{color:i.default.Colors.PRIMARY,onClick:this.cancel,className:m.default.cancelButton},void 0,v.default.Messages.CONNECTED_DEVICE_DETECTED_CANCEL_BUTTON),E(i.default,{onClick:this.confirm},void 0,v.default.Messages.CONNECTED_DEVICE_DETECTED_CONFIRM_BUTTON))))},r}(a.Component);t.default=I,I.displayName="ConnectedDevice",I.modalConfig={store:l.default}},9139:function(e,t,n){"use strict";t.__esModule=!0,t.setDevice=function(e,t,n){a.default.dispatch({type:o.ActionTypes.CONNECTED_DEVICE_SET,displayName:e,connectedDevicePreference:t,location:n})},t.ignoreDevice=function(e){a.default.dispatch({type:o.ActionTypes.CONNECTED_DEVICE_IGNORE,displayName:e})},t.neverShowModal=function(){a.default.dispatch({type:o.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},9140:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=p(n(3)),o=n(45),l=p(n(2)),i=p(n(189)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(13)),s=p(n(490)),d=p(n(40)),c=p(n(25)),f=n(1);function p(e){return e&&e.__esModule?e:{default:e}}var h={},v=h,m=new Set(["DisplayPort"]),_=!1,g={},E={},y={},S={id:null,justChanged:!1},I={id:null,justChanged:!1},T=/\(([^)]+)\)/;function O(e){if(u.default.getPlatform()===u.PlatformTypes.WINDOWS){var t=e.name.match(T);if(null!=t)return t[1]}return e.name}function N(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===f.ConnectedDeviceType.INPUT&&n===f.ConnectedDeviceType.OUTPUT||e.type===f.ConnectedDeviceType.OUTPUT&&n===f.ConnectedDeviceType.INPUT?{displayName:t,type:f.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var C=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.initialize=function(e){this.waitFor(d.default,c.default),v=e||h},l.getState=function(){return v},l.isOpen=function(){var e=d.default.getInputDeviceId(),t=d.default.getOutputDeviceId();if(v.neverShowModal||r.default.isEmpty(y))return!1;var n=O(d.default.getInputDevices()[e]),a=O(d.default.getOutputDevices()[t]);if(r.default.some(y,function(e){return m.has(e.displayName)||e.displayName===n||e.displayName===a}))return!1;var l=r.default.some(y,function(e){return s.default.isCertified(g[e.displayName])||s.default.isCertified(E[e.displayName])});return!((e===o.DEFAULT_DEVICE_ID&&S.justChanged||t===o.DEFAULT_DEVICE_ID&&I.justChanged)&&!l)&&null!=this.getProps().device},l.getProps=function(){var e,t=r.default.first(Object.keys(y));return _&&null!=t&&(s.default.isCertified(g[t])?e=s.default.getCertifiedDevice(g[t]):s.default.isCertified(E[t])&&(e=s.default.getCertifiedDevice(E[t]))),{device:t?y[t]:null,certifiedDeviceMetadata:e}},a}(a.default.PersistedStore);C.persistKey="ConnectedDeviceStore";var A=new C(l.default,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,a={};S.justChanged=!1,t.forEach(function(e){if(a[O(e)]=e.id,e.id===o.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==S.id&&(S.justChanged=!0),S.id=t}});var l={};if(I.justChanged=!1,n.forEach(function(e){if(l[O(e)]=e.id,e.id===o.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==I.id&&(I.justChanged=!0),I.id=t}}),!_)return g=a,E=l,void(_=!0);var i=Object.keys(g),u=Object.keys(a),s=Object.keys(E),d=Object.keys(l),c=r.default.difference(i,u),p=r.default.difference(s,d);return c.length>0||p.length>0?y={}:(r.default.difference(u,i).forEach(function(e){y[e]=N(y[e],e,f.ConnectedDeviceType.INPUT)}),r.default.difference(d,s).forEach(function(e){y[e]=N(y[e],e,f.ConnectedDeviceType.OUTPUT)})),(!r.default.isEqual(i,u)||!r.default.isEqual(s,d))&&(g=a,E=l,!0)},CONNECTED_DEVICE_SET:function(e){var t=e.displayName;!function(e,t,n){if(t===f.ConnectedDevicePreference.INPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=g[e];null!=r&&l.default.wait(function(){return i.default.setInputDevice(r,n)})}if(t===f.ConnectedDevicePreference.OUTPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=E[e];l.default.wait(function(){return i.default.setOutputDevice(a,n)})}}(t,e.connectedDevicePreference,e.location),delete y[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete y[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(e){return y={},void(v={neverShowModal:!0})}});t.default=A},9141:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(189)),l=s(n(40)),i=s(n(342)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){o.default.interact()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{title:u.default.Messages.INTERACTION_REQUIRED_TITLE,body:u.default.Messages.INTERACTION_REQUIRED_BODY,onConfirm:this.close,confirmText:u.default.Messages.OKAY})},a}(a.Component);t.default=d,d.displayName="InteractionRequired",d.modalConfig={store:l.default,isOpen:function(){return l.default.isInteractionRequired()}}},9142:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=_(n(107)),u=n(184),s=n(330),d=_(n(333)),c=_(n(14)),f=_(n(39)),p=_(n(6711)),h=_(n(6628)),v=_(n(342)),m=_(n(4));function _(e){return e&&e.__esModule?e:{default:e}}(0,s.registerExperimentLegacy)((0,p.default)(d.default.LAST_SELECTED_VOICE_CHANNEL,"Last Selected Voice Channel",["Encourage users to reconnect to their last selected voice channel.","Control: No suggestion","Treatment 1: With suggestion"]),((a={})[u.ExperimentTypes.NONE_LEGACY]=function(){return null},a[u.ExperimentTypes.USER]=((r={})[u.ExperimentBuckets.CONTROL]=function(){return null},r[u.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.channel;return function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(v.default,{title:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_TITLE,body:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_BODY,onConfirmSecondary:function(){return i.default.clearVoiceChannel()},onConfirm:function(){return i.default.selectVoiceChannel(e.id)},confirmText:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_YES.format({channelName:e.name}),minorText:m.default.Messages.LAST_SELECTED_VOICE_CHANNEL_NO})},r}(l.Component);t.default=g,g.displayName="LastSelectedVoiceChannel",g.modalConfig={stores:[f.default],isOpen:function(){var e=c.default.getChannel(f.default.getLastSelectedVoiceChannelId());if(null!=e&&null!=e.getGuildId()){var t=h.default.triggerFirstEligibleUserExperiment([d.default.LAST_SELECTED_VOICE_CHANNEL]);return null!=t&&t.bucket===u.ExperimentBuckets.TREATMENT_1}return!1},getProps:function(){return{channel:c.default.getChannel(f.default.getLastSelectedVoiceChannelId())}}}},9143:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(902)),l=p(n(40)),i=p(n(191)),u=p(n(54)),s=p(n(183)),d=p(n(342)),c=n(1),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,a;function l(){return e.apply(this,arguments)||this}return a=e,(t=l).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,l.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{title:f.default.Messages.PTT_PERMISSION_TITLE,body:f.default.Messages.PTT_PERMISSION_BODY.format({game:this.props.gameName}),minorText:f.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:function(){return o.default.clearPTTAdminWarning()},onConfirm:function(){return window.open(s.default.getArticleURL(c.HelpdeskArticles.PUSH_TO_TALK_ADMINISTRATOR_MODE),"_blank")},confirmText:f.default.Messages.HELP_DESK,iconUrl:n(950)})},l}(a.Component);h.displayName="PTTPermission",h.modalConfig={stores:[u.default,l.default],isOpen:function(){var e=u.default.getVisibleGame();return null!=e&&e.elevated&&i.default.isConnected()&&l.default.getMode()===c.InputModes.PUSH_TO_TALK&&u.default.canShowAdminWarning},getProps:function(){var e=u.default.getVisibleGame();return{gameName:null!=e?e.name:null}}};var v=h;t.default=v},9144:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(902)),l=s(n(9145)),i=s(n(342)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,a;function s(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){o.default.clearSuppressWarning()},t.handleCloseForever=function(){o.default.clearSuppressWarning(!0)},t}return a=e,(t=s).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,s.prototype.render=function(){var e,t;return l.default.isAFKChannel()?(e=u.default.Messages.SUPPRESSED_AFK_TITLE,t=u.default.Messages.SUPPRESSED_AFK_BODY):(e=u.default.Messages.SUPPRESSED,t=u.default.Messages.SUPPRESSED_PERMISSION_BODY),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{title:e,body:t,onConfirm:this.close,confirmText:u.default.Messages.OKAY,minorText:u.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:this.handleCloseForever,iconUrl:n(9146)})},s}(a.Component);d.displayName="Suppressed",d.modalConfig={store:l.default,isOpen:function(){return l.default.shouldShowWarning()}};var c=d;t.default=c},9145:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(27)),o=u(n(2)),l=u(n(14)),i=u(n(19));n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s,d,c="hideSuppressWarning",f=!1,p=!0,h=!1;var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){h=a.default.get(c)||h},o.isAFKChannel=function(){var e=l.default.getChannel(d);if(null==e)return!1;var t=i.default.getGuild(e.getGuildId());return null!=t&&e.id===t.afkChannelId},o.shouldShowWarning=function(){return!p},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){s=e.sessionId,f=!1},CONNECTION_CLOSED:function(e){return s=null,d=null,void(p=!0)},VOICE_STATE_UPDATE:function(e){if(s!==e.sessionId)return!1;f!==e.suppress&&(f=e.suppress,p=!f),d!==e.channelId&&(d=e.channelId,p=!f),(h||null==e.channelId)&&(p=!0)},PERMISSION_CLEAR_SUPPRESS_WARNING:function(e){var t=e.forever;p=!0,t&&(h=!0,a.default.set(c,h))}});t.default=v},9146:function(e,t,n){e.exports=n.p+"cc502480f93307f651a7f920a5e0a4bd.svg"},9147:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(902)),l=s(n(1020)),i=s(n(342)),u=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,a;function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){o.default.clearVADWarning()},t}return a=e,(t=l).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,l.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{title:u.default.Messages.VAD_PERMISSION_TITLE,body:u.default.Messages.VAD_PERMISSION_BODY,onConfirm:this.close,confirmText:u.default.Messages.OKAY,iconUrl:n(950)})},l}(a.Component);d.displayName="VADPermission",d.modalConfig={store:l.default,isOpen:function(){return l.default.shouldShowWarning()}};var c=d;t.default=c},9148:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=E(n(82)),i=E(n(6590)),u=E(n(6651)),s=E(n(6848)),d=E(n(6608)),c=E(n(9149)),f=E(n(15)),p=n(266),h=E(n(9152)),v=E(n(9153)),m=E(n(9154)),_=n(1),g=E(n(6451));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){i.default.close()}var I=(0,l.default)({SELECTION:null,GUILD_CREATE:null,GUILD_JOIN:null}),T=(0,l.default)({CREATE_GUILD:null,JOIN_GUILD:null,BACK:null}),O=((r={})[I.SELECTION]=function(e,t){return y(v.default,{nuf:null!=t&&t.nuf,onClick:function(t){t===_.CreateGuildModalScreens.CreateGuild?(f.default.track(_.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",location_section:_.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(T.CREATE_GUILD,{direction:1}),i.default.setScreen(_.CreateGuildModalScreens.CreateGuild)):t===_.CreateGuildModalScreens.JoinGuild&&(f.default.track(_.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",location_section:_.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(T.JOIN_GUILD,{direction:1}),i.default.setScreen(_.CreateGuildModalScreens.JoinGuild))}})},r[I.GUILD_JOIN]=function(e){return y(m.default,{onBack:function(){e(T.BACK,{direction:-1}),i.default.setScreen(_.CreateGuildModalScreens.Choose)},onJoin:S})},r[I.GUILD_CREATE]=function(e,t){return null==t?null:y(h.default,{onBack:function(){e(T.BACK,{direction:-1}),i.default.setScreen(_.CreateGuildModalScreens.Choose)},guild:t.guild,errors:t.errors,submitting:t.submitting})},r),N=function(e){var t,n;function r(){for(var t,n,r,a,o,l=arguments.length,i=new Array(l),u=0;u<l;u++)i[u]=arguments[u];return(o=e.call.apply(e,[this].concat(i))||this).stateChart={id:"AddGuildModal",initial:o.getInitialSlide(),states:(a={},a[I.SELECTION]={on:(t={},t[T.CREATE_GUILD]=I.GUILD_CREATE,t[T.JOIN_GUILD]=I.GUILD_JOIN,t)},a[I.GUILD_CREATE]={on:(n={},n[T.BACK]=I.SELECTION,n)},a[I.GUILD_JOIN]={on:(r={},r[T.BACK]=I.SELECTION,r)},a)},o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getInitialSlide=function(){switch(this.props.screen){case _.CreateGuildModalScreens.CreateGuild:return I.GUILD_CREATE;case _.CreateGuildModalScreens.JoinGuild:return I.GUILD_JOIN;default:return I.SELECTION}},a.componentDidMount=function(){null==d.default.getRegions(null)&&u.default.fetchDefaultRegions()},a.close=function(){S()},a.render=function(){var e=this.props,t=e.nuf,n=e.guild,r=e.errors,a=e.submitting;return y("div",{className:(0,p.getThemeClass)(_.ThemeTypes.LIGHT)},void 0,y(c.default,{className:g.default.wrapper,stateChart:this.stateChart,slideStates:O,extState:{nuf:t,guild:n,errors:r,submitting:a}}))},r}(o.PureComponent);N.displayName="AddGuildModal",N.modalConfig={store:s.default};var C=N;t.default=C},9149:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(9580),i=(r=n(1041))&&r.__esModule?r:{default:r};var u=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).machine={},n.transition=function(e,t){var r=n.state.currentState;if(null==r.nextEvents||r.nextEvents.includes(e)){var a=n.machine.transition(r,e);n.invokeActions(a),"final"!==n.machine.states[a.value].type&&n.setState({currentState:a,direction:null!=t?t.direction:n.state.direction})}},n.getDirection=function(){return n.state.direction},n.initializeStateMachine(t.stateChart),n.state={currentState:n.machine.initialState,direction:1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initializeStateMachine=function(e){this.machine=(0,l.Machine)(e)},o.componentDidMount=function(){this.invokeActions(this.state.currentState)},o.componentDidUpdate=function(e){this.props.stateChart!==e.stateChart&&(this.initializeStateMachine(this.props.stateChart),this.machine.initialState.value!==this.state.currentState.value&&this.setState({currentState:this.machine.initialState,direction:1}))},o.invokeActions=function(e){var t=e.value,n=e.actions,r=this.props.slideActions;null!=r&&0!==n.length&&n.forEach(function(e){return"function"==typeof r[e]&&r[e](t)})},o.renderCurrentSlide=function(){var e=this.props,t=e.slideStates,n=e.extState;return(0,t[this.state.currentState.value])(this.transition,n)},o.render=function(){var e=this.props.className,t=this.state.currentState;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=r;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{className:e,step:t.value,getDirection:this.getDirection},void 0,this.renderCurrentSlide())},r}(o.PureComponent);u.displayName="SlideManager";var s=u;t.default=s},915:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.width,n=void 0===t?16:t,r=e.height,i=void 0===r?16:r,u=e.color,s=void 0===u?"currentColor":u,d=e.foreground,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["width","height","color","foreground"]);return a.createElement("svg",o({},c,{width:n,height:i,viewBox:"0 0 24 24"}),l("path",{fill:s,className:d,d:"M12 5C5.648 5 1 12 1 12C1 12 5.648 19 12 19C18.352 19 23 12 23 12C23 12 18.352 5 12 5ZM12 16C9.791 16 8 14.21 8 12C8 9.79 9.791 8 12 8C14.209 8 16 9.79 16 12C16 14.21 14.209 16 12 16Z"}),l("path",{fill:s,className:d,d:"M12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14Z"}))}},9152:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=E(n(8)),l=E(n(6590)),i=E(n(21)),u=E(n(24)),s=E(n(138)),d=n(874),c=E(n(75)),f=n(136),p=E(n(6782)),h=E(n(6705)),v=n(1),m=E(n(4)),_=E(n(6448)),g=E(n(5951));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){e.preventDefault();var n=t.props.guild;l.default.createGuild(n.name,n.region,n.icon)},t.getError=function(e){var n=t.props.errors;return null!=n&&null!=n[e]?n[e]:null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleNameChange=function(e){l.default.updateTemporaryGuild({name:e})},a.handleRegionChange=function(e){l.default.updateTemporaryGuild({region:e})},a.handleIconChange=function(e){l.default.updateTemporaryGuild({icon:e})},a.render=function(){var e=this,t=this.props,n=t.guild,r=t.onBack,a=t.submitting,l=this.getError("name");return y(c.default,{tag:"form",onSubmit:this.handleSubmit,size:g.default.size,className:g.default.slide},void 0,y(c.default.Content,{className:g.default.slideBody,backgroundColor:v.Colors.WHITE},void 0,y("h5",{className:_.default.title},void 0,m.default.Messages.CREATE_SERVER_TITLE),y("p",{className:_.default.description},void 0,m.default.Messages.CREATE_SERVER_DESCRIPTION.format()),y(u.default,{className:_.default.formWrapper},void 0,y(u.default.Child,{grow:1.2,basis:0},void 0,y(d.UID,{},void 0,function(t){var r;return y(f.FormItem,{tag:f.FormTitle.Tags.LABEL,htmlFor:t,title:m.default.Messages.FORM_LABEL_SERVER_NAME,titleClassName:(0,o.default)(_.default.label,(r={},r[_.default.error]=null!=l,r)),error:l},void 0,y(s.default,{id:t,value:n.name,inputClassName:_.default.input,onChange:e.handleNameChange,placeholder:m.default.Messages.FORM_PLACEHOLDER_SERVER_NAME,autoFocus:!0}))}),y(d.UID,{},void 0,function(t){return y(f.FormItem,{tag:"label",htmlFor:t,title:m.default.Messages.FORM_LABEL_SERVER_REGION,className:_.default.regionSelectWrapper,titleClassName:_.default.label},void 0,y(h.default,{id:t,value:n.region,onChange:e.handleRegionChange}),y("div",{className:_.default.helpText},void 0,m.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:v.MarketingURLs.GUIDELINES})))})),y(u.default.Child,{wrap:!0,grow:1,basis:0},void 0,y(p.default,{name:n.name,icon:n.icon,onChange:this.handleIconChange,avatarClassName:_.default.avatar})))),y(c.default.Footer,{className:g.default.slideFooter},void 0,y(i.default,{type:"submit",onClick:this.handleSubmit,submitting:a},void 0,m.default.Messages.CREATE),y(u.default,{},void 0,y("button",{type:"button",className:g.default.cancelButton,onClick:r,disabled:a},void 0,m.default.Messages.BACK))))},r}(a.Component);S.displayName="CreateGuildSlide";var I=S;t.default=I},9153:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(8)),l=v(n(3)),i=v(n(11)),u=v(n(58)),s=v(n(75)),d=n(80),c=n(1),f=v(n(4)),p=v(n(6449)),h=v(n(5951));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _={CREATE:p.default.create,JOIN:p.default.join},g=function(e){var t,n,r,a=e.type,l=e.onClick;switch(a){case _.CREATE:t=f.default.Messages.CREATE,n=f.default.Messages.CREATE_SERVER_BUTTON_BODY,r=f.default.Messages.CREATE_SERVER_BUTTON_CTA;break;case _.JOIN:t=f.default.Messages.JOIN,n=f.default.Messages.JOIN_SERVER_BUTTON_BODY,r=f.default.Messages.JOIN_SERVER_BUTTON_CTA;break;default:throw new Error("[CreateOrJoinSlide]: Invalid CardType")}return m(u.default,{className:(0,o.default)(p.default.action,a),onClick:l},void 0,m("div",{className:p.default.actionHeader},void 0,t),m("div",{className:p.default.actionBody},void 0,n),m("div",{className:p.default.actionIcon}),m("button",{className:p.default.actionButton,type:"button"},void 0,r))};g.displayName="GuildActionButton";var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCreate=function(){(0,t.props.onClick)(c.CreateGuildModalScreens.CreateGuild)},t.handleJoin=function(){(0,t.props.onClick)(c.CreateGuildModalScreens.JoinGuild)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){d.ComponentDispatch.subscribe(c.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},a.componentWillUnmount=function(){d.ComponentDispatch.unsubscribe(c.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},a.render=function(){var e,t=this.props,n=t.nuf,r=t.currentUser;return e=n&&null!=r?f.default.Messages.NUF_TITLE.format({username:r.toString()}):f.default.Messages.CREATE_OR_JOIN_MODAL_HEADER,m(s.default,{size:h.default.size,className:h.default.slide},void 0,m(s.default.Content,{className:(0,o.default)(h.default.slideBody,p.default.slideBody),backgroundColor:c.Colors.WHITE},void 0,m("header",{className:p.default.header},void 0,e),m("div",{className:p.default.actions},void 0,m(g,{type:_.CREATE,onClick:this.handleCreate}),m(g,{type:_.JOIN,onClick:this.handleJoin}),m("div",{className:p.default.or},void 0,"or"))))},r}(a.PureComponent);E.displayName="CreateOrJoinGuildSlide";var y=l.default.connectStores([i.default],function(){return{currentUser:i.default.getCurrentUser()}})(E);t.default=y},9154:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(8)),l=m(n(269)),i=m(n(21)),u=m(n(24)),s=m(n(138)),d=n(874),c=m(n(75)),f=n(1),p=m(n(4)),h=m(n(6450)),v=m(n(5951));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={value:"",submitting:!1,hasError:!1},t.handleTyped=function(e){t.setState({value:e,hasError:!1})},t.handleSubmit=function(e){e.preventDefault();var n=t.state.value.trim();if(""!==n){var r=n.split("/"),a=r[r.length-1];t.setState({submitting:!0,hasError:!1}),l.default.resolveInvite(a,"Join Guild Modal").then(function(e){var n=e.invite;if(null!=n){if(t.setState({submitting:!1}),null!=n.channel){var r=t.props.onJoin,a=l.default.getInviteContext("Join a Server Modal",n);l.default.acceptInvite(n.code,a,function(){r(),l.default.transitionToInvite(n)})}}else t.setState({submitting:!1,hasError:!0})},function(){t.setState({submitting:!1,hasError:!0})})}else t.setState({hasError:!0})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getExamplePrefix=function(){var e=window.GLOBAL_ENV.INVITE_HOST,t="";return null==e&&(e=location.host,t=f.Routes.INVITE("")),location.protocol+"//"+e+t+"/"},a.render=function(){var e=this,t=this.props.onBack,n=this.state,r=n.hasError,a=n.value,l=n.submitting,m=this.getExamplePrefix();return _(c.default,{tag:"form",onSubmit:this.handleSubmit,size:v.default.size,className:v.default.slide},void 0,_(c.default.Content,{className:(0,o.default)(v.default.slideBody,h.default.slideBody),backgroundColor:f.Colors.WHITE},void 0,_("h5",{className:h.default.title},void 0,p.default.Messages.JOIN_SERVER_TITLE),_("div",{className:h.default.instructions},void 0,_("p",{className:h.default.description},void 0,p.default.Messages.JOIN_SERVER_DESCRIPTION),_("p",{className:h.default.sampleLink},void 0,m,"qJq5C"),_("p",{className:h.default.sampleLink},void 0,m,"discord-developers"),_("p",{className:h.default.sampleLink},void 0,"qJq5C")),_(d.UID,{},void 0,function(t){var n;return _("div",{className:h.default.inputWrapper},void 0,_(s.default,{id:t,value:a,inputClassName:(0,o.default)(h.default.input,(n={},n[h.default.error]=r,n)),onChange:e.handleTyped,autoFocus:!0}),_("label",{htmlFor:t,className:h.default.inputLabel},void 0,_("span",{},void 0,p.default.Messages.FORM_LABEL_INSTANT_INVITE),r?_("span",{className:h.default.errorText},void 0,"(",p.default.Messages.INSTANT_INVITE_EXPIRED,")"):null))})),_(c.default.Footer,{className:v.default.slideFooter},void 0,_(i.default,{type:"submit",color:i.default.Colors.GREEN,disabled:this.state.submitting,submitting:l},void 0,p.default.Messages.JOIN),_(u.default,{},void 0,_("button",{type:"button",className:v.default.cancelButton,onClick:t,disabled:l},void 0,p.default.Messages.BACK))))},r}(a.Component);t.default=g,g.displayName="JoinGuildSlide"},9155:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(110))&&r.__esModule?r:{default:r};function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l,i=a.default.defaultRules.lheading,u=a.default.defaultRules.link,s=a.default.defaultRules.image,d=a.default.defaultRules.list,c=a.default.defaultRules.blockQuote,f=a.default.defaultRules.paragraph,p=/\{(.+?)}/,h=/^\$(\w+?)\$/,v=o({},(l=n(9156)).baseRules,{image:o({},s,l.customRules.image),link:o({},u,l.customRules.link),list:o({},d,l.customRules.list),interpolation:{order:a.default.defaultRules.text.order,match:function(e){return h.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:o({},i,{parse:function(e,t,n){var r=p.exec(e[1]);return{className:null!=r?r[1]:null,level:"="===e[2]?1:2,content:a.default.parseInline(t,e[1].replace(p,"").toUpperCase(),n)}}},l.customRules.lheading),blockQuote:o({},c,l.customRules.blockQuote),paragraph:o({},f,l.customRules.paragraph)}),m={getDefaultRules:function(){return o({},v)}};t.default=m},9156:function(e,t,n){"use strict";t.__esModule=!0,t.customRules=t.baseRules=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(110)),o=f(n(6847)),l=f(n(329)),i=n(7805),u=f(n(878)),s=f(n(106)),d=f(n(15)),c=n(1);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=a.default.defaultRules.link,m={section:c.AnalyticsSections.SETTINGS_CHANGELOG};var _=u.default.defaultRules;t.baseRules=_;var g={link:{parse:function(e,t,n){var r,a=e[2],i=a.startsWith("https://discordapp.com/nitro"),u=a.startsWith("https://discordapp.com/hypesquad");return r=i||u?function(e){d.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:m}),i?l.default.open(c.UserSettingsSections.PREMIUM):u&&l.default.open(c.UserSettingsSections.HYPESQUAD_ONLINE),n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"}),o.default.hideChangeLog(),e.preventDefault()}:function(){n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,h({},d.default.getCampaignParams(a)))},h({},v.parse(e,t,n),{callToAction:r})},react:function(e,t,n){return p(s.default,{href:a.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":null},n.key,t(e.content,n))}},lheading:{react:function(e,t,n){return p(i.LHeading,{level:e.level,className:e.className},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(7376)("./"+e.target);return p("img",{alt:e.alt,src:a},r.key)}},blockQuote:{react:_.blockQuote.react}};t.customRules=g},9157:function(e,t,n){e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},9158:function(e,t,n){e.exports=n.p+"a83f2923603bd8806103525b2c1ddd45.png"},9159:function(e,t,n){e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},9160:function(e,t,n){e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},9161:function(e,t,n){e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},9162:function(e,t,n){e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},9163:function(e,t,n){e.exports=n.p+"5c16b0a7b65a2c2864a88ee28ce0d0eb.png"},9164:function(e,t,n){e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},9165:function(e,t,n){e.exports=n.p+"69b70bc5e0982b11182ae6495aadd34c.png"},9166:function(e,t,n){e.exports=n.p+"46e2829b759fbdc67b1a24ff96a415b2.jpg"},9167:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=m(n(0)),o=v(n(853)),l=m(n(480)),i=v(n(9168)),u=v(n(9169)),s=v(n(9170)),d=v(n(15)),c=n(885),f=v(n(13)),p=n(1),h=v(n(4));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},a.render=function(){var e=this.props,t=e.step,n=e.forced,r=e.openedByChatBox,a=e.submitting,o=e.email,l=h.default.Messages.CLAIM_ACCOUNT_BODY;switch(n?l=h.default.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:r&&(l=h.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED),t){case p.AccountModalSteps.FORM_SUBMIT:default:return _(u.default,{title:l,emailError:this.getError("email"),passwordError:this.getError("password"),submitting:a,onSubmit:this.handleClaim,onLogout:n?this.handleLogout:null,buttonText:h.default.Messages.CLAIM_ACCOUNT});case p.AccountModalSteps.FORM_SUCCESS:return _(s.default,{forced:n,openedByChatBox:r,email:o,onClickGetApp:this.handleClickGetApp,onClose:this.close})}},a.handleClaim=function(e,t){l.claim(e,t)},a.handleClickGetApp=function(){window.open((0,c.getCurrentPlatformDownloadURL)(),"_blank"),d.default.track(p.AnalyticEvents.DOWNLOAD_APP,{platform:(0,c.getPlatformReadableName)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal"})},a.handleLogout=function(){o.default.logout()},a.close=function(){l.close()},r}(a.PureComponent);g.displayName="ClaimAccount",g.modalConfig={store:i.default,closable:f.default.isWeb()};var E=g;t.default=E},9168:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(2)),o=n(184),l=c(n(13)),i=c(n(6609)),u=c(n(11)),s=c(n(6828)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var f=d.FormStates.CLOSED,p=d.AccountModalSteps.FORM_SUBMIT,h=!1,v=!1,m=null,_={};function g(e){var t=u.default.getCurrentUser();if(null==t||t.isClaimed())return!1;f=d.FormStates.OPEN,_={},v=e.openedByChatBox||!1}function E(){f=d.FormStates.CLOSED,_={}}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,i.default,s.default)},a.isOpen=function(){return!i.default.hasAction()&&f!==d.FormStates.CLOSED},a.getProps=function(){return{submitting:f===d.FormStates.SUBMITTING,step:p,forced:h,openedByChatBox:v,email:m,errors:_}},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return t=s.default.getExperimentDescriptor(),!(u.default.getCurrentUser().isClaimed()||!l.default.embedded||null!=t&&t.bucket!==o.ExperimentBuckets.CONTROL)&&(h=!0,void g({}));var t},CLAIM_ACCOUNT_MODAL_OPEN:g,NEW_USER_FLOW_GUILD_CREATED:g,CLAIM_ACCOUNT_SUBMITTED:function(e){f=d.FormStates.SUBMITTING},CLAIM_ACCOUNT_SUCCESS:function(e){f=d.FormStates.OPEN,p=d.AccountModalSteps.FORM_SUCCESS,m=e.email},CLAIM_ACCOUNT_FAILURE:function(e){f=d.FormStates.OPEN,_=e.errors},CLAIM_ACCOUNT_MODAL_CLOSE:function(e){return E()},CONNECTION_CLOSED:function(e){return E()},NEW_USER_FLOW_SET_STEP:function(e){-1===e.step&&g({})},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=y},9169:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(21)),l=h(n(24)),i=h(n(71)),u=h(n(138)),s=h(n(75)),d=n(136),c=n(1),f=h(n(4)),p=h(n(6453));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleEmailChange=function(e){n.setState({email:e})},n.handleUsernameChange=function(e){n.setState({username:e})},n.handlePasswordChange=function(e){n.setState({password:e})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.onSubmit,r=n.state,a=r.email,o=r.password,l=r.username;t&&t(a,o,l)},n.handleLogout=function(){var e=n.props.onLogout;e&&e()},n.state={email:"",username:"",password:""},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isSubmittable=function(){var e=this.state,t=e.email,n=e.password;return t.length>0&&n.length>0},a.renderEmailInput=function(){return v(d.FormItem,{title:f.default.Messages.FORM_LABEL_EMAIL,className:p.default.formItem},void 0,v(u.default,{value:this.state.email,error:this.props.emailError,onChange:this.handleEmailChange,autoFocus:!0}))},a.renderUsernameInput=function(){return v(d.FormItem,{title:f.default.Messages.FORM_LABEL_USERNAME,className:p.default.formItem},void 0,v(u.default,{value:this.state.username,error:this.props.usernameError,onChange:this.handleUsernameChange}))},a.renderPasswordInput=function(){return v(d.FormItem,{title:f.default.Messages.FORM_LABEL_PASSWORD,className:p.default.formItem},void 0,v(u.default,{type:"password",value:this.state.password,error:this.props.passwordError,onChange:this.handlePasswordChange}))},a.renderPrimaryButton=function(){var e=this.props.buttonText;return v(o.default,{type:"submit",size:o.default.Sizes.LARGE,submitting:this.props.submitting,disabled:!this.isSubmittable(),fullWidth:!0},void 0,e)},a.renderLogout=function(){return v(i.default,{color:i.default.Colors.PRIMARY,className:p.default.logout,onClick:this.handleLogout,size:i.default.Sizes.SMALL},void 0,f.default.Messages.LOGOUT)},a.render=function(){var e=this.props,t=e.title,n=e.type,r=e.onLogout,a=e.buttonText;return v(s.default,{tag:"form",onSubmit:this.handleSubmit},void 0,v(s.default.Content,{className:p.default.content},void 0,v("div",{className:p.default.image}),v("div",{className:p.default.title},void 0,t)),v(s.default.Footer,{direction:l.default.Direction.VERTICAL},void 0,this.renderEmailInput(),n===c.AccountModalTypes.REGISTER?this.renderUsernameInput():null,this.renderPasswordInput(),null!=a?this.renderPrimaryButton():null,null!=r?this.renderLogout():null))},r}(a.PureComponent);m.displayName="AccountModal";var _=m;t.default=_},9170:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(21)),l=d(n(24)),i=d(n(75)),u=d(n(4)),s=d(n(6454));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderCloseButton=function(){var e=this.props,t=e.forced,n=e.onClose;return t?null:c(i.default.CloseButton,{className:s.default.closeButton,onClick:n})},a.renderFooter=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,r=e.onClickGetApp,a=e.onClose;return t||n?c(i.default.Footer,{direction:l.default.Direction.VERTICAL},void 0,c(o.default,{size:o.default.Sizes.LARGE,onClick:a},void 0,u.default.Messages.OKAY)):c(i.default.Footer,{direction:l.default.Direction.VERTICAL},void 0,c("div",{className:s.default.appPromotion},void 0,u.default.Messages.CLAIM_ACCOUNT_PROMOTE_APP),c(o.default,{color:o.default.Colors.GREEN,size:o.default.Sizes.LARGE,onClick:r},void 0,u.default.Messages.CLAIM_ACCOUNT_GET_APP))},a.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,r=e.email,a=t||n?u.default.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:u.default.Messages.CLAIM_ACCOUNT_EMAIL_TO;return c(i.default,{className:s.default.modal},void 0,c(i.default.Content,{className:s.default.content},void 0,this.renderCloseButton(),c("div",{className:s.default.image}),c("div",{className:s.default.title},void 0,a.format({email:r}))),this.renderFooter())},r}(a.PureComponent);f.displayName="ClaimAccountModalSuccess";var p=f;t.default=p},9171:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=w(n(6)),l=w(n(3)),i=w(n(6595)),u=w(n(139)),s=w(n(137)),d=n(67),c=w(n(14)),f=w(n(9172)),p=w(n(22)),h=w(n(19)),v=w(n(21)),m=w(n(24)),_=w(n(42)),g=w(n(6525)),E=w(n(347)),y=w(n(852)),S=w(n(71)),I=w(n(138)),T=w(n(75)),O=w(n(262)),N=w(n(258)),C=w(n(66)),A=n(226),M=w(n(183)),P=w(n(9173)),R=w(n(9175)),b=n(1),L=w(n(4)),D=w(n(6455));function w(e){return e&&e.__esModule?e:{default:e}}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t,n){var r=[{icon:e?_.default.Names.CHANNEL_TEXT_LIMITED:_.default.Names.CHANNEL_TEXT,label:L.default.Messages.TEXT_CHANNEL,value:b.ChannelTypes.GUILD_TEXT},{icon:e?_.default.Names.SPEAKER_LIMITED:_.default.Names.SPEAKER,label:L.default.Messages.VOICE_CHANNEL,value:b.ChannelTypes.GUILD_VOICE}];return n&&r.push({icon:_.default.Names.MEGAPHONE,iconSize:24,label:L.default.Messages.NEWS_CHANNEL,value:b.ChannelTypes.GUILD_ANNOUNCEMENT}),t&&r.push({icon:_.default.Names.STORE_TAG,iconSize:24,label:L.default.Messages.STORE_CHANNEL,value:b.ChannelTypes.GUILD_STORE}),r.map(function(e){var t=e.icon,n=e.iconSize,r=e.label,o=e.value;return{name:G(m.default,{align:m.default.Align.CENTER},void 0,a.createElement(_.default,k({name:t},null!=n?{width:n,height:n}:null,{className:D.default.icon,background:D.default.background,foreground:D.default.foreground})),r),value:o}})}function B(e){var t=null!=e?h.default.getGuild(e):null;return null!=t?(0,o.default)(t.roles).sortBy(function(e){return e.position}).value():[]}var j=function(e){function t(t){var n;(n=e.call(this,t)||this).handleApplicationChange=function(e){var t=e.value;n.setState({applicationId:t})},n.handleSKUChange=function(e){n.setState({skuId:e})},n.handleShowBranchesToggle=function(e){var t=e.currentTarget.checked;n.setState({showBranches:t,branchId:null})},n.handleBranchChange=function(e){n.setState({branchId:e})},n.handleHasBranchesChange=function(e){n.setState({hasBranches:e})},o.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleNameChange","handleTypeChange","handlePrivacyChange","handleSubmit","setInputRef"]);var r=t.channelType,a=t.cloneChannel;return n.state={channelType:r||b.ChannelTypes.GUILD_TEXT,name:null!=a?(0,s.default)(a):"",permissionOverwrites:new Set,roles:B(t.guildId),isPrivate:!1,prevGuildId:t.guildId,applicationId:null,skuId:null,branchId:null,showBranches:!1,hasBranches:!1},n}U(t,e),t.getDerivedStateFromProps=function(e,t){var n={prevGuildId:e.guildId,roles:B(e.guildId)};return t.prevGuildId!==e.guildId&&(n.permissionOverwrites=new Set),n};var n=t.prototype;return n.componentDidMount=function(){var e=this._input;null!=e&&e.select();var t=this.props,n=t.guildId,r=t.applications;t.canCreateStoreChannel&&null==r&&u.default.fetchApplications(n)},n.componentDidUpdate=function(e,t){!t.isPrivate&&this.state.isPrivate&&this.state.channelType===b.ChannelTypes.GUILD_ANNOUNCEMENT&&this.setState({channelType:b.ChannelTypes.GUILD_TEXT})},n.getGuildId=function(e){return void 0===e&&(e=this.props),e.guildId},n.setInputRef=function(e){this._input=e},n.handleNameChange=function(e){var t=this.state.channelType;(0,d.isGuildTextChannelType)(t)&&(e=(0,A.sanitizeGuildTextChannelName)(e)),this.setState({name:e})},n.handleTypeChange=function(e){var t=e.value,n=this.state.name;(0,d.isGuildTextChannelType)(t)&&(n=(0,A.sanitizeGuildTextChannelName)(n)),this.setState({channelType:t,name:n})},n.handleRoleChange=function(e,t){var n=new Set(this.state.permissionOverwrites);e===this.getGuildId()?n.clear():t.currentTarget.checked?n.add(e):n.delete(e),this.setState({permissionOverwrites:n})},n.handlePrivacyChange=function(e){var t=e.currentTarget.checked,n=this.state.permissionOverwrites;!1===t&&(n=new Set),this.setState({isPrivate:t,permissionOverwrites:n})},n.canSubmit=function(){var e=this.state,t=e.isPrivate,n=e.permissionOverwrites,r=e.channelType,a=e.skuId;return(!t||0!==n.size)&&(r!==b.ChannelTypes.GUILD_STORE||null!=a)},n.handleSubmit=function(e){e.preventDefault();var t,n,r,a=this.props,l=a.cloneChannel,u=a.categoryId,s=this.state,d=s.name,c=s.permissionOverwrites,f=s.channelType,p=s.skuId,h=s.branchId,v=this.getGuildId();null!=v&&(null!=l?(t=o.default.values(l.permissionOverwrites),n=l.bitrate,r=l.userLimit):t=f===b.ChannelTypes.GUILD_ANNOUNCEMENT?(0,A.permissionOverwritesForAnnouncement)(v):(0,A.permissionOverwritesForRoles)(v,f,Array.from(c)),i.default.createChannel(v,f,d,t,n,r,f!==b.ChannelTypes.GUILD_CATEGORY?u:null,p,h))},n.renderHeader=function(){var e,t,n=this.props,r=n.cloneChannel,a=n.categoryId,o=this.state.channelType;if(e=null!=r?L.default.Messages.CLONE_CHANNEL:o===b.ChannelTypes.GUILD_CATEGORY?L.default.Messages.CREATE_CATEGORY:o===b.ChannelTypes.GUILD_TEXT?L.default.Messages.CREATE_TEXT_CHANNEL:o===b.ChannelTypes.GUILD_STORE?L.default.Messages.CREATE_STORE_CHANNEL:o===b.ChannelTypes.GUILD_ANNOUNCEMENT?L.default.Messages.CREATE_NEWS_CHANNEL:L.default.Messages.CREATE_VOICE_CHANNEL,null!=a){var l=c.default.getChannel(a);t=G(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.PRIMARY,className:D.default.subtitle},void 0,L.default.Messages.IN_CATEGORY.format({categoryName:l?l.name:""}))}return G(T.default.Header,{},void 0,G(m.default.Child,{grow:1,shrink:1},void 0,G(C.default,{tag:C.default.Tags.H4,className:D.default.header},void 0,e),t))},n.renderName=function(){var e,t,n,r=this.props,a=r.errors,o=r.cloneChannel,l=r.channelType;return null!=a.name&&(e=G(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.RED,className:D.default.error},void 0,a.name)),null!=o&&(t=G(N.default,{className:D.default.cloneInfo,type:N.default.Types.DESCRIPTION},void 0,L.default.Messages.CLONE_CHANNEL_HELP.format({name:(0,s.default)(o,!0)}))),n=l===b.ChannelTypes.GUILD_CATEGORY?L.default.Messages.CATEGORY_NAME:L.default.Messages.FORM_LABEL_CHANNEL_NAME,G(O.default,{title:n,className:D.default.name},void 0,G(I.default,{value:this.state.name,onChange:this.handleNameChange,inputRef:this.setInputRef,maxLength:100,autoFocus:!0}),e,t)},n.renderType=function(){var e=this.props,t=e.cloneChannel,n=e.applications,r=e.canCreateStoreChannel,a=e.canCreateAnnouncementChannel,o=this.state,l=o.channelType,i=o.isPrivate;if(null==t&&l!==b.ChannelTypes.GUILD_CATEGORY){var u=null!=n&&n.length>0;return G(O.default,{title:L.default.Messages.CHANNEL_TYPE,className:D.default.type},void 0,G(g.default,{options:F(i,r&&u,a),value:l,onChange:this.handleTypeChange}))}},n.renderRole=function(e,t){if(0===t)return null;var n=this.state.permissionOverwrites,r=0===n.size&&e.id===this.getGuildId(),a=n.has(e.id)||r;return G(y.default,{onChange:this.handleRoleChange.bind(this,e.id),disabled:r,value:a,fill:e.colorString},e.id,G("span",{style:{color:e.colorString}},void 0,e.name))},n.renderChannelTypeDescription=function(e){var t;return e===b.ChannelTypes.GUILD_ANNOUNCEMENT&&(t=L.default.Messages.FORM_HELP_NEWS.format({documentationLink:M.default.getArticleURL(b.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)})),null==t?null:G(N.default,{className:D.default.channelTypeDescription,type:N.default.Types.DESCRIPTION},void 0,t)},n.renderStoreOptions=function(){var e=this.props.applications,t=this.state,n=t.applicationId,r=t.skuId,o=t.branchId,l=t.showBranches,i=t.hasBranches;if(null==e||0===e.length)throw new Error("Unexpected empty applications");return G("div",{},void 0,G(C.default,{tag:C.default.Tags.H5},void 0,L.default.Messages.CREATE_STORE_CHANNEL_APPLICATION),G(E.default,{options:e.map(function(e){return{label:e.name,value:e.id}}),placeholder:L.default.Messages.CREATE_STORE_CHANNEL_SELECT_APPLICATION,value:n,onChange:this.handleApplicationChange,className:D.default.storeChannelOptionSelector}),null!=n?G(a.Fragment,{},void 0,G(C.default,{tag:C.default.Tags.H5},void 0,L.default.Messages.CREATE_STORE_CHANNEL_SKU),G(R.default,{applicationId:n,onChange:this.handleSKUChange,selectedSkuId:r,className:D.default.storeChannelOptionSelector},n)):null,null!=n&&i?G(y.default,{hideBorder:!0,onChange:this.handleShowBranchesToggle,value:l,note:L.default.Messages.CREATE_STORE_CHANNEL_BETA_NOTE.format({devPortalUrl:b.MarketingURLs.API_DOCS_GAME_AND_SERVER_MANAGEMENT})},void 0,G(_.default,{name:_.default.Names.KEY,className:D.default.switchIcon}),L.default.Messages.CREATE_STORE_CHANNEL_BETA_TITLE):null,null!=n?G(a.Fragment,{},void 0,l?G(C.default,{tag:C.default.Tags.H5},void 0,L.default.Messages.CREATE_STORE_CHANNEL_BRANCH):null,G(P.default,{applicationId:n,onChange:this.handleBranchChange,selectedBranchId:o,hide:!l,onHasBranchesChange:this.handleHasBranchesChange,className:D.default.storeChannelOptionSelector},n)):null)},n.renderPrivacyOptions=function(){var e,t,n=this.props.cloneChannel,r=this.state,a=r.channelType,o=r.isPrivate,l=r.roles;return null!=n||l.length<=1||a===b.ChannelTypes.GUILD_ANNOUNCEMENT?null:(a===b.ChannelTypes.GUILD_CATEGORY?(e=L.default.Messages.PRIVATE_CATEGORY,t=L.default.Messages.PRIVATE_CATEGORY_NOTE):(e=L.default.Messages.PRIVATE_CHANNEL,t=L.default.Messages.PRIVATE_CHANNEL_NOTE),G(O.default,{},"privacy-switch",G(y.default,{hideBorder:!0,onChange:this.handlePrivacyChange,value:o,note:t},void 0,G(_.default,{name:_.default.Names.LOCK_CLOSED,className:D.default.switchIcon}),e)))},n.renderPermissions=function(){var e,t=this.props.cloneChannel,n=this.state,r=n.roles,a=n.channelType;return!1===n.isPrivate||null!=t||a===b.ChannelTypes.GUILD_ANNOUNCEMENT?null:(e=a===b.ChannelTypes.GUILD_CATEGORY?L.default.Messages.FORM_LABEL_CATEGORY_PERMISSIONS:a===b.ChannelTypes.GUILD_VOICE?L.default.Messages.FORM_LABEL_CHANNEL_VOICE_PERMISSIONS:L.default.Messages.FORM_LABEL_CHANNEL_PERMISSIONS,G("div",{},void 0,G(C.default,{tag:C.default.Tags.H5,className:D.default.permissionsTitle},void 0,e),r.map(this.renderRole,this)))},n.renderFooter=function(){var e;return e=this.props.channelType===b.ChannelTypes.GUILD_CATEGORY?L.default.Messages.CREATE_CATEGORY:L.default.Messages.CREATE_CHANNEL,G(T.default.Footer,{},void 0,G(v.default,{type:"submit",disabled:!this.canSubmit()},void 0,e),G(v.default,{onClick:this.close,look:v.default.Looks.LINK,color:v.default.Colors.PRIMARY},void 0,L.default.Messages.CANCEL))},n.render=function(){var e=this.state.channelType;return G(T.default,{className:D.default.modal,onSubmit:this.handleSubmit,tag:"form"},void 0,this.renderHeader(),G(T.default.Content,{},void 0,this.renderType(),this.renderName(),e===b.ChannelTypes.GUILD_STORE?this.renderStoreOptions():null,this.renderChannelTypeDescription(e),this.renderPrivacyOptions(),this.renderPermissions()),this.renderFooter())},n.close=function(){i.default.close()},t}(a.PureComponent);j.displayName="CreateChannel",j.modalConfig={store:f.default};var H=l.default.connectStores([p.default,h.default],function(e){var t=e.guildId,n=h.default.getGuild(t);return{applications:p.default.getApplicationsForGuild(t),canCreateStoreChannel:null!=n&&n.hasFeature(b.GuildFeatures.COMMERCE),canCreateAnnouncementChannel:null!=n&&n.hasFeature(b.GuildFeatures.NEWS)}})(j),V=function(e){function t(){return e.apply(this,arguments)||this}return U(t,e),t.prototype.render=function(){return a.createElement(H,this.props)},t}(a.PureComponent);t.default=V,V.displayName="CreateChannelModal",V.modalConfig={store:f.default}},9172:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(2)),o=i(n(14)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u,s,d,c,f=l.FormStates.CLOSED,p={};var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return f!==l.FormStates.CLOSED},a.getProps=function(){return{submitting:f===l.FormStates.SUBMITTING,categoryId:c,errors:p,channelType:u,cloneChannel:d,guildId:s}},r}(r.default.Store))(a.default,{CREATE_CHANNEL_MODAL_OPEN:function(e){f=l.FormStates.OPEN,p={},s=e.guildId,c=e.categoryId,null!=e.cloneChannelId?null!=(d=o.default.getChannel(e.cloneChannelId))?u=d.type:f=l.FormStates.CLOSED:(d=null,u=e.channelType)},CREATE_CHANNEL_MODAL_SUBMIT:function(e){f=l.FormStates.SUBMITTING},CREATE_CHANNEL_MODAL_SUBMIT_FAILURE:function(e){f=l.FormStates.OPEN,p=e.errors||{}},CREATE_CHANNEL_MODAL_CLOSE:function(e){f=l.FormStates.CLOSED}});t.default=h},9173:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(3)),l=n(514),i=d(n(9174)),u=d(n(347)),s=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=e.value;t.props.onChange(n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.branches,r=e.onHasBranchesChange;(0,l.fetchBranchesForApplication)(t),r&&r(n.length>0)},o.componentDidUpdate=function(e){var t=this.props,n=t.onHasBranchesChange,r=t.branches.length>0;null!=n&&r!==e.branches.length>0&&n(r)},o.render=function(){var e=this.props,t=e.branches,n=e.selectedBranchId,a=e.applicationId,o=e.includeMaster,l=e.hide,i=e.className;if(0===t.length||l)return null;var d=o?t:t.filter(function(e){return e.id!==a});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{options:d.map(function(e){return{label:e.getName(a),value:e.id}}),placeholder:s.default.Messages.CREATE_STORE_CHANNEL_SELECT_BRANCH,value:n,onChange:this.handleChange,className:i})},a}(a.Component);c.displayName="ApplicationBranchSelector",c.defaultProps={includeMaster:!1};var f=o.default.connectStores([i.default],function(e){var t=e.applicationId;return{branches:i.default.getBranches(t)}})(c);t.default=f},9174:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var l={};var i=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getBranches=function(e){return l[e]||[]},r}(r.default.Store))(a.default,{OWNED_APPLICATION_BRANCHES_FETCH_SUCCESS:function(e){var t=e.applicationId,n=e.branches;l[t]=n},LOGOUT:function(e){l={}}});t.default=i},9175:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(3)),l=n(159),i=c(n(119)),u=c(n(347)),s=n(1),d=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=e.value;t.props.onChange(n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.skus,r=e.selectedSkuId,a=e.onChange;null==n?(0,l.fetchSKUsForApplication)(t,!1):1===n.length&&null==r&&a(n[0].id)},o.componentDidUpdate=function(){var e=this.props,t=e.skus,n=e.selectedSkuId,r=e.onChange;null!=t&&1===t.length&&null==n&&r(t[0].id)},o.render=function(){var e=this.props,t=e.skus,n=e.selectedSkuId,a=e.applicationId,o=e.className,l=null!=t&&0===t.length;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{options:null!=t?t.map(function(e){return{label:e.name,value:e.id}}):[],placeholder:l?d.default.Messages.CREATE_STORE_CHANNEL_NO_SKUS:d.default.Messages.CREATE_STORE_CHANNEL_SELECT_SKU,value:n,onChange:this.handleChange,className:o,disabled:l,error:l?d.default.Messages.CREATE_STORE_CHANNEL_NO_SKUS_ERROR.format({devPortalUrl:s.MarketingURLs.API_DOCS_APPLICATION_SKUS_INDEX(a)}):null})},a}(a.Component);f.displayName="ApplicationSKUSelector";var p=o.default.connectStores([i.default],function(e){var t=e.applicationId;return{skus:i.default.getForApplication(t)}})(f);t.default=p},9176:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=m(n(2)),l=m(n(139)),i=_(n(6633)),u=m(n(9177)),s=m(n(71)),d=m(n(75)),c=m(n(36)),f=m(n(6622)),p=n(1),h=m(n(4)),v=m(n(6156));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).transitionTo=function(e){var n=t.props,r=n.guildId,a=n.guestGuildId;o.default.wait(function(){var t=[l.default.joinGuild(r,!1,p.JoinGuildSources.CHAT_INPUT_BLOCKER)];null!=a&&a!==r&&t.push(l.default.joinGuild(a,!1,p.JoinGuildSources.CHAT_INPUT_BLOCKER)),Promise.all(t).then(function(){c.default.transitionTo(e)})})},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=a.prototype;return u.close=function(){i.close()},u.render=function(){var e=this.props,t=e.guildId,r=e.channelId;return g(d.default,{className:v.default.modal,size:d.default.Sizes.MEDIUM},void 0,g("div",{className:v.default.information},void 0,g(s.default,{size:s.default.Sizes.LARGE,color:s.default.Colors.PRIMARY},void 0,h.default.Messages.LOGIN_TITLE),g(s.default,{color:s.default.Colors.PRIMARY,className:v.default.body},void 0,h.default.Messages.AUTH_LOGIN_BODY),g("img",{alt:"",src:n(6788),className:v.default.image})),g(f.default,{transitionTo:this.transitionTo,redirectTo:p.Routes.CHANNEL(t,r),isGuest:!0,authBoxClassName:v.default.card}))},a}(a.PureComponent);E.displayName="Login",E.modalConfig={store:u.default,closable:!0};var y=E;t.default=y},9177:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(2)),o=c(n(10)),l=c(n(376)),i=c(n(39)),u=c(n(153)),s=c(n(6609)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var f=d.FormStates.CLOSED;function p(){f=d.FormStates.CLOSED}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(s.default,o.default,l.default)},a.isOpen=function(){return!s.default.hasAction()&&f!==d.FormStates.CLOSED},a.getProps=function(){var e=u.default.getGuildId();return{guildId:e,channelId:i.default.getChannelId(e),guestGuildId:l.default.getGuildId()}},r}(r.default.Store))(a.default,{LOGIN_MODAL_OPEN:function(e){return function(){if(!o.default.isGuest())return!1;f=d.FormStates.OPEN}()},LOGIN_SUCCESS:function(e){f===d.FormStates.OPEN&&(f=d.FormStates.CLOSED)},LOGIN_MODAL_CLOSE:function(e){return p()},CONNECTION_CLOSED:function(e){return p()},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=h},9178:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(8)),l=m(n(118)),i=m(n(3)),u=m(n(263)),s=m(n(9179)),d=m(n(9180)),c=m(n(11)),f=m(n(6782)),p=m(n(6705)),h=m(n(4)),v=m(n(6456));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={translateX:new l.default.Value(0)},t}g(t,e);var n=t.prototype;return n.componentDidAppear=function(){this.state.translateX.setValue(1)},n.componentWillEnter=function(e){l.default.spring(this.state.translateX,{toValue:1}).start(e)},n.componentWillLeave=function(e){l.default.spring(this.state.translateX,{toValue:0}).start(e)},n.getAnimatedStyle=function(){return l.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]})},n.render=function(){var e=this.props.user;return null==e?null:_(l.default.li,{className:v.default.step1,style:this.getAnimatedStyle()},void 0,_("h5",{},void 0,h.default.Messages.NUF_TITLE.format({username:e.toString()})),_("p",{},void 0,h.default.Messages.NUF_BODY.format()))},t}(a.PureComponent);E.displayName="Step1Component";var y=i.default.connectStores([c.default],function(){return{user:c.default.getCurrentUser()}},{forwardRef:!0})(E),S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).guildInputRef=a.createRef(),t.state={translateX:new l.default.Value(0)},t.handleNameChange=function(e){t.props.onGuildChange({name:e.currentTarget.value})},t.handleRegionChange=function(e){t.props.onGuildChange({region:e})},t.handleIconChange=function(e){t.props.onGuildChange({icon:e})},t}g(t,e);var n=t.prototype;return n.componentDidMount=function(){0===this.props.guild.name.length&&null!=this.guildInputRef.current&&this.guildInputRef.current.focus()},n.componentDidAppear=function(){this.state.translateX.setValue(1)},n.componentWillEnter=function(e){l.default.spring(this.state.translateX,{toValue:1}).start(e)},n.componentWillLeave=function(e){l.default.spring(this.state.translateX,{toValue:0}).start(e)},n.getAnimatedStyle=function(){return l.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]})},n.render=function(){var e,t,n=this,r=function(e){return null!=n.props.errors[e]};return _(l.default.li,{className:v.default.step2,style:this.getAnimatedStyle()},void 0,_("h5",{},void 0,h.default.Messages.CREATE_SERVER_TITLE),_("p",{},void 0,h.default.Messages.CREATE_SERVER_DESCRIPTION.format()),_("ul",{className:v.default.guildForm},void 0,_("li",{},void 0,_("div",{className:(0,o.default)(v.default.controlGroup,(e={},e[v.default.error]=r("name"),e))},void 0,_("label",{htmlFor:"guild-name"},void 0,h.default.Messages.FORM_LABEL_SERVER_NAME," ",r(t="name")?_("span",{className:v.default.error},void 0,"(",n.props.errors[t],")"):null),a.createElement("input",{id:"guild-name",ref:this.guildInputRef,type:"text",defaultValue:this.props.guild.name,onChange:this.handleNameChange,placeholder:h.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),_("div",{className:v.default.controlGroup},void 0,_("label",{htmlFor:"guild-region"},void 0,h.default.Messages.FORM_LABEL_SERVER_REGION),_(p.default,{id:"guild-region",value:this.props.guild.region,onChange:this.handleRegionChange}))),_("li",{},void 0,_(f.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange,avatarClassName:v.default.avatar}))))},t}(a.PureComponent);S.displayName="Step2";var I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){s.default.setStep()},t.handleGuildChange=function(e){s.default.updateTemporaryGuild(e)},t.handleNextStep=function(e){e.preventDefault(),1===t.props.step?s.default.createGuild(t.props.guild.name,t.props.guild.region,t.props.guild.icon):s.default.setStep(t.props.step+1)},t}return g(t,e),t.prototype.render=function(){var e,t,n,r;switch(this.props.step){case 0:r=_(y,{},this.props.step),n=h.default.Messages.GET_STARTED;break;case 1:default:r=_(S,{guild:this.props.guild,onGuildChange:this.handleGuildChange,errors:this.props.errors},this.props.step),n=h.default.Messages.DONE}return _("form",{className:(0,o.default)(v.default.modalNewUser,v.default.form),onSubmit:this.handleNextStep},void 0,_(u.default,{className:v.default.steps,component:"ul"},void 0,r),_("div",{className:v.default.formActions},void 0,_("div",{className:v.default.stepsWrap},void 0,_("ul",{className:v.default.steps},void 0,_("li",{className:(0,o.default)((e={},e[v.default.active]=0===this.props.step,e[v.default.on]=this.props.step>=0,e))}),_("li",{className:v.default.divider}),_("li",{className:(0,o.default)((t={},t[v.default.active]=1===this.props.step,t[v.default.on]=this.props.step>=1,t))}))),_("button",{type:"button",className:(0,o.default)(v.default.btn,v.default.btnDefault),onClick:this.close},void 0,h.default.Messages.SKIP),_("button",{type:"submit",className:(0,o.default)(v.default.btn,v.default.btnPrimary),disabled:this.props.guildSubmitting},void 0,n)))},t}(a.PureComponent);I.displayName="NewUser",I.modalConfig={store:d.default,center:!0,closable:!1};var T=I;t.default=T},9179:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(12)),a=u(n(2)),o=u(n(139)),l=n(863),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s={setStep:function(e){void 0===e&&(e=-1),a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_SET_STEP,step:e})},updateTemporaryGuild:function(e){a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_UPDATE,guild:e})},createGuild:function(e,t,n){void 0===n&&(n=null),a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED}),r.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_CREATED}),o.default.transitionToGuildSync(e.body.id)},function(e){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,errors:e.body})})},createGuildPromise:function(e,t,n){return void 0===n&&(n=null),r.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_CREATED}),o.default.transitionToGuildSync(e.body.id)},function(e){throw e.body})},claimAccount:function(e){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUBMITTED}),t=e,(0,l.saveAccountRequest)(t).then(function(){a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUCCESS})},function(e){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_FAILURE,errors:e.body}),Promise.reject(e)});var t}};t.default=s},9180:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(3)),a=h(n(27)),o=h(n(2)),l=n(184),i=h(n(15)),u=h(n(13)),s=h(n(273)),d=h(n(6608)),c=h(n(6609)),f=h(n(6828)),p=n(1);function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m,_=0,g=2,E="newUserModalStep",y="nuo_transition",S="NUX_WEB_WELCOME",I=0,T=_,O=!1,N={},C={name:"",icon:null,region:null};function A(e){if(P.isOpen()){var t=Date.now();I||(I=t);var n,r,a=(r=e,0===(n=T)&&0===r?{from_step:"INITIAL",to_step:"WELCOME",skip:!1}:0===n&&1===r?{from_step:"WELCOME",to_step:"CREATE_GUILD",skip:!1}:0===n&&-1===r?{from_step:"WELCOME",to_step:"DISABLED",skip:!0}:1===n&&-1===r?{from_step:"CREATE_GUILD",to_step:"DISABLED",skip:!0}:1===n&&2===r?{from_step:"CREATE_GUILD",to_step:"CREATE_GUILD_SUCCESS"}:void 0);null!=a&&(i.default.track(y,v({},a,{flow_type:S,seconds_on_from_step:(t-I)/1e3})),T=e)}}function M(e){var t=e.step;A(t),T=t,a.default.set(E,t)}var P=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){T=a.default.get(E)||T,this.waitFor(s.default,d.default,c.default,f.default)},o.getNewUserModalStep=function(){return T},o.isOpen=function(){if(null!=c.default.getAction())return!1;var e=f.default.getExperimentDescriptor();return(!e||e.bucket===l.ExperimentBuckets.CONTROL)&&((0!==T||!(s.default.totalGuilds>0||u.default.embedded))&&(O&&T>=0&&T<g))},o.getProps=function(){return{step:T,errors:N,guildSubmitting:m===p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED,guild:C}},r}(r.default.Store))(o.default,{NEW_USER_FLOW_SET_STEP:M,NEW_USER_FLOW_GUILD_UPDATE:function(e){C=v({},C,e.guild)},NEW_USER_FLOW_GUILD_CREATED:function(e){return m=p.ActionTypes.NEW_USER_FLOW_GUILD_CREATED,void M({step:g})},NEW_USER_FLOW_GUILD_FAILURE:function(e){m=p.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,N=e.errors},NEW_USER_FLOW_GUILD_SUBMITTED:function(e){m=p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED},CONNECTION_OPEN:function(e){return O=!0,void A(0)},CONNECTION_CLOSED:function(e){O=!1},LOAD_REGIONS:function(e){null==e.guildId&&(C=v({},C,{region:C.region||d.default.getOptimalRegionId()}))},REGISTER:function(e){return I=0,void(T=_)},LOGOUT:function(e){return a.default.remove(E),void(O=!1)},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),R=P;t.default=R},9181:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=D(n(6)),l=n(59),i=D(n(872)),u=D(n(137)),s=D(n(14)),d=D(n(470)),c=D(n(9182)),f=n(188),p=D(n(21)),h=D(n(457)),v=D(n(461)),m=D(n(24)),_=D(n(42)),g=D(n(6525)),E=D(n(460)),y=D(n(852)),S=D(n(71)),I=D(n(65)),T=D(n(75)),O=D(n(262)),N=D(n(258)),C=D(n(66)),A=D(n(6617)),M=D(n(6551)),P=n(1),R=D(n(4)),b=D(n(455)),L=D(n(6457));function D(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function k(e){return e.type===P.ChannelTypes.GUILD_CATEGORY?_.default.Names.CHANNEL_CATEGORY:e.isNSFW()?_.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?_.default.Names.CHANNEL_TEXT_LIMITED:_.default.Names.CHANNEL_TEXT}var F=function(e){function t(t){var n;return U(n=e.call(this,t)||this).handleMute=n.handleMute.bind(U(n)),U(n).handleDelete=n.handleDelete.bind(U(n)),U(n).unhighlight=n.unhighlight.bind(U(n)),n.state={highlight:!1},n}G(t,e);var n=t.prototype;return n.highlight=function(){var e=this;this.setState({highlight:!0},function(){null!=e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(e.unhighlight,1e3)})},n.unhighlight=function(){this.setState({highlight:!1})},n.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},n.setMessageNotification=function(e,t){void 0===t&&(t=!1);var n=this.props.channel,r=n.getGuildId();null!=r&&i.default.updateChannelOverrideSettings(r,n.id,{message_notifications:e,muted:t})},n.handleRadioChange=function(e){this.setMessageNotification(e)},n.handleMute=function(e,t){var n=this.props.messageNotifications;this.setMessageNotification(n||P.UserNotificationSettings.NULL,t)},n.handleDelete=function(){var e=this.props,t=e.onDelete,n=e.channel;this.setMessageNotification(P.UserNotificationSettings.NULL,!1),t(n.id)},n.messageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,r=t.guildMuted,a=t.muted,o=t.guildMessageNotifications,l=n===e;null!=n&&n!==P.UserNotificationSettings.NULL||e!==o||(l=!0);var i=v.default.Types.INVERTED;return(a||n===P.UserNotificationSettings.NULL||null==n)&&(i=v.default.Types.GHOST),w(v.default,{value:!r&&l,disabled:r,shape:v.default.Shapes.ROUND,color:P.Colors.STATUS_GREEN,type:i,onChange:this.handleRadioChange.bind(this,e)})},n.renderName=function(){var e,t=this.props.channel;t.parent_id&&(e=s.default.getChannel(t.parent_id));var n,r=k(t);if(t.type===P.ChannelTypes.GUILD_CATEGORY&&t.guild_id){var a=d.default.getCategories(t.guild_id);n=R.default.Messages.NUM_CHANNELS.format({num:a[t.id]?a[t.id].length:0})}else n=null!=e?R.default.Messages.IN_CATEGORY.format({categoryName:(0,u.default)(e)}):R.default.Messages.NO_CATEGORY;return w(m.default,{align:m.default.Align.START},void 0,w(m.default,{grow:0,shrink:0,className:L.default.iconContainer,align:m.default.Align.CENTER},void 0,w(_.default,{name:r,className:L.default.icon})),w(m.default.Child,{grow:1,shrink:1,className:b.default.marginReset},void 0,w(S.default,{weight:S.default.Weights.SEMIBOLD,size:S.default.Sizes.MEDIUM,className:L.default.channelName},void 0,(0,u.default)(t)),w(S.default,{weight:S.default.Weights.NORMAL,size:S.default.Sizes.SMALL,className:L.default.channelNameByline},void 0,n)))},n.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return w(m.default,{grow:0,shrink:0,className:L.default.checkboxGroup,justify:m.default.Justify.AROUND,align:m.default.Align.CENTER},void 0,w(m.default.Child,{wrap:!0,grow:0,shrink:0,className:n?L.default.checkboxContainerMuted:L.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(P.UserNotificationSettings.ALL_MESSAGES)),w(m.default.Child,{wrap:!0,grow:0,shrink:0,className:n?L.default.checkboxContainerMuted:L.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(P.UserNotificationSettings.ONLY_MENTIONS)),w(m.default.Child,{wrap:!0,grow:0,shrink:0,className:n?L.default.checkboxContainerMuted:L.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(P.UserNotificationSettings.NO_MESSAGES)),w(m.default.Child,{wrap:!0,grow:0,shrink:0,className:L.default.checkboxMute},void 0,w(v.default,{value:t,shape:v.default.Shapes.BOX,type:v.default.Types.INVERTED,onChange:this.handleMute})))},n.render=function(){var e=this.state.highlight;return w(h.default,{outline:!0,editable:!0,className:e?L.default.overrideHighlight:L.default.override},void 0,this.renderName(),this.renderOptions(),w(M.default,{className:L.default.removeOverride,onClick:this.handleDelete}))},t}(a.PureComponent);function B(e){return Object.keys(e).filter(function(t){return!(!(0,f.computeIsMuted)(e[t])&&e[t].message_notifications===P.UserNotificationSettings.NULL)})}F.displayName="ChannelNotificationSettings";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._channelRefs={},t.state={overrides:new Set(B(t.props.channelOverrides)),channelOverridesProp:t.props.channelOverrides,lastSelected:null},t.setScrollerRef=function(e){t._scroller=null!=e?e.getScroller():null},t.handleSelectChange=function(e){if(null!=e){var n=t.state.overrides;(n=new Set(n)).add(e.value),t.setState({overrides:n,lastSelected:e.value})}},t.handleDeleteOverride=function(e){var n=t.state.overrides;(n=new Set(n)).delete(e),t.setState({overrides:n})},t.renderOption=function(e){var t=s.default.getChannel(e.value);if(null==t)return e.label;var n=s.default.getChannel(t.parent_id),r=null!=n?n.name:null;return w(A.default,{iconType:k(t),title:e.label,subtitle:r})},t}G(t,e);var n=t.prototype;return n.close=function(){i.default.close()},t.getDerivedStateFromProps=function(e,t){var n=t.overrides,r=t.channelOverridesProp;return e.channelOverrides!==r?(n=new Set(n),B(e.channelOverrides).forEach(function(e){return n.add(e)}),{overrides:n,channelOverridesProp:e.channelOverrides}):null},n.componentDidUpdate=function(e,t){var n=this,r=this.state.lastSelected,a=null!=r?this._channelRefs[r]:null;if(null!=this._scroller&&null!=a&&r!==t.lastSelected){var o=(0,l.findDOMNode)(a);null!=this._scroller&&null!=o&&o instanceof HTMLElement&&(this._scroller.scrollIntoView(o,!0,{top:20,bottom:20},function(){return n.setState({lastSelected:null})}),a.highlight())}if(this.props.channelOverrides!==e.channelOverrides){var i=this.state.overrides;i=new Set(i),B(this.props.channelOverrides).forEach(function(e){return i.add(e)}),this.setState({overrides:i})}},n.handleCheckboxChange=function(e,t){var n;i.default.updateNotificationSettings(this.props.guildId,((n={})[e]=t.currentTarget.checked,n))},n.handleRadioChange=function(e,t){var n,r=t.value;i.default.updateNotificationSettings(this.props.guildId,((n={})[e]=r,n))},n.renderHeader=function(){var e=this.props.guild;return w(T.default.Header,{},void 0,w(m.default.Child,{},void 0,w(C.default,{tag:C.default.Tags.H4},void 0,R.default.Messages.NOTIFICATION_SETTINGS),w(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.PRIMARY,className:L.default.guildName},void 0,e.name)),w(m.default.Child,{grow:0},void 0,w(T.default.CloseButton,{onClick:this.close})))},n.renderFooter=function(){return w(T.default.Footer,{},void 0,w(p.default,{onClick:i.default.close},void 0,R.default.Messages.DONE))},n.renderMute=function(){var e=this.props.muted;return w(y.default,{value:e,onChange:this.handleCheckboxChange.bind(this,"muted"),note:R.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION},void 0,R.default.Messages.FORM_LABEL_MUTE_SERVER.format({name:this.props.guild.name}))},n.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted;return w(O.default,{title:R.default.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:L.default.spacing},void 0,w(g.default,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,"message_notifications"),options:[{name:R.default.Messages.FORM_LABEL_ALL_MESSAGES,value:P.UserNotificationSettings.ALL_MESSAGES},{name:R.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:P.UserNotificationSettings.ONLY_MENTIONS},{name:R.default.Messages.FORM_LABEL_NOTHING,value:P.UserNotificationSettings.NO_MESSAGES}]}))},n.renderNotificationOptions=function(){var e=this.props,t=e.suppressEveryone,n=e.mobilePush,r=e.muted;return w(O.default,{className:L.default.largeSpacing},void 0,w(y.default,{onChange:this.handleCheckboxChange.bind(this,"suppress_everyone"),value:t},void 0,R.default.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()),w(y.default,{value:!r&&n,disabled:r,onChange:this.handleCheckboxChange.bind(this,"mobile_push")},void 0,R.default.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS))},n.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,r=(0,o.default)(t).filter(function(e){var t=e.channel;return t.type!==P.ChannelTypes.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0}).map(function(e){var t=e.channel;return{value:t.id,label:(0,u.default)(t)}}).value();return w(O.default,{title:R.default.Messages.NOTIFICATION_OVERRIDES,className:L.default.largeSpacing},void 0,w(N.default,{type:N.default.Types.DESCRIPTION,className:L.default.smallSpacing},void 0,R.default.Messages.ADD_CHANNEL_TO_OVERRIDE),w(E.default,{searchable:!0,menuShouldScrollIntoView:!1,placeholder:R.default.Messages.SELECT_CHANNEL_OR_CATEGORY,optionRenderer:this.renderOption,options:r,onChange:this.handleSelectChange}))},n.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,r=t.muted,o=t.channels,l=t.messageNotifications,i=t.categories,u=this.state.overrides,s=o.map(function(t){var o=t.channel;if(!u.has(o.id)||null!=i[o.id]&&0===i[o.id].length)return null;var s=n[o.id];return a.createElement(F,{key:o.id,ref:function(t){e._channelRefs[o.id]=t},channel:o,guildMuted:r,muted:null!=s&&(0,f.computeIsMuted)(s),messageNotifications:null!=s?s.message_notifications:null,guildMessageNotifications:l,onDelete:e.handleDeleteOverride})}).filter(function(e){return null!=e});return 0!==u.size&&0!==s.length||s.push(w("div",{className:L.default.overridePlaceholder},"placeholder",w(S.default,{color:S.default.Colors.PRIMARY,weight:S.default.Weights.SEMIBOLD,className:L.default.lighten},void 0,R.default.Messages.ADD_CHANNEL_TO_OVERRIDE))),w("div",{className:L.default.overrideList},void 0,w(m.default,{},void 0,w(S.default,{color:S.default.Colors.PRIMARY,size:L.default.headerSize,weight:S.default.Weights.BOLD,className:L.default.headerName},void 0,R.default.Messages.CHANNEL_OR_CATEGORY),w(S.default,{color:S.default.Colors.PRIMARY,size:L.default.headerSize,weight:S.default.Weights.BOLD,className:L.default.headerOption},void 0,R.default.Messages.FORM_LABEL_ALL),w(S.default,{color:S.default.Colors.PRIMARY,size:L.default.headerSize,weight:S.default.Weights.BOLD,className:L.default.headerOption},void 0,R.default.Messages.FORM_LABEL_MENTIONS),w(S.default,{color:S.default.Colors.PRIMARY,size:L.default.headerSize,weight:S.default.Weights.BOLD,className:L.default.headerOption},void 0,R.default.Messages.FORM_LABEL_NOTHING),w(S.default,{color:S.default.Colors.PRIMARY,size:L.default.headerSize,weight:S.default.Weights.BOLD,className:L.default.headerOption},void 0,w(I.default,{text:R.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:I.default.Positions.BOTTOM},void 0,function(e){return a.createElement("span",e,R.default.Messages.SOUND_MUTE)}))),s)},n.render=function(){return a.createElement(T.default,{size:T.default.Sizes.MEDIUM,ref:this.setScrollerRef},this.renderHeader(),w(T.default.Content,{},void 0,this.renderMute(),this.renderServerSettings(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()),this.renderFooter())},t}(a.PureComponent);j.displayName="NotificationSettings",j.modalConfig={store:c.default};var H=j;t.default=H},9182:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(3)),a=f(n(2)),o=n(67),l=n(226),i=f(n(470)),u=f(n(87)),s=f(n(19)),d=f(n(188)),c=n(1);function f(e){return e&&e.__esModule?e:{default:e}}var p,h=c.FormStates.CLOSED;var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){var e=this;this.syncWith([d.default,u.default,s.default],function(){return e.isOpen()})},a.isOpen=function(){return h!==c.FormStates.CLOSED},a.getProps=function(){var e=i.default.getCategories(p);return{guildId:p,categories:e,guild:s.default.getGuild(p),suppressEveryone:d.default.isSuppressEveryoneEnabled(p),mobilePush:d.default.isMobilePushEnabled(p),muted:d.default.isMuted(p),messageNotifications:d.default.getMessageNotifications(p),channelOverrides:d.default.getChannelOverrides(p),channels:(0,l.getFlattenedChannelList)(e._categories,e,function(e){var t=e.channel.type;return(0,o.isGuildSelectableChannelType)(t)||t===c.ChannelTypes.GUILD_CATEGORY})}},r}(r.default.Store))(a.default,{NOTIFICATION_SETTINGS_MODAL_OPEN:function(e){var t=e.guildId;h=c.FormStates.OPEN,p=t},NOTIFICATION_SETTINGS_MODAL_CLOSE:function(e){return h=c.FormStates.CLOSED,void(p=null)}});t.default=v},9183:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(6759)),l=v(n(337)),i=v(n(9184)),u=v(n(21)),s=v(n(852)),d=v(n(75)),c=v(n(262)),f=v(n(66)),p=n(7798),h=v(n(4));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(e){var t,n;function r(t){var n;return _(n=e.call(this,t)||this).handleRestrictedGuildChange=n.handleRestrictedGuildChange.bind(_(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){o.default.close()},a.handleRestrictedGuildChange=function(e){var t=new Set((0,p.getSanitizedRestrictedGuilds)());e.currentTarget.checked?t.delete(this.props.guildId):t.add(this.props.guildId),t=Array.from(t),l.default.updateRemoteSettings({restrictedGuilds:t})},a.render=function(){var e=this.props,t=e.isGuildRestricted,n=e.guild;return m(d.default,{},void 0,m(d.default.Header,{},void 0,m(f.default,{tag:f.default.Tags.H4},void 0,h.default.Messages.PRIVACY_SETTINGS,"—",null!=n?n.toString():"??")),m(d.default.Content,{},void 0,m(c.default,{},void 0,m(f.default,{tag:f.default.Tags.H5,style:{marginBottom:4}},void 0,h.default.Messages.DIRECT_MESSAGES),m(s.default,{value:!t,onChange:this.handleRestrictedGuildChange,hideBorder:!0},void 0,h.default.Messages.ALLOW_SERVER_DMS))),m(d.default.Footer,{},void 0,m(u.default,{onClick:this.close},void 0,h.default.Messages.DONE)))},r}(a.PureComponent);g.displayName="PrivacySettings",g.modalConfig={store:i.default};var E=g;t.default=E},9184:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(2)),o=u(n(19)),l=u(n(25)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s,d,c,f=i.FormStates.CLOSED;function p(){if(f===i.FormStates.CLOSED)return!1;var e=o.default.getGuild(s),t=l.default.isGuildRestricted(s),n=!1;return d!==e&&(d=e,n=!0),c!==t&&(c=t,n=!0),n}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([o.default,l.default],p)},a.isOpen=function(){return f!==i.FormStates.CLOSED},a.getProps=function(){return{guildId:s,guild:d,isGuildRestricted:c}},r}(r.default.Store))(a.default,{PRIVACY_SETTINGS_MODAL_OPEN:function(e){f=i.FormStates.OPEN,s=e.guildId,p()},PRIVACY_SETTINGS_MODAL_CLOSE:function(e){return f=i.FormStates.CLOSED,d=null,void(c=null)}});t.default=h},9185:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(6934)),l=m(n(19)),i=m(n(9186)),u=m(n(21)),s=m(n(6525)),d=m(n(75)),c=m(n(262)),f=m(n(258)),p=m(n(66)),h=m(n(4)),v=m(n(6458));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDaysChange=function(e){var n=e.value;o.default.open(t.props.guildId,parseInt(n,10))},t.handlePrune=function(e){e.preventDefault();var n=t.props,r=n.days,a=n.guildId;o.default.prune(a,r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){o.default.close()},a.render=function(){var e=this.props,t=e.estimate,n=e.guildId,r=e.days,a=l.default.getGuild(n);return _(d.default,{tag:"form",onSubmit:this.handlePrune},void 0,_(d.default.Header,{},void 0,_(p.default,{tag:p.default.Tags.H4},void 0,h.default.Messages.PRUNE_MEMBERS,"—",null!=a?a.toString():"")),_(d.default.Content,{},void 0,_(c.default,{title:h.default.Messages.FORM_LABEL_LAST_SEEN},void 0,_(s.default,{value:r,options:[{name:h.default.Messages.LAST_SEEN.format({days:1}),value:1},{name:h.default.Messages.LAST_SEEN.format({days:7}),value:7},{name:h.default.Messages.LAST_SEEN.format({days:30}),value:30}],onChange:this.handleDaysChange,className:v.default.spacing}),_(f.default,{type:f.default.Types.DESCRIPTION,className:v.default.spacing},void 0,h.default.Messages.FORM_HELP_LAST_SEEN.format({members:t,days:r})))),_(d.default.Footer,{},void 0,_(u.default,{type:"submit",disabled:0===t},void 0,h.default.Messages.PRUNE),_(u.default,{type:"button",look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:this.close},void 0,h.default.Messages.CANCEL)))},r}(a.PureComponent);g.displayName="PruneGuild",g.modalConfig={store:i.default};var E=g;t.default=E},9186:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var i,u,s,d=o.FormStates.CLOSED;var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return d!==o.FormStates.CLOSED},a.getProps=function(){return{guildId:i,days:u,estimate:s}},r}(r.default.Store))(a.default,{PRUNE_GUILD_MODAL_OPEN:function(e){d=o.FormStates.OPEN,i=e.guildId,u=e.days,s=e.estimate},PRUNE_GUILD_MODAL_UPDATE:function(e){e.guildId===i&&e.days===u&&(s=e.estimate)},PRUNE_GUILD_MODAL_CLOSE:function(e){return d=o.FormStates.CLOSED,i=null,u=null,void(s=null)}});t.default=c},9187:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=m(n(2)),l=m(n(139)),i=_(n(6579)),u=m(n(9188)),s=m(n(71)),d=m(n(75)),c=m(n(36)),f=m(n(6831)),p=n(1),h=m(n(4)),v=m(n(6156));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).transitionTo=function(e){var n=t.props,r=n.guildId,a=n.guestGuildId;o.default.wait(function(){var t=[l.default.joinGuild(r,!1,p.JoinGuildSources.CHAT_INPUT_BLOCKER)];null!=a&&a!==r&&t.push(l.default.joinGuild(a,!1,p.JoinGuildSources.CHAT_INPUT_BLOCKER)),Promise.all(t).then(function(){c.default.transitionTo(e)})})},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=a.prototype;return u.close=function(){i.close()},u.render=function(){var e=this.props,t=e.guildId,r=e.channelId;return g(d.default,{className:v.default.modal,size:d.default.Sizes.MEDIUM},void 0,g("div",{className:v.default.information},void 0,g(s.default,{size:s.default.Sizes.LARGE,color:s.default.Colors.PRIMARY},void 0,h.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),g(s.default,{color:s.default.Colors.PRIMARY,className:v.default.body},void 0,h.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY),g("img",{alt:"",src:n(6788),className:v.default.image})),g(f.default,{transitionTo:this.transitionTo,redirectTo:p.Routes.CHANNEL(t,r),isGuest:!0,authBoxClassName:v.default.card}))},a}(a.PureComponent);E.displayName="Register",E.modalConfig={store:u.default,closable:!0};var y=E;t.default=y},9188:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(2)),o=c(n(10)),l=c(n(376)),i=c(n(39)),u=c(n(153)),s=c(n(6609)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var f=d.FormStates.CLOSED;function p(){f=d.FormStates.CLOSED}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(s.default,o.default,l.default)},a.isOpen=function(){return!s.default.hasAction()&&f!==d.FormStates.CLOSED},a.getProps=function(){var e=u.default.getGuildId();return{guildId:e,channelId:i.default.getChannelId(e),guestGuildId:l.default.getGuildId()}},r}(r.default.Store))(a.default,{REGISTER_MODAL_OPEN:function(e){return function(){if(!o.default.isGuest())return!1;f=d.FormStates.OPEN}()},REGISTER_SUCCESS:function(e){f===d.FormStates.OPEN&&(f=d.FormStates.CLOSED)},REGISTER_MODAL_CLOSE:function(e){return p()},CONNECTION_CLOSED:function(e){return p()},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=h},9189:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(45),l=C(n(189)),i=C(n(30)),u=C(n(329)),s=C(n(6794)),d=C(n(137)),c=C(n(40)),f=C(n(54)),p=C(n(9190)),h=C(n(11)),v=C(n(6825)),m=C(n(9191)),_=C(n(71)),g=C(n(15)),E=C(n(20)),y=C(n(13)),S=C(n(96)),I=C(n(155)),T=C(n(6795)),O=n(1),N=C(n(4));function C(e){return e&&e.__esModule?e:{default:e}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var R=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleShare=n.handleShare.bind(P(n)),n.handlePromptPremium=n.handlePromptPremium.bind(P(n)),n.close=n.close.bind(P(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=r.prototype;return p.getItems=function(){return[{name:N.default.Messages.SCREENSHARE_SCREEN,value:o.DesktopSources.SCREEN,layout:v.default.Layout.STACK,options:this.props.screenSources,sound:!1},{name:N.default.Messages.SCREENSHARE_WINDOW,value:o.DesktopSources.WINDOW,layout:v.default.Layout.WRAP,options:this.props.windowSources,sound:c.default.supports(o.Features.SOUNDSHARE)}]},p.render=function(){return M(m.default,{items:this.getItems(),value:o.DesktopSources.SCREEN,resolution:720,frameRate:30,sound:c.default.supports(o.Features.SOUNDSHARE),premium:S.default.canUseHigherFramerate(h.default.getCurrentUser()),description:N.default.Messages.SCREENSHARE_DESCRIPTION.format({name:(0,d.default)(this.props.channel)}),onCancel:this.close,onSelectSourceType:this.handleSelectSourceType,onPromptPremium:this.handlePromptPremium,onShare:this.handleShare})},p.close=function(){s.default.close()},p.startStream=function(e,t,n,r){l.default.setDesktopSource(e,t,n,r)},p.handleShare=function(e,t,n,r){var o=this;this.close(),c.default.getMediaEngine().getDesktopSources().then(function(l){if(y.default.isOSX()&&e.startsWith("screen")&&l.length>0&&!l.some(function(t){return t.includes(e)}))!function(e,t){g.default.track(O.AnalyticEvents.SCREENSHARE_FAILED,{source_id:e,screens:t.length})}(e,l),i.default.push(function(e){return a.createElement(I.default,A({header:N.default.Messages.SCREENSHARE_RELAUNCH,confirmText:N.default.Messages.OKAY,cancelText:N.default.Messages.CANCEL,onConfirm:function(){return E.default.relaunch()},red:!0},e),M(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,N.default.Messages.SCREENSHARE_RELAUNCH_BODY))});else{var u=E.default.getPidFromDesktopSource(e);if(r&&null!=u){var s=f.default.getGameForPID(u);if(E.default.supportsFeature(O.NativeFeatures.ELEVATED_HOOK)&&null!=s&&s.elevated)return void i.default.push(function(l){return a.createElement(T.default,A({},l,{handleStream:function(){o.startStream(e,t,n,r)},pid:s.pid}))})}o.startStream(e,t,n,r)}})},p.handleSelectSourceType=function(e){s.default.selectSourceType(e)},p.handlePromptPremium=function(){g.default.track(O.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:O.AnalyticsPages.DM_CHANNEL,location_section:O.AnalyticsSections.SCREENSHARE_POPOUT}),this.close(),u.default.open(O.UserSettingsSections.PREMIUM)},r}(a.PureComponent);R.displayName="Screenshare",R.modalConfig={store:p.default};var b=R;t.default=b},9190:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(111)),a=s(n(3)),o=n(45),l=s(n(7341)),i=n(29),u=s(n(2));n(1);function s(e){return e&&e.__esModule?e:{default:e}}var d,c,f,p=!1,h=o.DesktopSources.SCREEN,v=new i.Interval;function m(){var e=h===o.DesktopSources.WINDOW?{width:150,height:150}:{width:307,height:240},t=h===o.DesktopSources.WINDOW?d:c,n=h;(0,l.default)([h],e).then(function(e){n!==h||null!=t&&(0,r.default)(t,e)||(h===o.DesktopSources.WINDOW?d=e:c=e,_.emitChange())})}var _=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return p},a.getProps=function(){return{windowSources:d,screenSources:c,channel:f}},r}(a.default.Store))(u.default,{SCREENSHARE_MODAL_OPEN:function(e){p=!0,f=e.channel,m(),v.start(1e3,m)},SCREENSHARE_MODAL_CLOSE:function(e){return p=!1,h=o.DesktopSources.SCREEN,f=null,v.stop(),d=null,void(c=null)},SCREENSHARE_MODAL_SELECT_SOURCE_TYPE:function(e){var t=e.sourceType;h=t,d=null,c=null,m()}}),g=_;t.default=g},9191:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),o=C(n(8)),l=C(n(6)),i=n(99),u=A(n(21)),s=C(n(6706)),d=C(n(58)),c=C(n(24)),f=C(n(6825)),p=C(n(42)),h=C(n(152)),v=C(n(6969)),m=C(n(182)),_=C(n(891)),g=C(n(71)),E=n(874),y=C(n(75)),S=C(n(258)),I=C(n(66)),T=n(1),O=C(n(4)),N=C(n(6459));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=M(m.default,{}),b=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={selectedSegment:t.value,selectedTile:null,selectedResolution:t.resolution,selectedFrameRate:t.frameRate,sound:t.sound,valueProp:t.value},l.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleSelectSegment","handleSoundChange","handleShare"]),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){this.props.value!==e.value&&this.setState({selectedSegment:this.props.value})},r.getDerivedStateFromProps=function(e,t){var n=e.items,r=e.value,a=t.selectedTile,o=t.selectedSegment,i=null;if(r!==t.valueProp&&(i={selectedSegment:r,valueProp:r}),null==a&&null!=o&&n.length>0){var u=(0,l.default)(n).filter(function(e){return e.value===o}).first();if(null!=u&&null!=u.options&&u.options.length>0)i=P({selectedTile:u.options[0].id},i)}return i},a.getButton=function(e,t){var n,r,a,o=this,l=this.props,u=l.premium,s=l.onPromptPremium,d=this.state,f=d.selectedResolution,h=d.selectedFrameRate,v=t?e===f:e===h,m=!1;return u||(m=t?0===e||e>=1080:60===e),t||60!==e?t&&(0===e||e>=1080)&&(n=60===h):n=0===f||f>=1080,m?(r=M(c.default,{align:c.default.Align.CENTER},void 0,M(g.default,{size:g.default.Sizes.SMALL,weight:g.default.Weights.SEMIBOLD,color:g.default.Colors.PRIMARY,className:N.default.selectorNitroText},void 0,0===e?O.default.Messages.SCREENSHARE_SOURCE:e),M(p.default,{name:p.default.Names.NITRO,color:T.Colors.BRAND,className:N.default.selectorNitroIcon})),a=s):(r=M(g.default,{size:g.default.Sizes.SMALL,weight:g.default.Weights.SEMIBOLD,className:(0,i.getClass)(N.default,"selectorText",v?"Selected":null)},void 0,0===e?O.default.Messages.SCREENSHARE_SOURCE:e),a=t?function(){return o.handleSelectResolution(e)}:function(){return o.handleSelectFrameRate(e)}),{content:r,className:(0,i.getClass)(N.default,"selectorButton",v?"Selected":null),onClick:a,disabled:n}},a.renderSelectors=function(){var e=this,t=[480,720,1080,0].map(function(t){return e.getButton(t,!0)}),n=[15,30,60].map(function(t){return e.getButton(t,!1)});return M(c.default,{align:c.default.Align.CENTER,shrink:0,className:N.default.selector},void 0,M(c.default.Child,{grow:0},void 0,M(I.default,{tag:I.default.Tags.H5},void 0,O.default.Messages.SCREENSHARE_STREAM_QUALITY),M(s.default,{buttons:t})),M(c.default.Child,{grow:0},void 0,M(I.default,{tag:I.default.Tags.H5},void 0,O.default.Messages.SCREENSHARE_FRAME_RATE),M(s.default,{buttons:n})),this.renderSound())},a.renderSound=function(){var e=this,t=this.props.items,n=this.state,r=n.selectedSegment,a=n.sound,o=(0,l.default)(t).filter(function(e){return e.value===r}).first();return null!=o&&o.sound?M(E.UID,{},void 0,function(t){return M(c.default.Child,{grow:0},void 0,M("label",{htmlFor:t,className:N.default.label},void 0,O.default.Messages.SCREENSHARE_SOUND_TOGGLE_LABEL),M(c.default,{align:c.default.Align.CENTER,style:{height:30}},void 0,M(_.default,{id:t,value:a,onChange:e.handleSoundChange})))}):null},a.renderGrids=function(){var e=this,t=this.props.items,n=this.state,r=n.selectedSegment,a=n.selectedTile,i=(0,l.default)(t).filter(function(e){return e.value===r}).first();if(null==i||null==i.options)return M(c.default,{className:N.default.spinner,justify:c.default.Justify.CENTER,align:c.default.Align.CENTER},void 0,R);var u=i.layout,s=i.options,p=u===f.default.Layout.STACK,v=s.map(function(t){var n,r,l,i=t.id,u=t.name,s=t.url,f=a===i;return M(d.default,{className:N.default.tile,onClick:function(){return e.handleSelectTile(i)}},i,M(c.default,{direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER,align:c.default.Align.CENTER},void 0,M(c.default,{justify:c.default.Justify.CENTER,align:c.default.Align.CENTER,className:(0,o.default)((n={},n[N.default.imageContainerStack]=p,n[N.default.imageContainerWrap]=!p,n))},void 0,M("img",{alt:"",className:(0,o.default)((r={},r[N.default.imageSelected]=f,r[N.default.imageStack]=p,r[N.default.imageWrap]=!p,r)),src:s})),M("div",{className:(0,o.default)((l={},l[N.default.titleStack]=p,l[N.default.titleWrap]=!p,l[N.default.titleSelected]=f,l))},void 0,u)))});return M(h.default,{theme:h.default.Themes.GHOST_HAIRLINE},void 0,M(f.default,{layout:u,columns:3,className:N.default.container},void 0,v))},a.render=function(){var e=this.props,t=e.items,n=e.description,r=e.onCancel,a=this.state,o=a.selectedSegment,i=a.selectedTile,s=[];return(0,l.default)(t).forEach(function(e){var t=e.name,n=e.value;s.push({name:t,value:n})}),M(y.default,{size:N.default.size},void 0,M(c.default,{className:N.default.content,direction:c.default.Direction.VERTICAL},void 0,M(v.default,{options:s,value:o,onChange:this.handleSelectSegment,className:N.default.border}),this.renderSelectors(),M(c.default,{className:N.default.tiles,direction:c.default.Direction.VERTICAL,align:c.default.Align.STRETCH},void 0,this.renderGrids()),M(S.default,{type:S.default.Types.DESCRIPTION,className:N.default.description},void 0,n)),M(y.default.Footer,{},void 0,M(u.default,{disabled:null==i,onClick:this.handleShare},void 0,O.default.Messages.SHARE),M(u.default,{look:u.ButtonLooks.LINK,color:u.ButtonColors.PRIMARY,onClick:r},void 0,O.default.Messages.CANCEL)))},a.handleSelectSegment=function(e){var t=e.value;t!==this.state.selectedSegment&&(this.setState({selectedSegment:t,selectedTile:null}),(0,this.props.onSelectSourceType)(t))},a.handleSelectResolution=function(e){e!==this.state.selectedResolution&&this.setState({selectedResolution:e})},a.handleSelectFrameRate=function(e){e!==this.state.selectedFrameRate&&this.setState({selectedFrameRate:e})},a.handleSelectTile=function(e){e!==this.state.selectedTile&&this.setState({selectedTile:e})},a.handleSoundChange=function(e){this.setState({sound:e.currentTarget.checked})},a.handleShare=function(){var e=this.props.onShare,t=this.state;e(t.selectedTile,t.selectedResolution,t.selectedFrameRate,t.sound)},r}(a.PureComponent);b.displayName="ScreenshareModal",b.defaultProps={items:[],value:null,premium:!1,resolution:480,frameRate:30,sound:!1,onCancel:T.NOOP,onShare:T.NOOP,onSelectSourceType:T.NOOP,onPromptPremium:T.NOOP};var L=b;t.default=L},9192:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(6)),l=n(366),i=c(n(6609)),u=c(n(9193)),s=n(266),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={accepting:!1},o.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleAccept"]),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.handleAccept=function(){var e=this;return this.setState({accepting:!0}),(0,l.acceptAgreements)().then(function(t){return e.setState({accepting:t})})},i.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{className:(0,s.getThemeClass)(d.ThemeTypes.LIGHT),onAccept:this.handleAccept,accepting:this.state.accepting})},a}(a.PureComponent);t.default=f,f.displayName="UserAgreements",f.modalConfig={store:i.default,center:!0,isOpen:function(){return i.default.getAction()===d.UserRequiredActions.AGREEMENTS}}},9193:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(8)),l=h(n(21)),i=h(n(461)),u=h(n(24)),s=h(n(332)),d=h(n(258)),c=n(1),f=h(n(4)),p=h(n(6460));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=v(s.default,{}),_=v(s.default,{}),g=v(s.default,{}),E=function(e){var t,r;function a(t){var n;return(n=e.call(this,t)||this).handleCheck=function(){n.setState({checked:!n.state.checked})},n.state={checked:!1},n}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.className,r=e.accepting,a=e.onAccept,s=this.state.checked;return v("div",{className:(0,o.default)(p.default.modal,t)},void 0,v("div",{className:p.default.title},void 0,f.default.Messages.NEW_TERMS_TITLE),m,v(d.default,{className:p.default.description},void 0,f.default.Messages.NEW_TERMS_DESCRIPTION),v(u.default,{className:p.default.container,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER},void 0,v(u.default,{direction:u.default.Direction.VERTICAL},void 0,v("div",{className:p.default.link},void 0,f.default.Messages.TERMS_OF_SERVICE.format({url:c.MarketingURLs.TERMS})),v("div",{className:p.default.link},void 0,f.default.Messages.PRIVACY_POLICY.format({url:c.MarketingURLs.PRIVACY}))),v("img",{alt:"",src:n(9194)})),_,v("div",{className:p.default.container},void 0,v(i.default,{onChange:this.handleCheck,value:s},void 0,v("div",{className:p.default.ack},void 0,f.default.Messages.NEW_TERMS_ACK))),g,v(u.default,{className:p.default.buttonContainer,justify:u.default.Justify.END},void 0,v(l.default,{className:p.default.button,disabled:!s,submitting:r,onClick:a},void 0,f.default.Messages.NEW_TERMS_CONTINUE)))},a}(a.PureComponent);E.displayName="NewTermsModal",E.defaultProps={onAccept:c.NOOP,accepting:!1};var y=E;t.default=y},9194:function(e,t,n){e.exports=n.p+"a13cfdd7220132fff399a76c3ed64519.svg"},9195:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(3)),o=n(29),l=f(n(2)),i=f(n(141)),u=f(n(107)),s=f(n(14)),d=f(n(72)),c=(n(1),f(n(4)));function f(e){return e&&e.__esModule?e:{default:e}}var p=new o.Timeout,h=3e5;function v(){null!=r&&(i.default.sendBotMessage(r,c.default.Messages.BOT_CALL_IDLE_DISCONNECT),u.default.selectVoiceChannel(null))}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(d.default)},r}(a.default.Store))(l.default,{CONNECTION_CLOSED:function(e){return r=null,void p.stop()},VOICE_STATE_UPDATE:function(e){if(null!=e.guildId)return!1;var t=d.default.getCurrentClientVoiceChannelId(null);if(null==t)return p.stop(),!1;var n=s.default.getChannel(t);return 1===d.default.getVoiceStatesForChannel(n).length?(r=t,p.start(h,v,!1)):p.stop(),!1}});t.default=m},9196:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=d(n(3)),o=d(n(2)),l=d(n(9197)),i=d(n(14)),u=d(n(53)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}var c=new l.default(u.default.isMember,function(e,t){o.default.dispatch({type:s.ActionTypes.GUILD_MEMBERS_REQUEST,guildIds:[e],userIds:t})});function f(){c.reset()}function p(e,t){return c.request(e,t),!1}function h(e,t){return t.forEach(function(t){var n=t.author,r=t.mentions;null!=n&&p(e,n.id),r.forEach(function(t){return p(e,t.id)})}),!1}function v(e){var t=e.channelId,n=e.messages,r=i.default.getChannel(t);return null!=r&&null!=r.guild_id&&h(r.guild_id,n)}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(i.default,u.default)},r}(a.default.Store))(o.default,{CONNECTION_CLOSED:function(e){return f()},CONNECTION_OPEN:function(e){return f()},CONNECTION_RESUMED:function(e){return c.requestUnacknowledged(),!1},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members,r=e.notFound;return n.forEach(function(e){c.acknowledge(t,e.user.id)}),null!=r&&r.forEach(function(e){return c.acknowledge(t,e)}),!1},SEARCH_FINISH:function(e){var t=e.searchId,n=e.messages;return h(t,r.default.flatten(n))},LOAD_MESSAGES_SUCCESS:v,LOAD_MESSAGES_AROUND_SUCCESS:v,LOAD_PINNED_MESSAGES_SUCCESS:v,LOAD_RECENT_MENTIONS_SUCCESS:v});t.default=m},9197:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(6))&&r.__esModule?r:{default:r},o=n(29);var l=function(){function e(e,t){this._pendingRequests=new Set,this._sentRequests=new Set,this._unacknowledgedRequests=new Set,this._guildId=e,this._guildMemberExists=function(n){return t(e,n)}}var t=e.prototype;return t.acknowledge=function(e){this._unacknowledgedRequests.delete(e),this._pendingRequests.delete(e)},t.flushRequests=function(e){var t=this;if(0!==this._pendingRequests.size){var n=[];this._pendingRequests.forEach(function(e){t._guildMemberExists(e)||(t._unacknowledgedRequests.add(e),t._sentRequests.add(e),n.push(e))}),n.length>0&&e(this._guildId,n),this._pendingRequests.clear()}},t.requestUnacknowledged=function(){var e=this;return 0!==this._unacknowledgedRequests.size&&(this._unacknowledgedRequests.forEach(function(t){e._guildMemberExists(t)?e._unacknowledgedRequests.delete(t):e._pendingRequests.add(t)}),0!==this._pendingRequests.size&&void 0)},t.request=function(e){if(this._guildMemberExists(e)||this._sentRequests.has(e)||this._pendingRequests.has(e))return!1;this._pendingRequests.add(e)},e}(),i=function(){function e(e,t){var n=this;this._guildStates={},this._flush=new o.DelayedCall(0,function(){return n.flushRequests()}),this._guildMemberExists=e,this._onChange=t}var t=e.prototype;return t.reset=function(){this._guildStates={},this._flush.cancel()},t.request=function(e,t){!1!==this._getGuildState(e).request(t)&&this._flush.delay(!1)},t.acknowledge=function(e,t){this._getGuildState(e).acknowledge(t)},t.flushRequests=function(){var e=this;a.default.forEach(this._guildStates,function(t){return t.flushRequests(e._onChange)})},t.requestUnacknowledged=function(){a.default.reduce(this._guildStates,function(e,t){return!1!==t.requestUnacknowledged()||t},!1)&&this._flush.delay()},t._getGuildState=function(e){var t=this._guildStates[e];return null==t&&(t=this._guildStates[e]=new l(e,this._guildMemberExists)),t},e}();t.default=i},9198:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(3)),o=g(n(2)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(9199)),i=g(n(10)),u=g(n(6862)),s=g(n(273)),d=g(n(53)),c=g(n(19)),f=g(n(191)),p=g(n(51)),h=g(n(39)),v=g(n(153)),m=g(n(235)),_=n(1);function g(e){return e&&e.__esModule?e:{default:e}}function E(){S.forEach(function(e){e===v.default.getGuildId()||e===f.default.getGuildId()||null!=r&&r.guildId===e||S.clear(e)})}function y(e,t){S.subscribeTyping(e),S.subscribeActivities(e),null!=t&&u.default.getSection()===_.ChannelSections.MEMBERS&&S.subscribeChannel(e,t,l.DEFAULT_RANGES)}var S=new l.default(function(e,t){o.default.dispatch({type:_.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})});function I(e){e.type===_.ActionTypes.CONNECTION_OPEN&&E();var t=v.default.getGuildId();return null!=t&&y(t,h.default.getChannelId(t)),S.forEach(function(e){null==c.default.getGuild(e)?S.clear(e):o.default.dirtyDispatch({type:_.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:S.get(e)})}),!1}function T(){var e=m.default.getSyncingWith();if(null==e)null!=r&&(S.unsubscribeUser(r.guildId,r.userId),r=null);else{var t=e.userId;if(null!=r&&r.userId===t)return!1;if(p.default.isFriend(t))return!1;var n=d.default.memberOf(t);if(0===n.length)return!1;var a=n[0];r={guildId:a,userId:t},S.subscribeUser(a,t)}return!1}var O=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(c.default,v.default,h.default,f.default,i.default,u.default),this.syncWith([m.default],T)},a.isSubscribedToTyping=function(e){return!0===S.get(e).typing},r}(a.default.Store))(o.default,{CONNECTION_OPEN:I,CONNECTION_RESUMED:I,CONNECTION_CLOSED:function(e){return E(),!1},IDLE:function(e){return e.idle&&E(),!1},LOGOUT:function(e){return S.reset(),!1},CHANNEL_SELECT:function(e){var t=e.guildId;return!s.default.isUnavailable(t)&&(y(t),!1)},GUILD_DELETE:function(e){var t=e.guild;return S.clear(t.id),!1},GUILD_SUBSCRIPTIONS_MEMBERS_ADD:function(e){var t=e.guildId;return e.userIds.forEach(function(e){e!==i.default.getId()&&S.subscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE:function(e){var t=e.guildId;return e.userIds.forEach(function(e){S.unsubscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_CHANNEL:function(e){var t=e.guildId,n=e.channelId,r=e.ranges;return S.subscribeChannel(t,n,r),!1},CHANNEL_PRELOAD:function(e){return y(e.guildId,e.channelId),!1}});t.default=O},9199:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var r=u(n(6)),a=n(29),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1035));t.MINIMUM_RANGE=o.MINIMUM_RANGE,t.DEFAULT_RANGES=o.DEFAULT_RANGES;var l=u(n(9200)),i=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return null!=e&&"null"!==e&&e!==i.ME&&"undefined"!==e}var c=function(){function e(e){var t=this;this._members=new l.default(function(e,n){return t._enqueue(e,{members:n})}),this._channels=new o.default(function(e,n){return t._enqueue(e,{channels:n})}),this._typing=new Set,this._activities=new Set,this._subscribed=new Set,this._pending=new Set,this._flush=new a.DelayedCall(0,function(){return t.flush()}),this._onChange=e}var t=e.prototype;return t._enqueue=function(e,t){this._pending[e]=s({},this._pending[e],t),this._flush.delay()},t.reset=function(){this._subscribed.clear(),this._pending={},this._members.reset(),this._channels.reset(),this._typing.clear(),this._activities.clear()},t.get=function(e){return{typing:this._typing.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e)}},t.forEach=function(e){this._subscribed.forEach(e)},t.clear=function(e){this._subscribed.delete(e),delete this._pending[e],this._members.clear(e),this._channels.clear(e),this._typing.delete(e),this._activities.delete(e)},t.flush=function(){var e=this;r.default.forEach(this._pending,function(t,n){e._subscribed.add(n),e._onChange(n,t)}),this._pending={}},t.subscribeUser=function(e,t){d(e)&&this._members.subscribe(e,t)},t.unsubscribeUser=function(e,t){d(e)&&this._members.unsubscribe(e,t)},t.subscribeChannel=function(e,t,n){d(e)&&this._channels.subscribe(e,t,n)},t.subscribeTyping=function(e){this._subscribeToFeature(e,this._typing,{typing:!0})},t.subscribeActivities=function(e){this._subscribeToFeature(e,this._activities,{activities:!0})},t._subscribeToFeature=function(e,t,n){d(e)&&(t.has(e)||(t.add(e),this._enqueue(e,n)))},e}();t.default=c},9200:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(6))&&r.__esModule?r:{default:r},o=n(29);var l=6e4,i=function(){function e(e){var t=this;this._subscriptions={},this._unsubscriptions={},this._unsubscribe=new o.DelayedCall(l,function(){return t.flushUnsubscriptions()}),this._onChange=e}var t=e.prototype;return t.reset=function(){this._subscriptions={},this._unsubscriptions={},this._unsubscribe.cancel()},t.get=function(e){var t=this._subscriptions[e]||{};return a.default.keys(t)},t.clear=function(e){delete this._subscriptions[e],delete this._unsubscriptions[e]},t.subscribe=function(e,t){var n=this._subscriptions[e]||{};n[t]=(n[t]||0)+1,this._subscriptions[e]=n,1===n[t]&&this._onChange(e,this.get(e)),this.checkForLeaks(e,t)},t.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]},t.unsubscribe=function(e,t){if(this.isSubscribed(e,t)){var n=this._unsubscriptions[e]||{};n[t]=(n[t]||0)+1,this._unsubscriptions[e]=n,1===n[t]&&this._unsubscribe.delay(!1)}},t.checkForLeaks=function(e,t){var n=(this._subscriptions[e]&&this._subscriptions[e][t]||0)-(this._unsubscriptions[e]&&this._unsubscriptions[e][t]||0);n>5&&console.warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+n+" subscriptions)")},t.flushUnsubscriptions=function(){var e=this;a.default.isEmpty(this._unsubscriptions)||(a.default.forEach(this._unsubscriptions,function(t,n){var r=e._subscriptions[n];a.default.forEach(t,function(e,t){r[t]=(r[t]||0)-e,r[t]<=0&&delete r[t]}),a.default.isEmpty(r)&&delete e._subscriptions[n],e._onChange(n,e.get(n))}),this._unsubscriptions={})},e}();t.default=i},9201:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(3)),a=v(n(27)),o=n(29),l=v(n(2)),i=v(n(478)),u=n(89),s=v(n(22)),d=v(n(50)),c=v(n(54)),f=v(n(25)),p=v(n(126)),h=n(1);function v(e){return e&&e.__esModule?e:{default:e}}var m="ActivityTrackingStore",_=18e5,g=3e5,E=4004,y=a.default.get(m)||{},S={},I=!1;function T(e,t){void 0===t&&(t=!0),t&&O(e,!0);var n=S[e.applicationId];null!=n&&(n.stop(),delete S[e.applicationId]),delete y[e.applicationId],a.default.set(m,y)}function O(e,t){void 0===t&&(t=!1);var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>_+g&&(r=0),i.default.updateActivity(e.applicationId,e.isDiscordApplication?h.Distributors.DISCORD:e.distributor,(0,u.shouldShareApplicationActivity)(e.applicationId,f.default,d.default,p.default),e.token,Math.floor(r/1e3),t),e.updatedAt=n;var l=S[e.applicationId];null==l&&(l=S[e.applicationId]=new o.Interval).start(_,function(){return O(e)}),t||(y[e.applicationId]=e,a.default.set(m,y))}function N(e){void 0===e&&(e=!0);var t=c.default.getRunningGames(),n=new Set,r=t,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}var i=l,u=i.name,d=i.distributor,f=s.default.getGameByName(u);null!=f&&(n.add(f.id),f.id in y||O({applicationId:f.id,updatedAt:Date.now(),distributor:d}))}for(var p=0,h=Object.keys(y);p<h.length;p++){var v=h[p];n.has(v)||T(y[v],e)}}function C(){for(var e=0,t=Object.keys(y);e<t.length;e++){var n=t[e];T(y[n])}I=!1}var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(c.default,f.default,d.default,p.default),this.syncWith([f.default],N)},a.getActivities=function(){return y},r}(r.default.Store))(l.default,{RUNNING_GAMES_CHANGE:function(e){return N()},CONNECTION_OPEN:function(e){return function(){if(I)return!1;for(var e=0,t=Object.keys(y);e<t.length;e++){var n=t[e];O(y[n])}N(!1),I=!0}()},CONNECTION_CLOSED:function(e){e.code===E&&C()},LOGOUT:function(e){return C()},ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,r=y[t];if(null==r)return!1;r.token=n,a.default.set(m,y)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=y[t];if(null==n)return!1;n.token=null,n.updatedAt=null,a.default.set(m,y)}});t.default=A},9202:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(2)),o=i(n(494)),l=i(n(22));n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u=64;var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(r.default.Store))(a.default,{USER_ACHIEVEMENT_UPDATE:function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete){var a=l.default.getGame(n),i=null!=a?a.getIconURL(u):null;o.default.showNotification(i,r.name,r.description)}}});t.default=s}}]);
//# sourceMappingURL=7ecb8a0a51daf1117d8a.js.map